!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=155)}([function(t,e,i){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function c(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function p(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,i,n){return Te(t,e,i,n,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=m(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function y(t){var e=f(NaN);return null!=t?p(m(e),t):m(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,i=Object(this),n=i.length>>>0;for(e=0;e<n;e++)if(e in i&&t.call(this,i[e],e,i))return!0;return!1};var v=r.momentProperties=[],_=!1;function b(t,e){var i,n,r;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=m(e)),c(e._locale)||(t._locale=e._locale),v.length>0)for(i=0;i<v.length;i++)c(r=e[n=v[i]])||(t[n]=r);return t}function x(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function w(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function k(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var i=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),i){var n,a,o,l=[];for(a=0;a<arguments.length;a++){if(n="","object"==typeof arguments[a]){for(o in n+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(n+=o+": "+arguments[0][o]+", ");n=n.slice(0,-2)}else n=arguments[a];l.push(n)}k(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var T,M={};function C(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),M[t]||(k(e),M[t]=!0)}function D(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function L(t,e){var i,n=p({},t);for(i in e)s(e,i)&&(o(t[i])&&o(e[i])?(n[i]={},p(n[i],t[i]),p(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)s(t,i)&&!s(e,i)&&o(t[i])&&(n[i]=p({},n[i]));return n}function A(t){null!=t&&this.set(t)}function E(t,e,i){var n=""+Math.abs(t),r=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)s(t,e)&&i.push(e);return i};var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,O={},R={};function z(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(R[t]=r),e&&(R[e[0]]=function(){return E(r.apply(this,arguments),e[1],e[2])}),i&&(R[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function Y(t,e){return t.isValid()?(e=F(e,t.localeData()),O[e]=O[e]||function(t){var e,i,n,r=t.match(P);for(e=0,i=r.length;e<i;e++)R[r[e]]?r[e]=R[r[e]]:r[e]=(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,a="";for(n=0;n<i;n++)a+=D(r[n])?r[n].call(e,t):r[n];return a}}(e),O[e](t)):t.localeData().invalidDate()}function F(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(I.lastIndex=0;i>=0&&I.test(t);)t=t.replace(I,n),I.lastIndex=0,i-=1;return t}var H={};function N(t,e){var i=t.toLowerCase();H[i]=H[i+"s"]=H[e]=t}function B(t){return"string"==typeof t?H[t]||H[t.toLowerCase()]:void 0}function j(t){var e,i,n={};for(i in t)s(t,i)&&(e=B(i))&&(n[e]=t[i]);return n}var V={};function W(t,e){V[t]=e}function U(t){return t%4==0&&t%100!=0||t%400==0}function $(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function q(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=$(e)),i}function G(t,e){return function(i){return null!=i?(Z(this,t,i),r.updateOffset(this,e),this):X(this,t)}}function X(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Z(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&U(t.year())&&1===t.month()&&29===t.date()?(i=q(i),t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),wt(i,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](i))}var J,K=/\d/,Q=/\d\d/,tt=/\d{3}/,et=/\d{4}/,it=/[+-]?\d{6}/,nt=/\d\d?/,rt=/\d\d\d\d?/,at=/\d\d\d\d\d\d?/,ot=/\d{1,3}/,st=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ct=/\d+/,ut=/[+-]?\d+/,dt=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,pt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ft(t,e,i){J[t]=D(e)?e:function(t,n){return t&&i?i:e}}function mt(t,e){return s(J,t)?J[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,r){return e||i||n||r}))))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var yt,vt={};function _t(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),u(e)&&(n=function(t,i){i[e]=q(t)}),i=0;i<t.length;i++)vt[t[i]]=n}function bt(t,e){_t(t,(function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)}))}function xt(t,e,i){null!=e&&s(vt,t)&&vt[t](e,i._a,i,t)}function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i,n=(e%(i=12)+i)%i;return t+=(e-n)/12,1===n?U(t)?29:28:31-n%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),z("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),N("month","M"),W("month",8),ft("M",nt),ft("MM",nt,Q),ft("MMM",(function(t,e){return e.monthsShortRegex(t)})),ft("MMMM",(function(t,e){return e.monthsRegex(t)})),_t(["M","MM"],(function(t,e){e[1]=q(t)-1})),_t(["MMM","MMMM"],(function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[1]=r:m(i).invalidMonth=t}));var kt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),St="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Tt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mt=pt,Ct=pt;function Dt(t,e,i){var n,r,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))||-1!==(r=yt.call(this._longMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))||-1!==(r=yt.call(this._shortMonthsParse,o))?r:null}function Lt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=q(e);else if(!u(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function At(t){return null!=t?(Lt(this,t),r.updateOffset(this,!0),this):X(this,"Month")}function Et(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],a=[];for(e=0;e<12;e++)i=f([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),a.sort(t),e=0;e<12;e++)n[e]=gt(n[e]),r[e]=gt(r[e]);for(e=0;e<24;e++)a[e]=gt(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Pt(t){return U(t)?366:365}z("Y",0,0,(function(){var t=this.year();return t<=9999?E(t,4):"+"+t})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),N("year","y"),W("year",1),ft("Y",ut),ft("YY",nt,Q),ft("YYYY",st,et),ft("YYYYY",lt,it),ft("YYYYYY",lt,it),_t(["YYYYY","YYYYYY"],0),_t("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):q(t)})),_t("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),_t("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return q(t)+(q(t)>68?1900:2e3)};var It=G("FullYear",!0);function Ot(t,e,i,n,r,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,i,n,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,i,n,r,a,o),s}function Rt(t){var e,i;return t<100&&t>=0?((i=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function zt(t,e,i){var n=7+e-i;return-(7+Rt(t,0,n).getUTCDay()-e)%7+n-1}function Yt(t,e,i,n,r){var a,o,s=1+7*(e-1)+(7+i-n)%7+zt(t,n,r);return s<=0?o=Pt(a=t-1)+s:s>Pt(t)?(a=t+1,o=s-Pt(t)):(a=t,o=s),{year:a,dayOfYear:o}}function Ft(t,e,i){var n,r,a=zt(t.year(),e,i),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?n=o+Ht(r=t.year()-1,e,i):o>Ht(t.year(),e,i)?(n=o-Ht(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Ht(t,e,i){var n=zt(t,e,i),r=zt(t+1,e,i);return(Pt(t)-n+r)/7}function Nt(t,e){return t.slice(e,7).concat(t.slice(0,e))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),W("week",5),W("isoWeek",5),ft("w",nt),ft("ww",nt,Q),ft("W",nt),ft("WW",nt,Q),bt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=q(t)})),z("d",0,"do","day"),z("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),z("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),z("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),ft("d",nt),ft("e",nt),ft("E",nt),ft("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ft("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ft("dddd",(function(t,e){return e.weekdaysRegex(t)})),bt(["dd","ddd","dddd"],(function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:m(i).invalidWeekday=t})),bt(["d","e","E"],(function(t,e,i,n){e[n]=q(t)}));var Bt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Wt=pt,Ut=pt,$t=pt;function qt(t,e,i){var n,r,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null}function Gt(){function t(t,e){return e.length-t.length}var e,i,n,r,a,o=[],s=[],l=[],c=[];for(e=0;e<7;e++)i=f([2e3,1]).day(e),n=gt(this.weekdaysMin(i,"")),r=gt(this.weekdaysShort(i,"")),a=gt(this.weekdays(i,"")),o.push(n),s.push(r),l.push(a),c.push(n),c.push(r),c.push(a);o.sort(t),s.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Zt(t,e){z(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Jt(t,e){return e._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Xt),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+Xt.apply(this)+E(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Xt.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+E(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),N("hour","h"),W("hour",13),ft("a",Jt),ft("A",Jt),ft("H",nt),ft("h",nt),ft("k",nt),ft("HH",nt,Q),ft("hh",nt,Q),ft("kk",nt,Q),ft("hmm",rt),ft("hmmss",at),ft("Hmm",rt),ft("Hmmss",at),_t(["H","HH"],3),_t(["k","kk"],(function(t,e,i){var n=q(t);e[3]=24===n?0:n})),_t(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),_t(["h","hh"],(function(t,e,i){e[3]=q(t),m(i).bigHour=!0})),_t("hmm",(function(t,e,i){var n=t.length-2;e[3]=q(t.substr(0,n)),e[4]=q(t.substr(n)),m(i).bigHour=!0})),_t("hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=q(t.substr(0,n)),e[4]=q(t.substr(n,2)),e[5]=q(t.substr(r)),m(i).bigHour=!0})),_t("Hmm",(function(t,e,i){var n=t.length-2;e[3]=q(t.substr(0,n)),e[4]=q(t.substr(n))})),_t("Hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=q(t.substr(0,n)),e[4]=q(t.substr(n,2)),e[5]=q(t.substr(r))}));var Kt,Qt=G("Hours",!0),te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:kt,monthsShort:St,week:{dow:0,doy:6},weekdays:Bt,weekdaysMin:Vt,weekdaysShort:jt,meridiemParse:/[ap]\.?m?\.?/i},ee={},ie={};function ne(t,e){var i,n=Math.min(t.length,e.length);for(i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}function re(t){return t?t.toLowerCase().replace("_","-"):t}function ae(e){var n=null;if(void 0===ee[e]&&void 0!==t&&t&&t.exports)try{n=Kt._abbr,i(177)("./"+e),oe(n)}catch(t){ee[e]=null}return ee[e]}function oe(t,e){var i;return t&&((i=c(e)?le(t):se(t,e))?Kt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Kt._abbr}function se(t,e){if(null!==e){var i,n=te;if(e.abbr=t,null!=ee[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])n=ee[e.parentLocale]._config;else{if(null==(i=ae(e.parentLocale)))return ie[e.parentLocale]||(ie[e.parentLocale]=[]),ie[e.parentLocale].push({name:t,config:e}),null;n=i._config}return ee[t]=new A(L(n,e)),ie[t]&&ie[t].forEach((function(t){se(t.name,t.config)})),oe(t),ee[t]}return delete ee[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Kt;if(!a(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,i,n,r,a=0;a<t.length;){for(e=(r=re(t[a]).split("-")).length,i=(i=re(t[a+1]))?i.split("-"):null;e>0;){if(n=ae(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&ne(r,i)>=e-1)break;e--}a++}return Kt}(t)}function ce(t){var e,i=t._a;return i&&-2===m(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>wt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,m(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),m(t)._overflowWeeks&&-1===e&&(e=7),m(t)._overflowWeekday&&-1===e&&(e=8),m(t).overflow=e),t}var ue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/Z|[+-]\d\d(?::?\d\d)?/,pe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((-?\d+)/i,ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ye={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ve(t){var e,i,n,r,a,o,s=t._i,l=ue.exec(s)||de.exec(s);if(l){for(m(t).iso=!0,e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(l[1])){r=pe[e][0],n=!1!==pe[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=fe.length;e<i;e++)if(fe[e][1].exec(l[3])){a=(l[2]||" ")+fe[e][0];break}if(null==a)return void(t._isValid=!1)}if(!n&&null!=a)return void(t._isValid=!1);if(l[4]){if(!he.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(a||"")+(o||""),ke(t)}else t._isValid=!1}function _e(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function be(t){var e,i,n,r,a,o,s,l,c=ge.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(i=c[4],n=c[3],r=c[2],a=c[5],o=c[6],s=c[7],l=[_e(i),St.indexOf(n),parseInt(r,10),parseInt(a,10),parseInt(o,10)],s&&l.push(parseInt(s,10)),e=l,!function(t,e,i){return!t||jt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(i).weekdayMismatch=!0,i._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,i){if(t)return ye[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(c[8],c[9],c[10]),t._d=Rt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function xe(t,e,i){return null!=t?t:null!=e?e:i}function we(t){var e,i,n,a,o,s=[];if(!t._d){for(n=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,a,o,s,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,o=4,i=xe(e.GG,t._a[0],Ft(Me(),1,4).year),n=xe(e.W,1),((r=xe(e.E,1))<1||r>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,c=Ft(Me(),a,o),i=xe(e.gg,t._a[0],c.year),n=xe(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+a,(e.e<0||e.e>6)&&(l=!0)):r=a),n<1||n>Ht(i,a,o)?m(t)._overflowWeeks=!0:null!=l?m(t)._overflowWeekday=!0:(s=Yt(i,n,r,a,o),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=xe(t._a[0],n[0]),(t._dayOfYear>Pt(o)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),i=Rt(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Rt:Ot).apply(null,s),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(m(t).weekdayMismatch=!0)}}function ke(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],m(t).empty=!0;var e,i,n,a,o,s,l=""+t._i,c=l.length,u=0;for(n=F(t._f,t._locale).match(P)||[],e=0;e<n.length;e++)a=n[e],(i=(l.match(mt(a,t))||[])[0])&&((o=l.substr(0,l.indexOf(i))).length>0&&m(t).unusedInput.push(o),l=l.slice(l.indexOf(i)+i.length),u+=i.length),R[a]?(i?m(t).empty=!1:m(t).unusedTokens.push(a),xt(a,i,t)):t._strict&&!i&&m(t).unusedTokens.push(a);m(t).charsLeftOver=c-u,l.length>0&&m(t).unusedInput.push(l),t._a[3]<=12&&!0===m(t).bigHour&&t._a[3]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=m(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),we(t),ce(t)}else be(t);else ve(t)}function Se(t){var e=t._i,i=t._f;return t._locale=t._locale||le(t._l),null===e||void 0===i&&""===e?y({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new x(ce(e)):(d(e)?t._d=e:a(i)?function(t){var e,i,n,r,a,o,s=!1;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)a=0,o=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ke(e),g(e)&&(o=!0),a+=m(e).charsLeftOver,a+=10*m(e).unusedTokens.length,m(e).score=a,s?a<n&&(n=a,i=e):(null==n||a<n||o)&&(n=a,i=e,o&&(s=!0));p(t,i||e)}(t):i?ke(t):function(t){var e=t._i;c(e)?t._d=new Date(r.now()):d(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(ve(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):a(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),we(t)):o(e)?function(t){if(!t._d){var e=j(t._i),i=void 0===e.day?e.date:e.day;t._a=h([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),we(t)}}(t):u(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),g(t)||(t._d=null),t))}function Te(t,e,i,n,r){var s,c={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(o(t)&&l(t)||a(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=r,c._l=i,c._i=t,c._f=e,c._strict=n,(s=new x(ce(Se(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Me(t,e,i,n){return Te(t,e,i,n,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Ce=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),De=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Le(t,e){var i,n;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Me();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ee(t){var e=j(t),i=e.year||0,n=e.quarter||0,r=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=function(t){var e,i,n=!1;for(e in t)if(s(t,e)&&(-1===yt.call(Ae,e)||null!=t[e]&&isNaN(t[e])))return!1;for(i=0;i<Ae.length;++i)if(t[Ae[i]]){if(n)return!1;parseFloat(t[Ae[i]])!==q(t[Ae[i]])&&(n=!0)}return!0}(e),this._milliseconds=+d+1e3*u+6e4*c+1e3*l*60*60,this._days=+o+7*a,this._months=+r+3*n+12*i,this._data={},this._locale=le(),this._bubble()}function Pe(t){return t instanceof Ee}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Oe(t,e){z(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+E(~~(t/60),2)+e+E(~~t%60,2)}))}Oe("Z",":"),Oe("ZZ",""),ft("Z",ht),ft("ZZ",ht),_t(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=ze(ht,t)}));var Re=/([\+\-]|\d\d)/gi;function ze(t,e){var i,n,r=(e||"").match(t);return null===r?null:0===(n=60*(i=((r[r.length-1]||[])+"").match(Re)||["-",0,0])[1]+q(i[2]))?0:"+"===i[0]?n:-n}function Ye(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(w(t)||d(t)?t.valueOf():Me(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),r.updateOffset(i,!1),i):Me(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function He(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ne=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function je(t,e){var i,n,r,a,o,l,c=t,d=null;return Pe(t)?c={ms:t._milliseconds,d:t._days,M:t._months}:u(t)||!isNaN(+t)?(c={},e?c[e]=+t:c.milliseconds=+t):(d=Ne.exec(t))?(i="-"===d[1]?-1:1,c={y:0,d:q(d[2])*i,h:q(d[3])*i,m:q(d[4])*i,s:q(d[5])*i,ms:q(Ie(1e3*d[6]))*i}):(d=Be.exec(t))?(i="-"===d[1]?-1:1,c={y:Ve(d[2],i),M:Ve(d[3],i),w:Ve(d[4],i),d:Ve(d[5],i),h:Ve(d[6],i),m:Ve(d[7],i),s:Ve(d[8],i)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(a=Me(c.from),o=Me(c.to),r=a.isValid()&&o.isValid()?(o=Ye(o,a),a.isBefore(o)?l=We(a,o):((l=We(o,a)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),n=new Ee(c),Pe(t)&&s(t,"_locale")&&(n._locale=t._locale),Pe(t)&&s(t,"_isValid")&&(n._isValid=t._isValid),n}function Ve(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function We(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Ue(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),$e(this,je(i,n),t),this}}function $e(t,e,i,n){var a=e._milliseconds,o=Ie(e._days),s=Ie(e._months);t.isValid()&&(n=null==n||n,s&&Lt(t,X(t,"Month")+s*i),o&&Z(t,"Date",X(t,"Date")+o*i),a&&t._d.setTime(t._d.valueOf()+a*i),n&&r.updateOffset(t,o||s))}je.fn=Ee.prototype,je.invalid=function(){return je(NaN)};var qe=Ue(1,"add"),Ge=Ue(-1,"subtract");function Xe(t){return"string"==typeof t||t instanceof String}function Ze(t){return w(t)||d(t)||Xe(t)||u(t)||function(t){var e=a(t),i=!1;return e&&(i=0===t.filter((function(e){return!u(e)&&Xe(t)})).length),e&&i}(t)||function(t){var e,i,n=o(t)&&!l(t),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<a.length;e+=1)i=a[e],r=r||s(t,i);return n&&r}(t)||null==t}function Je(t){var e,i=o(t)&&!l(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)n=n||s(t,r[e]);return i&&n}function Ke(t,e){if(t.date()<e.date())return-Ke(e,t);var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ti=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function ei(){return this._locale}function ii(t,e){return(t%e+e)%e}function ni(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-126227808e5:new Date(t,e,i).valueOf()}function ri(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-126227808e5:Date.UTC(t,e,i)}function ai(t,e){return e.erasAbbrRegex(t)}function oi(){var t,e,i=[],n=[],r=[],a=[],o=this.eras();for(t=0,e=o.length;t<e;++t)n.push(gt(o[t].name)),i.push(gt(o[t].abbr)),r.push(gt(o[t].narrow)),a.push(gt(o[t].name)),a.push(gt(o[t].abbr)),a.push(gt(o[t].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function si(t,e){z(0,[t,t.length],0,e)}function li(t,e,i,n,r){var a;return null==t?Ft(this,n,r).year:(e>(a=Ht(t,n,r))&&(e=a),ci.call(this,t,e,i,n,r))}function ci(t,e,i,n,r){var a=Yt(t,e,i,n,r),o=Rt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),ft("N",ai),ft("NN",ai),ft("NNN",ai),ft("NNNN",(function(t,e){return e.erasNameRegex(t)})),ft("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),_t(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,i,n){var r=i._locale.erasParse(t,n,i._strict);r?m(i).era=r:m(i).invalidEra=t})),ft("y",ct),ft("yy",ct),ft("yyy",ct),ft("yyyy",ct),ft("yo",(function(t,e){return e._eraYearOrdinalRegex||ct})),_t(["y","yy","yyy","yyyy"],0),_t(["yo"],(function(t,e,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[0]=i._locale.eraYearOrdinalParse(t,r):e[0]=parseInt(t,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),si("gggg","weekYear"),si("ggggg","weekYear"),si("GGGG","isoWeekYear"),si("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),ft("G",ut),ft("g",ut),ft("GG",nt,Q),ft("gg",nt,Q),ft("GGGG",st,et),ft("gggg",st,et),ft("GGGGG",lt,it),ft("ggggg",lt,it),bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=q(t)})),bt(["gg","GG"],(function(t,e,i,n){e[n]=r.parseTwoDigitYear(t)})),z("Q",0,"Qo","quarter"),N("quarter","Q"),W("quarter",7),ft("Q",K),_t("Q",(function(t,e){e[1]=3*(q(t)-1)})),z("D",["DD",2],"Do","date"),N("date","D"),W("date",9),ft("D",nt),ft("DD",nt,Q),ft("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),_t(["D","DD"],2),_t("Do",(function(t,e){e[2]=q(t.match(nt)[0])}));var ui=G("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),W("dayOfYear",4),ft("DDD",ot),ft("DDDD",tt),_t(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=q(t)})),z("m",["mm",2],0,"minute"),N("minute","m"),W("minute",14),ft("m",nt),ft("mm",nt,Q),_t(["m","mm"],4);var di=G("Minutes",!1);z("s",["ss",2],0,"second"),N("second","s"),W("second",15),ft("s",nt),ft("ss",nt,Q),_t(["s","ss"],5);var hi,pi,fi=G("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),N("millisecond","ms"),W("millisecond",16),ft("S",ot,K),ft("SS",ot,Q),ft("SSS",ot,tt),hi="SSSS";hi.length<=9;hi+="S")ft(hi,ct);function mi(t,e){e[6]=q(1e3*("0."+t))}for(hi="S";hi.length<=9;hi+="S")_t(hi,mi);pi=G("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var gi=x.prototype;function yi(t){return t}gi.add=qe,gi.calendar=function(t,e){1===arguments.length&&(arguments[0]?Ze(arguments[0])?(t=arguments[0],e=void 0):Je(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||Me(),n=Ye(i,this).startOf("day"),a=r.calendarFormat(this,n)||"sameElse",o=e&&(D(e[a])?e[a].call(this,i):e[a]);return this.format(o||this.localeData().calendar(a,this,Me(i)))},gi.clone=function(){return new x(this)},gi.diff=function(t,e,i){var n,r,a;if(!this.isValid())return NaN;if(!(n=Ye(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=B(e)){case"year":a=Ke(this,n)/12;break;case"month":a=Ke(this,n);break;case"quarter":a=Ke(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-r)/864e5;break;case"week":a=(this-n-r)/6048e5;break;default:a=this-n}return i?a:$(a)},gi.endOf=function(t){var e,i;if(void 0===(t=B(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ri:ni,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-ii(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-ii(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-ii(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},gi.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)},gi.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gi.fromNow=function(t){return this.from(Me(),t)},gi.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gi.toNow=function(t){return this.to(Me(),t)},gi.get=function(t){return D(this[t=B(t)])?this[t]():this},gi.invalidAt=function(){return m(this).overflow},gi.isAfter=function(t,e){var i=w(t)?t:Me(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},gi.isBefore=function(t,e){var i=w(t)?t:Me(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},gi.isBetween=function(t,e,i,n){var r=w(t)?t:Me(t),a=w(e)?e:Me(e);return!!(this.isValid()&&r.isValid()&&a.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(a,i):!this.isAfter(a,i)))},gi.isSame=function(t,e){var i,n=w(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},gi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},gi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},gi.isValid=function(){return g(this)},gi.lang=ti,gi.locale=Qe,gi.localeData=ei,gi.max=De,gi.min=Ce,gi.parsingFlags=function(){return p({},m(this))},gi.set=function(t,e){if("object"==typeof t){var i,n=function(t){var e,i=[];for(e in t)s(t,e)&&i.push({unit:e,priority:V[e]});return i.sort((function(t,e){return t.priority-e.priority})),i}(t=j(t));for(i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(D(this[t=B(t)]))return this[t](e);return this},gi.startOf=function(t){var e,i;if(void 0===(t=B(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ri:ni,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ii(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=ii(e,6e4);break;case"second":e=this._d.valueOf(),e-=ii(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},gi.subtract=Ge,gi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},gi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},gi.toDate=function(){return new Date(this.valueOf())},gi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?Y(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(i,"Z")):Y(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,i,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=r+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gi.toJSON=function(){return this.isValid()?this.toISOString():null},gi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gi.unix=function(){return Math.floor(this.valueOf()/1e3)},gi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gi.eraName=function(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].name;if(n[t].until<=i&&i<=n[t].since)return n[t].name}return""},gi.eraNarrow=function(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].narrow;if(n[t].until<=i&&i<=n[t].since)return n[t].narrow}return""},gi.eraAbbr=function(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].abbr;if(n[t].until<=i&&i<=n[t].since)return n[t].abbr}return""},gi.eraYear=function(){var t,e,i,n,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(i=a[t].since<=a[t].until?1:-1,n=this.clone().startOf("day").valueOf(),a[t].since<=n&&n<=a[t].until||a[t].until<=n&&n<=a[t].since)return(this.year()-r(a[t].since).year())*i+a[t].offset;return this.year()},gi.year=It,gi.isLeapYear=function(){return U(this.year())},gi.weekYear=function(t){return li.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gi.isoWeekYear=function(t){return li.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},gi.quarter=gi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},gi.month=At,gi.daysInMonth=function(){return wt(this.year(),this.month())},gi.week=gi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},gi.isoWeek=gi.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},gi.weeksInYear=function(){var t=this.localeData()._week;return Ht(this.year(),t.dow,t.doy)},gi.weeksInWeekYear=function(){var t=this.localeData()._week;return Ht(this.weekYear(),t.dow,t.doy)},gi.isoWeeksInYear=function(){return Ht(this.year(),1,4)},gi.isoWeeksInISOWeekYear=function(){return Ht(this.isoWeekYear(),1,4)},gi.date=ui,gi.day=gi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},gi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},gi.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},gi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},gi.hour=gi.hours=Qt,gi.minute=gi.minutes=di,gi.second=gi.seconds=fi,gi.millisecond=gi.milliseconds=pi,gi.utcOffset=function(t,e,i){var n,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ze(ht,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=Fe(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==t&&(!e||this._changeInProgress?$e(this,je(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Fe(this)},gi.utc=function(t){return this.utcOffset(0,t)},gi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},gi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ze(dt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},gi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60==0)},gi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gi.isLocal=function(){return!!this.isValid()&&!this._isUTC},gi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gi.isUtc=He,gi.isUTC=He,gi.zoneAbbr=function(){return this._isUTC?"UTC":""},gi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gi.dates=S("dates accessor is deprecated. Use date instead.",ui),gi.months=S("months accessor is deprecated. Use month instead",At),gi.years=S("years accessor is deprecated. Use year instead",It),gi.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),gi.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=Se(e))._a?(t=e._isUTC?f(e._a):Me(e._a),this._isDSTShifted=this.isValid()&&function(t,e,i){var n,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&q(t[n])!==q(e[n]))&&o++;return o+a}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var vi=A.prototype;function _i(t,e,i,n){var r=le(),a=f().set(n,e);return r[i](a,t)}function bi(t,e,i){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return _i(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=_i(t,n,i,"month");return r}function xi(t,e,i,n){"boolean"==typeof t?(u(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,u(e)&&(i=e,e=void 0),e=e||"");var r,a=le(),o=t?a._week.dow:0,s=[];if(null!=i)return _i(e,(i+o)%7,n,"day");for(r=0;r<7;r++)s[r]=_i(e,(r+o)%7,n,"day");return s}vi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n},vi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(P).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},vi.invalidDate=function(){return this._invalidDate},vi.ordinal=function(t){return this._ordinal.replace("%d",t)},vi.preparse=yi,vi.postformat=yi,vi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return D(r)?r(t,e,i,n):r.replace(/%d/i,t)},vi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},vi.set=function(t){var e,i;for(i in t)s(t,i)&&(D(e=t[i])?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vi.eras=function(t,e){var i,n,a,o=this._eras||le("en")._eras;for(i=0,n=o.length;i<n;++i){switch(typeof o[i].since){case"string":a=r(o[i].since).startOf("day"),o[i].since=a.valueOf()}switch(typeof o[i].until){case"undefined":o[i].until=1/0;break;case"string":a=r(o[i].until).startOf("day").valueOf(),o[i].until=a.valueOf()}}return o},vi.erasParse=function(t,e,i){var n,r,a,o,s,l=this.eras();for(t=t.toUpperCase(),n=0,r=l.length;n<r;++n)if(a=l[n].name.toUpperCase(),o=l[n].abbr.toUpperCase(),s=l[n].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[n];break;case"NNNN":if(a===t)return l[n];break;case"NNNNN":if(s===t)return l[n]}else if([a,o,s].indexOf(t)>=0)return l[n]},vi.erasConvertYear=function(t,e){var i=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*i},vi.erasAbbrRegex=function(t){return s(this,"_erasAbbrRegex")||oi.call(this),t?this._erasAbbrRegex:this._erasRegex},vi.erasNameRegex=function(t){return s(this,"_erasNameRegex")||oi.call(this),t?this._erasNameRegex:this._erasRegex},vi.erasNarrowRegex=function(t){return s(this,"_erasNarrowRegex")||oi.call(this),t?this._erasNarrowRegex:this._erasRegex},vi.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Tt).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},vi.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Tt.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vi.monthsParse=function(t,e,i){var n,r,a;if(this._monthsParseExact)return Dt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=f([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},vi.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Et.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ct),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},vi.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Et.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},vi.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},vi.firstDayOfYear=function(){return this._week.doy},vi.firstDayOfWeek=function(){return this._week.dow},vi.weekdays=function(t,e){var i=a(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Nt(i,this._week.dow):t?i[t.day()]:i},vi.weekdaysMin=function(t){return!0===t?Nt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},vi.weekdaysShort=function(t){return!0===t?Nt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},vi.weekdaysParse=function(t,e,i){var n,r,a;if(this._weekdaysParseExact)return qt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=f([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},vi.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Wt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},vi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},vi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},oe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===q(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",oe),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",le);var wi=Math.abs;function ki(t,e,i,n){var r=je(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function Si(t){return t<0?Math.floor(t):Math.ceil(t)}function Ti(t){return 4800*t/146097}function Mi(t){return 146097*t/4800}function Ci(t){return function(){return this.as(t)}}var Di=Ci("ms"),Li=Ci("s"),Ai=Ci("m"),Ei=Ci("h"),Pi=Ci("d"),Ii=Ci("w"),Oi=Ci("M"),Ri=Ci("Q"),zi=Ci("y");function Yi(t){return function(){return this.isValid()?this._data[t]:NaN}}var Fi=Yi("milliseconds"),Hi=Yi("seconds"),Ni=Yi("minutes"),Bi=Yi("hours"),ji=Yi("days"),Vi=Yi("months"),Wi=Yi("years"),Ui=Math.round,$i={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qi(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}var Gi=Math.abs;function Xi(t){return(t>0)-(t<0)||+t}function Zi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n,r,a,o,s,l=Gi(this._milliseconds)/1e3,c=Gi(this._days),u=Gi(this._months),d=this.asSeconds();return d?(t=$(l/60),e=$(t/60),l%=60,t%=60,i=$(u/12),u%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",a=Xi(this._months)!==Xi(d)?"-":"",o=Xi(this._days)!==Xi(d)?"-":"",s=Xi(this._milliseconds)!==Xi(d)?"-":"",r+"P"+(i?a+i+"Y":"")+(u?a+u+"M":"")+(c?o+c+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+n+"S":"")):"P0D"}var Ji=Ee.prototype;return Ji.isValid=function(){return this._isValid},Ji.abs=function(){var t=this._data;return this._milliseconds=wi(this._milliseconds),this._days=wi(this._days),this._months=wi(this._months),t.milliseconds=wi(t.milliseconds),t.seconds=wi(t.seconds),t.minutes=wi(t.minutes),t.hours=wi(t.hours),t.months=wi(t.months),t.years=wi(t.years),this},Ji.add=function(t,e){return ki(this,t,e,1)},Ji.subtract=function(t,e){return ki(this,t,e,-1)},Ji.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=B(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+Ti(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Mi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Ji.asMilliseconds=Di,Ji.asSeconds=Li,Ji.asMinutes=Ai,Ji.asHours=Ei,Ji.asDays=Pi,Ji.asWeeks=Ii,Ji.asMonths=Oi,Ji.asQuarters=Ri,Ji.asYears=zi,Ji.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},Ji._bubble=function(){var t,e,i,n,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Si(Mi(s)+o),o=0,s=0),l.milliseconds=a%1e3,t=$(a/1e3),l.seconds=t%60,e=$(t/60),l.minutes=e%60,i=$(e/60),l.hours=i%24,o+=$(i/24),r=$(Ti(o)),s+=r,o-=Si(Mi(r)),n=$(s/12),s%=12,l.days=o,l.months=s,l.years=n,this},Ji.clone=function(){return je(this)},Ji.get=function(t){return t=B(t),this.isValid()?this[t+"s"]():NaN},Ji.milliseconds=Fi,Ji.seconds=Hi,Ji.minutes=Ni,Ji.hours=Bi,Ji.days=ji,Ji.weeks=function(){return $(this.days()/7)},Ji.months=Vi,Ji.years=Wi,Ji.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var i,n,r=!1,a=$i;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(a=Object.assign({},$i,e),null!=e.s&&null==e.ss&&(a.ss=e.s-1)),i=this.localeData(),n=function(t,e,i,n){var r=je(t).abs(),a=Ui(r.as("s")),o=Ui(r.as("m")),s=Ui(r.as("h")),l=Ui(r.as("d")),c=Ui(r.as("M")),u=Ui(r.as("w")),d=Ui(r.as("y")),h=a<=i.ss&&["s",a]||a<i.s&&["ss",a]||o<=1&&["m"]||o<i.m&&["mm",o]||s<=1&&["h"]||s<i.h&&["hh",s]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(h=h||u<=1&&["w"]||u<i.w&&["ww",u]),(h=h||c<=1&&["M"]||c<i.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=e,h[3]=+t>0,h[4]=n,qi.apply(null,h)}(this,!r,a,i),r&&(n=i.pastFuture(+this,n)),i.postformat(n)},Ji.toISOString=Zi,Ji.toString=Zi,Ji.toJSON=Zi,Ji.locale=Qe,Ji.localeData=ei,Ji.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zi),Ji.lang=ti,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ft("x",ut),ft("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t))})),_t("x",(function(t,e,i){i._d=new Date(q(t))})),
//! moment.js
r.version="2.29.1",e=Me,r.fn=gi,r.min=function(){var t=[].slice.call(arguments,0);return Le("isBefore",t)},r.max=function(){var t=[].slice.call(arguments,0);return Le("isAfter",t)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(t){return Me(1e3*t)},r.months=function(t,e){return bi(t,e,"months")},r.isDate=d,r.locale=oe,r.invalid=y,r.duration=je,r.isMoment=w,r.weekdays=function(t,e,i){return xi(t,e,i,"weekdays")},r.parseZone=function(){return Me.apply(null,arguments).parseZone()},r.localeData=le,r.isDuration=Pe,r.monthsShort=function(t,e){return bi(t,e,"monthsShort")},r.weekdaysMin=function(t,e,i){return xi(t,e,i,"weekdaysMin")},r.defineLocale=se,r.updateLocale=function(t,e){if(null!=e){var i,n,r=te;null!=ee[t]&&null!=ee[t].parentLocale?ee[t].set(L(ee[t]._config,e)):(null!=(n=ae(t))&&(r=n._config),e=L(r,e),null==n&&(e.abbr=t),(i=new A(e)).parentLocale=ee[t],ee[t]=i),oe(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?(ee[t]=ee[t].parentLocale,t===oe()&&oe(t)):null!=ee[t]&&delete ee[t]);return ee[t]},r.locales=function(){return T(ee)},r.weekdaysShort=function(t,e,i){return xi(t,e,i,"weekdaysShort")},r.normalizeUnits=B,r.relativeTimeRounding=function(t){return void 0===t?Ui:"function"==typeof t&&(Ui=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==$i[t]&&(void 0===e?$i[t]:($i[t]=e,"s"===t&&($i.ss=e-1),!0))},r.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},r.prototype=gi,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,i(176)(t))},function(t,e,i){var n;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},c=a.push,u=a.indexOf,d={},h=d.toString,p=d.hasOwnProperty,f=p.toString,m=f.call(Object),g={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},v=function(t){return null!=t&&t===t.window},_=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,i){var n,r,a=(i=i||_).createElement("script");if(a.text=t,e)for(n in b)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&a.setAttribute(n,r);i.head.appendChild(a).parentNode.removeChild(a)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[h.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!y(t)&&!v(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.6.0",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},k.extend=k.fn.extend=function(){var t,e,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||y(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(c&&n&&(k.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[e],a=r&&!Array.isArray(i)?[]:r||k.isPlainObject(i)?i:{},r=!1,o[e]=k.extend(c,a,n)):void 0!==n&&(o[e]=n));return o},k.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==h.call(t))&&(!(e=o(t))||"function"==typeof(i=p.call(e,"constructor")&&e.constructor)&&f.call(i)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){x(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(S(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(S(Object(t))?k.merge(i,"string"==typeof t?[t]:t):c.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:u.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,a=t.length,o=!i;r<a;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,a=0,o=[];if(S(t))for(n=t.length;a<n;a++)null!=(r=e(t[a],a,i))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&o.push(r);return l(o)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=a[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var T=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(t){var e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b="sizzle"+1*new Date,x=t.document,w=0,k=0,S=lt(),T=lt(),M=lt(),C=lt(),D=function(t,e){return t===e&&(d=!0),0},L={}.hasOwnProperty,A=[],E=A.pop,P=A.push,I=A.push,O=A.slice,R=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Y="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+Y+"*("+F+")(?:"+Y+"*([*^$|!~]?=)"+Y+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+Y+"*\\]",N=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",B=new RegExp(Y+"+","g"),j=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),V=new RegExp("^"+Y+"*,"+Y+"*"),W=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),U=new RegExp(Y+"|>"),$=new RegExp(N),q=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){h()},ot=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{I.apply(A=O.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(t){I={apply:A.length?function(t,e){P.apply(t,O.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,n,r){var a,s,c,u,d,f,y,v=e&&e.ownerDocument,x=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return n;if(!r&&(h(e),e=e||p,m)){if(11!==x&&(d=Q.exec(t)))if(a=d[1]){if(9===x){if(!(c=e.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(v&&(c=v.getElementById(a))&&_(e,c)&&c.id===a)return n.push(c),n}else{if(d[2])return I.apply(n,e.getElementsByTagName(t)),n;if((a=d[3])&&i.getElementsByClassName&&e.getElementsByClassName)return I.apply(n,e.getElementsByClassName(a)),n}if(i.qsa&&!C[t+" "]&&(!g||!g.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===x&&(U.test(t)||W.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&i.scope||((u=e.getAttribute("id"))?u=u.replace(nt,rt):e.setAttribute("id",u=b)),s=(f=o(t)).length;s--;)f[s]=(u?"#"+u:":scope")+" "+_t(f[s]);y=f.join(",")}try{return I.apply(n,v.querySelectorAll(y)),n}catch(e){C(t,!0)}finally{u===b&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,n,r)}function lt(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function ct(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(i,n){for(var r,a=t([],i.length,e),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},a=st.isXML=function(t){var e=t&&t.namespaceURI,i=t&&(t.ownerDocument||t).documentElement;return!X.test(e||i&&i.nodeName||"HTML")},h=st.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:x;return o!=p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,m=!a(p),x!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",at,!1):r.attachEvent&&r.attachEvent("onunload",at)),i.scope=ut((function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),i.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ut((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=ut((function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,r,a=e.getElementById(t);if(a){if((i=a.getAttributeNode("id"))&&i.value===t)return[a];for(r=e.getElementsByName(t),n=0;a=r[n++];)if((i=a.getAttributeNode("id"))&&i.value===t)return[a]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},y=[],g=[],(i.qsa=K.test(p.querySelectorAll))&&(ut((function(t){var e;f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+Y+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+Y+"*(?:value|"+z+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+Y+"*name"+Y+"*="+Y+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+Y+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut((function(t){i.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",N)})),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),e=K.test(f.compareDocumentPosition),_=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=e?function(t,e){if(t===e)return d=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t==p||t.ownerDocument==x&&_(x,t)?-1:e==p||e.ownerDocument==x&&_(x,e)?1:u?R(u,t)-R(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return d=!0,0;var i,n=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t==p?-1:e==p?1:r?-1:a?1:u?R(u,t)-R(u,e):0;if(r===a)return ht(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;o[n]===s[n];)n++;return n?ht(o[n],s[n]):o[n]==x?-1:s[n]==x?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(h(t),i.matchesSelector&&m&&!C[e+" "]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var n=v.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){C(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=p&&h(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=p&&h(t);var r=n.attrHandle[e.toLowerCase()],a=r&&L.call(n.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==a?a:i.attributes||!m?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},st.escape=function(t){return(t+"").replace(nt,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,a=0;if(d=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(D),d){for(;e=t[a++];)e===t[a]&&(r=n.push(a));for(;r--;)t.splice(n[r],1)}return u=null,t},r=st.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=st.selectors={cacheLength:50,createPseudo:ct,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&$.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+Y+")"+t+"("+Y+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=st.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(B," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,d,h,p,f,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!l&&!s,_=!1;if(g){if(a){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&v){for(_=(p=(c=(u=(d=(h=g)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===e){u[t]=[w,p,_];break}}else if(v&&(_=p=(c=(u=(d=(h=e)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===_)for(;(h=++p&&h&&h[m]||(_=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++_||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[w,_]),h!==e)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,i){for(var n,a=r(t,e),o=a.length;o--;)t[n=R(t,a[o])]=!(i[n]=a[o])})):function(t){return r(t,0,i)}):r}},pseudos:{not:ct((function(t){var e=[],i=[],n=s(t.replace(j,"$1"));return n[b]?ct((function(t,e,i,r){for(var a,o=n(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))})):function(t,r,a){return e[0]=t,n(e,null,a,i),e[0]=null,!i.pop()}})),has:ct((function(t){return function(e){return st(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,it),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ct((function(t){return q.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,i){return[i<0?i+e:i]})),even:gt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:gt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:gt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:gt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function vt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(t,e,i){var n=e.dir,r=e.next,a=r||n,o=i&&"parentNode"===a,s=k++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,l){var c,u,d,h=[w,s];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=(d=e[b]||(e[b]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[a])&&c[0]===w&&c[1]===s)return h[2]=c[2];if(u[a]=h,h[2]=t(e,i,l))return!0}return!1}}function xt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function wt(t,e,i,n,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(i&&!i(a,n,r)||(o.push(a),c&&e.push(s)));return o}function kt(t,e,i,n,r,a){return n&&!n[b]&&(n=kt(n)),r&&!r[b]&&(r=kt(r,a)),ct((function(a,o,s,l){var c,u,d,h=[],p=[],f=o.length,m=a||function(t,e,i){for(var n=0,r=e.length;n<r;n++)st(t,e[n],i);return i}(e||"*",s.nodeType?[s]:s,[]),g=!t||!a&&e?m:wt(m,h,t,s,l),y=i?r||(a?t:f||n)?[]:o:g;if(i&&i(g,y,s,l),n)for(c=wt(y,p),n(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(g[p[u]]=d));if(a){if(r||t){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(g[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?R(a,d):h[u])>-1&&(a[c]=!(o[c]=d))}}else y=wt(y===o?y.splice(f,y.length):y),r?r(null,o,y,l):I.apply(o,y)}))}function St(t){for(var e,i,r,a=t.length,o=n.relative[t[0].type],s=o||n.relative[" "],l=o?1:0,u=bt((function(t){return t===e}),s,!0),d=bt((function(t){return R(e,t)>-1}),s,!0),h=[function(t,i,n){var r=!o&&(n||i!==c)||((e=i).nodeType?u(t,i,n):d(t,i,n));return e=null,r}];l<a;l++)if(i=n.relative[t[l].type])h=[bt(xt(h),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<a&&!n.relative[t[r].type];r++);return kt(l>1&&xt(h),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),i,l<r&&St(t.slice(l,r)),r<a&&St(t=t.slice(r)),r<a&&_t(t))}h.push(i)}return xt(h)}return vt.prototype=n.filters=n.pseudos,n.setFilters=new vt,o=st.tokenize=function(t,e){var i,r,a,o,s,l,c,u=T[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=n.preFilter;s;){for(o in i&&!(r=V.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=W.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(j," ")}),s=s.slice(i.length)),n.filter)!(r=G[o].exec(s))||c[o]&&!(r=c[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?st.error(t):T(t,l).slice(0)},s=st.compile=function(t,e){var i,r=[],a=[],s=M[t+" "];if(!s){for(e||(e=o(t)),i=e.length;i--;)(s=St(e[i]))[b]?r.push(s):a.push(s);(s=M(t,function(t,e){var i=e.length>0,r=t.length>0,a=function(a,o,s,l,u){var d,f,g,y=0,v="0",_=a&&[],b=[],x=c,k=a||r&&n.find.TAG("*",u),S=w+=null==x?1:Math.random()||.1,T=k.length;for(u&&(c=o==p||o||u);v!==T&&null!=(d=k[v]);v++){if(r&&d){for(f=0,o||d.ownerDocument==p||(h(d),s=!m);g=t[f++];)if(g(d,o||p,s)){l.push(d);break}u&&(w=S)}i&&((d=!g&&d)&&y--,a&&_.push(d))}if(y+=v,i&&v!==y){for(f=0;g=e[f++];)g(_,b,o,s);if(a){if(y>0)for(;v--;)_[v]||b[v]||(b[v]=E.call(l));b=wt(b)}I.apply(l,b),u&&!a&&b.length>0&&y+e.length>1&&st.uniqueSort(l)}return u&&(w=S,c=x),_};return i?ct(a):a}(a,r))).selector=t}return s},l=st.select=function(t,e,i,r){var a,l,c,u,d,h="function"==typeof t&&t,p=!r&&o(t=h.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,it),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(a=G.needsContext.test(t)?0:l.length;a--&&(c=l[a],!n.relative[u=c.type]);)if((d=n.find[u])&&(r=d(c.matches[0].replace(et,it),tt.test(l[0].type)&&yt(e.parentNode)||e))){if(l.splice(a,1),!(t=r.length&&_t(l)))return I.apply(i,r),i;break}}return(h||s(t,p))(r,e,!m,i,!e||tt.test(t)&&yt(e.parentNode)||e),i},i.sortStable=b.split("").sort(D).join("")===b,i.detectDuplicates=!!d,h(),i.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||dt("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||dt("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||dt(z,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),st}(i);k.find=T,k.expr=T.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=T.uniqueSort,k.text=T.getText,k.isXMLDoc=T.isXML,k.contains=T.contains,k.escapeSelector=T.escape;var M=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(i))break;n.push(t)}return n},C=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},D=k.expr.match.needsContext;function L(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,i){return y(e)?k.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?k.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?k.grep(t,(function(t){return u.call(e,t)>-1!==i})):k.filter(e,t,i)}k.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?k.find.matchesSelector(n,t)?[n]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<n;e++)if(k.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)k.find(t,r[e],i);return n>1?k.uniqueSort(i):i},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&D.test(t)?k(t):t||[],!1).length}});var P,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),A.test(n[1])&&k.isPlainObject(e))for(n in e)y(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=_.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==i.ready?i.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,P=k(_);var O=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function z(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,a=[],o="string"!=typeof t&&k(t);if(!D.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&k.find.matchesSelector(i,t))){a.push(i);break}return this.pushStack(a.length>1?k.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(k(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,i){return M(t,"parentNode",i)},next:function(t){return z(t,"nextSibling")},prev:function(t){return z(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,i){return M(t,"nextSibling",i)},prevUntil:function(t,e,i){return M(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(L(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(i,n){var r=k.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=k.filter(n,r)),this.length>1&&(R[t]||k.uniqueSort(r),O.test(t)&&r.reverse()),this.pushStack(r)}}));var Y=/[^\x20\t\r\n\f]+/g;function F(t){return t}function H(t){throw t}function N(t,e,i,n){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(i):t&&y(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(Y)||[],(function(t,i){e[i]=!0})),e}(t):k.extend({},t);var e,i,n,r,a=[],o=[],s=-1,l=function(){for(r=r||t.once,n=e=!0;o.length;s=-1)for(i=o.shift();++s<a.length;)!1===a[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=a.length,i=!1);t.memory||(i=!1),e=!1,r&&(a=i?[]:"")},c={add:function(){return a&&(i&&!e&&(s=a.length-1,o.push(i)),function e(i){k.each(i,(function(i,n){y(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==w(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return k.each(arguments,(function(t,e){for(var i;(i=k.inArray(e,a,i))>-1;)a.splice(i,1),i<=s&&s--})),this},has:function(t){return t?k.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=o=[],i||e||(a=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(i){k.each(e,(function(e,n){var r=y(t[n[4]])&&t[n[4]];a[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var a=0;function o(t,e,n,r){return function(){var s=this,l=arguments,c=function(){var i,c;if(!(t<a)){if((i=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,y(c)?r?c.call(i,o(a,e,F,r),o(a,e,H,r)):(a++,c.call(i,o(a,e,F,r),o(a,e,H,r),o(a,e,F,e.notifyWith))):(n!==F&&(s=void 0,l=[i]),(r||e.resolveWith)(s,l))}},u=r?c:function(){try{c()}catch(i){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(i,u.stackTrace),t+1>=a&&(n!==H&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?u():(k.Deferred.getStackHook&&(u.stackTrace=k.Deferred.getStackHook()),i.setTimeout(u))}}return k.Deferred((function(i){e[0][3].add(o(0,i,y(r)?r:F,i.notifyWith)),e[1][3].add(o(0,i,y(t)?t:F)),e[2][3].add(o(0,i,y(n)?n:H))})).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},a={};return k.each(e,(function(t,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith})),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,i=e,n=Array(i),r=s.call(arguments),a=k.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?s.call(arguments):i,--e||a.resolveWith(n,r)}};if(e<=1&&(N(t,a.done(o(i)).resolve,a.reject,!e),"pending"===a.state()||y(r[i]&&r[i].then)))return a.then();for(;i--;)N(r[i],o(i),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&B.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){i.setTimeout((function(){throw t}))};var j=k.Deferred();function V(){_.removeEventListener("DOMContentLoaded",V),i.removeEventListener("load",V),k.ready()}k.fn.ready=function(t){return j.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||j.resolveWith(_,[k]))}}),k.ready.then=j.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?i.setTimeout(k.ready):(_.addEventListener("DOMContentLoaded",V),i.addEventListener("load",V));var W=function(t,e,i,n,r,a,o){var s=0,l=t.length,c=null==i;if("object"===w(i))for(s in r=!0,i)W(t,e,s,i[s],!0,a,o);else if(void 0!==n&&(r=!0,y(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(k(t),i)})),e))for(;s<l;s++)e(t[s],i,o?n:n.call(t[s],s,e(t[s],i)));return r?t:c?e.call(t):l?e(t[0],i):a},U=/^-ms-/,$=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function G(t){return t.replace(U,"ms-").replace($,q)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=k.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[G(e)]=i;else for(n in e)r[G(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(G):(e=G(e))in n?[e]:e.match(Y)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||k.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var J=new Z,K=new Z,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(i)}catch(t){}K.set(t,e,i)}else i=void 0;return i}k.extend({hasData:function(t){return K.hasData(t)||J.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return J.access(t,e,i)},_removeData:function(t,e){J.remove(t,e)}}),k.fn.extend({data:function(t,e){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=K.get(a),1===a.nodeType&&!J.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=G(n.slice(5)),et(a,n,r[n]));J.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){K.set(this,t)})):W(this,(function(e){var i;if(a&&void 0===e)return void 0!==(i=K.get(a,t))||void 0!==(i=et(a,t))?i:void 0;this.each((function(){K.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){K.remove(this,t)}))}}),k.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=J.get(t,e),i&&(!n||Array.isArray(i)?n=J.access(t,e,k.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=k.queue(t,e),n=i.length,r=i.shift(),a=k._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete a.stop,r.call(t,(function(){k.dequeue(t,e)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return J.get(t,i)||J.access(t,i,{empty:k.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",i])}))})}}),k.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?k.queue(this[0],t):void 0===e?this:this.each((function(){var i=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=k.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=J.get(a[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],at=_.documentElement,ot=function(t){return k.contains(t.ownerDocument,t)},st={composed:!0};at.getRootNode&&(ot=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===k.css(t,"display")};function ct(t,e,i,n){var r,a,o=20,s=n?function(){return n.cur()}:function(){return k.css(t,e,"")},l=s(),c=i&&i[3]||(k.cssNumber[e]?"":"px"),u=t.nodeType&&(k.cssNumber[e]||"px"!==c&&+l)&&nt.exec(k.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)k.style(t,e,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),u/=a;u*=2,k.style(t,e,u+c),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}var ut={};function dt(t){var e,i=t.ownerDocument,n=t.nodeName,r=ut[n];return r||(e=i.body.appendChild(i.createElement(n)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[n]=r,r)}function ht(t,e){for(var i,n,r=[],a=0,o=t.length;a<o;a++)(n=t[a]).style&&(i=n.style.display,e?("none"===i&&(r[a]=J.get(n,"display")||null,r[a]||(n.style.display="")),""===n.style.display&&lt(n)&&(r[a]=dt(n))):"none"!==i&&(r[a]="none",J.set(n,"display",i)));for(a=0;a<o;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}k.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?k(this).show():k(this).hide()}))}});var pt,ft,mt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;pt=_.createDocumentFragment().appendChild(_.createElement("div")),(ft=_.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),pt.appendChild(ft),g.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",g.option=!!pt.lastChild;var vt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&L(t,e)?k.merge([t],i):i}function bt(t,e){for(var i=0,n=t.length;i<n;i++)J.set(t[i],"globalEval",!e||J.get(e[i],"globalEval"))}vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td,g.option||(vt.optgroup=vt.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function wt(t,e,i,n,r){for(var a,o,s,l,c,u,d=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((a=t[p])||0===a)if("object"===w(a))k.merge(h,a.nodeType?[a]:a);else if(xt.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(gt.exec(a)||["",""])[1].toLowerCase(),l=vt[s]||vt._default,o.innerHTML=l[1]+k.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;k.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(e.createTextNode(a));for(d.textContent="",p=0;a=h[p++];)if(n&&k.inArray(a,n)>-1)r&&r.push(a);else if(c=ot(a),o=_t(d.appendChild(a),"script"),c&&bt(o),i)for(u=0;a=o[u++];)yt.test(a.type||"")&&i.push(a);return d}var kt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Tt(){return!1}function Mt(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function Ct(t,e,i,n,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof i&&(n=n||i,i=void 0),e)Ct(t,s,i,n,e[s],a);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Tt;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return k().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),t.each((function(){k.event.add(this,e,r,n,i)}))}function Dt(t,e,i){i?(J.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var n,r,a=J.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=s.call(arguments),J.set(this,e,a),n=i(this,e),this[e](),a!==(r=J.get(this,e))||n?J.set(this,e,!1):r={},a!==r)return t.stopImmediatePropagation(),t.preventDefault(),r&&r.value}else a.length&&(J.set(this,e,{value:k.event.trigger(k.extend(a[0],k.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&k.event.add(t,e,St)}k.event={global:{},add:function(t,e,i,n,r){var a,o,s,l,c,u,d,h,p,f,m,g=J.get(t);if(X(t))for(i.handler&&(i=(a=i).handler,r=a.selector),r&&k.find.matchesSelector(at,r),i.guid||(i.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(Y)||[""]).length;c--;)p=m=(s=kt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=k.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=k.event.special[p]||{},u=k.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:f.join(".")},a),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),k.event.global[p]=!0)},remove:function(t,e,i,n,r){var a,o,s,l,c,u,d,h,p,f,m,g=J.hasData(t)&&J.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(Y)||[""]).length;c--;)if(p=m=(s=kt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=k.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)u=h[a],!r&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(a,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||k.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)k.event.remove(t,p+e[c],i,n,!0);k.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,a,o,s=new Array(arguments.length),l=k.event.fix(t),c=(J.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=k.event.handlers.call(this,l,c),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((k.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,r,a,o,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],o={},i=0;i<l;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?k(r,this).index(c)>-1:k.find(r,this,null,[c]).length),o[r]&&a.push(n);a.length&&s.push({elem:c,handlers:a})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&L(e,"input")&&Dt(e,"click",St),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&L(e,"input")&&Dt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&L(e,"input")&&J.get(e,"click")||L(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){k.event.special[t]={setup:function(){return Dt(this,t,Mt),!1},trigger:function(){return Dt(this,t),!0},_default:function(){return!0},delegateType:e}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,a=t.handleObj;return r&&(r===n||k.contains(n,r))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}})),k.fn.extend({on:function(t,e,i,n){return Ct(this,t,e,i,n)},one:function(t,e,i,n){return Ct(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,k(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Tt),this.each((function(){k.event.remove(this,t,i,e)}))}});var Lt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return L(t,"table")&&L(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ot(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,n,r,a,o,s;if(1===e.nodeType){if(J.hasData(t)&&(s=J.get(t).events))for(r in J.remove(e,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)k.event.add(e,r,s[r][i]);K.hasData(t)&&(a=K.access(t),o=k.extend({},a),K.set(e,o))}}function zt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&mt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Yt(t,e,i,n){e=l(e);var r,a,o,s,c,u,d=0,h=t.length,p=h-1,f=e[0],m=y(f);if(m||h>1&&"string"==typeof f&&!g.checkClone&&At.test(f))return t.each((function(r){var a=t.eq(r);m&&(e[0]=f.call(this,r,a.html())),Yt(a,e,i,n)}));if(h&&(a=(r=wt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=a),a||n)){for(s=(o=k.map(_t(r,"script"),It)).length;d<h;d++)c=r,d!==p&&(c=k.clone(c,!0,!0),s&&k.merge(o,_t(c,"script"))),i.call(t[d],c,d);if(s)for(u=o[o.length-1].ownerDocument,k.map(o,Ot),d=0;d<s;d++)c=o[d],yt.test(c.type||"")&&!J.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(Et,""),c,u))}return t}function Ft(t,e,i){for(var n,r=e?k.filter(e,t):t,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||k.cleanData(_t(n)),n.parentNode&&(i&&ot(n)&&bt(_t(n,"script")),n.parentNode.removeChild(n));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,a,o,s=t.cloneNode(!0),l=ot(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(o=_t(s),n=0,r=(a=_t(t)).length;n<r;n++)zt(a[n],o[n]);if(e)if(i)for(a=a||_t(t),o=o||_t(s),n=0,r=a.length;n<r;n++)Rt(a[n],o[n]);else Rt(t,s);return(o=_t(s,"script")).length>0&&bt(o,!l&&_t(t,"script")),s},cleanData:function(t){for(var e,i,n,r=k.event.special,a=0;void 0!==(i=t[a]);a++)if(X(i)){if(e=i[J.expando]){if(e.events)for(n in e.events)r[n]?k.event.remove(i,n):k.removeEvent(i,n,e.handle);i[J.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return W(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Yt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Yt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Yt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Yt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!vt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(k.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Yt(this,arguments,(function(e){var i=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(_t(this)),i&&i.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var i,n=[],r=k(t),a=r.length-1,o=0;o<=a;o++)i=o===a?this:this.clone(!0),k(r[o])[e](i),c.apply(n,i.get());return this.pushStack(n)}}));var Ht=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Nt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Bt=function(t,e,i){var n,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=a[r];return n},jt=new RegExp(rt.join("|"),"i");function Vt(t,e,i){var n,r,a,o,s=t.style;return(i=i||Nt(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||ot(t)||(o=k.style(t,e)),!g.pixelBoxStyles()&&Ht.test(o)&&jt.test(e)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),r=36===e(t.width),u.style.position="absolute",a=12===e(u.offsetWidth/3),at.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,r,a,o,s,l,c=_.createElement("div"),u=_.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,e,n,r;return null==s&&(t=_.createElement("table"),e=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",at.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var Ut=["Webkit","Moz","ms"],$t=_.createElement("div").style,qt={};function Gt(t){var e=k.cssProps[t]||qt[t];return e||(t in $t?t:qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Ut.length;i--;)if((t=Ut[i]+e)in $t)return t}(t)||t)}var Xt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"};function Qt(t,e,i){var n=nt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function te(t,e,i,n,r,a){var o="width"===e?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=k.css(t,i+rt[o],!0,r)),n?("content"===i&&(l-=k.css(t,"padding"+rt[o],!0,r)),"margin"!==i&&(l-=k.css(t,"border"+rt[o]+"Width",!0,r))):(l+=k.css(t,"padding"+rt[o],!0,r),"padding"!==i?l+=k.css(t,"border"+rt[o]+"Width",!0,r):s+=k.css(t,"border"+rt[o]+"Width",!0,r));return!n&&a>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))||0),l}function ee(t,e,i){var n=Nt(t),r=(!g.boxSizingReliable()||i)&&"border-box"===k.css(t,"boxSizing",!1,n),a=r,o=Vt(t,e,n),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(o)){if(!i)return o;o="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&L(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===k.css(t,"boxSizing",!1,n),(a=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+te(t,e,i||(r?"border":"content"),a,n,o)+"px"}function ie(t,e,i,n,r){return new ie.prototype.init(t,e,i,n,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Vt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=G(e),l=Zt.test(e),c=t.style;if(l||(e=Gt(s)),o=k.cssHooks[e]||k.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:c[e];"string"===(a=typeof i)&&(r=nt.exec(i))&&r[1]&&(i=ct(t,e,r),a="number"),null!=i&&i==i&&("number"!==a||l||(i+=r&&r[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,a,o,s=G(e);return Zt.test(e)||(e=Gt(s)),(o=k.cssHooks[e]||k.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=Vt(t,e,n)),"normal"===r&&e in Kt&&(r=Kt[e]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,i,n){if(i)return!Xt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,n):Bt(t,Jt,(function(){return ee(t,e,n)}))},set:function(t,i,n){var r,a=Nt(t),o=!g.scrollboxSize()&&"absolute"===a.position,s=(o||n)&&"border-box"===k.css(t,"boxSizing",!1,a),l=n?te(t,e,n,s,a):0;return s&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-te(t,e,"border",!1,a)-.5)),l&&(r=nt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=k.css(t,e)),Qt(0,i,l)}}})),k.cssHooks.marginLeft=Wt(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-Bt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+rt[n]+e]=a[n]||a[n-2]||a[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=Qt)})),k.fn.extend({css:function(t,e){return W(this,(function(t,e,i){var n,r,a={},o=0;if(Array.isArray(e)){for(n=Nt(t),r=e.length;o<r;o++)a[e[o]]=k.css(t,e[o],!1,n);return a}return void 0!==i?k.style(t,e,i):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=ie,ie.prototype={constructor:ie,init:function(t,e,i,n,r,a){this.elem=t,this.prop=i,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(k.cssNumber[i]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,i=ie.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ie.propHooks._default.set(this),this}},ie.prototype.init.prototype=ie.prototype,ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Gt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},ie.propHooks.scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=ie.prototype.init,k.fx.step={};var ne,re,ae=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){re&&(!1===_.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(se):i.setTimeout(se,k.fx.interval),k.fx.tick())}function le(){return i.setTimeout((function(){ne=void 0})),ne=Date.now()}function ce(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=rt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,i){for(var n,r=(de.tweeners[e]||[]).concat(de.tweeners["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,e,t))return n}function de(t,e,i){var n,r,a=0,o=de.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=ne||le(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(n);return s.notifyWith(t,[c,n,i]),n<1&&o?i:(o||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},i),originalProperties:e,originalOptions:i,startTime:ne||le(),duration:i.duration,tweens:[],createTween:function(e,i){var n=k.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var i,n,r,a,o;for(i in t)if(r=e[n=G(i)],a=t[i],Array.isArray(a)&&(r=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),(o=k.cssHooks[n])&&"expand"in o)for(i in a=o.expand(a),delete t[n],a)i in t||(t[i]=a[i],e[i]=r);else e[n]=r}(u,c.opts.specialEasing);a<o;a++)if(n=de.prefilters[a].call(c,t,u,c.opts))return y(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,ue,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(de,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ct(i.elem,t,nt.exec(e),i),i}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(Y);for(var i,n=0,r=t.length;n<r;n++)i=t[n],de.tweeners[i]=de.tweeners[i]||[],de.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,a,o,s,l,c,u,d="width"in e||"height"in e,h=this,p={},f=t.style,m=t.nodeType&&lt(t),g=J.get(t,"fxshow");for(n in i.queue||(null==(o=k._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,h.always((function(){h.always((function(){o.unqueued--,k.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[n],ae.test(r)){if(delete e[n],a=a||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||k.style(t,n)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(p))for(n in d&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=J.get(t,"display")),"none"===(u=k.css(t,"display"))&&(c?u=c:(ht([t],!0),c=t.style.display||c,u=k.css(t,"display"),ht([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(t,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(t,"fxshow",{display:c}),a&&(g.hidden=!m),m&&ht([t],!0),h.done((function(){for(n in m||ht([t]),J.remove(t,"fxshow"),p)k.style(t,n,p[n])}))),l=ue(m?g[n]:0,n,h),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),k.speed=function(t,e,i){var n=t&&"object"==typeof t?k.extend({},t):{complete:i||!i&&e||y(t)&&t,duration:t,easing:i&&e||e&&!y(e)&&e};return k.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(t,e,i,n){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=k.isEmptyObject(t),a=k.speed(e,i,n),o=function(){var e=de(this,k.extend({},t),a);(r||J.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",a=k.timers,o=J.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&oe.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(i),e=!1,a.splice(r,1));!e&&i||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=J.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],a=k.timers,o=n?n.length:0;for(i.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var i=k.fn[e];k.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ce(e,!0),t,n,r)}})),k.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),k.timers=[],k.fx.tick=function(){var t,e=0,i=k.timers;for(ne=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||k.fx.stop(),ne=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){re||(re=!0,se())},k.fx.stop=function(){re=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var he,pe=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return W(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,i){var n,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?k.prop(t,e,i):(1===a&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=k.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&L(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Y);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),he={set:function(t,e,i){return!1===e?k.removeAttr(t,i):t.setAttribute(i,i),i}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=pe[e]||k.find.attr;pe[e]=function(t,e,n){var r,a,o=e.toLowerCase();return n||(a=pe[o],pe[o]=r,r=null!=i(t,e,n)?o:null,pe[o]=a),r}}));var fe=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ge(t){return(t.match(Y)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Y)||[]}k.fn.extend({prop:function(t,e){return W(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,i){var n,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,i,n,r,a,o,s,l=0;if(y(t))return this.each((function(e){k(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;i=this[l++];)if(r=ye(i),n=1===i.nodeType&&" "+ge(r)+" "){for(o=0;a=e[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");r!==(s=ge(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,a,o,s,l=0;if(y(t))return this.each((function(e){k(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;i=this[l++];)if(r=ye(i),n=1===i.nodeType&&" "+ge(r)+" "){for(o=0;a=e[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");r!==(s=ge(n))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):y(t)?this.each((function(i){k(this).toggleClass(t.call(this,i,ye(this),e),e)})):this.each((function(){var e,r,a,o;if(n)for(r=0,a=k(this),o=ve(t);e=o[r++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==i||((e=ye(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ge(ye(i))+" ").indexOf(e)>-1)return!0;return!1}});var _e=/\r/g;k.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=y(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,k(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(_e,""):null==i?"":i:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ge(k.text(t))}},select:{get:function(t){var e,i,n,r=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?a+1:r.length;for(n=a<0?l:o?a:0;n<l;n++)if(((i=r[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!L(i.parentNode,"optgroup"))){if(e=k(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,a=k.makeArray(e),o=r.length;o--;)((n=r[o]).selected=k.inArray(k.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(t.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},g.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),g.focusin="onfocusin"in i;var be=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,n,r){var a,o,s,l,c,u,d,h,f=[n||_],m=p.call(t,"type")?t.type:t,g=p.call(t,"namespace")?t.namespace.split("."):[];if(o=h=s=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!be.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[k.expando]?t:new k.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:k.makeArray(e,[t]),d=k.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(n,e))){if(!r&&!d.noBubble&&!v(n)){for(l=d.delegateType||m,be.test(l+m)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(n.ownerDocument||_)&&f.push(s.defaultView||s.parentWindow||i)}for(a=0;(o=f[a++])&&!t.isPropagationStopped();)h=o,t.type=a>1?l:d.bindType||m,(u=(J.get(o,"events")||Object.create(null))[t.type]&&J.get(o,"handle"))&&u.apply(o,e),(u=c&&o[c])&&u.apply&&X(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),e)||!X(n)||c&&y(n[m])&&!v(n)&&((s=n[c])&&(n[c]=null),k.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,xe),n[m](),t.isPropagationStopped()&&h.removeEventListener(m,xe),k.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(t,e,i){var n=k.extend(new k.Event,i,{type:t,isSimulated:!0});k.event.trigger(n,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return k.event.trigger(t,e,i,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=J.access(n,e);r||n.addEventListener(t,i,!0),J.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=J.access(n,e)-1;r?J.access(n,e,r):(n.removeEventListener(t,i,!0),J.remove(n,e))}}}));var we=i.location,ke={guid:Date.now()},Se=/\?/;k.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Te=/\[\]$/,Me=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Le(t,e,i,n){var r;if(Array.isArray(e))k.each(e,(function(e,r){i||Te.test(t)?n(t,r):Le(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==w(e))n(t,e);else for(r in e)Le(t+"["+r+"]",e[r],i,n)}k.param=function(t,e){var i,n=[],r=function(t,e){var i=y(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){r(this.name,this.value)}));else for(i in t)Le(i,t[i],e,r);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&De.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var i=k(this).val();return null==i?null:Array.isArray(i)?k.map(i,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:i.replace(Me,"\r\n")}})).get()}});var Ae=/%20/g,Ee=/#.*$/,Pe=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:GET|HEAD)$/,Re=/^\/\//,ze={},Ye={},Fe="*/".concat("*"),He=_.createElement("a");function Ne(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,a=e.toLowerCase().match(Y)||[];if(y(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Be(t,e,i,n){var r={},a=t===Ye;function o(s){var l;return r[s]=!0,k.each(t[s]||[],(function(t,s){var c=s(e,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function je(t,e){var i,n,r=k.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&k.extend(!0,t,n),t}He.href=we.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,k.ajaxSettings),e):je(k.ajaxSettings,t)},ajaxPrefilter:Ne(ze),ajaxTransport:Ne(Ye),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,a,o,s,l,c,u,d,h,p=k.ajaxSetup({},e),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?k(f):k.event,g=k.Deferred(),y=k.Callbacks("once memory"),v=p.statusCode||{},b={},x={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=Ie.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),T(0,e),this}};if(g.promise(S),p.url=((t||p.url||we.href)+"").replace(Re,we.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Y)||[""],null==p.crossDomain){l=_.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=He.protocol+"//"+He.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),Be(ze,p,e,S),c)return S;for(d in(u=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Oe.test(p.type),r=p.url.replace(Ee,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Se.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Pe,"$1"),h=(Se.test(r)?"&":"?")+"_="+ke.guid+++h),p.url=r+h),p.ifModified&&(k.lastModified[r]&&S.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&S.setRequestHeader("If-None-Match",k.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(w="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),n=Be(Ye,p,e,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(s=i.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,n.send(b,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,o,l){var d,h,_,b,x,w=e;c||(c=!0,s&&i.clearTimeout(s),n=void 0,a=l||"",S.readyState=t>0?4:0,d=t>=200&&t<300||304===t,o&&(b=function(t,e,i){for(var n,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}(p,S,o)),!d&&k.inArray("script",p.dataTypes)>-1&&k.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(t,e,i,n){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(p,b,S,d),d?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=x),(x=S.getResponseHeader("etag"))&&(k.etag[r]=x)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,h=b.data,d=!(_=b.error))):(_=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",d?g.resolveWith(f,[h,w,S]):g.rejectWith(f,[S,w,_]),S.statusCode(v),v=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,p,d?h:_]),y.fireWith(f,[S,w]),u&&(m.trigger("ajaxComplete",[S,p]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return k.get(t,e,i,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,i,n,r){return y(i)&&(r=r||n,n=i,i=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:i,success:n},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,i){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,i)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(i){k(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},We=k.ajaxSettings.xhr();g.cors=!!We&&"withCredentials"in We,g.ajax=We=!!We,k.ajaxTransport((function(t){var e,n;if(g.cors||We&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ue,$e=[],qe=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||k.expando+"_"+ke.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,n){var r,a,o,s=!1!==t.jsonp&&(qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qe,"$1"+r):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always((function(){void 0===a?k(i).removeProp(r):i[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,$e.push(r)),o&&y(a)&&a(o[0]),o=a=void 0})),"script"})),g.createHTMLDocument=((Ue=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ue.childNodes.length),k.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(g.createHTMLDocument?((n=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(n)):e=_),a=!i&&[],(r=A.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,a),a&&a.length&&k(a).remove(),k.merge([],r.childNodes)));var n,r,a},k.fn.load=function(t,e,i){var n,r,a,o=this,s=t.indexOf(" ");return s>-1&&(n=ge(t.slice(s)),t=t.slice(0,s)),y(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){a=arguments,o.html(n?k("<div>").append(k.parseHTML(t)).find(n):t)})).always(i&&function(t,e){o.each((function(){i.apply(this,a||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,i){var n,r,a,o,s,l,c=k.css(t,"position"),u=k(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=k.css(t,"top"),l=k.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(n=u.position()).top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,i,k.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===k.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(n,"marginTop",!0),left:e.left-r.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||at}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;k.fn[t]=function(n){return W(this,(function(t,n,r){var a;if(v(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===r)return a?a[e]:t[n];a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):t[n]=r}),t,n,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=Wt(g.pixelPosition,(function(t,i){if(i)return i=Vt(t,e),Ht.test(i)?k(t).position()[e]+"px":i}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){k.fn[n]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===a?"margin":"border");return W(this,(function(e,i,r){var a;return v(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===r?k.css(e,i,s):k.style(e,i,r,s)}),e,o?r:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var Ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),y(t))return n=s.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=L,k.isFunction=y,k.isWindow=v,k.camelCase=G,k.type=w,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Ge,"")},void 0===(n=function(){return k}.apply(e,[]))||(t.exports=n);var Xe=i.jQuery,Ze=i.$;return k.noConflict=function(t){return i.$===k&&(i.$=Ze),t&&i.jQuery===k&&(i.jQuery=Xe),k},void 0===r&&(i.jQuery=i.$=k),k}))},function(t,e,i){"use strict";var n;
/*!
 * ApexCharts v3.24.0
 * (c) 2018-2021 Juned Chhipa
 * Released under the MIT License.
 */function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=h(t);if(e){var r=h(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return p(this,i)}}function m(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var y=function(){function t(){a(this,t)}return s(t,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),n=t<0?0:255,r=t<0?-1*t:t,a=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),s=parseInt(i[2],10);return"rgb("+(Math.round((n-a)*r)+a)+","+(Math.round((n-o)*r)+o)+","+(Math.round((n-s)*r)+s)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),n=t<0?0:255,r=t<0?-1*t:t,a=i>>16,o=i>>8&255,s=255&i;return"#"+(16777216+65536*(Math.round((n-a)*r)+a)+256*(Math.round((n-o)*r)+o)+(Math.round((n-s)*r)+s)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&null!=t}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e});var n=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(r){i.isObject(e[r])&&r in t?n[r]=i.extend(t[r],e[r]):Object.assign(n,l({},r,e[r]))})),n}},{key:"extendArray",value:function(e,i){var n=[];return e.map((function(e){n.push(t.extend(i,e))})),n}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.clone(t[i]);return e}if("[object Null]"===Object.prototype.toString.call(t))return null;if("[object Date]"===Object.prototype.toString.call(t))return t;if("object"===r(t)){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=this.clone(t[a]));return n}return t}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",n=t<0?"-":"",r=e[0].replace(".",""),a=Number(e[1])+1;if(a<0){for(i=n+"0.";a++;)i+="0";return i+r.replace(/^-/,"")}for(a-=r.length;a--;)i+="0";return r+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,n=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var n=0;n<i.length;n++)i[n]=parseInt(1===i[n].length?i[n]+i[n]:i[n],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],n=2*Math.PI/e,r=0;r<e;r++){var a={};a.x=t*Math.sin(r*n),a.y=-t*Math.cos(r*n),i.push(a)}return i}},{key:"polarToCartesian",value:function(t,e,i,n){var r=(n-90)*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=t.toString().slice();return i.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var n=i-t.length+1;n--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},{key:"sanitizeDom",value:function(t){return t.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}}]),t}(),v=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return s(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1};break;default:t="<>"}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,n){t.attr(e).animate(n).attr(i)}},{key:"animateCircleRadius",value:function(t,e,i,n,r,a){e||(e=0),t.attr({r:e}).animate(n,r).attr({r:i}).afterAll((function(){a()}))}},{key:"animateCircle",value:function(t,e,i,n,r){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(n,r).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,n,r){t.attr(e).animate(n).attr(i).afterAll((function(){return r()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,n=t.j,r=t.fill,a=t.pathFrom,o=t.pathTo,s=t.speed,l=t.delay,c=this.w,u=0;c.config.chart.animations.animateGradually.enabled&&(u=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(u=0),this.morphSVG(e,i,n,"line"!==c.config.chart.type||c.globals.comboCharts?r:"stroke",a,o,s,l*u)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"roundedCornerBars",value:function(t,e){var i=this.w,n=t.node.classList.contains("apexcharts-bar-area"),r=t.node.classList.contains("apexcharts-rangebar-area");if(n||r){var a=i.config.plotOptions.bar.borderRadius;if(0===a)return;"rounded"===i.config.plotOptions.bar.endingShape&&(a=5);var o=t.node.getAttribute("val"),s="0% 0% 0% 0%";if(n)if(i.globals.isBarHorizontal){var l=i.config.yaxis[0].reversed;s=o<0?l?"0% 0% 0% -100%":"0% -100% 0% 0%":l?"0% -100% 0% 0%":"0% 0% 0% -100%"}else s=o<0?"-100% 0% 0% 0%":"0% 0% -100% 0%";if(n&&i.config.chart.stacked&&e!==i.globals.series.length-1&&i.config.plotOptions.bar.radiusOnLastStackedBar)return;t.node.style.clipPath="inset(".concat(s," round ").concat(a,"px)")}}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,n,r,a,o,s){var l=this,c=this.w;r||(r=t.attr("pathFrom")),a||(a=t.attr("pathTo"));var u=function(t){return"radar"===c.config.chart.type&&(o=1),"M 0 ".concat(c.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=u()),(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=u()),c.globals.shouldAnimate||(o=1),t.plot(r).animate(1,c.globals.easing,s).plot(r).animate(o,c.globals.easing,s).plot(a).afterAll((function(){l.roundedCornerBars(t,e),y.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==n&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),_=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var n=this,r=this.w,a=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=r.config.chart.dropShadow;(i.enabled?n.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:a}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var n=this,r=this.w,a=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=r.config.chart.dropShadow;(i.enabled?n.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:a}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:n});break;case"darken":this.addDarkenFilter(t,e,{intensity:n})}}},{key:"addShadow",value:function(t,e,i){var n=i.blur,r=i.top,a=i.left,o=i.color,s=i.opacity,l=t.flood(Array.isArray(o)?o[e]:o,s).composite(t.sourceAlpha,"in").offset(a,r).gaussianBlur(n).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.top,r=e.left,a=e.blur,o=e.color,s=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),y.isIE()&&"radialBar"===c.config.chart.type||(o=Array.isArray(o)?o[i]:o,t.filter((function(t){var e;e=y.isSafari()||y.isFirefox()||y.isIE()?t.flood(o,s).composite(t.sourceAlpha,"in").offset(r,n).gaussianBlur(a):t.flood(o,s).composite(t.sourceAlpha,"in").offset(r,n).gaussianBlur(a).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var n=this.w;if(void 0!==n.globals.selectedDataPoints[e]&&n.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var r=n.config.states.active.filter;"none"!==r&&this.applyFilter(t,e,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),b=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawLine",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=this.w,l=s.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:n,stroke:r,"stroke-dasharray":a,"stroke-width":o});return l}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=this.w,d=u.globals.dom.Paper.rect();return d.attr({x:t,y:e,width:i>0?i:0,height:n>0?n:0,rx:r,ry:r,opacity:o,"stroke-width":null!==s?s:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",a),d}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=this.w,a=r.globals.dom.Paper.polygon(t).attr({fill:n,stroke:e,"stroke-width":i});return a}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w,n=i.globals.dom.Paper.circle(2*t);return null!==e&&n.attr(e),n}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,n=t.stroke,r=void 0===n?"#a8a8a8":n,a=t.strokeWidth,o=void 0===a?1:a,s=t.fill,l=t.fillOpacity,c=void 0===l?1:l,u=t.strokeOpacity,d=void 0===u?1:u,h=t.classes,p=t.strokeLinecap,f=void 0===p?null:p,m=t.strokeDashArray,g=void 0===m?0:m,y=this.w;return null===f&&(f=y.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(i).attr({fill:s,"fill-opacity":c,stroke:r,"stroke-opacity":d,"stroke-linecap":f,"stroke-width":o,"stroke-dasharray":g,class:h})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=e.globals.dom.Paper.group();return null!==t&&i.attr(t),i}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null;return null===i?n=["L",t,e].join(" "):"H"===i?n=["H",t].join(" "):"V"===i&&(n=["V",e].join(" ")),n}},{key:"curve",value:function(t,e,i,n,r,a){return["C",t,e,i,n,r,a].join(" ")}},{key:"quadraticCurve",value:function(t,e,i,n){return["Q",t,e,i,n].join(" ")}},{key:"arc",value:function(t,e,i,n,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";s&&(l="a");var c=[l,t,e,i,n,r,a,o].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,n=t.realIndex,r=t.pathFrom,a=t.pathTo,o=t.stroke,s=t.strokeWidth,l=t.strokeLinecap,c=t.fill,d=t.animationDelay,h=t.initialSpeed,p=t.dataChangeSpeed,f=t.className,m=t.shouldClipToGrid,g=void 0===m||m,y=t.bindEventsOnPaths,b=void 0===y||y,x=t.drawShadow,w=void 0===x||x,k=this.w,S=new _(this.ctx),T=new v(this.ctx),M=this.w.config.chart.animations.enabled,C=M&&this.w.config.chart.animations.dynamicAnimation.enabled,D=!!(M&&!k.globals.resized||C&&k.globals.dataChanged&&k.globals.shouldAnimate);D?e=r:(e=a,k.globals.animationEnded=!0);var L,A=k.config.stroke.dashArray;L=Array.isArray(A)?A[n]:k.config.stroke.dashArray;var E=this.drawPath({d:e,stroke:o,strokeWidth:s,fill:c,fillOpacity:1,classes:f,strokeLinecap:l,strokeDashArray:L});if(E.attr("index",n),g&&E.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")}),"none"!==k.config.states.normal.filter.type)S.getDefaultFilter(E,n);else if(k.config.chart.dropShadow.enabled&&w&&(!k.config.chart.dropShadow.enabledOnSeries||k.config.chart.dropShadow.enabledOnSeries&&-1!==k.config.chart.dropShadow.enabledOnSeries.indexOf(n))){var P=k.config.chart.dropShadow;S.dropShadow(E,P,n)}b&&(E.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,E)),E.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,E)),E.node.addEventListener("mousedown",this.pathMouseDown.bind(this,E))),E.attr({pathTo:a,pathFrom:r});var I={el:E,j:i,realIndex:n,pathFrom:r,pathTo:a,fill:c,strokeWidth:s,delay:d};return!M||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||(T.showDelayedElements(),T.roundedCornerBars(E,n)):T.animatePathsGradually(u(u({},I),{},{speed:h})),k.globals.dataChanged&&C&&D&&T.animatePathsGradually(u(u({},I),{},{speed:p})),E}},{key:"drawPattern",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this.w,o=a.globals.dom.Paper.pattern(e,i,(function(a){"horizontalLines"===t?a.line(0,0,i,0).stroke({color:n,width:r+1}):"verticalLines"===t?a.line(0,0,0,e).stroke({color:n,width:r+1}):"slantedLines"===t?a.line(0,0,e,i).stroke({color:n,width:r}):"squares"===t?a.rect(e,i).fill("none").stroke({color:n,width:r}):"circles"===t&&a.circle(e).fill("none").stroke({color:n,width:r})}));return o}},{key:"drawGradient",value:function(t,e,i,n,r){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=this.w;e.length<9&&0===e.indexOf("#")&&(e=y.hexToRgba(e,n)),i.length<9&&0===i.indexOf("#")&&(i=y.hexToRgba(i,r));var d=0,h=1,p=1,f=null;null!==s&&(d=void 0!==s[0]?s[0]/100:0,h=void 0!==s[1]?s[1]/100:1,p=void 0!==s[2]?s[2]/100:1,f=void 0!==s[3]?s[3]/100:null);var m=!("donut"!==u.config.chart.type&&"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"bubble"!==u.config.chart.type);if(a=null===l||0===l.length?u.globals.dom.Paper.gradient(m?"radial":"linear",(function(t){t.at(d,e,n),t.at(h,i,r),t.at(p,i,r),null!==f&&t.at(f,e,n)})):u.globals.dom.Paper.gradient(m?"radial":"linear",(function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))})),m){var g=u.globals.gridWidth/2,v=u.globals.gridHeight/2;"bubble"!==u.config.chart.type?a.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:v,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?a.from(0,0).to(0,1):"diagonal"===t?a.from(0,0).to(1,1):"horizontal"===t?a.from(0,1).to(1,1):"diagonal2"===t&&a.from(1,0).to(0,1);return a}},{key:"drawText",value:function(t){var e,i=t.x,n=t.y,r=t.text,a=t.textAnchor,o=t.fontSize,s=t.fontFamily,l=t.fontWeight,c=t.foreColor,u=t.opacity,d=t.cssClass,h=void 0===d?"":d,p=t.isPlainText,f=void 0===p||p,m=this.w;return void 0===r&&(r=""),a||(a="start"),c&&c.length||(c=m.config.chart.foreColor),s=s||m.config.chart.fontFamily,l=l||"regular",(e=Array.isArray(r)?m.globals.dom.Paper.text((function(t){for(var e=0;e<r.length;e++)0===e?t.tspan(r[e]):t.tspan(r[e]).newLine()})):f?m.globals.dom.Paper.plain(r):m.globals.dom.Paper.text((function(t){return t.tspan(r)}))).attr({x:i,y:n,"text-anchor":a,"dominant-baseline":"auto","font-size":o,"font-family":s,"font-weight":l,fill:c,class:"apexcharts-text "+h}),e.node.style.fontFamily=s,e.node.style.opacity=u,e}},{key:"drawMarker",value:function(t,e,i){t=t||0;var n=i.pSize||0,r=null;if("square"===i.shape){var a=void 0===i.pRadius?n/2:i.pRadius;null!==e&&n||(n=0,a=0);var o=1.2*n+a,s=this.drawRect(o,o,o,o,a);s.attr({x:t-o/2,y:e-o/2,cx:t,cy:e,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pWidth?i.pWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),r=s}else"circle"!==i.shape&&i.shape||(y.isNumber(e)||(n=0,e=0),r=this.drawCircle(n,{cx:t,cy:e,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pWidth?i.pWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,n=new _(this.ctx),r=parseInt(t.node.getAttribute("index"),10),a=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&"none"!==i.config.states.active.filter.type&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;n.applyFilter(t,r,o.type,o.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,n=new _(this.ctx),r=parseInt(t.node.getAttribute("index"),10),a=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&n.getDefaultFilter(t,r)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,n=new _(this.ctx),r=parseInt(t.node.getAttribute("index"),10),a=parseInt(t.node.getAttribute("j"),10),o="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[r].indexOf(a)>-1){var s=i.globals.selectedDataPoints[r].indexOf(a);i.globals.selectedDataPoints[r].splice(s,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,u=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),n.getDefaultFilter(t,r)}))};u(l),u(c)}t.node.setAttribute("selected","true"),o="true",void 0===i.globals.selectedDataPoints[r]&&(i.globals.selectedDataPoints[r]=[]),i.globals.selectedDataPoints[r].push(a)}if("true"===o){var d=i.config.states.active.filter;"none"!==d&&n.applyFilter(t,r,d.type,d.value)}else"none"!==i.config.states.active.filter.type&&n.getDefaultFilter(t,r);"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});n&&o.attr("transform",n),a.globals.dom.Paper.add(o);var s=o.bbox();return r||(s=o.node.getBoundingClientRect()),o.remove(),{width:s.width,height:s.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i)){for(var n=e.length-3;n>0;n-=3)if(t.getSubStringLength(0,n)<=i)return void(t.textContent=e.substring(0,n)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),t}(),x=function(){function t(e){a(this,t),this.w=e.w,this.annoCtx=e}return s(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===t.label.orientation){var n=null!==e?e:0,r=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(n,"']"));if(null!==r){var a=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-a.height+4),"top"===t.label.position?r.setAttribute("y",parseFloat(r.getAttribute("y"))+a.width):r.setAttribute("y",parseFloat(r.getAttribute("y"))-a.width);var o=this.annoCtx.graphics.rotateAroundCenter(r),s=o.x,l=o.y;r.setAttribute("transform","rotate(-90 ".concat(s," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||!e.label.text||e.label.text&&!e.label.text.trim())return null;var n=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=t.getBoundingClientRect(),a=e.label.style.padding.left,o=e.label.style.padding.right,s=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(s=e.label.style.padding.left,l=e.label.style.padding.right,a=e.label.style.padding.top,o=e.label.style.padding.bottom);var c=r.left-n.left-a,u=r.top-n.top-s,d=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,u,r.width+a+o,r.height+s+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&d.node.classList.add(e.id),d}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(i,n,r){var a=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(n,"']"));if(a){var o=a.parentNode,s=t.addBackgroundToAnno(a,i);s&&o.insertBefore(s.node,a)}};e.config.annotations.xaxis.map((function(t,e){i(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){i(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){i(t,e,"point")}))}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var n=e.globals.labels.indexOf(t),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(n+1)+")");return r&&(i=parseFloat(r.getAttribute("x"))),i}}]),t}(),w=function(){function t(e){a(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis}return s(t,[{key:"addXaxisAnnotation",value:function(t,e,i){var n=this.w,r=this.invertAxis?n.globals.minY:n.globals.minX,a=this.invertAxis?n.globals.maxY:n.globals.maxX,o=this.invertAxis?n.globals.yRange[0]:n.globals.xRange,s=(t.x-r)/(o/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(s=(a-t.x)/(o/n.globals.gridWidth));var l=t.label.text;"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.invertAxis||n.globals.dataFormatXNumeric||(s=this.annoCtx.helpers.getStringX(t.x));var c=t.strokeDashArray;if(y.isNumber(s)){if(null===t.x2||void 0===t.x2){var u=this.annoCtx.graphics.drawLine(s+t.offsetX,0+t.offsetY,s+t.offsetX,n.globals.gridHeight+t.offsetY,t.borderColor,c,t.borderWidth);e.appendChild(u.node),t.id&&u.node.classList.add(t.id)}else{var d=(t.x2-r)/(o/n.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(d=(a-t.x2)/(o/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.invertAxis||n.globals.dataFormatXNumeric||(d=this.annoCtx.helpers.getStringX(t.x2)),d<s){var h=s;s=d,d=h}var p=this.annoCtx.graphics.drawRect(s+t.offsetX,0+t.offsetY,d-s,n.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,c);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(p.node),t.id&&p.node.classList.add(t.id)}var f="top"===t.label.position?4:n.globals.gridHeight,m=this.annoCtx.graphics.getTextRects(l,parseFloat(t.label.style.fontSize)),g=this.annoCtx.graphics.drawText({x:s+t.label.offsetX,y:f+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?m.width/2-12:-m.width/2:0),text:l,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});g.attr({rel:i}),e.appendChild(g.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,n){t.addXaxisAnnotation(e,i.node,n)})),i}}]),t}(),k=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getStackedSeriesTotals",value:function(){var t=this.w,e=[];if(0===t.globals.series.length)return e;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var n=0,r=0;r<t.globals.series.length;r++)void 0!==t.globals.series[r][i]&&(n+=t.globals.series[r][i]);e.push(n)}return t.globals.stackedSeriesTotals=e,e}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(t,i){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var i=0;if(Array.isArray(t))for(var n=0;n<t.length;n++)i+=t[n];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(n,r){for(var a=0,o=0;o<n.length;o++)i.globals.seriesX[r][o]>t&&i.globals.seriesX[r][o]<e&&(a+=n[o]);return a}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var a=t.globals.stackedSeriesTotals[r],o=0;a&&(o=100*e[r]/a),n.push(o)}else{var s=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);n.push(s)}return n}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,n,r=this.w.globals,a=[],o=0,s=[],l=.1,c=0;if(r.yRange=[],r.isMultipleYAxis)for(var u=0;u<r.minYArr.length;u++)r.yRange.push(Math.abs(r.minYArr[u]-r.maxYArr[u])),s.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var d=0;d<r.yRange.length;d++)a.push(r.yRange[d]/r.gridHeight);if(e=r.xRange/r.gridWidth,i=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,t=r.yRange/r.gridWidth,n=r.xRange/r.gridHeight,(o=r.zRange/r.gridHeight*16)||(o=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){s=[];for(var h=0;h<a.length;h++)s.push(-r.minYArr[h]/a[h])}else s.push(-r.minY/a[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(l=-r.minY/t,c=r.minX/e);return{yRatio:a,invertedYRatio:t,zRatio:o,xRatio:e,initialXRatio:i,invertedXRatio:n,baseLineInvertedY:l,baseLineY:s,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(t,n){return i.config.yaxis[n]&&i.config.yaxis[n].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(t,n)})):t})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getLogVal",value:function(t,e){var i=this.w;return(Math.log(t)-Math.log(i.globals.minYArr[e]))/(Math.log(i.globals.maxYArr[e])-Math.log(i.globals.minYArr[e]))}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,n=this.w.globals;return n.yLogRatio=t.slice(),n.logYRange=n.yRange.map((function(t,r){if(i.config.yaxis[r]&&e.w.config.yaxis[r].logarithmic){var a,o=-Number.MAX_VALUE,s=Number.MIN_VALUE;return n.seriesLog.forEach((function(t,e){t.forEach((function(t){i.config.yaxis[e]&&i.config.yaxis[e].logarithmic&&(o=Math.max(t,o),s=Math.min(t,s))}))})),a=Math.pow(n.yRange[r],Math.abs(s-o)/n.yRange[r]),n.yLogRatio[r]=a/n.gridHeight,a}})),n.invalidLogScale?t.slice():n.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0;return t.length&&void 0!==t[0].type&&(e=!0,t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type||i++}))),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),S=function(){function t(e){a(this,t),this.w=e.w,this.annoCtx=e}return s(t,[{key:"addYaxisAnnotation",value:function(t,e,i){var n,r=this.w,a=t.strokeDashArray,o=this._getY1Y2("y1",t),s=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,o+t.offsetY,this._getYAxisAnnotationWidth(t),o+t.offsetY,t.borderColor,a,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((n=this._getY1Y2("y2",t))>o){var c=o;o=n,n=c}var u=this.annoCtx.graphics.drawRect(0+t.offsetX,n+t.offsetY,this._getYAxisAnnotationWidth(t),o-n,0,t.fillColor,t.opacity,1,t.borderColor,a);u.node.classList.add("apexcharts-annotation-rect"),u.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),e.appendChild(u.node),t.id&&u.node.classList.add(t.id)}var d="right"===t.label.position?r.globals.gridWidth:0,h=this.annoCtx.graphics.drawText({x:d+t.label.offsetX,y:(n||o)+t.label.offsetY-3,text:s,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});h.attr({rel:i}),e.appendChild(h.node)}},{key:"_getY1Y2",value:function(t,e){var i,n="y1"===t?e.y:e.y2,r=this.w;if(this.annoCtx.invertAxis){var a=r.globals.labels.indexOf(n);r.config.xaxis.convertedCatToNumeric&&(a=r.globals.categoryLabels.indexOf(n));var o=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(a+1)+")");o&&(i=parseFloat(o.getAttribute("y")))}else{var s;s=r.config.yaxis[e.yAxisIndex].logarithmic?(n=new k(this.annoCtx.ctx).getLogVal(n,e.yAxisIndex))/r.globals.yLogRatio[e.yAxisIndex]:(n-r.globals.minYArr[e.yAxisIndex])/(r.globals.yRange[e.yAxisIndex]/r.globals.gridHeight),i=r.globals.gridHeight-s,r.config.yaxis[e.yAxisIndex]&&r.config.yaxis[e.yAxisIndex].reversed&&(i=s)}return i}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,n){t.addYaxisAnnotation(e,i.node,n)})),i}}]),t}(),T=function(){function t(e){a(this,t),this.w=e.w,this.annoCtx=e}return s(t,[{key:"addPointAnnotation",value:function(t,e,i){var n=this.w,r=0,a=0,o=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var s,l=parseFloat(t.y);if("string"==typeof t.x){var c=n.globals.labels.indexOf(t.x);n.config.xaxis.convertedCatToNumeric&&(c=n.globals.categoryLabels.indexOf(t.x)),r=this.annoCtx.helpers.getStringX(t.x),null===t.y&&(l=n.globals.series[t.seriesIndex][c])}else r=(t.x-n.globals.minX)/(n.globals.xRange/n.globals.gridWidth);if(s=n.config.yaxis[t.yAxisIndex].logarithmic?(l=new k(this.annoCtx.ctx).getLogVal(l,t.yAxisIndex))/n.globals.yLogRatio[t.yAxisIndex]:(l-n.globals.minYArr[t.yAxisIndex])/(n.globals.yRange[t.yAxisIndex]/n.globals.gridHeight),a=n.globals.gridHeight-s-parseFloat(t.label.style.fontSize)-t.marker.size,o=n.globals.gridHeight-s,n.config.yaxis[t.yAxisIndex]&&n.config.yaxis[t.yAxisIndex].reversed&&(a=s+parseFloat(t.label.style.fontSize)+t.marker.size,o=s),y.isNumber(r)){var u={pSize:t.marker.size,pWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},d=this.annoCtx.graphics.drawMarker(r+t.marker.offsetX,o+t.marker.offsetY,u);e.appendChild(d.node);var h=t.label.text?t.label.text:"",p=this.annoCtx.graphics.drawText({x:r+t.label.offsetX,y:a+t.label.offsetY,text:h,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(p.attr({rel:i}),e.appendChild(p.node),t.customSVG.SVG){var f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});f.attr({transform:"translate(".concat(r+t.customSVG.offsetX,", ").concat(a+t.customSVG.offsetY,")")}),f.node.innerHTML=t.customSVG.SVG,e.appendChild(f.node)}if(t.image.path){var m=t.image.width?t.image.width:20,g=t.image.height?t.image.height:20;this.annoCtx.addImage({x:r+t.image.offsetX-m/2,y:a+t.image.offsetY-g/2,width:m,height:g,path:t.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,n){t.addPointAnnotation(e,i.node,n)})),i}}]),t}(),M={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},C=function(){function t(){a(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return s(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[M],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,startingShape:"flat",endingShape:"flat",borderRadius:0,radiusOnLastStackedBar:!0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,sorted:!1,offsetX:0,offsetY:0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),D=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.graphics=new b(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new x(this),this.xAxisAnnotations=new w(this),this.yAxisAnnotations=new S(this),this.pointsAnnotations=new T(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),n=this.pointsAnnotations.drawPointAnnotations(),r=t.config.chart.animations.enabled,a=[e,i,n],o=[i.node,e.node,n.node],s=0;s<3;s++)t.globals.dom.elGraphical.add(a[s]),!r||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&o[s].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:o[s],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,n=t.y,r=t.text,a=t.textAnchor,o=t.foreColor,s=t.fontSize,l=t.fontFamily,c=t.fontWeight,u=t.cssClass,d=t.backgroundColor,h=t.borderWidth,p=t.strokeDashArray,f=t.borderRadius,m=t.borderColor,g=t.appendTo,y=void 0===g?".apexcharts-annotations":g,v=t.paddingLeft,_=void 0===v?4:v,b=t.paddingRight,x=void 0===b?4:b,w=t.paddingBottom,k=void 0===w?2:w,S=t.paddingTop,T=void 0===S?2:S,M=this.w,C=this.graphics.drawText({x:i,y:n,text:r,textAnchor:a||"start",fontSize:s||"12px",fontWeight:c||"regular",fontFamily:l||M.config.chart.fontFamily,foreColor:o||M.config.chart.foreColor,cssClass:u}),D=M.globals.dom.baseEl.querySelector(y);D&&D.appendChild(C.node);var L=C.bbox();if(r){var A=this.graphics.drawRect(L.x-_,L.y-T,L.width+_+x,L.height+k+T,f,d||"transparent",1,h,m,p);D.insertBefore(A.node,C.node)}}},{key:"addImage",value:function(t,e){var i=this.w,n=t.path,r=t.x,a=void 0===r?0:r,o=t.y,s=void 0===o?0:o,l=t.width,c=void 0===l?20:l,u=t.height,d=void 0===u?20:u,h=t.appendTo,p=void 0===h?".apexcharts-annotations":h,f=i.globals.dom.Paper.image(n);f.size(c,d).move(a,s);var m=i.globals.dom.baseEl.querySelector(p);m&&m.appendChild(f.node)}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,n=t.context,r=t.type,a=t.contextMethod,o=n,s=o.w,l=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,u=new C,d=Object.assign({},"xaxis"===r?u.xAxisAnnotation:"yaxis"===r?u.yAxisAnnotation:u.pointAnnotation),h=y.extend(d,e);switch(r){case"xaxis":this.addXaxisAnnotation(h,l,c);break;case"yaxis":this.addYaxisAnnotation(h,l,c);break;case"point":this.addPointAnnotation(h,l,c)}var p=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),f=this.helpers.addBackgroundToAnno(p,h);return f&&l.insertBefore(f.node,p),i&&s.globals.memory.methodsToExec.push({context:o,id:h.id?h.id:y.randomId(),method:a,label:"addAnnotation",params:e}),n}},{key:"clearAnnotations",value:function(t){var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,i){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(i,1)})),i=y.listToArray(i),Array.prototype.forEach.call(i,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,n=i.globals.dom.baseEl.querySelectorAll(".".concat(e));n&&(i.globals.memory.methodsToExec.map((function(t,n){t.id===e&&i.globals.memory.methodsToExec.splice(n,1)})),Array.prototype.forEach.call(n,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),L=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return s(t,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,n=parseInt(e.globals.gridWidth,10),r=parseInt(e.globals.gridHeight,10),a=n>r?n:r,o=t.image,s=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(s=i.fill.image.width+1,l=i.fill.image.height):(s=a+1,l=a):(s=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");b.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:s+"px",height:l+"px"});var u=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(u),u.setAttributeNS(window.SVG.xlink,"href",o),b.setAttrs(u,{x:0,y:0,preserveAspectRatio:"none",width:s+"px",height:l+"px"}),u.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,n,r,a=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var o=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(o=e.globals.seriesColors[this.seriesIndex]),"function"==typeof o&&(o=o({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var s=this.getFillType(this.seriesIndex),l=Array.isArray(a.fill.opacity)?a.fill.opacity[this.seriesIndex]:a.fill.opacity;t.color&&(o=t.color);var c=o;if(-1===o.indexOf("rgb")?o.length<9&&(c=y.hexToRgba(o,l)):o.indexOf("rgba")>-1&&(l=y.getOpacityFromRGBA(o)),t.opacity&&(l=t.opacity),"pattern"===s&&(n=this.handlePatternFill(n,o,l,c)),"gradient"===s&&(r=this.handleGradientFill(o,l,this.seriesIndex)),"image"===s){var u=a.fill.image.src,d=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(u)?t.seriesNumber<u.length?u[t.seriesNumber]:u[0]:u,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(d)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(d,")")}else i="gradient"===s?r:"pattern"===s?n:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,n=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?n=t.globals.stroke.colors:n.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?n=t.globals.fill.colors:n.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?n=t.globals.stroke.colors:n.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?n=t.globals.fill.colors:n.push(t.globals.fill.colors),void 0!==i.fillColors&&(n=[],Array.isArray(i.fillColors)?n=i.fillColors.slice():n.push(i.fillColors)),n}},{key:"handlePatternFill",value:function(t,e,i,n){var r=this.w.config,a=this.opts,o=new b(this.ctx),s=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,l=e;return Array.isArray(r.fill.pattern.style)?void 0!==r.fill.pattern.style[a.seriesNumber]?o.drawPattern(r.fill.pattern.style[a.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,l,s,i):n:o.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,l,s,i)}},{key:"handleGradientFill",value:function(t,e,i){var n,r=this.w.config,a=this.opts,o=new b(this.ctx),s=new y,l=r.fill.gradient.type,c=t,u=void 0===r.fill.gradient.opacityFrom?e:Array.isArray(r.fill.gradient.opacityFrom)?r.fill.gradient.opacityFrom[i]:r.fill.gradient.opacityFrom;c.indexOf("rgba")>-1&&(u=y.getOpacityFromRGBA(c));var d=void 0===r.fill.gradient.opacityTo?e:Array.isArray(r.fill.gradient.opacityTo)?r.fill.gradient.opacityTo[i]:r.fill.gradient.opacityTo;if(void 0===r.fill.gradient.gradientToColors||0===r.fill.gradient.gradientToColors.length)n="dark"===r.fill.gradient.shade?s.shadeColor(-1*parseFloat(r.fill.gradient.shadeIntensity),t.indexOf("rgb")>-1?y.rgb2hex(t):t):s.shadeColor(parseFloat(r.fill.gradient.shadeIntensity),t.indexOf("rgb")>-1?y.rgb2hex(t):t);else if(r.fill.gradient.gradientToColors[a.seriesNumber]){var h=r.fill.gradient.gradientToColors[a.seriesNumber];n=h,h.indexOf("rgba")>-1&&(d=y.getOpacityFromRGBA(h))}else n=t;if(r.fill.gradient.inverseColors){var p=c;c=n,n=p}return c.indexOf("rgb")>-1&&(c=y.rgb2hex(c)),n.indexOf("rgb")>-1&&(n=y.rgb2hex(n)),o.drawGradient(l,c,n,u,d,a.size,r.fill.gradient.stops,r.fill.gradient.colorStops,i)}}]),t}(),A=function(){function t(e,i){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,i,n){var r,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.w,s=e,l=t,c=null,u=new b(this.ctx);if((o.globals.markers.size[e]>0||a)&&(c=u.group({class:a?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(o.globals.cuid,")")),Array.isArray(l.x))for(var d=0;d<l.x.length;d++){var h=i;1===i&&0===d&&(h=0),1===i&&1===d&&(h=1);var p="apexcharts-marker";"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(p+=" no-pointer-events");var f=Array.isArray(o.config.markers.size)?o.globals.markers.size[e]>0:o.config.markers.size>0;if(f||a){y.isNumber(l.y[d])?p+=" w".concat(y.randomId()):p="apexcharts-nullpoint";var m=this.getMarkerConfig(p,e,h);o.config.series[s].data[h]&&(o.config.series[s].data[h].fillColor&&(m.pointFillColor=o.config.series[s].data[h].fillColor),o.config.series[s].data[h].strokeColor&&(m.pointStrokeColor=o.config.series[s].data[h].strokeColor)),n&&(m.pSize=n),(r=u.drawMarker(l.x[d],l.y[d],m)).attr("rel",h),r.attr("j",h),r.attr("index",e),r.node.setAttribute("default-marker-size",m.pSize);var g=new _(this.ctx);g.setSelectionFilter(r,e,h),this.addEvents(r),c&&c.add(r)}else void 0===o.globals.pointsArray[e]&&(o.globals.pointsArray[e]=[]),o.globals.pointsArray[e].push([l.x[d],l.y[d]])}return c}},{key:"getMarkerConfig",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,r=this.getMarkerStyle(e),a=n.globals.markers.size[e],o=n.config.markers;return null!==i&&o.discrete.length&&o.discrete.map((function(t){t.seriesIndex===e&&t.dataPointIndex===i&&(r.pointStrokeColor=t.strokeColor,r.pointFillColor=t.fillColor,a=t.size)})),{pSize:a,pRadius:o.radius,pWidth:Array.isArray(o.strokeWidth)?o.strokeWidth[e]:o.strokeWidth,pointStrokeColor:r.pointStrokeColor,pointFillColor:r.pointFillColor,shape:Array.isArray(o.shape)?o.shape[e]:o.shape,class:t,pointStrokeOpacity:Array.isArray(o.strokeOpacity)?o.strokeOpacity[e]:o.strokeOpacity,pointStrokeDashArray:Array.isArray(o.strokeDashArray)?o.strokeDashArray[e]:o.strokeDashArray,pointFillOpacity:Array.isArray(o.fillOpacity)?o.fillOpacity[e]:o.fillOpacity,seriesIndex:e}}},{key:"addEvents",value:function(t){var e=this.w,i=new b(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,n=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(n)?n[t]:n,pointFillColor:Array.isArray(i)?i[t]:i}}}]),t}(),E=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return s(t,[{key:"draw",value:function(t,e,i){var n=this.w,r=new b(this.ctx),a=i.realIndex,o=i.pointsPos,s=i.zRatio,l=i.elParent,c=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(n.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(o.x))for(var u=0;u<o.x.length;u++){var d=e+1,h=!0;0===e&&0===u&&(d=0),0===e&&1===u&&(d=1);var p=0,f=n.globals.markers.size[a];if(s!==1/0){f=n.globals.seriesZ[a][d]/s;var m=n.config.plotOptions.bubble;m.minBubbleRadius&&f<m.minBubbleRadius&&(f=m.minBubbleRadius),m.maxBubbleRadius&&f>m.maxBubbleRadius&&(f=m.maxBubbleRadius)}n.config.chart.animations.enabled||(p=f);var g=o.x[u],y=o.y[u];if(p=p||0,null!==y&&void 0!==n.globals.series[a][d]||(h=!1),h){var v=this.drawPoint(g,y,p,f,a,d,e);c.add(v)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,n,r,a,o){var s=this.w,l=r,c=new v(this.ctx),u=new _(this.ctx),d=new L(this.ctx),h=new A(this.ctx),p=new b(this.ctx),f=h.getMarkerConfig("apexcharts-marker",l),m=d.fillPath({seriesNumber:r,dataPointIndex:a,patternUnits:"objectBoundingBox",value:s.globals.series[r][o]}),g=p.drawCircle(i);if(s.config.series[l].data[a]&&s.config.series[l].data[a].fillColor&&(m=s.config.series[l].data[a].fillColor),g.attr({cx:t,cy:e,fill:m,stroke:f.pointStrokeColor,r:n,"stroke-width":f.pWidth,"stroke-dasharray":f.pointStrokeDashArray,"stroke-opacity":f.pointStrokeOpacity}),s.config.chart.dropShadow.enabled){var y=s.config.chart.dropShadow;u.dropShadow(g,y,r)}if(!this.initialAnim||s.globals.dataChanged||s.globals.resized)s.globals.animationEnded=!0;else{var x=s.config.chart.animations.speed;c.animateCircleRadius(g,0,n,x,s.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(g)}),100)}))}if(s.globals.dataChanged)if(this.dynamicAnim){var w,k,S,T,M=s.config.chart.animations.dynamicAnimation.speed;null!=(T=s.globals.previousPaths[r]&&s.globals.previousPaths[r][o])&&(w=T.x,k=T.y,S=void 0!==T.r?T.r:n);for(var C=0;C<s.globals.collapsedSeries.length;C++)s.globals.collapsedSeries[C].index===r&&(M=1,n=0);0===t&&0===e&&(n=0),c.animateCircle(g,{cx:w,cy:k,r:S},{cx:t,cy:e,r:n},M,s.globals.easing)}else g.attr({r:n});return g.attr({rel:a,j:a,index:r,"default-marker-size":n}),u.setSelectionFilter(g,r,a),h.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),t}(),P=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"dataLabelsCorrection",value:function(t,e,i,n,r,a,o){var s=this.w,l=!1,c=new b(this.ctx).getTextRects(i,o),u=c.width,d=c.height;void 0===s.globals.dataLabelsRects[n]&&(s.globals.dataLabelsRects[n]=[]),s.globals.dataLabelsRects[n].push({x:t,y:e,width:u,height:d});var h=s.globals.dataLabelsRects[n].length-2,p=void 0!==s.globals.lastDrawnDataLabelsIndexes[n]?s.globals.lastDrawnDataLabelsIndexes[n][s.globals.lastDrawnDataLabelsIndexes[n].length-1]:0;if(void 0!==s.globals.dataLabelsRects[n][h]){var f=s.globals.dataLabelsRects[n][p];(t>f.x+f.width+2||e>f.y+f.height+2||t+u<f.x)&&(l=!0)}return(0===r||a)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t,e,i){var n=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=this.w,o=new b(this.ctx),s=a.config.dataLabels,l=0,c=0,u=i,d=null;if(!s.enabled||!Array.isArray(t.x))return d;d=o.group({class:"apexcharts-data-labels"});for(var h=0;h<t.x.length;h++)if(l=t.x[h]+s.offsetX,c=t.y[h]+s.offsetY+r,!isNaN(l)){1===i&&0===h&&(u=0),1===i&&1===h&&(u=1);var p=a.globals.series[e][u],f="",m=function(t){return a.config.dataLabels.formatter(t,{ctx:n.ctx,seriesIndex:e,dataPointIndex:u,w:a})};if("bubble"===a.config.chart.type){f=m(p=a.globals.seriesZ[e][u]),c=t.y[h];var g=new E(this.ctx),y=g.centerTextInBubble(c,e,u);c=y.y}else void 0!==p&&(f=m(p));this.plotDataLabelsText({x:l,y:c,text:f,i:e,j:u,parent:d,offsetCorrection:!0,dataLabelsConfig:a.config.dataLabels})}return d}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new b(this.ctx),n=t.x,r=t.y,a=t.i,o=t.j,s=t.text,l=t.textAnchor,c=t.fontSize,u=t.parent,d=t.dataLabelsConfig,h=t.color,p=t.alwaysDrawDataLabel,f=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(a)<0)){var m={x:n,y:r,drawnextLabel:!0};f&&(m=this.dataLabelsCorrection(n,r,s,a,o,p,parseInt(d.style.fontSize,10))),e.globals.zoomed||(n=m.x,r=m.y),m.textRects;var g=e.globals.dataLabels.style.colors[a];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(g=e.globals.dataLabels.style.colors[o]),"function"==typeof g&&(g=g({series:e.globals.series,seriesIndex:a,dataPointIndex:o,w:e})),h&&(g=h);var y=d.offsetX,v=d.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(y=0,v=0),m.drawnextLabel){var x=i.drawText({width:100,height:parseInt(d.style.fontSize,10),x:n+y,y:r+v,foreColor:g,textAnchor:l||d.textAnchor,text:s,fontSize:c||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"});if(x.attr({class:"apexcharts-datalabel",cx:n,cy:r}),d.dropShadow.enabled){var w=d.dropShadow;new _(this.ctx).dropShadow(x,w)}u.add(x),void 0===e.globals.lastDrawnDataLabelsIndexes[a]&&(e.globals.lastDrawnDataLabelsIndexes[a]=[]),e.globals.lastDrawnDataLabelsIndexes[a].push(o)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,n=i.config.dataLabels.background,r=n.padding,a=n.padding/2,o=e.width,s=e.height,l=new b(this.ctx).drawRect(e.x-r,e.y-a/2,o+2*r,s+a,n.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,n.opacity,n.borderWidth,n.borderColor);return n.dropShadow.enabled&&new _(this.ctx).dropShadow(l,n.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var n=e[i],r=n.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(n,r)),a){n.parentNode.insertBefore(a.node,n);var o=n.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?a.attr({fill:o}):a.animate().attr({fill:o}),n.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),n=0;n<e.length;n++)i&&i.insertBefore(e[n],i.nextSibling)}}]),t}(),I=function(){function t(e){a(this,t),this.w=e.w,this.barCtx=e}return s(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,n=t.y1,r=t.y2,a=t.i,o=t.j,s=t.realIndex,l=t.series,c=t.barHeight,u=t.barWidth,d=t.barYPosition,h=t.visibleSeries,p=t.renderedPath,f=this.w,m=new b(this.barCtx.ctx),g=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth,y=e+parseFloat(u*h),v=i+parseFloat(c*h);f.globals.isXNumeric&&!f.globals.isBarHorizontal&&(y=e+parseFloat(u*(h+1)),v=i+parseFloat(c*(h+1))-g);var _,x=e,w=i,k=f.config.dataLabels,S=this.barCtx.barOptions.dataLabels;void 0!==d&&this.barCtx.isTimelineBar&&(v=d,w=d);var T=k.offsetX,M=k.offsetY,C={width:0,height:0};if(f.config.dataLabels.enabled){var D=this.barCtx.series[a][o];C=m.getTextRects(f.globals.yLabelFormatters[0](D),parseFloat(k.style.fontSize))}var L={x:e,y:i,i:a,j:o,renderedPath:p,bcx:y,bcy:v,barHeight:c,barWidth:u,textRects:C,strokeWidth:g,dataLabelsX:x,dataLabelsY:w,barDataLabelsConfig:S,offX:T,offY:M};return _=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(L):this.calculateColumnsDataLabelsPosition(L),p.attr({cy:_.bcy,cx:_.bcx,j:o,val:l[a][o],barHeight:c,barWidth:u}),this.drawCalculatedDataLabels({x:_.dataLabelsX,y:_.dataLabelsY,val:this.barCtx.isTimelineBar?[n,r]:l[a][o],i:s,j:o,barWidth:u,barHeight:c,textRects:C,dataLabelsConfig:k})}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i=this.w,n=t.i,r=t.j,a=t.y,o=t.bcx,s=t.barWidth,l=t.barHeight,c=t.textRects,u=t.dataLabelsY,d=t.barDataLabelsConfig,h=t.strokeWidth,p=t.offX,f=t.offY;l=Math.abs(l);var m="vertical"===i.config.plotOptions.bar.dataLabels.orientation;o-=h/2;var g=i.globals.gridWidth/i.globals.dataPoints;e=i.globals.isXNumeric?o-s/2+p:o-g+s/2+p,m&&(e=e+c.height/2-h/2-2);var y=this.barCtx.series[n][r]<0,v=a;switch(this.barCtx.isReversed&&(v=a-l+(y?2*l:0),a-=l),d.position){case"center":u=m?y?v+l/2+f:v+l/2-f:y?v-l/2+c.height/2+f:v+l/2+c.height/2-f;break;case"bottom":u=m?y?v+l+f:v+l-f:y?v-l+c.height+h+f:v+l-c.height/2+h-f;break;case"top":u=m?y?v+f:v-f:y?v-c.height/2-f:v+c.height+f}return i.config.chart.stacked||(u<0?u=0+h:u+c.height/3>i.globals.gridHeight&&(u=i.globals.gridHeight-h)),{bcx:o,bcy:a,dataLabelsX:e,dataLabelsY:u}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,n=t.i,r=t.j,a=t.bcy,o=t.barHeight,s=t.barWidth,l=t.textRects,c=t.dataLabelsX,u=t.strokeWidth,d=t.barDataLabelsConfig,h=t.offX,p=t.offY,f=e.globals.gridHeight/e.globals.dataPoints;s=Math.abs(s);var m=a-(this.barCtx.isTimelineBar?0:f)+o/2+l.height/2+p-3,g=this.barCtx.series[n][r]<0,y=i;switch(this.barCtx.isReversed&&(y=i+s-(g?2*s:0),i=e.globals.gridWidth-s),d.position){case"center":c=g?y+s/2-h:Math.max(l.width/2,y-s/2)+h;break;case"bottom":c=g?y+s-u-Math.round(l.width/2)-h:y-s+u+Math.round(l.width/2)+h;break;case"top":c=g?y-u+Math.round(l.width/2)-h:y-u-Math.round(l.width/2)+h}return e.config.chart.stacked||(c<0?c=c+l.width+u:c+l.width/2>e.globals.gridWidth&&(c=e.globals.gridWidth-l.width-u)),{bcx:i,bcy:a,dataLabelsX:c,dataLabelsY:m}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,n=t.val,r=t.i,a=t.j,o=t.textRects,s=t.barHeight,l=t.barWidth,c=t.dataLabelsConfig,d=this.w,h="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(h="rotate(-90, ".concat(e,", ").concat(i,")"));var p=new P(this.barCtx.ctx),f=new b(this.barCtx.ctx),m=c.formatter,g=null,y=d.globals.collapsedSeriesIndices.indexOf(r)>-1;if(c.enabled&&!y){g=f.group({class:"apexcharts-data-labels",transform:h});var v="";void 0!==n&&(v=m(n,{seriesIndex:r,dataPointIndex:a,w:d})),0===n&&d.config.chart.stacked&&(v="");var _=d.globals.series[r][a]<=0,x=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(c.textAnchor=_?"end":"start"),"center"===x&&(c.textAnchor="middle"),"bottom"===x&&(c.textAnchor=_?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<f.getTextRects(v,parseFloat(c.style.fontSize)).width&&(v=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(l>0&&o.width/1.6>l||l<0&&o.width/1.6<l)&&(v=""):o.height/1.6>s&&(v=""));var w=u({},c);this.barCtx.isHorizontal&&n<0&&("start"===c.textAnchor?w.textAnchor="end":"end"===c.textAnchor&&(w.textAnchor="start")),p.plotDataLabelsText({x:e,y:i,text:v,i:r,j:a,parent:g,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}}]),t}(),O=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return s(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(y.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function n(i){for(var n=0;n<i.length;n++)i[n].index===e&&t.node.classList.add("apexcharts-series-collapsed")}n(i.globals.collapsedSeries),n(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.w,r=y.clone(n.globals.initialSeries);n.globals.previousPaths=[],i?(n.globals.collapsedSeries=[],n.globals.ancillaryCollapsedSeries=[],n.globals.collapsedSeriesIndices=[],n.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),n.config.series=r,t&&(e&&(n.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w,n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1,a=null,o=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(a=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):a=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):a=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var s=0;s<n.length;s++)n[s].classList.add(this.legendInactiveClass);null!==a&&(i.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<n.length;l++)n[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,n=this.w,r=n.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(t){for(var e=0;e<r.length;e++)r[e].classList[t](i.legendInactiveClass)};if("mousemove"===t.type){var o=parseInt(e.getAttribute("rel"),10)-1;a("add"),function(t){for(var e=0;e<r.length;e++){var n=parseInt(r[e].getAttribute("val"),10);n>=t.from&&n<=t.to&&r[e].classList.remove(i.legendInactiveClass)}}(n.config.plotOptions.heatmap.colorScale.ranges[o])}else"mouseout"===t.type&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.w,i=0;if(e.config.series.length>1)for(var n=e.config.series.map((function(i,n){var r=!1;return t&&(r="bar"===e.config.series[n].type||"column"===e.config.series[n].type),i.data&&i.data.length>0&&!r?n:-1})),r=0;r<n.length;r++)if(-1!==n[r]){i=n[r];break}return i}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,i,n){for(var r=e[i].childNodes,a={type:n,paths:[],realIndex:e[i].getAttribute("data:realIndex")},o=0;o<r.length;o++)if(r[o].hasAttribute("pathTo")){var s=r[o].getAttribute("pathTo");a.paths.push({d:s})}t.globals.previousPaths.push(a)}t.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach((function(i){for(var n,r=(n=i,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"))),a=0;a<r.length;a++)e(r,a,i)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var n=function(e){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(e,"'] rect")),n=[],r=function(t){var e=function(e){return i[t].getAttribute(e)},r={x:parseFloat(e("x")),y:parseFloat(e("y")),width:parseFloat(e("width")),height:parseFloat(e("height"))};n.push({rect:r,color:i[t].getAttribute("color")})},a=0;a<i.length;a++)r(a);t.globals.previousPaths.push(n)},r=0;r<i.length;r++)n(r);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var n=0;n<i.length;n++){for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(n,"'] circle")),a=[],o=0;o<r.length;o++)a.push({x:r[o].getAttribute("cx"),y:r[o].getAttribute("cy"),r:r[o].getAttribute("r")});e.globals.previousPaths.push(a)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new b(this.ctx),n=t.globals.svgWidth/2,r=t.globals.svgHeight/2,a="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(n=10,a="start"):"right"===e.align&&(n=t.globals.svgWidth-10,a="end"),"top"===e.verticalAlign?r=50:"bottom"===e.verticalAlign&&(r=t.globals.svgHeight-50),n+=e.offsetX,r=r+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var o=i.drawText({x:n,y:r,text:e.text,textAnchor:a,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var n=0;n<t[e.globals.maxValsInArrayIndex].length;n++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),n=0;n<i.length-1;n++)if(i[n][0]!==i[n+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}))}}]),t}(),R=function(){function t(e){a(this,t),this.w=e.w,this.barCtx=e}return s(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var n=0;n<t[i].length;n++)e.globals.seriesX[i][n]>e.globals.minX&&e.globals.seriesX[i][n]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1)}},{key:"initialPositions",value:function(){var t,e,i,n,r,a,o,s,l=this.w,c=l.globals.dataPoints;this.barCtx.isTimelineBar&&(c=l.globals.labels.length);var u=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(u=1),this.barCtx.isHorizontal)r=(i=l.globals.gridHeight/c)/u,l.globals.isXNumeric&&(r=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,s=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-r*this.barCtx.seriesLen)/2;else{if(n=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(n=l.globals.gridWidth/l.globals.dataPoints),a=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var d=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(d=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/d>0&&(n=l.globals.minXDiff/d),(a=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}o=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(n-a*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:n,barHeight:r,barWidth:a,zeroH:o,zeroW:s}}},{key:"getPathFillColor",value:function(t,e,i,n){var r=this.w,a=new L(this.barCtx.ctx),o=null,s=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(n){t[e][i]>=n.from&&t[e][i]<=n.to&&(o=n.color)})),r.config.series[e].data[i]&&r.config.series[e].data[i].fillColor&&(o=r.config.series[e].data[i].fillColor),a.fillPath({seriesNumber:this.barCtx.barOptions.distributed?s:n,dataPointIndex:i,color:o,value:t[e][i]})}},{key:"getStrokeWidth",value:function(t,e,i){var n=0,r=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(n=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),n}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,n=t.x1,r=t.x2,a=t.y1,o=t.y2,s=t.elSeries,l=this.w,c=new b(this.barCtx.ctx),u=new O(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&u===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e-=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[e],h=c.drawRect(void 0!==n?n:0,void 0!==a?a:0,void 0!==r?r:l.globals.gridWidth,void 0!==o?o:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);s.add(h),h.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e=t.barWidth,i=t.barXPosition,n=(t.yRatio,t.y1),r=t.y2,a=t.strokeWidth,o=(t.series,t.realIndex),s=(t.i,t.j),l=t.w,c=new b(this.barCtx.ctx);(a=Array.isArray(a)?a[o]:a)||(a=0);var u=i,d=i+e,h=c.move(u,n),p=c.move(u,n);return l.globals.previousPaths.length>0&&(p=this.barCtx.getPreviousPath(o,s,!1)),{pathTo:h=h+c.line(u,r)+c.line(i+e-a,r)+c.line(d-a,r)+c.line(d-a,n)+c.line(i+e-a,n)+"z",pathFrom:p=p+c.line(u,n)+c.line(d-a,n)+c.line(d-a,n)+c.line(d-a,n)+c.line(u,n)}}},{key:"getBarpaths",value:function(t){var e=t.barYPosition,i=t.barHeight,n=t.x1,r=t.x2,a=t.strokeWidth,o=(t.series,t.realIndex),s=(t.i,t.j),l=t.w,c=new b(this.barCtx.ctx);(a=Array.isArray(a)?a[o]:a)||(a=0);var u=c.move(n,e),d=c.move(n,e);l.globals.previousPaths.length>0&&(d=this.barCtx.getPreviousPath(o,s,!1));var h=e,p=e+i;return{pathTo:u=u+c.line(r,h)+c.line(r,e+i-a)+c.line(r,p-a)+c.line(n,p-a)+c.line(n,e+i-a)+"z",pathFrom:d=d+c.line(n,h)+c.line(n,p-a)+c.line(n,p-a)+c.line(n,p-a)+c.line(n,h)}}}]),t}(),z=function(){function t(e,i){a(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===n.config.xaxis.type&&n.globals.seriesRangeBarTimeline.length,this.xyRatios=i,null!==this.xyRatios&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new R(this)}return s(t,[{key:"draw",value:function(t,e){var i=this.w,n=new b(this.ctx),r=new k(this.ctx,i);t=r.getLogSeries(t),this.series=t,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var a=n.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var o=0,s=0;o<t.length;o++,s++){var l,c,d,h,p=void 0,f=void 0,m=[],g=[],v=i.globals.comboCharts?e[o]:o,_=n.group({class:"apexcharts-series",rel:o+1,seriesName:y.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(_,v),t[o].length>0&&(this.visibleI=this.visibleI+1);var x=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var S=this.barHelpers.initialPositions();f=S.y,x=S.barHeight,c=S.yDivision,h=S.zeroW,p=S.x,w=S.barWidth,l=S.xDivision,d=S.zeroH,this.horizontal||g.push(p+w/2);for(var T=n.group({class:"apexcharts-datalabels","data:realIndex":v}),M=0;M<i.globals.dataPoints;M++){var C=this.barHelpers.getStrokeWidth(o,M,v),D=null,L={indexes:{i:o,j:M,realIndex:v,bc:s},x:p,y:f,strokeWidth:C,elSeries:_};this.isHorizontal?(D=this.drawBarPaths(u(u({},L),{},{barHeight:x,zeroW:h,yDivision:c})),w=this.series[o][M]/this.invertedYRatio):(D=this.drawColumnPaths(u(u({},L),{},{xDivision:l,barWidth:w,zeroH:d})),x=this.series[o][M]/this.yRatio[this.yaxisIndex]),f=D.y,p=D.x,M>0&&g.push(p+w/2),m.push(f);var A=this.barHelpers.getPathFillColor(t,o,M,v);this.renderSeries({realIndex:v,pathFill:A,j:M,i:o,pathFrom:D.pathFrom,pathTo:D.pathTo,strokeWidth:C,elSeries:_,x:p,y:f,series:t,barHeight:x,barWidth:w,elDataLabelsWrap:T,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[v]=g,i.globals.seriesYvalues[v]=m,a.add(_)}return a}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,n=t.lineFill,r=t.j,a=t.i,o=t.pathFrom,s=t.pathTo,l=t.strokeWidth,c=t.elSeries,u=t.x,d=t.y,h=t.y1,p=t.y2,f=t.series,m=t.barHeight,g=t.barWidth,y=t.barYPosition,v=t.elDataLabelsWrap,x=t.visibleSeries,w=t.type,k=this.w,S=new b(this.ctx);n||(n=this.barOptions.distributed?k.globals.stroke.colors[r]:k.globals.stroke.colors[e]),k.config.series[a].data[r]&&k.config.series[a].data[r].strokeColor&&(n=k.config.series[a].data[r].strokeColor),this.isNullValue&&(i="none");var T=r/k.config.chart.animations.animateGradually.delay*(k.config.chart.animations.speed/k.globals.dataPoints)/2.4,M=S.renderPaths({i:a,j:r,realIndex:e,pathFrom:o,pathTo:s,stroke:n,strokeWidth:l,strokeLineCap:k.config.stroke.lineCap,fill:i,animationDelay:T,initialSpeed:k.config.chart.animations.speed,dataChangeSpeed:k.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});M.attr("clip-path","url(#gridRectMask".concat(k.globals.cuid,")")),void 0!==h&&void 0!==p&&(M.attr("data-range-y1",h),M.attr("data-range-y2",p)),new _(this.ctx).setSelectionFilter(M,e,r),c.add(M);var C=new I(this).handleBarDataLabels({x:u,y:d,y1:h,y2:p,i:a,j:r,series:f,realIndex:e,barHeight:m,barWidth:g,barYPosition:y,renderedPath:M,visibleSeries:x});return null!==C&&v.add(C),c.add(v),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,n=t.strokeWidth,r=t.zeroW,a=t.x,o=t.y,s=t.yDivision,l=t.elSeries,c=this.w,u=e.i,d=e.j;c.globals.isXNumeric&&(o=(c.globals.seriesX[u][d]-c.globals.minX)/this.invertedXRatio-i);var h=o+i*this.visibleI;a=void 0===this.series[u][d]||null===this.series[u][d]?r:r+this.series[u][d]/this.invertedYRatio-2*(this.isReversed?this.series[u][d]/this.invertedYRatio:0);var p=this.barHelpers.getBarpaths({barYPosition:h,barHeight:i,x1:r,x2:a,strokeWidth:n,series:this.series,realIndex:e.realIndex,i:u,j:d,w:c});return c.globals.isXNumeric||(o+=s),this.barHelpers.barBackground({j:d,i:u,y1:h-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:a,y:o,barYPosition:h}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=t.y,r=t.xDivision,a=t.barWidth,o=t.zeroH,s=t.strokeWidth,l=t.elSeries,c=this.w,u=e.realIndex,d=e.i,h=e.j,p=e.bc;if(c.globals.isXNumeric){var f=u;c.globals.seriesX[u].length||(f=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[f][h]-c.globals.minX)/this.xRatio-a*this.seriesLen/2}var m=i+a*this.visibleI;n=void 0===this.series[d][h]||null===this.series[d][h]?o:o-this.series[d][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[d][h]/this.yRatio[this.yaxisIndex]:0);var g=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:a,y1:o,y2:n,strokeWidth:s,series:this.series,realIndex:e.realIndex,i:d,j:h,w:c});return c.globals.isXNumeric||(i+=r),this.barHelpers.barBackground({bc:p,j:h,i:d,x1:m-s/2-a*this.visibleI,x2:a*this.seriesLen+s/2,elSeries:l}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:i,y:n,barXPosition:m}}},{key:"getPreviousPath",value:function(t,e){for(var i,n=this.w,r=0;r<n.globals.previousPaths.length;r++){var a=n.globals.previousPaths[r];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&void 0!==n.globals.previousPaths[r].paths[e]&&(i=n.globals.previousPaths[r].paths[e].d)}return i}}]),t}(),Y=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,n=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(m(i.months)),a=[""].concat(m(i.shortMonths)),o=[""].concat(m(i.days)),s=[""].concat(m(i.shortDays));function l(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var c=n?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var u=(n?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+l(u))).replace(/(^|[^\\])M/g,"$1"+u);var d=n?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+s[0])).replace(/(^|[^\\])dd/g,"$1"+l(d))).replace(/(^|[^\\])d/g,"$1"+d);var h=n?t.getUTCHours():t.getHours(),p=h>12?h-12:0===h?12:h;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(h))).replace(/(^|[^\\])H/g,"$1"+h)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var f=n?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(f))).replace(/(^|[^\\])m/g,"$1"+f);var g=n?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var y=n?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(y,3)),y=Math.round(y/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(y)),y=Math.round(y/10);var v=h<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var _=v.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+_)).replace(/(^|[^\\])t/g,"$1"+_.charAt(0));var b=-t.getTimezoneOffset(),x=n||!b?"Z":b>0?"+":"-";if(!n){var w=(b=Math.abs(b))%60;x+=l(Math.floor(b/60))+":"+l(w)}e=e.replace(/(^|[^\\])K/g,"$1"+x);var k=(n?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(o[0],"g"),o[k])).replace(new RegExp(s[0],"g"),s[k])).replace(new RegExp(r[0],"g"),r[u])).replace(new RegExp(a[0],"g"),a[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var n=this.w;void 0!==n.config.xaxis.min&&(t=n.config.xaxis.min),void 0!==n.config.xaxis.max&&(e=n.config.xaxis.max);var r=this.getDate(t),a=this.getDate(e),o=this.formatDate(r,"yyyy MM dd HH mm ss").split(" "),s=this.formatDate(a,"yyyy MM dd HH mm ss").split(" ");return{minSecond:parseInt(o[5],10),maxSecond:parseInt(s[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(s[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(s[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(s[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(s[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(s[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var n=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&n++,n}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=y.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),t}(),F=function(t){d(i,z);var e=f(i);function i(){return a(this,i),e.apply(this,arguments)}return s(i,[{key:"draw",value:function(t,e){var i=this.w,n=new b(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var r=n.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),a=0;a<t.length;a++){var o,s,l,c=void 0,d=void 0,h=void 0,p=i.globals.comboCharts?e[a]:a,f=n.group({class:"apexcharts-series",seriesName:y.escapeString(i.globals.seriesNames[p]),rel:a+1,"data:realIndex":p});t[a].length>0&&(this.visibleI=this.visibleI+1);var m=0,g=0;this.yRatio.length>1&&(this.yaxisIndex=p);var v=this.barHelpers.initialPositions();d=v.y,l=v.zeroW,c=v.x,g=v.barWidth,o=v.xDivision,s=v.zeroH;for(var _=n.group({class:"apexcharts-datalabels","data:realIndex":p}),x=0;x<i.globals.dataPoints;x++){var w=this.barHelpers.getStrokeWidth(a,x,p),k=this.seriesRangeStart[a][x],S=this.seriesRangeEnd[a][x],T=null,M=null,C={x:c,y:d,strokeWidth:w,elSeries:f};if(h=v.yDivision,m=v.barHeight,this.isHorizontal){M=d+m*this.visibleI;var D=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(D=1);var L=(h-m*D)/2;if(void 0===i.config.series[a].data[x])break;if(this.isTimelineBar&&i.config.series[a].data[x].x){var A=this.detectOverlappingBars({i:a,j:x,barYPosition:M,srty:L,barHeight:m,yDivision:h,initPositions:v});m=A.barHeight,M=A.barYPosition}g=(T=this.drawRangeBarPaths(u({indexes:{i:a,j:x,realIndex:p},barHeight:m,barYPosition:M,zeroW:l,yDivision:h,y1:k,y2:S},C))).barWidth}else m=(T=this.drawRangeColumnPaths(u({indexes:{i:a,j:x,realIndex:p},zeroH:s,barWidth:g,xDivision:o},C))).barHeight;d=T.y,c=T.x;var E=this.barHelpers.getPathFillColor(t,a,x,p),P=i.globals.stroke.colors[p];this.renderSeries({realIndex:p,pathFill:E,lineFill:P,j:x,i:a,x:c,y:d,y1:k,y2:S,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:w,elSeries:f,series:t,barHeight:m,barYPosition:M,barWidth:g,elDataLabelsWrap:_,visibleSeries:this.visibleI,type:"rangebar"})}r.add(f)}return r}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,n=t.barYPosition,r=t.srty,a=t.barHeight,o=t.yDivision,s=t.initPositions,l=this.w,c=[],u=l.config.series[e].data[i].rangeName,d=l.config.series[e].data[i].x,h=l.globals.labels.indexOf(d),p=l.globals.seriesRangeBarTimeline[e].findIndex((function(t){return t.x===d&&t.overlaps.length>0}));return n=l.config.plotOptions.bar.rangeBarGroupRows?r+o*h:r+a*this.visibleI+o*h,p>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRangeBarTimeline[e][p].overlaps).indexOf(u)>-1&&(n=(a=s.barHeight/c.length)*this.visibleI+o*(100-parseInt(this.barOptions.barHeight,10))/100/2+a*(this.visibleI+c.indexOf(u))+o*h),{barYPosition:n,barHeight:a}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=(t.strokeWidth,t.xDivision),r=t.barWidth,a=t.zeroH,o=this.w,s=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],u=e.realIndex,d=this.getRangeValue(u,l),h=Math.min(d.start,d.end),p=Math.max(d.start,d.end);o.globals.isXNumeric&&(i=(o.globals.seriesX[s][l]-o.globals.minX)/this.xRatio-r/2);var f=i+r*this.visibleI;void 0===this.series[s][l]||null===this.series[s][l]?h=a:(h=a-h/c,p=a-p/c);var m=Math.abs(p-h),g=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:r,y1:h,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:u,j:l,w:o});return o.globals.isXNumeric||(i+=n),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:m,x:i,y:p,barXPosition:f}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,n=t.y1,r=t.y2,a=t.yDivision,o=t.barHeight,s=t.barYPosition,l=t.zeroW,c=this.w,u=l+n/this.invertedYRatio,d=l+r/this.invertedYRatio,h=Math.abs(d-u),p=this.barHelpers.getBarpaths({barYPosition:s,barHeight:o,x1:u,x2:d,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=a),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:h,x:d,y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}},{key:"getTooltipValues",value:function(t){var e=t.ctx,i=t.seriesIndex,n=t.dataPointIndex,r=t.y1,a=t.y2,o=t.w,s=o.globals.seriesRangeStart[i][n],l=o.globals.seriesRangeEnd[i][n],c=o.globals.labels[n],u=o.config.series[i].name?o.config.series[i].name:"",d=o.config.tooltip.y.formatter,h=o.config.tooltip.y.title.formatter,p={w:o,seriesIndex:i,dataPointIndex:n};"function"==typeof h&&(u=h(u,p)),r&&a&&(s=r,l=a,o.config.series[i].data[n].x&&(c=o.config.series[i].data[n].x+":"),"function"==typeof d&&(c=d(c,p)));var f="",m="",g=o.globals.colors[i];if(void 0===o.config.tooltip.x.formatter)if("datetime"===o.config.xaxis.type){var y=new Y(e);f=y.formatDate(y.getDate(s),o.config.tooltip.x.format),m=y.formatDate(y.getDate(l),o.config.tooltip.x.format)}else f=s,m=l;else f=o.config.tooltip.x.formatter(s),m=o.config.tooltip.x.formatter(l);return{start:s,end:l,startVal:f,endVal:m,ylabel:c,color:g,seriesName:u}}},{key:"buildCustomTooltipHTML",value:function(t){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t.color+'">'+(t.seriesName||"")+'</span></div><div> <span class="category">'+t.ylabel+' </span> <span class="value start-value">'+t.start+'</span> <span class="separator">-</span> <span class="value end-value">'+t.end+"</span></div></div>"}}]),i}(),H=function(){function t(e){a(this,t),this.opts=e}return s(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,y.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var e=t.seriesIndex,i=t.dataPointIndex,n=t.w;return'<div class="apexcharts-tooltip-candlestick"><div>Open: <span class="value">'+n.globals.seriesCandleO[e][i]+'</span></div><div>High: <span class="value">'+n.globals.seriesCandleH[e][i]+'</span></div><div>Low: <span class="value">'+n.globals.seriesCandleL[e][i]+'</span></div><div>Close: <span class="value">'+n.globals.seriesCandleC[e][i]+"</span></div></div>"}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,n=e.dataPointIndex,r=e.w,a=r.globals.seriesRangeStart[i][n];return r.globals.seriesRangeEnd[i][n]-a},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=new F(t.ctx,null),i=e.getTooltipValues(t),n=i.color,r=i.seriesName,a=i.ylabel,o=i.startVal,s=i.endVal;return e.buildCustomTooltipHTML({color:n,seriesName:r,ylabel:a,start:o,end:s})}(t):function(t){var e=new F(t.ctx,null),i=e.getTooltipValues(t),n=i.color,r=i.seriesName,a=i.ylabel,o=i.start,s=i.end;return e.buildCustomTooltipHTML({color:n,seriesName:r,ylabel:a,start:o,end:s})}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(t){return y.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return y.isNumber(t)?Math.floor(t):t};var n=t.xaxis.labels.formatter,r=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(r=i.map((function(t){return Array.isArray(t)?t:String(t)}))),r&&r.length&&(t.xaxis.labels.formatter=function(t){return y.isNumber(t)?n(r[Math.floor(t)-1]):n(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}}]),t}(),N=function(){function t(e){a(this,t),this.opts=e}return s(t,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,n=new C,a=new H(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=y.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=n.init(),s={};if(i&&"object"===r(i)){var l={};l=-1!==["line","area","bar","candlestick","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?a[i.chart.type]():a.line(),i.chart.brush&&i.chart.brush.enabled&&(l=a.brush(l)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=a.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,l,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=a.sparkline(l)),s=y.extend(o,l)}var c=y.extend(s,window.Apex);return o=y.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var n=new H(i),r="bar"===t&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,a="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,o="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,s=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return r||a||!o||"between"===s||(i=n.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new C;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=y.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[y.extend(i.yAxis,t.yaxis)]:t.yaxis=y.extendArray(t.yaxis,i.yAxis);var n=!1;t.yaxis.forEach((function(t){t.logarithmic&&(n=!0)}));var r=t.series;return e&&!r&&(r=e.config.series),n&&r.length!==t.yaxis.length&&r.length&&(t.yaxis=r.map((function(e,n){if(e.name||(r[n].name="series-".concat(n+1)),t.yaxis[n])return t.yaxis[n].seriesName=r[n].name,t.yaxis[n];var a=y.extend(i.yAxis,t.yaxis[0]);return a.show=!1,a}))),n&&r.length>1&&r.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new C;return t.annotations.yaxis=y.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new C;return t.annotations.xaxis=y.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new C;return t.annotations.points=y.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&("barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(console.warn('crosshairs.width = "barWidth" is only supported in single series, not in a multi-series barChart.'),e.xaxis.crosshairs.width="tickWidth"),e.plotOptions.bar.horizontal&&(e.states.hover.type="none",e.tooltip.shared=!1),e.tooltip.followCursor||(console.warn("followCursor option in shared columns cannot be turned off. Please set %ctooltip.followCursor: true","color: blue;"),e.tooltip.followCursor=!0)),"candlestick"===e.chart.type&&e.yaxis[0].reversed&&(console.warn("Reversed y-axis in candlestick chart is not supported."),e.yaxis[0].reversed=!1),e.chart.group&&0===e.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(e.stroke.width)&&"line"!==e.chart.type&&"area"!==e.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),e.stroke.width=e.stroke.width[0]),e}}]),t}(),B=function(){function t(){a(this,t)}return s(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRangeBarTimeline=[],t.seriesPercent=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=y.extend({},t),e.initialSeries=y.clone(t.series),e.lastXAxis=y.clone(e.initialConfig.xaxis),e.lastYAxis=y.clone(e.initialConfig.yaxis),e}}]),t}(),j=function(){function t(e){a(this,t),this.opts=e}return s(t,[{key:"init",value:function(){var t=new N(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new B).init(t)}}}]),t}(),V=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.coreUtils=new k(this.ctx)}return s(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new O(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new O(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){var i=this.w.config,n=this.w.globals;i.xaxis.sorted&&("datetime"===i.xaxis.type?t[e].data.sort((function(t,e){return new Date(t[0]).getTime()-new Date(e[0]).getTime()})):"numeric"===i.xaxis.type&&t[e].data.sort((function(t,e){return t[0]-e[0]})));for(var r=0;r<t[e].data.length;r++)if(void 0!==t[e].data[r][1]&&(Array.isArray(t[e].data[r][1])&&4===t[e].data[r][1].length?this.twoDSeries.push(y.parseNumber(t[e].data[r][1][3])):5===t[e].data[r].length?this.twoDSeries.push(y.parseNumber(t[e].data[r][4])):this.twoDSeries.push(y.parseNumber(t[e].data[r][1])),n.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var a=new Date(t[e].data[r][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(t[e].data[r][0]);for(var o=0;o<t[e].data.length;o++)void 0!==t[e].data[o][2]&&(this.threeDSeries.push(t[e].data[o][2]),n.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,n=this.w.globals,r=new Y(this.ctx),a=e;n.collapsedSeriesIndices.indexOf(e)>-1&&(a=this.activeSeriesIndex),i.xaxis.sorted&&("datetime"===i.xaxis.type?t[e].data.sort((function(t,e){return new Date(t.x).getTime()-new Date(e.x).getTime()})):"numeric"===i.xaxis.type&&t[e].data.sort((function(t,e){return t.x-e.x})));for(var o=0;o<t[e].data.length;o++)void 0!==t[e].data[o].y&&(Array.isArray(t[e].data[o].y)?this.twoDSeries.push(y.parseNumber(t[e].data[o].y[t[e].data[o].y.length-1])):this.twoDSeries.push(y.parseNumber(t[e].data[o].y)));for(var s=0;s<t[a].data.length;s++){var l="string"==typeof t[a].data[s].x,c=Array.isArray(t[a].data[s].x),u=!c&&!!r.isValidDate(t[a].data[s].x.toString());if(l||u)if(l||i.xaxis.convertedCatToNumeric){var d=n.isBarHorizontal&&n.isRangeData;"datetime"!==i.xaxis.type||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[a].data[s].x)):this.twoDSeriesX.push(r.parseDate(t[a].data[s].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(r.parseDate(t[a].data[s].x.toString())):(n.dataFormatXNumeric=!0,n.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[a].data[s].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[a].data[s].x)):(n.isXNumeric=!0,n.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[a].data[s].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var h=0;h<t[e].data.length;h++)this.threeDSeries.push(t[e].data[h].z);n.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.config,n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",t,e)),n.seriesRangeStart.push(r.start),n.seriesRangeEnd.push(r.end),"datetime"===i.xaxis.type&&n.seriesRangeBarTimeline.push(r.rangeUniques),n.seriesRangeBarTimeline.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,i){for(var n=0;n<t.y.length;n++)if(i!==n){var r=e.y1,a=e.y2,o=t.y[n].y1;r<=t.y[n].y2&&o<=a&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[n].rangeName)<0&&t.overlaps.push(t.y[n].rangeName))}}))}))})),r}},{key:"handleCandleStickData",value:function(t,e){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleCandleStickDataFormat("array",t,e):this.isFormatXY()&&(n=this.handleCandleStickDataFormat("xy",t,e)),i.seriesCandleO[e]=n.o,i.seriesCandleH[e]=n.h,i.seriesCandleL[e]=n.l,i.seriesCandleC[e]=n.c,n}},{key:"handleRangeDataFormat",value:function(t,e,i){var n=[],r=[],a=e[i].data.filter((function(t,e,i){return e===i.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}})),o="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",s=new O(this.ctx).getActiveConfigSeriesIndex();if("array"===t){if(2!==e[s].data[0][1].length)throw new Error(o);for(var l=0;l<e[i].data.length;l++)n.push(e[i].data[l][1][0]),r.push(e[i].data[l][1][1])}else if("xy"===t){if(2!==e[s].data[0].y.length)throw new Error(o);for(var c=function(t){var o=y.randomId(),s=e[i].data[t].x,l={y1:e[i].data[t].y[0],y2:e[i].data[t].y[1],rangeName:o};e[i].data[t].rangeName=o;var c=a.findIndex((function(t){return t.x===s}));a[c].y.push(l),n.push(l.y1),r.push(l.y2)},u=0;u<e[i].data.length;u++)c(u)}return{start:n,end:r,rangeUniques:a}}},{key:"handleCandleStickDataFormat",value:function(t,e,i){var n=this.w,r=[],a=[],o=[],s=[],l="Please provide [Open, High, Low and Close] values in valid format. Read more https://apexcharts.com/docs/series/#candlestick";if("array"===t){if(!Array.isArray(e[i].data[0][1])&&5!==e[i].data[0].length||Array.isArray(e[i].data[0][1])&&4!==e[i].data[0][1].length)throw new Error(l);if(5===e[i].data[0].length)for(var c=0;c<e[i].data.length;c++)r.push(e[i].data[c][1]),a.push(e[i].data[c][2]),o.push(e[i].data[c][3]),s.push(e[i].data[c][4]);else for(var u=0;u<e[i].data.length;u++)r.push(e[i].data[u][1][0]),a.push(e[i].data[u][1][1]),o.push(e[i].data[u][1][2]),s.push(e[i].data[u][1][3])}else if("xy"===t){if(!n.globals.comboCharts&&4!==e[i].data[0].y.length||n.globals.comboCharts&&"candlestick"===e[i].type&&e[i].data.length&&4!==e[i].data[0].y.length)throw new Error(l);for(var d=0;d<e[i].data.length;d++)r.push(e[i].data[d].y[0]),a.push(e[i].data[d].y[1]),o.push(e[i].data[d].y[2]),s.push(e[i].data[d].y[3])}return{o:r,h:a,l:o,c:s}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,n=this.w.config,r=this.w.globals,a=new Y(i),o=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice();r.isTimelineBar="rangeBar"===n.chart.type&&"datetime"===n.xaxis.type;for(var s=function(){for(var t=0;t<o.length;t++)if("string"==typeof o[t]){if(!a.isValidDate(o[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(a.parseDate(o[t]))}else e.twoDSeriesX.push(o[t])},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==n.chart.type&&"rangeArea"!==n.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(r.isRangeData=!0,this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==n.chart.type&&"candlestick"!==t[l].type||this.handleCandleStickData(t,l),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),l!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{"datetime"===n.xaxis.type?(r.isXNumeric=!0,s(),r.seriesX.push(this.twoDSeriesX)):"numeric"===n.xaxis.type&&(r.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return y.parseNumber(t)}));r.series.push(c)}r.seriesZ.push(this.threeDSeries),void 0!==t[l].name?r.seriesNames.push(t[l].name):r.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==t[l].color?r.seriesColors.push(t[l].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var n=0;n<e.series.length;n++)void 0===e.seriesNames[n]&&e.seriesNames.push("series-"+(n+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRangeBarTimeline.length&&(i.seriesRangeBarTimeline.map((function(t){t.forEach((function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)}))})),i.labels=i.labels.filter((function(t,e,i){return i.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new H(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,n=[];if(e.axisCharts){if(e.series.length>0)for(var r=0;r<e.series[e.maxValsInArrayIndex].length;r++)n.push(r+1);e.seriesX=[];for(var a=0;a<t.length;a++)e.seriesX.push(n);e.isXNumeric=!0}if(0===n.length){n=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var o=0;o<t.length;o++)e.seriesX.push(n)}e.labels=n,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=n.map((function(t){return i.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,n=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),n.axisCharts?this.parseDataAxisCharts(t):this.parseDataNonAxisCharts(t),this.coreUtils.getLargestSeries(),"bar"===i.chart.type&&i.chart.stacked){var r=new O(this.ctx);n.series=r.setNullSeriesToZeroValues(n.series)}this.coreUtils.getSeriesTotals(),n.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),n.dataFormatXNumeric||n.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var a=this.coreUtils.getCategoryLabels(n.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){n.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(i,n){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return i.index}))}}]),t}(),W=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return s(t,[{key:"xLabelFormat",value:function(t,e,i,n){var r=this.w;if("datetime"===r.config.xaxis.type&&void 0===r.config.xaxis.labels.formatter&&void 0===r.config.tooltip.x.formatter){var a=new Y(this.ctx);return a.formatDate(a.getDate(e),r.config.tooltip.x.format)}return t(e,i,n)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,i){var n=this.w;return y.isNumber(t)&&(t=0!==n.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:n.globals.yValueDecimal):n.globals.maxYArr[i]-n.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xLabelFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},void 0!==e.config.xaxis.labels.formatter?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(t){return y.isNumber(t)?!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type&&e.globals.dataPoints<50||e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?t.toFixed(1):t.toFixed(0):t},"function"==typeof e.config.tooltip.x.formatter?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,n){void 0!==i.labels.formatter?e.globals.yLabelFormatters[n]=i.labels.formatter:e.globals.yLabelFormatters[n]=function(r){return e.globals.xyCharts?Array.isArray(r)?r.map((function(e){return t.defaultYFormatter(e,i,n)})):t.defaultYFormatter(r,i,n):r}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),U=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getLabel",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",o=this.w,s=void 0===t[n]?"":t[n],l=s,c=o.globals.xLabelFormatter,u=o.config.xaxis.labels.formatter,d=!1,h=new W(this.ctx),p=s;l=h.xLabelFormat(c,s,p,{i:n,dateFormatter:new Y(this.ctx).formatDate,w:o}),void 0!==u&&(l=u(s,t[n],{i:n,dateFormatter:new Y(this.ctx).formatDate,w:o}));var f=function(t){var i=null;return e.forEach((function(t){"month"===t.unit?i="year":"day"===t.unit?i="month":"hour"===t.unit?i="day":"minute"===t.unit&&(i="hour")})),i===t};e.length>0?(d=f(e[n].unit),i=e[n].position,l=e[n].value):"datetime"===o.config.xaxis.type&&void 0===u&&(l=""),void 0===l&&(l=""),l=Array.isArray(l)?l:l.toString();var m=new b(this.ctx),g={};g=o.globals.rotateXLabels?m.getTextRects(l,parseInt(a,10),null,"rotate(".concat(o.config.xaxis.labels.rotate," 0 0)"),!1):m.getTextRects(l,parseInt(a,10));var y=!o.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(l)&&(0===l.indexOf("NaN")||0===l.toLowerCase().indexOf("invalid")||l.toLowerCase().indexOf("infinity")>=0||r.indexOf(l)>=0&&y)&&(l=""),{x:i,text:l,textRect:g,isBold:d}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var n=this.w,r=n.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(n.globals.gridWidth/120)),r>i||t%Math.round(i/(r+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,n,r){var a=this.w;if(0===t&&a.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&a.globals.skipLastTimelinelabel&&(e.text=""),a.config.xaxis.labels.hideOverlappingLabels&&n.length>0){var o=r[r.length-1];e.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new k(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,n,r,a,o){var s=this.w,l=new b(this.ctx),c=s.globals.translateY;if(n.show&&e>0){!0===s.config.yaxis[r].opposite&&(t+=n.width);for(var u=e;u>=0;u--){var d=c+e/10+s.config.yaxis[r].labels.offsetY-1;s.globals.isBarHorizontal&&(d=a*u),"heatmap"===s.config.chart.type&&(d+=a/2);var h=l.drawLine(t+i.offsetX-n.width+n.offsetX,d+n.offsetY,t+i.offsetX+n.offsetX,d+n.offsetY,n.color);o.add(h),c+=a}}}}]),t}(),$=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"fixSvgStringForIe11",value:function(t){if(!y.isIE11())return t;var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2==++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':t}));return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(){var t=this.w.globals.dom.Paper.svg();return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(n,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(){var t=this;return new Promise((function(e){var i=t.w;t.cleanup();var n=document.createElement("canvas");n.width=i.globals.svgWidth,n.height=parseInt(i.globals.dom.elWrap.style.height,10);var r="transparent"===i.config.chart.background?"#fff":i.config.chart.background,a=n.getContext("2d");a.fillStyle=r,a.fillRect(0,0,n.width,n.height);var o=t.getSvgString();if(window.canvg&&y.isIE11()){var s=window.canvg.Canvg.fromString(a,o,{ignoreClear:!0,ignoreDimensions:!0});s.start();var l=n.msToBlob();s.stop(),e({blob:l})}else{var c="data:image/svg+xml,"+encodeURIComponent(o),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(a.drawImage(u,0,0),n.msToBlob){var t=n.msToBlob();e({blob:t})}else{var i=n.toDataURL("image/png");e({imgURI:i})}},u.src=c}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var i=e.imgURI,n=e.blob;n?navigator.msSaveOrOpenBlob(n,t.w.globals.chartID+".png"):t.triggerDownload(i,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,n=t.columnDelimiter,r=t.lineDelimiter,a=void 0===r?"\n":r,o=this.w,s=[],l=[],c="data:text/csv;charset=utf-8,",u=new V(this.ctx),d=new U(this.ctx),h=function(t){var i="";if(o.globals.axisCharts){if("category"===o.config.xaxis.type||o.config.xaxis.convertedCatToNumeric)if(o.globals.isBarHorizontal){var r=o.globals.yLabelFormatters[0],a=new O(e.ctx).getActiveConfigSeriesIndex();i=r(o.globals.labels[t],{seriesIndex:a,dataPointIndex:t,w:o})}else i=d.getLabel(o.globals.labels,o.globals.timescaleLabels,0,t).text;"datetime"===o.config.xaxis.type&&(o.config.xaxis.categories.length?i=o.config.xaxis.categories[t]:o.config.labels.length&&(i=o.config.labels[t]))}else i=o.config.labels[t];return Array.isArray(i)&&(i=i.join(" ")),y.isNumber(i)?i:i.split(n).join("")};s.push(o.config.chart.toolbar.export.csv.headerCategory),i.map((function(t,e){var i=t.name?t.name:"series-".concat(e);o.globals.axisCharts&&s.push(i.split(n).join("")?i.split(n).join(""):"series-".concat(e))})),o.globals.axisCharts||(s.push(o.config.chart.toolbar.export.csv.headerValue),l.push(s.join(n))),i.map((function(t,e){o.globals.axisCharts?function(t,e){if(s.length&&0===e&&l.push(s.join(n)),t.data&&t.data.length)for(var r=0;r<t.data.length;r++){s=[];var a=h(r);if(a||(u.isFormatXY()?a=i[e].data[r].x:u.isFormat2DArray()&&(a=i[e].data[r]?i[e].data[r][0]:"")),0===e){s.push((d=a,"datetime"===o.config.xaxis.type&&String(d).length>=10?o.config.chart.toolbar.export.csv.dateFormatter(a):a.split(n).join("")));for(var c=0;c<o.globals.series.length;c++)s.push(o.globals.series[c][r])}("candlestick"===o.config.chart.type||t.type&&"candlestick"===t.type)&&(s.pop(),s.push(o.globals.seriesCandleO[e][r]),s.push(o.globals.seriesCandleH[e][r]),s.push(o.globals.seriesCandleL[e][r]),s.push(o.globals.seriesCandleC[e][r])),"rangeBar"===o.config.chart.type&&(s.pop(),s.push(o.globals.seriesRangeStart[e][r]),s.push(o.globals.seriesRangeEnd[e][r])),s.length&&l.push(s.join(n))}var d}(t,e):((s=[]).push(o.globals.labels[e].split(n).join("")),s.push(o.globals.series[e]),l.push(s.join(n)))})),c+=l.join(a),this.triggerDownload(encodeURI(c),o.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var n=document.createElement("a");n.href=t,n.download=(e||this.w.globals.chartID)+i,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),t}(),q=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.axesUtils=new U(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===i.config.xaxis.position?this.offY=0:this.offY=i.globals.gridHeight+1,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return s(t,[{key:"drawXaxis",value:function(){var t,e=this,i=this.w,n=new b(this.ctx),r=n.group({class:"apexcharts-xaxis",transform:"translate(".concat(i.config.xaxis.offsetX,", ").concat(i.config.xaxis.offsetY,")")}),a=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});r.add(a);for(var o=i.globals.padHorizontal,s=[],l=0;l<this.xaxisLabels.length;l++)s.push(this.xaxisLabels[l]);var c=s.length;if(i.globals.isXNumeric){var u=c>1?c-1:c;t=i.globals.gridWidth/u,o=o+t/2+i.config.xaxis.labels.offsetX}else t=i.globals.gridWidth/s.length,o=o+t+i.config.xaxis.labels.offsetX;for(var d=function(r){var l=o-t/2+i.config.xaxis.labels.offsetX;0===r&&1===c&&t/2===o&&1===i.globals.dataPoints&&(l=i.globals.gridWidth/2);var u=e.axesUtils.getLabel(s,i.globals.timescaleLabels,l,r,e.drawnLabels,e.xaxisFontSize),d=28;if(i.globals.rotateXLabels&&(d=22),(u=void 0!==i.config.xaxis.tickAmount&&"dataPoints"!==i.config.xaxis.tickAmount&&"datetime"!==i.config.xaxis.type?e.axesUtils.checkLabelBasedOnTickamount(r,u,c):e.axesUtils.checkForOverflowingLabels(r,u,c,e.drawnLabels,e.drawnLabelsRects)).text&&i.globals.xaxisLabelsCount++,i.config.xaxis.labels.show){var h=n.drawText({x:u.x,y:e.offY+i.config.xaxis.labels.offsetY+d-("top"===i.config.xaxis.position?i.globals.xAxisHeight+i.config.xaxis.axisTicks.height-2:0),text:u.text,textAnchor:"middle",fontWeight:u.isBold?600:i.config.xaxis.labels.style.fontWeight,fontSize:e.xaxisFontSize,fontFamily:e.xaxisFontFamily,foreColor:Array.isArray(e.xaxisForeColors)?i.config.xaxis.convertedCatToNumeric?e.xaxisForeColors[i.globals.minX+r-1]:e.xaxisForeColors[r]:e.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+i.config.xaxis.labels.style.cssClass});a.add(h);var p=document.createElementNS(i.globals.SVGNS,"title");p.textContent=Array.isArray(u.text)?u.text.join(" "):u.text,h.node.appendChild(p),""!==u.text&&(e.drawnLabels.push(u.text),e.drawnLabelsRects.push(u))}o+=t},h=0;h<=c-1;h++)d(h);if(void 0!==i.config.xaxis.title.text){var p=n.group({class:"apexcharts-xaxis-title"}),f=n.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+i.globals.xAxisLabelsHeight+i.config.xaxis.title.offsetY,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});p.add(f),r.add(p)}if(i.config.xaxis.axisBorder.show){var m=i.globals.barPadForNumericAxis,g=n.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX-m,this.offY,this.xaxisBorderWidth+m,this.offY,i.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);r.add(g)}return r}},{key:"drawXaxisInversed",value:function(t){var e,i,n=this,r=this.w,a=new b(this.ctx),o=r.config.yaxis[0].opposite?r.globals.translateYAxisX[t]:0,s=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),l=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});s.add(l);var c=[];if(r.config.yaxis[t].show)for(var u=0;u<this.xaxisLabels.length;u++)c.push(this.xaxisLabels[u]);e=r.globals.gridHeight/c.length,i=-e/2.2;var d=r.globals.yLabelFormatters[0],h=r.config.yaxis[0].labels;if(h.show)for(var p=function(o){var s=void 0===c[o]?"":c[o];s=d(s,{seriesIndex:t,dataPointIndex:o,w:r});var u=n.axesUtils.getYAxisForeColor(h.style.colors,t),p=0;Array.isArray(s)&&(p=s.length/2*parseInt(h.style.fontSize,10));var f=a.drawText({x:h.offsetX-15,y:i+e+h.offsetY-p,text:s,textAnchor:n.yaxis.opposite?"start":"end",foreColor:Array.isArray(u)?u[o]:u,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass});l.add(f);var m=document.createElementNS(r.globals.SVGNS,"title");if(m.textContent=s.text,f.node.appendChild(m),0!==r.config.yaxis[t].labels.rotate){var g=a.rotateAroundCenter(f.node);f.node.setAttribute("transform","rotate(".concat(r.config.yaxis[t].labels.rotate," 0 ").concat(g.y,")"))}i+=e},f=0;f<=c.length-1;f++)p(f);if(void 0!==r.config.yaxis[0].title.text){var m=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),g=a.drawText({x:0,y:r.globals.gridHeight/2,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});m.add(g),s.add(m)}var y=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(y=r.globals.gridWidth);var v=r.config.xaxis.axisBorder;if(v.show){var _=a.drawLine(r.globals.padHorizontal+v.offsetX+y,1+v.offsetY,r.globals.padHorizontal+v.offsetX+y,r.globals.gridHeight+v.offsetY,v.color,0);s.add(_)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,c.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,e,s),s}},{key:"drawXaxisTicks",value:function(t,e){var i=this.w,n=t;if(!(t<0||t-2>i.globals.gridWidth)){var r=this.offY+i.config.xaxis.axisTicks.offsetY,a=r+i.config.xaxis.axisTicks.height;if("top"===i.config.xaxis.position&&(a=r-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var o=new b(this.ctx).drawLine(t+i.config.xaxis.axisTicks.offsetX,r+i.config.xaxis.offsetY,n+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);e.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,n=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var r=0;r<i;r++)n=this.xaxisLabels[r].position,e.push(n);else for(var a=i,o=0;o<a;o++){var s=a;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(s-=1),n+=t.globals.gridWidth/s,e.push(n)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new b(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var o=0;o<n.length;o++){var s=e.rotateAroundCenter(n[o]);s.y=s.y-1,s.x=s.x+1,n[o].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(s.x," ").concat(s.y,")")),n[o].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var l=n[o].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(i){e.placeTextWithEllipsis(i,i.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var i=t.globals.gridWidth/(t.globals.labels.length+1),r=0;r<n.length;r++){var a=n[r].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(a,(function(t){e.placeTextWithEllipsis(t,t.textContent,i)}))}}();if(r.length>0){var c=r[r.length-1].getBBox(),u=r[0].getBBox();c.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),u.x+u.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var d=0;d<a.length;d++)e.placeTextWithEllipsis(a[d],a[d].textContent,t.config.yaxis[0].labels.maxWidth-2*parseFloat(t.config.yaxis[0].title.style.fontSize)-20)}}}]),t}(),G=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new U(e),this.isTimelineBar="datetime"===i.config.xaxis.type&&i.globals.seriesRangeBarTimeline.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return s(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new b(this.ctx);null===t&&(t=i.group({class:"apexcharts-grid"}));var n=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),r=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(r),t.add(n),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new b(this.ctx),n=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var r=0;t.config.stroke.width.forEach((function(t){r=Math.max(r,t)})),n=r}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid));var a=t.config.chart.type,o=0,s=0;("bar"===a||"rangeBar"===a||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(o=t.config.grid.padding.left,s=t.config.grid.padding.right,e.barPadForNumericAxis>o&&(o=e.barPadForNumericAxis,s=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-n/2-o-2,-n/2,e.gridWidth+n+s+o+4,e.gridHeight+n,0,"#fff"),new k(this).getLargestMarkerSize();var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,n=t.y1,r=t.x2,a=t.y2,o=t.xCount,s=t.parent,l=this.w;0===e&&l.globals.skipFirstTimelinelabel||e===o-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type||(l.config.grid.xaxis.lines.show&&this._drawGridLine({x1:i,y1:n,x2:r,y2:a,parent:s}),new q(this.ctx).drawXaxisTicks(i,this.elg))}},{key:"_drawGridLine",value:function(t){var e=t.x1,i=t.y1,n=t.x2,r=t.y2,a=t.parent,o=this.w,s=a.node.classList.contains("apexcharts-gridlines-horizontal"),l=o.config.grid.strokeDashArray,c=o.globals.barPadForNumericAxis,u=new b(this).drawLine(e-(s?c:0),i,n+(s?c:0),r,o.config.grid.borderColor,l);u.node.classList.add("apexcharts-gridline"),a.add(u)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,n=t.y1,r=t.x2,a=t.y2,o=t.type,s=this.w,l=new b(this.ctx),c=s.globals.barPadForNumericAxis;if("column"!==o||"datetime"!==s.config.xaxis.type){var u=s.config.grid[o].colors[e],d=l.drawRect(i-("row"===o?c:0),n,r+("row"===o?2*c:0),a,0,u,s.config.grid[o].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(o))}}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,n=t.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var a,o=r.globals.padHorizontal,s=r.globals.gridHeight;r.globals.timescaleLabels.length?function(t){for(var n=t.xC,r=t.x1,a=t.y1,o=t.x2,s=t.y2,l=0;l<n;l++)r=e.xaxisLabels[l].position,o=e.xaxisLabels[l].position,e._drawGridLines({i:l,x1:r,y1:a,x2:o,y2:s,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:o,y1:0,x2:a,y2:s}):(r.globals.isXNumeric&&(i=r.globals.xAxisScale.result.length),r.config.xaxis.convertedCatToNumeric&&(i=r.globals.xaxisLabelsCount),function(t){var n=t.xC,a=t.x1,o=t.y1,s=t.x2,l=t.y2;if(void 0!==r.config.xaxis.tickAmount&&"dataPoints"!==r.config.xaxis.tickAmount)r.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(t,n){var r=t.getBBox();e._drawGridLines({i:n,x1:r.x+r.width/2,y1:o,x2:r.x+r.width/2,y2:l,xCount:i,parent:e.elgridLinesV})}));else for(var c=0;c<n+(r.globals.isXNumeric?0:1);c++)0===c&&1===n&&1===r.globals.dataPoints&&(s=a=r.globals.gridWidth/2),e._drawGridLines({i:c,x1:a,y1:o,x2:s,y2:l,xCount:i,parent:e.elgridLinesV}),s=a+=r.globals.gridWidth/(r.globals.isXNumeric?n-1:n)}({xC:i,x1:o,y1:0,x2:a,y2:s}))}if(r.config.grid.yaxis.lines.show){var l=0,c=0,u=r.globals.gridWidth,d=n+1;this.isTimelineBar&&(d=r.globals.labels.length);for(var h=0;h<d+(this.isTimelineBar?1:0);h++)this._drawGridLine({x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=r.globals.gridHeight/(this.isTimelineBar?d:n)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var n,r=i.globals.padHorizontal,a=i.globals.gridHeight,o=0;o<e+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:0,x2:n,y2:a,parent:this.elgridLinesV}),new q(this.ctx).drawXaxisTicks(r,this.elg),n=r=r+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var s=0,l=0,c=i.globals.gridWidth,u=0;u<i.globals.dataPoints+1;u++)this._drawGridLine({x1:0,y1:s,x2:c,y2:l,parent:this.elgridLinesH}),l=s+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new b(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var i,n=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,r=0;r<t.globals.series.length&&(void 0!==t.globals.yAxisScale[r]&&(n=t.globals.yAxisScale[r].result.length-1),!(n>2));r++);return!t.globals.isBarHorizontal||this.isTimelineBar?(i=this.xaxisLabels.length,this.isTimelineBar&&(n=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:n})):(i=n,n=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:n})),this.drawGridBands(i,n),{el:this.elg,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var n=0,r=i.globals.gridHeight/e,a=i.globals.gridWidth,o=0,s=0;o<e;o++,s++)s>=i.config.grid.row.colors.length&&(s=0),this._drawGridBandRect({c:s,x1:0,y1:n,x2:a,y2:r,type:"row"}),n+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,u=i.globals.padHorizontal+i.globals.gridWidth/l,d=i.globals.gridHeight,h=0,p=0;h<t;h++,p++)p>=i.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:c,y1:0,x2:u,y2:d,type:"column"}),c+=i.globals.gridWidth/l}}]),t}(),X=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"niceScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=this.w,o=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,n,o))&&(i=a.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!y.isNumber(t)&&!y.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){t=0,e=i;var s=this.linearScale(t,e,i);return s}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[];o<1&&r&&("candlestick"===a.config.chart.type||"candlestick"===a.config.series[n].type||a.globals.isRangeData)&&(e*=1.01);var c=i+1;c<2?c=2:c>2&&(c-=2);var u=o/c,d=Math.floor(y.log10(u)),h=Math.pow(10,d),p=Math.round(u/h);p<1&&(p=1);var f=p*h,m=f*Math.floor(t/f),g=f*Math.ceil(e/f),v=m;if(r&&o>2){for(;l.push(v),!((v+=f)>g););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var _=t;(l=[]).push(_);for(var b=Math.abs(e-t)/i,x=0;x<=i;x++)_+=b,l.push(_);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3?arguments[3]:void 0,r=Math.abs(e-t),a=r/(i=this._adjustTicksForSmallRange(i,n,r));i===Number.MAX_VALUE&&(i=10,a=1);for(var o=[],s=t;i>=0;)o.push(s),s+=a,i-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScale",value:function(t){for(var e=[],i=Math.ceil(Math.log10(t))+1,n=0;n<i;n++)e.push(Math.pow(10,n));return{result:e,niceMin:e[0],niceMax:e[e.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var n=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var r=this.w.config.yaxis[e].labels.formatter(1);y.isNumber(Number(r))&&!y.isFloat(r)&&(n=Math.ceil(i))}return n<t?n:t}},{key:"setYScaleForIndex",value:function(t,e,i){var n=this.w.globals,r=this.w.config,a=n.isBarHorizontal?r.xaxis:r.yaxis[t];void 0===n.yAxisScale[t]&&(n.yAxisScale[t]=[]);var o=Math.abs(i-e);if(a.logarithmic&&o<=5&&(n.invalidLogScale=!0),a.logarithmic&&o>5)n.allSeriesCollapsed=!1,n.yAxisScale[t]=this.logarithmicScale(i);else if(i!==-Number.MAX_VALUE&&y.isNumber(i))if(n.allSeriesCollapsed=!1,void 0===a.min&&void 0===a.max||a.forceNiceScale){var s=void 0===r.yaxis[t].max&&void 0===r.yaxis[t].min||r.yaxis[t].forceNiceScale;n.yAxisScale[t]=this.niceScale(e,i,a.tickAmount?a.tickAmount:o<5&&o>1?o+1:5,t,s)}else n.yAxisScale[t]=this.linearScale(e,i,a.tickAmount,t);else n.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,n=i.globals,r=i.config.xaxis,a=Math.abs(e-t);return e!==-Number.MAX_VALUE&&y.isNumber(e)?n.xAxisScale=this.niceScale(t,e,r.tickAmount?r.tickAmount:a<5&&a>1?a+1:5,0):n.xAxisScale=this.linearScale(0,5,5),n.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,i=this.w.config,n=e.minYArr.concat([]),r=e.maxYArr.concat([]),a=[];i.yaxis.forEach((function(e,o){var s=o;i.series.forEach((function(t,i){t.name===e.seriesName&&(s=i,o!==i?a.push({index:i,similarIndex:o,alreadyExists:!0}):a.push({index:i}))}));var l=n[s],c=r[s];t.setYScaleForIndex(o,l,c)})),this.sameScaleInMultipleAxes(n,r,a)}},{key:"sameScaleInMultipleAxes",value:function(t,e,i){var n=this,r=this.w.config,a=this.w.globals,o=[];i.forEach((function(t){t.alreadyExists&&(void 0===o[t.index]&&(o[t.index]=[]),o[t.index].push(t.index),o[t.index].push(t.similarIndex))})),a.yAxisSameScaleIndices=o,o.forEach((function(t,e){o.forEach((function(i,n){var r,a;e!==n&&(r=t,a=i,r.filter((function(t){return-1!==a.indexOf(t)}))).length>0&&(o[e]=o[e].concat(o[n]))}))}));var s=o.map((function(t){return t.filter((function(e,i){return t.indexOf(e)===i}))})).map((function(t){return t.sort()}));o=o.filter((function(t){return!!t}));var l=s.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var u=[],d=[];t.forEach((function(t,i){l.forEach((function(n,r){n.indexOf(i)>-1&&(void 0===u[r]&&(u[r]=[],d[r]=[]),u[r].push({key:i,value:t}),d[r].push({key:i,value:e[i]}))}))}));var h=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);u.forEach((function(t,e){t.forEach((function(t,i){h[e]=Math.min(t.value,h[e])}))})),d.forEach((function(t,e){t.forEach((function(t,i){p[e]=Math.max(t.value,p[e])}))})),t.forEach((function(t,e){d.forEach((function(t,i){var o=h[i],s=p[i];r.chart.stacked&&(s=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(s+=t.value),o!==Number.MIN_VALUE&&(o+=u[i][e].value)}))),t.forEach((function(i,l){t[l].key===e&&(void 0!==r.yaxis[e].min&&(o="function"==typeof r.yaxis[e].min?r.yaxis[e].min(a.minY):r.yaxis[e].min),void 0!==r.yaxis[e].max&&(s="function"==typeof r.yaxis[e].max?r.yaxis[e].max(a.maxY):r.yaxis[e].max),n.setYScaleForIndex(e,o,s))}))}))}))}},{key:"autoScaleY",value:function(t,e,i){t||(t=this);var n=t.w;if(n.globals.isMultipleYAxis||n.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var r=n.globals.seriesX[0],a=n.config.chart.stacked;return e.forEach((function(t,o){for(var s=0,l=0;l<r.length;l++)if(r[l]>=i.xaxis.min){s=l;break}var c,u,d=n.globals.minYArr[o],h=n.globals.maxYArr[o],p=n.globals.stackedSeriesTotals;n.globals.series.forEach((function(o,l){var f=o[s];a?(f=p[s],c=u=f,p.forEach((function(t,e){r[e]<=i.xaxis.max&&r[e]>=i.xaxis.min&&(t>u&&null!==t&&(u=t),o[e]<c&&null!==o[e]&&(c=o[e]))}))):(c=u=f,o.forEach((function(t,e){if(r[e]<=i.xaxis.max&&r[e]>=i.xaxis.min){var a=t,o=t;n.globals.series.forEach((function(i,n){null!==t&&(a=Math.min(i[e],a),o=Math.max(i[e],o))})),o>u&&null!==o&&(u=o),a<c&&null!==a&&(c=a)}}))),void 0===c&&void 0===u&&(c=d,u=h),(u*=u<0?.9:1.1)<0&&u<h&&(u=h),(c*=c<0?1.1:.9)<0&&c>d&&(c=d),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?u:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?u:t.max)}))})),e}}]),t}(),Z=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.scales=new X(e)}return s(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,s=Number.MIN_VALUE;null===n&&(n=t+1);var l=a.series,c=l,u=l;"candlestick"===r.chart.type?(c=a.seriesCandleL,u=a.seriesCandleH):a.isRangeData&&(c=a.seriesRangeStart,u=a.seriesRangeEnd);for(var d=t;d<n;d++){a.dataPoints=Math.max(a.dataPoints,l[d].length);for(var h=0;h<a.series[d].length;h++){var p=l[d][h];null!==p&&y.isNumber(p)?(o=Math.max(o,u[d][h]),e=Math.min(e,c[d][h]),i=Math.max(i,c[d][h]),"candlestick"===this.w.config.chart.type&&(o=Math.max(o,a.seriesCandleO[d][h]),o=Math.max(o,a.seriesCandleH[d][h]),o=Math.max(o,a.seriesCandleL[d][h]),i=o=Math.max(o,a.seriesCandleC[d][h])),y.isFloat(p)&&(p=y.noExponents(p),a.yValueDecimal=Math.max(a.yValueDecimal,p.toString().split(".")[1].length)),s>c[d][h]&&c[d][h]<0&&(s=c[d][h])):a.hasNullValues=!0}}return"rangeBar"===r.chart.type&&a.seriesRangeStart.length&&a.isBarHorizontal&&"datetime"===r.xaxis.type&&(s=e),"bar"===r.chart.type&&(s<0&&o<0&&(o=0),s===Number.MIN_VALUE&&(s=0)),{minY:s,maxY:o,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var n=0;n<t.series.length;n++){var r=this.getMinYMaxY(n,i,null,n+1);t.minYArr.push(r.minY),t.maxYArr.push(r.maxY),i=r.lowestY}var a=this.getMinYMaxY(0,i,null,t.series.length);if(t.minY=a.minY,t.maxY=a.maxY,i=a.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==t.maxY){var o=t.maxY-i;(i>=0&&i<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(o=0),t.minY=i-5*o/100,i>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*o/100}return e.yaxis.forEach((function(e,i){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[i]=e.max:"function"==typeof e.max&&(t.maxYArr[i]=e.max(t.isMultipleYAxis?t.maxYArr[i]:t.maxY)),t.maxY=t.maxYArr[i]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[i]=e.min:"function"==typeof e.min&&(t.minYArr[i]=e.min(t.isMultipleYAxis?t.minYArr[i]===Number.MIN_VALUE?0:t.minYArr[i]:t.minY)),t.minY=t.minYArr[i])})),t.isBarHorizontal&&["min","max"].forEach((function(i){void 0!==e.xaxis[i]&&"number"==typeof e.xaxis[i]&&("min"===i?t.minY=e.xaxis[i]:t.maxY=e.xaxis[i])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=i,t.yAxisScale.forEach((function(e,i){t.minYArr[i]=e.niceMin,t.maxYArr[i]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var i=0;i<t.labels[e].length;i++)null!==t.labels[e][i]&&y.isNumber(t.labels[e][i])&&(t.maxX=Math.max(t.maxX,t.labels[e][i]),t.initialMaxX=Math.max(t.maxX,t.labels[e][i]),t.minX=Math.min(t.minX,t.labels[e][i]),t.initialMinX=Math.min(t.minX,t.labels[e][i]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var n;if(void 0===e.xaxis.tickAmount?(n=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(n=t.dataPoints-1),n>t.dataPoints&&0!==t.dataPoints&&(n=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(n=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(n=t.maxX-t.minX-1)):n=e.xaxis.tickAmount,t.xTickAmount=n,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var r=[],a=t.minX-1;a<t.maxX;a++)r.push(a+1);t.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,n,n),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,n-1),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&y.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new Y(this.ctx);if("datetime"===e.xaxis.type){var n=i.getDate(t.minX);n.setUTCDate(n.getDate()-2),t.minX=new Date(n).getTime();var r=i.getDate(t.maxX);r.setUTCDate(r.getDate()+2),t.maxX=new Date(r).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var n=e.slice();n.sort((function(t,e){return t-e})),n.forEach((function(e,i){if(i>0){var r=e-n[i-1];r>0&&(t.minXDiff=Math.min(r,t.minXDiff))}})),1===t.dataPoints&&t.minXDiff===Number.MAX_VALUE&&(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var n=0;n<t.series[t.maxValsInArrayIndex].length;n++)for(var r=0,a=0,o=0;o<t.series.length;o++)null!==t.series[o][n]&&y.isNumber(t.series[o][n])&&(t.series[o][n]>0?r=r+parseFloat(t.series[o][n])+1e-4:a+=parseFloat(t.series[o][n])),o===t.series.length-1&&(e.push(r),i.push(a));for(var s=0;s<e.length;s++)t.maxY=Math.max(t.maxY,e[s]),t.minY=Math.min(t.minY,i[s])}}]),t}(),J=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===i.config.xaxis.position&&(this.xAxisoffX=i.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new U(e)}return s(t,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,n=new b(this.ctx),r=i.config.yaxis[t].labels.style,a=r.fontSize,o=r.fontFamily,s=r.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return l;var c=n.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=i.globals.yAxisScale[t].result.length-1,d=i.globals.gridHeight/u,h=i.globals.translateY,p=i.globals.yLabelFormatters[t],f=i.globals.yAxisScale[t].result.slice();f=this.axesUtils.checkForReversedLabels(t,f);var m="";if(i.config.yaxis[t].labels.show)for(var g=function(l){var g=f[l];g=p(g,l);var y=i.config.yaxis[t].labels.padding;i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(y*=-1);var v=e.axesUtils.getYAxisForeColor(r.colors,t),_=n.drawText({x:y,y:h+u/10+i.config.yaxis[t].labels.offsetY+1,text:g,textAnchor:i.config.yaxis[t].opposite?"start":"end",fontSize:a,fontFamily:o,fontWeight:s,foreColor:Array.isArray(v)?v[l]:v,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+r.cssClass});if(l===u&&(m=_),c.add(_),0!==i.config.yaxis[t].labels.rotate){var b=n.rotateAroundCenter(m.node),x=n.rotateAroundCenter(_.node);_.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(b.x," ").concat(x.y,")"))}h+=d},y=u;y>=0;y--)g(y);if(void 0!==i.config.yaxis[t].title.text){var v=n.group({class:"apexcharts-yaxis-title"}),_=0;i.config.yaxis[t].opposite&&(_=i.globals.translateYAxisX[t]);var x=n.drawText({x:_,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass});v.add(x),l.add(v)}var w=i.config.yaxis[t].axisBorder,k=31+w.offsetX;if(i.config.yaxis[t].opposite&&(k=-31-w.offsetX),w.show){var S=n.drawLine(k,i.globals.translateY+w.offsetY-2,k,i.globals.gridHeight+i.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(S)}return i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,u,w,i.config.yaxis[t].axisTicks,t,d,l),l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new b(this.ctx),n=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);var a=e.globals.yAxisScale[t].result.length-1,o=e.globals.gridWidth/a+.1,s=o+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),u=e.globals.timescaleLabels;u.length>0&&(this.xaxisLabels=u.slice(),a=(c=u.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var d=u.length;if(e.config.xaxis.labels.show)for(var h=d?0:a;d?h<d:h>=0;d?h++:h--){var p=c[h];p=l(p,h);var f=e.globals.gridWidth+e.globals.padHorizontal-(s-o+e.config.xaxis.labels.offsetX);if(u.length){var m=this.axesUtils.getLabel(c,u,f,h,this.drawnLabels,this.xaxisFontSize);f=m.x,p=m.text,this.drawnLabels.push(m.text),0===h&&e.globals.skipFirstTimelinelabel&&(p=""),h===c.length-1&&e.globals.skipLastTimelinelabel&&(p="")}var g=i.drawText({x:f,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});r.add(g),g.tspan(p);var y=document.createElementNS(e.globals.SVGNS,"title");y.textContent=p,g.node.appendChild(y),s+=o}return this.inversedYAxisTitleText(n),this.inversedYAxisBorder(n),n}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new b(this.ctx),n=e.config.xaxis.axisBorder;if(n.show){var r=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(r-=15);var a=i.drawLine(e.globals.padHorizontal+r+n.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,n.color,0,n.height);t.add(a)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new b(this.ctx);if(void 0!==e.config.xaxis.title.text){var n=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});n.add(r),t.add(n)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,n=new b(this.ctx),r={width:0,height:0},a={width:0,height:0},o=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==o&&(r=o.getBoundingClientRect());var s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==s&&(a=s.getBoundingClientRect()),null!==s){var l=this.xPaddingForYAxisTitle(t,r,a,e);s.setAttribute("x",l.xPos-(e?10:0))}if(null!==s){var c=n.rotateAroundCenter(s);s.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,n){var r=this.w,a=0,o=0,s=10;return void 0===r.config.yaxis[t].title.text||t<0?{xPos:o,padd:0}:(n?(o=e.width+r.config.yaxis[t].title.offsetX+i.width/2+s/2,0===(a+=1)&&(o-=s/2)):(o=-1*e.width+r.config.yaxis[t].title.offsetX+s/2+i.width/2,r.globals.isBarHorizontal&&(s=25,o=-1*e.width-r.config.yaxis[t].title.offsetX-s)),{xPos:o,padd:s})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,n=0,r=0,a=18,o=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map((function(s,l){var c=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!s.show||s.floating||0===t[l].width,u=t[l].width+e[l].width;s.opposite?i.globals.isBarHorizontal?(r=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[l]=r-s.labels.offsetX):(r=i.globals.gridWidth+i.globals.translateX+o,c||(o=o+u+20),i.globals.translateYAxisX[l]=r-s.labels.offsetX+20):(n=i.globals.translateX-a,c||(a=a+u+20),i.globals.translateYAxisX[l]=n+s.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=y.listToArray(e)).forEach((function(e,i){var n=t.config.yaxis[i];if(n&&void 0!==n.labels.align){var r=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"));a=y.listToArray(a);var o=r.getBoundingClientRect();"left"===n.labels.align?(a.forEach((function(t,e){t.setAttribute("text-anchor","start")})),n.opposite||r.setAttribute("transform","translate(-".concat(o.width,", 0)"))):"center"===n.labels.align?(a.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),r.setAttribute("transform","translate(".concat(o.width/2*(n.opposite?1:-1),", 0)"))):"right"===n.labels.align&&(a.forEach((function(t,e){t.setAttribute("text-anchor","end")})),n.opposite&&r.setAttribute("transform","translate(".concat(o.width,", 0)")))}}))}}]),t}(),K=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.documentEvent=y.bind(this.documentEvent,this)}return s(t,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var n=i.globals.events[t].indexOf(e);-1!==n&&i.globals.events[t].splice(n,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var n=i.globals.events[t],r=n.length,a=0;a<r;a++)n[a].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,n=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){n.addEventListener(t,(function(t){var n=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,i,n):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,i,n),i.ctx.events.fireEvent("click",[t,i,n]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){e.globals.dom.baseEl.addEventListener(i,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var n=e.globals.dom.baseEl.querySelector(".apexcharts-menu");n&&n.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&n.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),Q=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(e){return e.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var n=y.extend(M,i);this.w.globals.locale=n.options}}]),t}(),tt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawAxis",value:function(t,e){var i,n,r=this.w.globals,a=this.w.config,o=new q(this.ctx),s=new J(this.ctx);r.axisCharts&&"radar"!==t&&(r.isBarHorizontal?(n=s.drawYaxisInversed(0),i=o.drawXaxisInversed(0),r.dom.elGraphical.add(i),r.dom.elGraphical.add(n)):(i=o.drawXaxis(),r.dom.elGraphical.add(i),a.yaxis.map((function(t,e){-1===r.ignoreYAxisIndexes.indexOf(e)&&(n=s.drawYaxis(e),r.dom.Paper.add(n))}))))}}]),t}(),et=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new b(this.ctx),i=new _(this.ctx),n=t.config.xaxis.crosshairs.fill.gradient,r=t.config.xaxis.crosshairs.dropShadow,a=t.config.xaxis.crosshairs.fill.type,o=n.colorFrom,s=n.colorTo,l=n.opacityFrom,c=n.opacityTo,u=n.stops,d=r.enabled,h=r.left,p=r.top,f=r.blur,m=r.color,g=r.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===a&&(v=e.drawGradient("vertical",o,s,l,c,null,u,null));var x=e.drawRect();1===t.config.xaxis.crosshairs.width&&(x=e.drawLine()),x.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:t.globals.gridHeight,width:y.isNumber(t.config.xaxis.crosshairs.width)?t.config.xaxis.crosshairs.width:0,height:t.globals.gridHeight,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),d&&(x=i.dropShadow(x,{left:h,top:p,blur:f,color:m,opacity:g})),t.globals.dom.elGraphical.add(x)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new b(this.ctx),i=t.config.yaxis[0].crosshairs,n=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var r=e.drawLine(-n,0,t.globals.gridWidth+n,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(r)}var a=e.drawLine(-n,0,t.globals.gridWidth+n,0,i.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(a)}}]),t}(),it=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,n=i.config;if(0!==n.responsive.length){var r=n.responsive.slice();r.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var a=new N({}),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r[0].breakpoint,o=window.innerWidth>0?window.innerWidth:screen.width;if(o>n){var s=k.extendArrayProps(a,i.globals.initialConfig,i);t=y.extend(s,t),t=y.extend(i.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<r.length;l++)o<r[l].breakpoint&&(t=k.extendArrayProps(a,r[l].options,i),t=y.extend(i.config,t),e.overrideResponsiveOptions(t))};if(t){var s=k.extendArrayProps(a,t,i);s=y.extend(i.config,s),o(s=y.extend(s,t))}else o({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new N(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),nt=function(){function t(e){a(this,t),this.ctx=e,this.colors=[],this.w=e.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===i.config.chart.type&&i.config.plotOptions.treemap.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)}return s(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,i=new y;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(i,n){var r=e.config.colors[n];return r||(r=e.config.colors[0]),"function"==typeof r?(t.isColorFn=!0,r({value:e.globals.axisCharts?e.globals.series[n][0]?e.globals.series[n][0]:0:e.globals.series[n],seriesIndex:n,dataPointIndex:n,w:e})):r})))),e.globals.seriesColors.map((function(t,i){t&&(e.globals.colors[i]=t)})),e.config.theme.monochrome.enabled){var n=[],r=e.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(r=e.globals.series[0].length*e.globals.series.length);for(var a=e.config.theme.monochrome.color,o=1/(r/e.config.theme.monochrome.shadeIntensity),s=e.config.theme.monochrome.shadeTo,l=0,c=0;c<r;c++){var u=void 0;"dark"===s?(u=i.shadeColor(-1*l,a),l+=o):(u=i.shadeColor(l,a),l+=o),n.push(u)}e.globals.colors=n.slice()}var d=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(i){void 0===e.config[i].colors?e.globals[i].colors=t.isColorFn?e.config.colors:d:e.globals[i].colors=e.config[i].colors.slice(),t.pushExtraColors(e.globals[i].colors)})),void 0===e.config.dataLabels.style.colors?e.globals.dataLabels.style.colors=d:e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),void 0===e.config.plotOptions.radar.polygons.fill.colors?e.globals.radarPolygons.fill.colors=["dark"===e.config.theme.mode?"#424242":"none"]:e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),void 0===e.config.markers.colors?e.globals.markers.colors=d:e.globals.markers.colors=e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,r=e||n.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.colorScale.inverse),i&&n.globals.series.length&&(r=n.globals.series[n.globals.maxValsInArrayIndex].length*n.globals.series.length),t.length<r)for(var a=r-t.length,o=0;o<a;o++)t.push(t[o])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",n=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=n,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),t}(),rt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,n=e.globals.svgWidth/2,r=i.offsetY,a="middle";if("left"===i.align?(n=10,a="start"):"right"===i.align&&(n=e.globals.svgWidth-10,a="end"),n+=i.offsetX,r=r+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var o=new b(this.ctx).drawText({x:n,y:r,text:i.text,textAnchor:a,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(o)}}}]),t}(),at=function(){function t(e){a(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,n=0,r="title"===t?e.config.title.floating:e.config.subtitle.floating,a=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==a&&!r){var o=a.getBoundingClientRect();i=o.width,n=e.globals.axisCharts?o.height+5:o.height}return{width:i,height:n}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},y.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var n=e.map((function(t,e){return Array.isArray(t)?t.length:1})),r=Math.max.apply(Math,m(n));i=e[n.indexOf(r)]}return i}}]),t}(),ot=function(){function t(e){a(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var n=this.getxAxisTimeScaleLabelsCoords();t={width:n.width,height:n.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var r=e.globals.xLabelFormatter,a=y.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,i);e.globals.isBarHorizontal&&(o=a=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var s=new W(this.dCtx.ctx),l=a;a=s.xLabelFormat(r,a,l,{i:void 0,dateFormatter:new Y(this.dCtx.ctx).formatDate,w:e}),o=s.xLabelFormat(r,o,l,{i:void 0,dateFormatter:new Y(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===a||""===String(a).trim())&&(o=a="1");var c=new b(this.dCtx.ctx),u=c.getTextRects(a,e.config.xaxis.labels.style.fontSize),d=u;if(a!==o&&(d=c.getTextRects(o,e.config.xaxis.labels.style.fontSize)),(t={width:u.width>=d.width?u.width:d.width,height:u.height>=d.height?u.height:d.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var h=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};u=h(a),a!==o&&(d=h(o)),t.height=(u.height>d.height?u.height:d.height)/1.5,t.width=u.width>d.width?u.width:d.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var n=new b(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=n.width,i=n.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(t){return t.value})),n=i.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new b(this.dCtx.ctx).getTextRects(n,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,n=i.globals,r=i.config,a=r.xaxis.type,o=t.width;n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1;var s=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,l=function(t,r){(function(t){return-1!==n.collapsedSeriesIndices.indexOf(t)})(r)||function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var r=e.dCtx.timescaleLabels[0],s=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+o/1.75-e.dCtx.yAxisWidthRight,l=r.position-o/1.75+e.dCtx.yAxisWidthLeft;s>n.svgWidth-n.translateX&&(n.skipLastTimelinelabel=!0),l<0&&(n.skipFirstTimelinelabel=!0)}else"datetime"===a?e.dCtx.gridPad.right<o&&!n.rotateXLabels&&(n.skipLastTimelinelabel=!0):"datetime"!==a&&e.dCtx.gridPad.right<o/2-e.dCtx.yAxisWidthRight&&!n.rotateXLabels&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(e.dCtx.xPadRight=o/2+1)}()};r.yaxis.forEach((function(t,i){s?(e.dCtx.gridPad.left<o&&(e.dCtx.xPadLeft=o/2+1),e.dCtx.xPadRight=o/2+1):l(0,i)}))}}]),t}(),st=function(){function t(e){a(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],n=10,r=new U(this.dCtx.ctx);return e.config.yaxis.map((function(a,o){var s=e.globals.yAxisScale[o];if(!r.isYAxisHidden(o)&&a.labels.show&&s.result.length){var l=e.globals.yLabelFormatters[o],c=String(s.niceMin).length>String(s.niceMax).length?s.niceMin:s.niceMax,u=l(c,{seriesIndex:o,dataPointIndex:-1,w:e}),d=u;if(void 0!==u&&0!==u.length||(u=c),e.globals.isBarHorizontal){n=0;var h=e.globals.labels.slice();u=l(u=y.getLargestStringFromArr(h),{seriesIndex:o,dataPointIndex:-1,w:e}),d=t.dCtx.dimHelpers.getLargestStringFromMultiArr(u,h)}var p=new b(t.dCtx.ctx),f=p.getTextRects(u,a.labels.style.fontSize),m=f;u!==d&&(m=p.getTextRects(d,a.labels.style.fontSize)),i.push({width:(m.width>f.width?m.width:f.width)+n,height:m.height>f.height?m.height:f.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(e,n){if(e.show&&void 0!==e.title.text){var r=new b(t.dCtx.ctx).getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,"rotate(-90 0 0)",!1);i.push({width:r.width,height:r.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,n=0,r=t.globals.yAxisScale.length>1?10:0,a=new U(this.dCtx.ctx),o=function(o,s){var l=t.config.yaxis[s].floating,c=0;o.width>0&&!l?(c=o.width+r,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(s)&&(c=c-o.width-r)):c=l||a.isYAxisHidden(s)?0:5,t.config.yaxis[s].opposite?n+=c:i+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){o(t,e)})),t.globals.yTitleCoords.map((function(t,e){o(t,e)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=n,e}}]),t}(),lt=function(){function t(e){a(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=e.config.chart.type,n=0,r="bar"===i||"rangeBar"===i?e.config.series.length:1;if(e.globals.comboBarCount>0&&(r=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){"bar"!==t.type&&"rangeBar"!==t.type||(r-=1)})),e.config.chart.stacked&&(r=1),("bar"===i||"rangeBar"===i||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&r>0){var a,o,s=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);s<=3&&(s=e.globals.dataPoints),a=s/t,e.globals.minXDiff&&e.globals.minXDiff/a>0&&(o=e.globals.minXDiff/a),o>t/2&&(o/=2),(n=o/r*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(n=1),n=n/(r>1?1:1.5)+5,e.globals.barPadForNumericAxis=n}return n}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,n=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(i){void 0!==e.config[i].text?n+=e.config[i].margin:n+=t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||e.globals.axisCharts||(n+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-r.height-a.height-n,i.translateY=i.translateY+r.height+a.height+n}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,n=new U(this.dCtx.ctx);i.config.yaxis.map((function(r,a){-1!==i.globals.ignoreYAxisIndexes.indexOf(a)||r.floating||n.isYAxisHidden(a)||(r.opposite&&(i.globals.translateX=i.globals.translateX-(e[a].width+t[a].width)-parseInt(i.config.yaxis[a].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),t}(),ct=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new at(this),this.dimYAxis=new st(this),this.dimXAxis=new ot(this),this.dimGrid=new lt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return s(t,[{key:"plotCoords",value:function(){var t=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),t.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),t.gridHeight=t.gridHeight-this.gridPad.top-this.gridPad.bottom,t.gridWidth=t.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var e=this.dimGrid.gridPadForColumnsInNumericAxis(t.gridWidth);t.gridWidth=t.gridWidth-2*e,t.translateX=t.translateX+this.gridPad.left+this.xPadLeft+(e>0?e+4:0),t.translateY=t.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,n=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,i){e.globals.yLabelsCoords.push({width:n[i].width,index:i}),e.globals.yTitleCoords.push({width:r[i].width,index:i})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,o),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var s=this.yAxisWidth,l=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var c=10;("radar"===e.config.chart.type||this.isSparkline)&&(s=0,l=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(s=0,l=0,c=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(a);var u=function(){i.translateX=s,i.gridHeight=i.svgHeight-t.lgRect.height-l-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-s};switch("top"===e.config.xaxis.position&&(c=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=c,u();break;case"top":i.translateY=this.lgRect.height+c,u();break;case"left":i.translateY=c,i.translateX=this.lgRect.width+s,i.gridHeight=i.svgHeight-l-12,i.gridWidth=i.svgWidth-this.lgRect.width-s;break;case"right":i.translateY=c,i.translateX=s,i.gridHeight=i.svgHeight-l-12,i.gridWidth=i.svgWidth-this.lgRect.width-s-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,n),new J(this.ctx).setYAxisXPosition(n,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,n=0;t.config.legend.show&&!t.config.legend.floating&&(n=20);var r="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",a=i.plotOptions[r].offsetY,o=i.plotOptions[r].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=a,void(e.translateX=o+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=a-10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+a+10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-n,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=a,e.translateX=o+this.lgRect.width+n;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-n-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=a,e.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e){var i=this.w;this.xAxisHeight=(t.height+e.height)*(i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO)+(i.globals.rotateXLabels?22:10),this.xAxisWidth=t.width,this.xAxisHeight-e.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var n=0,r=0;i.config.yaxis.forEach((function(t){n+=t.labels.minWidth,r+=t.labels.maxWidth})),this.yAxisWidth<n&&(this.yAxisWidth=n),this.yAxisWidth>r&&(this.yAxisWidth=r)}}]),t}(),ut=function(){function t(e){a(this,t),this.w=e.w,this.lgCtx=e}return s(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,n=this.w;if(n.globals.axisCharts||"radialBar"===n.config.chart.type){n.globals.resized=!0;var r=null,a=null;n.globals.risingSeries=[],n.globals.axisCharts?(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),e?[{cs:n.globals.collapsedSeries,csi:n.globals.collapsedSeriesIndices},{cs:n.globals.ancillaryCollapsedSeries,csi:n.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){i.riseCollapsedSeries(t.cs,t.csi,a)})):this.hideSeries({seriesEl:r,realIndex:a})}else{var o=n.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),s=n.config.chart.type;if("pie"===s||"polarArea"===s||"donut"===s){var l=n.config.plotOptions.pie.donut.labels;new b(this.lgCtx.ctx).pathMouseDown(o.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(o.members[0].node,l)}o.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,n=this.w,r=y.clone(n.config.series);if(n.globals.axisCharts){var a=!1;if(n.config.yaxis[i]&&n.config.yaxis[i].show&&n.config.yaxis[i].showAlways&&(a=!0,n.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(n.globals.ancillaryCollapsedSeries.push({index:i,data:r[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),n.globals.ancillaryCollapsedSeriesIndices.push(i))),!a){n.globals.collapsedSeries.push({index:i,data:r[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),n.globals.collapsedSeriesIndices.push(i);var o=n.globals.risingSeries.indexOf(i);n.globals.risingSeries.splice(o,1)}}else n.globals.collapsedSeries.push({index:i,data:r[i]}),n.globals.collapsedSeriesIndices.push(i);for(var s=e.childNodes,l=0;l<s.length;l++)s[l].classList.contains("apexcharts-series-markers-wrap")&&(s[l].classList.contains("apexcharts-hide")?s[l].classList.remove("apexcharts-hide"):s[l].classList.add("apexcharts-hide"));n.globals.allSeriesCollapsed=n.globals.collapsedSeries.length===n.config.series.length,r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var n=this.w,r=y.clone(n.config.series);if(t.length>0){for(var a=0;a<t.length;a++)t[a].index===i&&(n.globals.axisCharts?(r[i].data=t[a].data.slice(),t.splice(a,1),e.splice(a,1),n.globals.risingSeries.push(i)):(r[i]=t[a].data,t.splice(a,1),e.splice(a,1),n.globals.risingSeries.push(i)));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w;return e.globals.axisCharts?t.forEach((function(i,n){e.globals.collapsedSeriesIndices.indexOf(n)>-1&&(t[n].data=[])})):t.forEach((function(i,n){e.globals.collapsedSeriesIndices.indexOf(n)>-1&&(t[n]=0)})),t}}]),t}(),dt=function(){function t(e,i){a(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ut(this)}return s(t,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),y.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,n=e.globals.seriesNames,r=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var a=e.config.plotOptions.heatmap.colorScale.ranges;n=a.map((function(t){return t.name?t.name:t.from+" - "+t.to})),r=a.map((function(t){return t.color}))}else this.isBarsDistributed&&(n=e.globals.labels.slice());for(var o=e.globals.legendFormatter,s=e.config.legend.inverseOrder,l=s?n.length-1:0;s?l>=0:l<=n.length-1;s?l--:l++){var c=o(n[l],{seriesIndex:l,w:e}),u=!1,d=!1;if(e.globals.collapsedSeries.length>0)for(var h=0;h<e.globals.collapsedSeries.length;h++)e.globals.collapsedSeries[h].index===l&&(u=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<e.globals.ancillaryCollapsedSeriesIndices.length;p++)e.globals.ancillaryCollapsedSeriesIndices[p]===l&&(d=!0);var f=document.createElement("span");f.classList.add("apexcharts-legend-marker");var m=e.config.legend.markers.offsetX,g=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,_=e.config.legend.markers.width,x=e.config.legend.markers.strokeWidth,w=e.config.legend.markers.strokeColor,S=e.config.legend.markers.radius,T=f.style;T.background=r[l],T.color=r[l],T.setProperty("background",r[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(T.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(T.background=e.globals.seriesColors[l],T.color=e.globals.seriesColors[l]),T.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",T.width=Array.isArray(_)?parseFloat(_[l])+"px":parseFloat(_)+"px",T.left=Array.isArray(m)?m[l]:m,T.top=Array.isArray(g)?g[l]:g,T.borderWidth=Array.isArray(x)?x[l]:x,T.borderColor=Array.isArray(w)?w[l]:w,T.borderRadius=Array.isArray(S)?parseFloat(S[l])+"px":parseFloat(S)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(f.innerHTML=e.config.legend.markers.customHTML[l]()):f.innerHTML=e.config.legend.markers.customHTML()),b.setAttrs(f,{rel:l+1,"data:collapsed":u||d}),(u||d)&&f.classList.add("apexcharts-inactive-legend");var M=document.createElement("div"),C=document.createElement("span");C.classList.add("apexcharts-legend-text"),C.innerHTML=Array.isArray(c)?y.sanitizeDom(c.join(" ")):y.sanitizeDom(c);var D=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;D||(D=e.config.chart.foreColor),C.style.color=D,C.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",C.style.fontWeight=e.config.legend.fontWeight,C.style.fontFamily=i||e.config.chart.fontFamily,b.setAttrs(C,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":u||d}),M.appendChild(f),M.appendChild(C);var L=new k(this.ctx);e.config.legend.showForZeroSeries||0===L.getSeriesTotalByIndex(l)&&L.seriesHaveSameValues(l)&&!L.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&M.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||L.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&M.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(M),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("position-"+e.config.legend.position),M.classList.add("apexcharts-legend-series"),M.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",b.setAttrs(M,{rel:l+1,seriesName:y.escapeString(n[l]),"data:collapsed":u||d}),(u||d)&&M.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||M.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,n=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),r=n.getBoundingClientRect(),a=0,o=0;if("bottom"===i.config.legend.position)o+=i.globals.svgHeight-r.height/2;else if("top"===i.config.legend.position){var s=new ct(this.ctx),l=s.dimHelpers.getTitleSubtitleCoords("title").height,c=s.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=o+(l>0?l-10:0)+(c>0?c-10:0)}n.style.position="absolute",a=a+t+i.config.legend.offsetX,o=o+e+i.config.legend.offsetY,n.style.left=a+"px",n.style.top=o+"px","bottom"===i.config.legend.position?(n.style.top="auto",n.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(n.style.left="auto",n.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(t){n.style[t]&&(n.style[t]=parseInt(i.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new ct(this.ctx),n=i.dimHelpers.getTitleSubtitleCoords("title"),r=i.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;"bottom"===t.config.legend.position?a=-e.clwh/1.8:"top"===t.config.legend.position&&(a=n.height+r.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var n=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,n,this.w]),new O(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new O(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker")){var i=parseInt(t.target.getAttribute("rel"),10)-1,n="true"===t.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var a=this.w.config.legend.markers.onClick;"function"==typeof a&&t.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,n)}}}]),t}(),ht=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return s(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},n=i();if(n.setAttribute("class","apexcharts-toolbar"),n.style.top=e.config.chart.toolbar.offsetY+"px",n.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(n),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(i());var a=[],o=function(i,n,r){var o=i.toLowerCase();t.t[o]&&e.config.chart.zoom.enabled&&a.push({el:n,icon:"string"==typeof t.t[o]?t.t[o]:r,title:t.localeValues[i],class:"apexcharts-".concat(o,"-icon")})};o("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),o("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var s=function(i){t.t[i]&&e.config.chart[i].enabled&&a.push({el:"zoom"===i?t.elZoom:t.elSelection,icon:"string"==typeof t.t[i]?t.t[i]:"zoom"===i?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===i?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(i,"-icon")})};s("zoom"),s("selection"),this.t.pan&&e.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&a.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)a.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});a.forEach((function(t,e){t.index&&y.moveIndexInArray(a,e,t.index)}));for(var c=0;c<a.length;c++)b.setAttrs(a[c].el,{class:a[c].class,title:a[c].title}),a[c].el.innerHTML=a[c].icon,n.appendChild(a[c].el);this._createHamburgerMenu(n),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),b.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,b.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,n="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[n]=!e.w.globals[n],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isTimelineBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,n=(this.maxX+e)/2,r=this._getNewMinXMaxX(i,n);t.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isTimelineBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),n=this.maxX-(e-this.maxX),r=this._getNewMinXMaxX(i,n);t.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var n={min:t,max:e},r=this.getBeforeZoomRange(n);r&&(n=r.xaxis);var a={xaxis:n},o=y.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(o=new X(this.ctx).autoScaleY(this.ctx,o,{xaxis:n})),i.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(n,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new $(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var n=t.ctx.series.emptyCollapsedSeries(y.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(n,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),pt=function(t){d(i,ht);var e=f(i);function i(t){var n;return a(this,i),(n=e.call(this,t)).ctx=t,n.w=t.w,n.dragged=!1,n.graphics=new b(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n.moveDirection="none",n}return s(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,n=this.w,r=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=n.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),n.globals.dom.elGraphical.add(this.zoomRect),n.globals.dom.elGraphical.add(this.selectionRect),"x"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:n.globals.gridWidth,maxY:n.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:n.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=n.globals.dom.baseEl.querySelector("".concat(n.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,r.svgMouseEvents.bind(r,i),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,n=this,r=this.ctx.toolbar,a=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,o=i.config.chart.toolbar.autoSelected;e.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===o?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(o),this.shiftWasPressed=!1);var s=e.target.classList;if(!(s.contains("apexcharts-selection-rect")||s.contains("apexcharts-legend-marker")||s.contains("apexcharts-legend-text")||e.target.parentNode.classList.contains("apexcharts-toolbar"))){if(n.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,n.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var l=n.gridRect.getBoundingClientRect();n.startX=n.clientX-l.left,n.startY=n.clientY-l.top,n.dragged=!1,n.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(n.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,n.w.globals.mousedown&&n.panDragging({context:n,zoomtype:a,xyRatios:t})):(n.w.globals.mousedown&&i.globals.zoomEnabled||n.w.globals.mousedown&&i.globals.selectionEnabled)&&(n.selection=n.selectionDrawing({context:n,zoomtype:a}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var c=n.gridRect.getBoundingClientRect();n.w.globals.mousedown&&(n.endX=n.clientX-c.left,n.endY=n.clientY-c.top,n.dragX=Math.abs(n.endX-n.startX),n.dragY=Math.abs(n.endY-n.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&n.selectionDrawn({context:n,zoomtype:a}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&n.delayedPanScrolled()),i.globals.zoomEnabled&&n.hideSelectionRect(this.selectionRect),n.dragged=!1,n.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,n={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(n),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,n=t.width,r=t.height,a=t.translateX,o=void 0===a?0:a,s=t.translateY,l=void 0===s?0:s,c=this.w,u=this.zoomRect,d=this.selectionRect;if(this.dragged||null!==c.globals.selection){var h={transform:"translate("+o+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(n<0&&(n=1),u.attr({x:e,y:i,width:n,height:r,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),b.setAttrs(u.node,h)),c.globals.selectionEnabled&&(d.attr({x:e,y:i,width:n>0?n:0,height:r>0?r:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),b.setAttrs(d.node,h))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e,i=t.context,n=t.zoomtype,r=this.w,a=i,o=this.gridRect.getBoundingClientRect(),s=a.startX-1,l=a.startY,c=!1,u=!1,d=a.clientX-o.left-s,h=a.clientY-o.top-l;return Math.abs(d+s)>r.globals.gridWidth?d=r.globals.gridWidth-s:a.clientX-o.left<0&&(d=s),s>a.clientX-o.left&&(c=!0,d=Math.abs(d)),l>a.clientY-o.top&&(u=!0,h=Math.abs(h)),e="x"===n?{x:c?s-d:s,y:0,width:d,height:r.globals.gridHeight}:"y"===n?{x:0,y:u?l-h:l,width:r.globals.gridWidth,height:h}:{x:c?s-d:s,y:u?l-h:l,width:d,height:h},a.drawSelectionRect(e),a.selectionDragging("resizing"),e}},{key:"selectionDragging",value:function(t,e){var i=this,n=this.w,r=this.xyRatios,a=this.selectionRect,o=0;"resizing"===t&&(o=30);var s=function(t){return parseFloat(a.node.getAttribute(t))},l={x:s("x"),y:s("y"),width:s("width"),height:s("height")};n.globals.selection=l,"function"==typeof n.config.chart.events.selection&&n.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=i.gridRect.getBoundingClientRect(),e=a.node.getBoundingClientRect(),o={xaxis:{min:n.globals.xAxisScale.niceMin+(e.left-t.left)*r.xRatio,max:n.globals.xAxisScale.niceMin+(e.right-t.left)*r.xRatio},yaxis:{min:n.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*r.yRatio[0],max:n.globals.yAxisScale[0].niceMax-(e.top-t.top)*r.yRatio[0]}};n.config.chart.events.selection(i.ctx,o),n.config.chart.brush.enabled&&void 0!==n.config.chart.events.brushScrolled&&n.config.chart.events.brushScrolled(i.ctx,o)}),o))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,n=this.w,r=e,a=this.xyRatios,o=this.ctx.toolbar;if(r.startX>r.endX){var s=r.startX;r.startX=r.endX,r.endX=s}if(r.startY>r.endY){var l=r.startY;r.startY=r.endY,r.endY=l}var c=void 0,u=void 0;n.globals.isTimelineBar?(c=n.globals.yAxisScale[0].niceMin+r.startX*a.invertedYRatio,u=n.globals.yAxisScale[0].niceMin+r.endX*a.invertedYRatio):(c=n.globals.xAxisScale.niceMin+r.startX*a.xRatio,u=n.globals.xAxisScale.niceMin+r.endX*a.xRatio);var d=[],h=[];if(n.config.yaxis.forEach((function(t,e){d.push(n.globals.yAxisScale[e].niceMax-a.yRatio[e]*r.startY),h.push(n.globals.yAxisScale[e].niceMax-a.yRatio[e]*r.endY)})),r.dragged&&(r.dragX>10||r.dragY>10)&&c!==u)if(n.globals.zoomEnabled){var p=y.clone(n.globals.initialConfig.yaxis),f=y.clone(n.globals.initialConfig.xaxis);if(n.globals.zoomed=!0,n.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),u=Math.floor(u),c<1&&(c=1,u=n.globals.dataPoints),u-c<2&&(u=c+1)),"xy"!==i&&"x"!==i||(f={min:c,max:u}),"xy"!==i&&"y"!==i||p.forEach((function(t,e){p[e].min=h[e],p[e].max=d[e]})),n.config.chart.zoom.autoScaleYaxis){var m=new X(r.ctx);p=m.autoScaleY(r.ctx,p,{xaxis:f})}if(o){var g=o.getBeforeZoomRange(f,p);g&&(f=g.xaxis?g.xaxis:f,p=g.yaxis?g.yaxis:p)}var v={xaxis:f};n.config.chart.group||(v.yaxis=p),r.ctx.updateHelpers._updateOptions(v,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&o.zoomCallback(f,p)}else if(n.globals.selectionEnabled){var _,b=null;_={min:c,max:u},"xy"!==i&&"y"!==i||(b=y.clone(n.config.yaxis)).forEach((function(t,e){b[e].min=h[e],b[e].max=d[e]})),n.globals.selection=r.selection,"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(r.ctx,{xaxis:_,yaxis:b})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,n=e;if(void 0!==i.globals.lastClientPosition.x){var r=i.globals.lastClientPosition.x-n.clientX,a=i.globals.lastClientPosition.y-n.clientY;Math.abs(r)>Math.abs(a)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(a)&&r<0?this.moveDirection="right":Math.abs(a)>Math.abs(r)&&a>0?this.moveDirection="up":Math.abs(a)>Math.abs(r)&&a<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:n.clientX,y:n.clientY};var o=i.globals.isTimelineBar?i.globals.minY:i.globals.minX,s=i.globals.isTimelineBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||n.panScrolled(o,s)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,n=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+n,i=t.globals.maxX+n):"right"===this.moveDirection&&(e=t.globals.minX-n,i=t.globals.maxX-n),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,n=this.xyRatios,r=y.clone(i.globals.initialConfig.yaxis),a=n.xRatio,o=i.globals.minX,s=i.globals.maxX;i.globals.isTimelineBar&&(a=n.invertedYRatio,o=i.globals.minY,s=i.globals.maxY),"left"===this.moveDirection?(t=o+i.globals.gridWidth/15*a,e=s+i.globals.gridWidth/15*a):"right"===this.moveDirection&&(t=o-i.globals.gridWidth/15*a,e=s-i.globals.gridWidth/15*a),i.globals.isTimelineBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=o,e=s);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(r=new X(this.ctx).autoScaleY(this.ctx,r,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=r),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var n=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof n.config.chart.events.scrolled&&n.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),ft=function(){function t(e){a(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return s(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,n=t.clientX,r=t.clientY,a=this.w,o=a.globals.gridWidth,s=o/(a.globals.dataPoints-1),l=i.getBoundingClientRect(),c=this.hasBars();!a.globals.comboCharts&&!c||a.config.xaxis.convertedCatToNumeric||(s=o/a.globals.dataPoints);var u=n-l.left-a.globals.barPadForNumericAxis,d=r-l.top;u<0||d<0||u>a.globals.gridWidth||d>a.globals.gridHeight?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):a.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):a.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var h=Math.round(u/s);c&&!a.config.xaxis.convertedCatToNumeric&&(h=Math.ceil(u/s),h-=1);for(var p,f=null,m=null,g=[],v=0;v<a.globals.seriesXvalues.length;v++)g.push([a.globals.seriesXvalues[v][0]-1e-6].concat(a.globals.seriesXvalues[v]));return g=g.map((function(t){return t.filter((function(t){return t}))})),p=a.globals.seriesYvalues.map((function(t){return t.filter((function(t){return y.isNumber(t)}))})),a.globals.isXNumeric&&(f=(m=this.closestInMultiArray(u,d,g,p)).index,h=m.j,null!==f&&(g=a.globals.seriesXvalues[f],h=(m=this.closestInArray(u,g)).index)),a.globals.capturedSeriesIndex=null===f?-1:f,(!h||h<1)&&(h=0),a.globals.capturedDataPointIndex=h,{capturedSeries:f,j:h,hoverX:u,hoverY:d}}},{key:"closestInMultiArray",value:function(t,e,i,n){var r=this.w,a=0,o=null,s=-1;r.globals.series.length>1?a=this.getFirstActiveXArray(i):o=0;var l=n[a][0],c=i[a][0],u=Math.abs(t-c),d=Math.abs(e-l),h=d+u;return n.map((function(r,a){r.map((function(r,l){var c=Math.abs(e-n[a][l]),p=Math.abs(t-i[a][l]),f=p+c;f<h&&(h=f,u=p,d=c,o=a,s=l)}))})),{index:o,j:s}}},{key:"getFirstActiveXArray",value:function(t){for(var e=0,i=t.map((function(t,e){return t.length>0?e:-1})),n=0;n<i.length;n++)if(-1!==i[n]){e=i[n];break}return e}},{key:"closestInArray",value:function(t,e){for(var i=e[0],n=null,r=Math.abs(t-i),a=0;a<e.length;a++){var o=Math.abs(t-e[a]);o<r&&(r=o,n=a)}return{index:n}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(i.length>0)for(var n=0;n<i.length-1;n++)void 0!==i[n][t]&&void 0!==i[n+1][t]&&i[n][t]!==i[n+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return m(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=m(t)).sort((function(t,e){return Number(e.getAttribute("data:realIndex"))<Number(t.getAttribute("data:realIndex"))?0:-1}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var n=i.allTooltipSeriesGroups,r=0;r<n.length;r++)"enable"===t?(n[r].classList.add("apexcharts-active"),n[r].style.display=e.config.tooltip.items.display):(n[r].classList.remove("apexcharts-active"),n[r].style.display="none")}}]),t}(),mt=function(){function t(e){a(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ft(e)}return s(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,n=t.ttItems,r=t.i,a=void 0===r?0:r,o=t.j,s=void 0===o?null:o,l=t.y1,c=t.y2,u=t.e,d=this.w;void 0!==d.config.tooltip.custom?this.handleCustomTooltip({i:a,j:s,y1:l,y2:c,w:d}):this.toggleActiveInactiveSeries(i);var h=this.getValuesToPrint({i:a,j:s});this.printLabels({i:a,j:s,values:h,ttItems:n,shared:i,e:u});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,n=t.i,r=t.j,a=t.values,o=t.ttItems,s=t.shared,l=t.e,c=this.w,d=a.xVal,h=a.zVal,p=a.xAxisTTVal,f="",m=c.globals.colors[n];null!==r&&c.config.plotOptions.bar.distributed&&(m=c.globals.colors[r]);for(var g=function(t,a){var g=i.getFormatters(n);f=i.getSeriesName({fn:g.yLbTitleFormatter,index:n,seriesIndex:n,j:r}),"treemap"===c.config.chart.type&&(f=g.yLbTitleFormatter(String(c.config.series[n].data[r].x),{series:c.globals.series,seriesIndex:n,dataPointIndex:r,w:c}));var y=c.config.tooltip.inverseOrder?a:t;if(c.globals.axisCharts){var v=function(t){return g.yLbFormatter(c.globals.series[t][r],{series:c.globals.series,seriesIndex:t,dataPointIndex:r,w:c})};s?(g=i.getFormatters(y),f=i.getSeriesName({fn:g.yLbTitleFormatter,index:y,seriesIndex:n,j:r}),m=c.globals.colors[y],e=v(y)):(l&&l.target&&l.target.getAttribute("fill")&&(m=l.target.getAttribute("fill")),e=v(n))}null===r&&(e=g.yLbFormatter(c.globals.series[n],u(u({},c),{},{seriesIndex:n,dataPointIndex:n}))),i.DOMHandling({i:n,t:y,j:r,ttItems:o,values:{val:e,xVal:d,xAxisTTVal:p,zVal:h},seriesName:f,shared:s,pColor:m})},y=0,v=c.globals.series.length-1;y<c.globals.series.length;y++,v--)g(y,v)}},{key:"getFormatters",value:function(t){var e,i=this.w,n=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(n=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(n=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof n&&(n=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:n,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,n=t.seriesIndex,r=t.j,a=this.w;return e(String(a.globals.seriesNames[i]),{series:a.globals.series,seriesIndex:n,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=(t.j,t.ttItems),n=t.values,r=t.seriesName,a=t.shared,o=t.pColor,s=this.w,l=this.ttCtx;Object.keys(n).forEach((function(t){"string"==typeof n[t]&&(n[t]=y.sanitizeDom(n[t]))}));var c=n.val,u=n.xVal,d=n.xAxisTTVal,h=n.zVal,p=null;p=i[e].children,s.config.tooltip.fillSeriesColor&&(i[e].style.backgroundColor=o,p[0].style.display="none"),l.showTooltipTitle&&(null===l.tooltipTitle&&(l.tooltipTitle=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),l.tooltipTitle.innerHTML=u),l.blxaxisTooltip&&(l.xaxisTooltipText.innerHTML=""!==d?d:u);var f=i[e].querySelector(".apexcharts-tooltip-text-label");f&&(f.innerHTML=r?y.sanitizeDom(r):"");var m=i[e].querySelector(".apexcharts-tooltip-text-value");m&&(m.innerHTML=void 0!==c?c:""),p[0]&&p[0].classList.contains("apexcharts-tooltip-marker")&&(s.config.tooltip.marker.fillColors&&Array.isArray(s.config.tooltip.marker.fillColors)&&(o=s.config.tooltip.marker.fillColors[e]),p[0].style.backgroundColor=o),s.config.tooltip.marker.show||(p[0].style.display="none"),null!==h&&(i[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=s.config.tooltip.z.title,i[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==h?h:""),a&&p[0]&&(null==c||s.globals.collapsedSeriesIndices.indexOf(e)>-1?p[0].parentNode.style.display="none":p[0].parentNode.style.display=s.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,n=this.w,r=this.ctx.series.filteredSeriesX(),a="",o="",s=null,l=null,c={series:n.globals.series,seriesIndex:e,dataPointIndex:i,w:n},u=n.globals.ttZFormatter;null===i?l=n.globals.series[e]:n.globals.isXNumeric&&"treemap"!==n.config.chart.type?(a=r[e][i],0===r[e].length&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][i])):a=void 0!==n.globals.labels[i]?n.globals.labels[i]:"";var d=a;return a=n.globals.isXNumeric&&"datetime"===n.config.xaxis.type?new W(this.ctx).xLabelFormat(n.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new Y(this.ctx).formatDate,w:this.w}):n.globals.isBarHorizontal?n.globals.yLabelFormatters[0](d,c):n.globals.xLabelFormatter(d,c),void 0!==n.config.tooltip.x.formatter&&(a=n.globals.ttKeyFormatter(d,c)),n.globals.seriesZ.length>0&&n.globals.seriesZ[e].length>0&&(s=u(n.globals.seriesZ[e][i],n)),o="function"==typeof n.config.xaxis.tooltip.formatter?n.globals.xaxisTooltipFormatter(d,c):a,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:s}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,n=t.y1,r=t.y2,a=t.w,o=this.ttCtx.getElTooltip(),s=a.config.tooltip.custom;Array.isArray(s)&&s[e]&&(s=s[e]),o.innerHTML=s({ctx:this.ctx,series:a.globals.series,seriesIndex:e,dataPointIndex:i,y1:n,y2:r,w:a})}}]),t}(),gt=function(){function t(e){a(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return s(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,n=this.w,r=i.getElXCrosshairs(),a=t-i.xcrosshairsWidth/2,o=n.globals.labels.slice().length;if(null!==e&&(a=n.globals.gridWidth/o*e),null!==r&&(r.setAttribute("x",a),r.setAttribute("x1",a),r.setAttribute("x2",a),r.setAttribute("y2",n.globals.gridHeight),r.classList.add("apexcharts-active")),a<0&&(a=0),a>n.globals.gridWidth&&(a=n.globals.gridWidth),i.blxaxisTooltip){var s=a;"tickWidth"!==n.config.xaxis.crosshairs.width&&"barWidth"!==n.config.xaxis.crosshairs.width||(s=a+i.xcrosshairsWidth/2),this.moveXAxisTooltip(s)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&b.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&b.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip){i.xaxisTooltip.classList.add("apexcharts-active");var n,r=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,n=new b(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=n.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=r+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var n=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),r=e.globals.translateY+n,a=i.yaxisTTEls[t].getBoundingClientRect().height,o=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(o-=26),r-=a/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=r+"px",i.yaxisTTEls[t].style.left=o+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,r=this.ttCtx,a=r.getElTooltip(),o=r.tooltipRect,s=null!==i?parseFloat(i):1,l=parseFloat(t)+s+5,c=parseFloat(e)+s/2;if(l>n.globals.gridWidth/2&&(l=l-o.ttWidth-s-15),l>n.globals.gridWidth-o.ttWidth-10&&(l=n.globals.gridWidth-o.ttWidth),l<-20&&(l=-20),n.config.tooltip.followCursor){var u=r.getElGrid(),d=u.getBoundingClientRect();c=r.e.clientY+n.globals.translateY-d.top-o.ttHeight/2}if(!n.config.tooltip.followCursor){var h=this.positionChecks(o,l,c);l=h.x,c=h.y}isNaN(l)||(l+=n.globals.translateX,a.style.left=l+"px",a.style.top=c+"px")}},{key:"positionChecks",value:function(t,e,i){var n=this.w;return t.ttHeight/2+i>n.globals.gridHeight&&(i=n.globals.gridHeight-t.ttHeight+n.globals.translateY),i<0&&(i=0),{x:e,y:i}}},{key:"moveMarkers",value:function(t,e){var i=this.w,n=this.ttCtx;if(i.globals.markers.size[t]>0)for(var r=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===e&&(n.marker.resetPointsSize(),n.marker.enlargeCurrentPoint(e,r[a]));else n.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,n,r=this.w,a=this.ttCtx,o=r.globals.pointsArray,s=a.tooltipUtil.getHoverMarkerSize(e),l=r.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l){i=o[e][t][0],n=o[e][t][1]?o[e][t][1]:0;var c=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&n<r.globals.gridHeight&&n>0&&(c.setAttribute("r",s),c.setAttribute("cx",i),c.setAttribute("cy",n)),this.moveXCrosshairs(i),a.fixedTooltip||this.moveTooltip(i,n,s)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,n=i.w,r=0,a=0,o=n.globals.pointsArray;e=new O(this.ctx).getActiveConfigSeriesIndex(!0);var s=i.tooltipUtil.getHoverMarkerSize(e);o[e]&&(r=o[e][t][0],a=o[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<n.globals.series.length;c++){var u=o[c];if(n.globals.comboCharts&&void 0===u&&l.splice(c,0,null),u&&u.length){var d=o[c][t][1];l[c].setAttribute("cx",r),null!==d&&!isNaN(d)&&d<n.globals.gridHeight&&d>0?(l[c]&&l[c].setAttribute("r",s),l[c]&&l[c].setAttribute("cy",d)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(r),!i.fixedTooltip){var h=a||n.globals.gridHeight;this.moveTooltip(r,h,s)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e,i=this.w,n=this.ttCtx,r=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length,a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1,o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"']")),s=o?parseFloat(o.getAttribute("cx")):0,l=o?parseFloat(o.getAttribute("barWidth")):0;i.globals.isXNumeric?s-=r%2!=0?l/2:0:(s=n.xAxisTicksPositions[t-1]+n.dataPointsDividedWidth/2,isNaN(s)&&(s=n.xAxisTicksPositions[t]-n.dataPointsDividedWidth/2));var c=n.getElGrid().getBoundingClientRect();if(e=n.e.clientY-c.top-n.tooltipRect.ttHeight/2,this.moveXCrosshairs(s),!n.fixedTooltip){var u=e||i.globals.gridHeight;this.moveTooltip(s,u)}}}]),t}(),yt=function(){function t(e){a(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new gt(e)}return s(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new b(this.ctx),i=new A(this.ctx),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");n=m(n),t.config.chart.stacked&&n.sort((function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))}));for(var r=0;r<n.length;r++){var a=n[r].querySelector(".apexcharts-series-markers-wrap");if(null!==a){var o=void 0,s="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(s+=" no-pointer-events");var l=i.getMarkerConfig(s,r);(o=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(o.node),a.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(t,e);var a=e.getAttribute("cx"),o=e.getAttribute("cy");if(null!==i&&null!==n&&(a=i,o=n),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if("radar"===r.config.chart.type){var s=this.ttCtx.getElGrid(),l=s.getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,n=this.ttCtx,r=t,a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=e.config.markers.hover.size,s=0;s<a.length;s++){var l=a[s].getAttribute("rel"),c=a[s].getAttribute("index");if(void 0===o&&(o=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),r===parseInt(l,10)){i.newPointSize(r,a[s]);var u=a[s].getAttribute("cx"),d=a[s].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(u),n.fixedTooltip||i.tooltipPosition.moveTooltip(u,d,o)}else i.oldPointSize(a[s])}}},{key:"newPointSize",value:function(t,e){var i=this.w,n=i.config.markers.hover.size,r=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var a=parseInt(r.getAttribute("index"),10);void 0===n&&(n=i.globals.markers.size[a]+i.config.markers.hover.sizeOffset),r.setAttribute("r",n)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));y.isNumber(i)?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),t}(),vt=function(){function t(e){a(this,t),this.w=e.w,this.ttCtx=e}return s(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,n=t.x,r=t.y,a=t.type,o=this.ttCtx,s=this.w;if(e.target.classList.contains("apexcharts-".concat(a,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),u=this.getAttr(e,"cx"),d=this.getAttr(e,"cy"),h=this.getAttr(e,"width"),p=this.getAttr(e,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),s.globals.capturedSeriesIndex=l,s.globals.capturedDataPointIndex=c,n=u+o.tooltipRect.ttWidth/2+h,r=d+o.tooltipRect.ttHeight/2-p/2,o.tooltipPosition.moveXCrosshairs(u+h/2),n>s.globals.gridWidth/2&&(n=u-o.tooltipRect.ttWidth/2+h),o.w.config.tooltip.followCursor){var f=o.getElGrid().getBoundingClientRect();(n=o.e.clientX-f.left+10)>s.globals.gridWidth/2&&(n=n-o.tooltipRect.ttWidth-10),r=o.e.clientY-f.top+s.globals.translateY/2-10}}return{x:n,y:r}}},{key:"handleMarkerTooltip",value:function(t){var e,i,n=t.e,r=t.opt,a=t.x,o=t.y,s=this.w,l=this.ttCtx;if(n.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),u=parseInt(r.paths.getAttribute("cy"),10),d=parseFloat(r.paths.getAttribute("val"));if(i=parseInt(r.paths.getAttribute("rel"),10),e=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var h=y.findAncestor(r.paths,"apexcharts-series");h&&(e=parseInt(h.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:e,j:i,shared:!l.showOnIntersect&&s.config.tooltip.shared,e:n}),"mouseup"===n.type&&l.markerClick(n,e,i),s.globals.capturedSeriesIndex=e,s.globals.capturedDataPointIndex=i,a=c,o=u+s.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();o=l.e.clientY+s.globals.translateY-p.top}d<0&&(o=u),l.marker.enlargeCurrentPoint(i,r.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(t){var e,i,n=t.e,r=t.opt,a=this.w,o=this.ttCtx,s=o.getElTooltip(),l=0,c=0,u=0,d=this.getBarTooltipXY({e:n,opt:r});e=d.i;var h=d.barHeight,p=d.j;if(a.globals.capturedSeriesIndex=e,a.globals.capturedDataPointIndex=p,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(c=d.x,u=d.y,i=Array.isArray(a.config.stroke.width)?a.config.stroke.width[e]:a.config.stroke.width,l=c):a.globals.comboCharts||a.config.tooltip.shared||(l/=2),isNaN(u)?u=a.globals.svgHeight-o.tooltipRect.ttHeight:u<0&&(u=0),c+o.tooltipRect.ttWidth>a.globals.gridWidth?c-=o.tooltipRect.ttWidth:c<0&&(c=0),o.w.config.tooltip.followCursor){var f=o.getElGrid().getBoundingClientRect();u=o.e.clientY-f.top}if(null===o.tooltip&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(l+i/2):o.tooltipPosition.moveXCrosshairs(l)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())){var m=a.globals.isMultipleYAxis?a.config.yaxis[g]&&a.config.yaxis[g].reversed:a.config.yaxis[0].reversed;m&&(c-=o.tooltipRect.ttWidth)<0&&(c=0),s.style.left=c+a.globals.translateX+"px";var g=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10);!m||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||(u=u+h-2*(a.globals.series[e][p]<0?h:0)),o.tooltipRect.ttHeight+u>a.globals.gridHeight?(u=a.globals.gridHeight-o.tooltipRect.ttHeight+a.globals.translateY,s.style.top=u+"px"):s.style.top=u+a.globals.translateY-o.tooltipRect.ttHeight/2+"px"}}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,n=this.w,r=null,a=this.ttCtx,o=0,s=0,l=0,c=0,u=0,d=e.target.classList;if(d.contains("apexcharts-bar-area")||d.contains("apexcharts-candlestick-area")||d.contains("apexcharts-rangebar-area")){var h=e.target,p=h.getBoundingClientRect(),f=i.elGrid.getBoundingClientRect(),m=p.height;u=p.height;var g=p.width,y=parseInt(h.getAttribute("cx"),10),v=parseInt(h.getAttribute("cy"),10);c=parseFloat(h.getAttribute("barWidth"));var _="touchmove"===e.type?e.touches[0].clientX:e.clientX;r=parseInt(h.getAttribute("j"),10),o=parseInt(h.parentNode.getAttribute("rel"),10)-1;var b=h.getAttribute("data-range-y1"),x=h.getAttribute("data-range-y2");n.globals.comboCharts&&(o=parseInt(h.parentNode.getAttribute("data:realIndex"),10)),a.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:o,j:r,y1:b?parseInt(b,10):null,y2:x?parseInt(x,10):null,shared:!a.showOnIntersect&&n.config.tooltip.shared,e:e}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(s=_-f.left+15,l=v-a.dataPointsDividedHeight+m/2-a.tooltipRect.ttHeight/2):(s=n.globals.isXNumeric?y-g/2:y-a.dataPointsDividedWidth+g/2,l=e.clientY-f.top-a.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((s=y)<a.xyRatios.baseLineInvertedY&&(s=y-a.tooltipRect.ttWidth),l=v-a.dataPointsDividedHeight+m/2-a.tooltipRect.ttHeight/2):(s=n.globals.isXNumeric?y-g/2:y-a.dataPointsDividedWidth+g/2,l=v)}return{x:s,y:l,barHeight:u,barWidth:c,i:o,j:r}}}]),t}(),_t=function(){function t(e){a(this,t),this.w=e.w,this.ttCtx=e}return s(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var n=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=t.globals.dom.elWrap;e.blxaxisTooltip&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+t.config.tooltip.theme),r.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=function(i){var n=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=n?t.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,n?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,n){e.map((function(e,n){n===i&&(r+=t.config.yaxis[n].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var a=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))},n=0;n<t.config.yaxis.length;n++)i(n)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var n=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n&&"barWidth"===t.config.xaxis.crosshairs.width){var r=parseFloat(n.getAttribute("barWidth"));e.xcrosshairsWidth=r}else if("tickWidth"===t.config.xaxis.crosshairs.width){var a=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/a}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}else if("barWidth"===t.config.xaxis.crosshairs.width){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s){var l=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var n=this.ttCtx,r=this.w,a=r.globals.yLabelFormatters[t];if(n.yaxisTooltips[t]){var o=n.getElGrid().getBoundingClientRect(),s=(e-o.top)*i.yRatio[t],l=r.globals.maxYArr[t]-r.globals.minYArr[t],c=r.globals.minYArr[t]+(l-s);n.tooltipPosition.moveYCrosshairs(e-o.top),n.yaxisTooltipText[t].innerHTML=a(c),n.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),bt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new ft(this),this.tooltipLabels=new mt(this),this.tooltipPosition=new gt(this),this.marker=new yt(this),this.intersect=new vt(this),this.axesTooltip=new _t(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared}return s(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.blxaxisTooltip=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,i){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var n=new q(this.ctx);this.xAxisTicksPositions=n.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var r=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this.w,i=[],n=this.getElTooltip(),r=0;r<t;r++){var a=document.createElement("div");a.classList.add("apexcharts-tooltip-series-group"),a.style.order=e.config.tooltip.inverseOrder?t-r:r+1,this.tConfig.shared&&this.tConfig.enabledOnSeries&&Array.isArray(this.tConfig.enabledOnSeries)&&this.tConfig.enabledOnSeries.indexOf(r)<0&&a.classList.add("apexcharts-tooltip-series-group-hidden");var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),o.style.backgroundColor=e.globals.colors[r],a.appendChild(o);var s=document.createElement("div");s.classList.add("apexcharts-tooltip-text"),s.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,s.style.fontSize=this.tConfig.style.fontSize;var l=document.createElement("div");l.classList.add("apexcharts-tooltip-y-group");var c=document.createElement("span");c.classList.add("apexcharts-tooltip-text-label"),l.appendChild(c);var u=document.createElement("span");u.classList.add("apexcharts-tooltip-text-value"),l.appendChild(u);var d=document.createElement("div");d.classList.add("apexcharts-tooltip-z-group");var h=document.createElement("span");h.classList.add("apexcharts-tooltip-text-z-label"),d.appendChild(h);var p=document.createElement("span");p.classList.add("apexcharts-tooltip-text-z-value"),d.appendChild(p),s.appendChild(l),s.appendChild(d),a.appendChild(s),n.appendChild(a),i.push(a)}return i}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),n=!("bar"!==e&&"candlestick"!==e&&"rangeBar"!==e),r="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,a=t.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var s,l=[],c=[],u={hoverArea:a,elGrid:o,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(r?s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):n?s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),s&&s.length))for(var d=0;d<s.length;d++)l.push(s[d].getAttribute("cy")),c.push(s[d].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||n&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],u);else if(n&&!t.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(u);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(h,u)}if(this.showOnIntersect){var p=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,u),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(u)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),n=i.width+10,r=i.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,s=this.tConfig.fixed.position.toLowerCase();return s.indexOf("right")>-1&&(a=a+t.globals.svgWidth-n+10),s.indexOf("bottom")>-1&&(o=o+t.globals.svgHeight-r-10),e.style.left=a+"px",e.style.top=o+"px",{x:a,y:o,ttWidth:n,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,n=function(n){var r={paths:t[n],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[n].addEventListener(e,i.seriesHover.bind(i,r),{capture:!1,passive:!0})}))},r=0;r<t.length;r++)n(r)}},{key:"seriesHover",value:function(t,e){var i=this,n=[],r=this.w;r.config.chart.group&&(n=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(n.length?n.forEach((function(n){var r=i.getElTooltip(n),a={paths:t.paths,tooltipEl:r,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:n.w.globals.tooltip.ttItems};n.w.globals.minX===i.w.globals.minX&&n.w.globals.maxX===i.w.globals.maxX&&n.w.globals.tooltip.seriesHoverByContext({chartCtx:n,ttCtx:n.w.globals.tooltip,opt:a,e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,n=t.opt,r=t.e,a=e.w,o=this.getElTooltip();i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=r,!i.tooltipUtil.hasBars()||a.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new O(e).toggleSeriesOnHover(r,r.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),a.globals.axisCharts?i.axisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect})}},{key:"axisChartsTooltips",value:function(t){var e,i,n=t.e,r=t.opt,a=this.w,o=r.elGrid.getBoundingClientRect(),s="touchmove"===n.type?n.touches[0].clientX:n.clientX,l="touchmove"===n.type?n.touches[0].clientY:n.clientY;if(this.clientY=l,this.clientX=s,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,l<o.top||l>o.top+o.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var u=this.getElTooltip(),d=this.getElXCrosshairs(),h=a.globals.xyCharts||"bar"===a.config.chart.type&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&(h=!1),"mousemove"===n.type||"touchmove"===n.type||"mouseup"===n.type){null!==d&&d.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),h&&!this.showOnIntersect)this.handleStickyTooltip(n,s,l,r);else if("heatmap"===a.config.chart.type||"treemap"===a.config.chart.type){var f=this.intersect.handleHeatTreeTooltip({e:n,opt:r,x:e,y:i,type:a.config.chart.type});e=f.x,i=f.y,u.style.left=e+"px",u.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:n,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:n,opt:r,x:e,y:i});if(this.yaxisTooltips.length)for(var m=0;m<a.config.yaxis.length;m++)this.axesTooltip.drawYaxisTooltipText(m,l,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==n.type&&"touchend"!==n.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,n=t.tooltipRect,r=this.w,a=i.paths.getAttribute("rel"),o=this.getElTooltip(),s=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(a,10)-1,shared:!1});var l=r.globals.clientX-s.left-n.ttWidth/2,c=r.globals.clientY-s.top-n.ttHeight-10;if(o.style.left=l+"px",o.style.top=c+"px",r.config.legend.tooltipHoverFormatter){var u=a-1,d=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[u].getAttribute("data:default-text"),{seriesIndex:u,dataPointIndex:u,w:r});this.legendLabels[u].innerHTML=d}}else"mouseout"!==e.type&&"touchend"!==e.type||(o.classList.remove("apexcharts-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})))}},{key:"handleStickyTooltip",value:function(t,e,i,n){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:n.hoverArea,elGrid:n.elGrid,clientX:e,clientY:i}),o=a.j,s=a.capturedSeries;a.hoverX<0||a.hoverX>r.globals.gridWidth?this.handleMouseOut(n):null!==s?this.handleStickyCapturedSeries(t,s,n,o):this.tooltipUtil.isXoverlap(o)&&this.create(t,this,0,o,n.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,n){var r=this.w;null===r.globals.series[e][n]?this.handleMouseOut(i):void 0!==r.globals.series[e][n]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(n)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,n,i.ttItems):this.create(t,this,e,n,i.ttItems,!1):this.tooltipUtil.isXoverlap(n)&&this.create(t,this,0,n,i.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new b(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),n=0;n<i.length;n++)e.pathMouseLeave(i[n])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var n=0;n<this.yaxisTTEls.length;n++)this.yaxisTTEls[n].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,i){var n=this.w;"function"==typeof n.config.chart.events.markerClick&&n.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:n}])}},{key:"create",value:function(t,e,i,n,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=this.w,s=e;"mouseup"===t.type&&this.markerClick(t,i,n),null===a&&(a=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(o.config.legend.tooltipHoverFormatter){var u=o.config.legend.tooltipHoverFormatter,d=Array.from(this.legendLabels);d.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var h=0;h<d.length;h++){var p=d[h],f=parseInt(p.getAttribute("i"),10),m=decodeURIComponent(p.getAttribute("data:default-text")),g=u(m,{seriesIndex:a?f:i,dataPointIndex:n,w:o});if(a)p.innerHTML=o.globals.collapsedSeriesIndices.indexOf(f)<0?g:m;else if(p.innerHTML=f===i?g:m,i===f)break}}if(a){if(s.tooltipLabels.drawSeriesTexts({ttItems:r,i:i,j:n,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(o.globals.markers.largestSize>0?s.marker.enlargePoints(n):s.tooltipPosition.moveDynamicPointsOnHover(n)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var y=new b(this.ctx),v=o.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(n,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(n);for(var _=0;_<v.length;_++)y.pathMouseEnter(v[_])}}else s.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:i,j:n}),this.tooltipUtil.hasBars()&&s.tooltipPosition.moveStickyTooltipOverBars(n),l&&s.tooltipPosition.moveMarkers(i,n)}}]),t}(),xt=function(t){d(i,z);var e=f(i);function i(){return a(this,i),e.apply(this,arguments)}return s(i,[{key:"draw",value:function(t,e){var i=this,n=this.w;this.graphics=new b(this.ctx),this.bar=new z(this.ctx,this.xyRatios);var r=new k(this.ctx,n);t=r.getLogSeries(t),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===n.config.chart.stackType&&(t=n.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var a=0;a<t.length;a++)t[a].length>0&&(this.totalItems+=t[a].length);for(var o=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),s=0,l=0,c=function(r,a){var c=void 0,d=void 0,h=void 0,p=void 0,f=[],m=[],g=n.globals.comboCharts?e[r]:r;i.yRatio.length>1&&(i.yaxisIndex=g),i.isReversed=n.config.yaxis[i.yaxisIndex]&&n.config.yaxis[i.yaxisIndex].reversed;var v=i.graphics.group({class:"apexcharts-series",seriesName:y.escapeString(n.globals.seriesNames[g]),rel:r+1,"data:realIndex":g});i.ctx.series.addCollapsedClassToSeries(v,g);var _=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":g}),b=0,x=0,w=i.initialPositions(s,l,c,d,h,p);l=w.y,b=w.barHeight,d=w.yDivision,p=w.zeroW,s=w.x,x=w.barWidth,c=w.xDivision,h=w.zeroH,i.yArrj=[],i.yArrjF=[],i.yArrjVal=[],i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],1===i.prevY.length&&i.prevY[0].every((function(t){return isNaN(t)}))&&(i.prevY[0]=i.prevY[0].map((function(t){return h})),i.prevYF[0]=i.prevYF[0].map((function(t){return 0})));for(var k=0;k<n.globals.dataPoints;k++){var S=i.barHelpers.getStrokeWidth(r,k,g),T={indexes:{i:r,j:k,realIndex:g,bc:a},strokeWidth:S,x:s,y:l,elSeries:v},M=null;i.isHorizontal?(M=i.drawStackedBarPaths(u(u({},T),{},{zeroW:p,barHeight:b,yDivision:d})),x=i.series[r][k]/i.invertedYRatio):(M=i.drawStackedColumnPaths(u(u({},T),{},{xDivision:c,barWidth:x,zeroH:h})),b=i.series[r][k]/i.yRatio[i.yaxisIndex]),l=M.y,s=M.x,f.push(s),m.push(l);var C=i.barHelpers.getPathFillColor(t,r,k,g);v=i.renderSeries({realIndex:g,pathFill:C,j:k,i:r,pathFrom:M.pathFrom,pathTo:M.pathTo,strokeWidth:S,elSeries:v,x:s,y:l,series:t,barHeight:b,barWidth:x,elDataLabelsWrap:_,type:"bar",visibleSeries:0})}n.globals.seriesXvalues[g]=f,n.globals.seriesYvalues[g]=m,i.prevY.push(i.yArrj),i.prevYF.push(i.yArrjF),i.prevYVal.push(i.yArrjVal),i.prevX.push(i.xArrj),i.prevXF.push(i.xArrjF),i.prevXVal.push(i.xArrjVal),o.add(v)},d=0,h=0;d<t.length;d++,h++)c(d,h);return o}},{key:"initialPositions",value:function(t,e,i,n,r,a){var o,s,l=this.w;return this.isHorizontal?(o=(o=n=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,a=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(n-o)/2):(s=i=l.globals.gridWidth/l.globals.dataPoints,s=l.globals.isXNumeric&&l.globals.dataPoints>1?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:s*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,r=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-s)/2),{x:t,y:e,yDivision:n,xDivision:i,barHeight:o,barWidth:s,zeroH:r,zeroW:a}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,n=t.barHeight,r=t.strokeWidth,a=t.zeroW,o=t.x,s=t.y,l=t.yDivision,c=t.elSeries,u=this.w,d=s,h=i.i,p=i.j,f=0,m=0;m<this.prevXF.length;m++)f+=this.prevXF[m][p];if(h>0){var g=a;this.prevXVal[h-1][p]<0?g=this.series[h][p]>=0?this.prevX[h-1][p]+f-2*(this.isReversed?f:0):this.prevX[h-1][p]:this.prevXVal[h-1][p]>=0&&(g=this.series[h][p]>=0?this.prevX[h-1][p]:this.prevX[h-1][p]-f+2*(this.isReversed?f:0)),e=g}else e=a;o=null===this.series[h][p]?e:e+this.series[h][p]/this.invertedYRatio-2*(this.isReversed?this.series[h][p]/this.invertedYRatio:0),this.xArrj.push(o),this.xArrjF.push(Math.abs(e-o)),this.xArrjVal.push(this.series[h][p]);var y=this.barHelpers.getBarpaths({barYPosition:d,barHeight:n,x1:e,x2:o,strokeWidth:r,series:this.series,realIndex:i.realIndex,i:h,j:p,w:u});return this.barHelpers.barBackground({j:p,i:h,y1:d,y2:n,elSeries:c}),s+=l,{pathTo:y.pathTo,pathFrom:y.pathFrom,x:o,y:s}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=t.y,r=t.xDivision,a=t.barWidth,o=t.zeroH,s=(t.strokeWidth,t.elSeries),l=this.w,c=e.i,u=e.j,d=e.bc;if(l.globals.isXNumeric){var h=l.globals.seriesX[c][u];h||(h=0),i=(h-l.globals.minX)/this.xRatio-a/2}for(var p,f=i,m=0,g=0;g<this.prevYF.length;g++)m+=isNaN(this.prevYF[g][u])?0:this.prevYF[g][u];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][u]===l.globals.seriesX[c][u]){var y,v,_=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var b=1;b<_;b++)if(!isNaN(this.prevY[c-b][u])){v=this.prevY[c-b][u];break}for(var x=1;x<_;x++){if(this.prevYVal[c-x][u]<0){y=this.series[c][u]>=0?v-m+2*(this.isReversed?m:0):v;break}if(this.prevYVal[c-x][u]>=0){y=this.series[c][u]>=0?v:v+m-2*(this.isReversed?m:0);break}}void 0===y&&(y=l.globals.gridHeight),p=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?l.globals.gridHeight-o:y}else p=l.globals.gridHeight-o;n=p-this.series[c][u]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][u]/this.yRatio[this.yaxisIndex]:0),this.yArrj.push(n),this.yArrjF.push(Math.abs(p-n)),this.yArrjVal.push(this.series[c][u]);var w=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:a,y1:p,y2:n,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:u,w:l});return this.barHelpers.barBackground({bc:d,j:u,i:c,x1:f,x2:a,elSeries:s}),i+=r,{pathTo:w.pathTo,pathFrom:w.pathFrom,x:l.globals.isXNumeric?i-r:i,y:n}}}]),i}(),wt=function(t){d(i,z);var e=f(i);function i(){return a(this,i),e.apply(this,arguments)}return s(i,[{key:"draw",value:function(t,e){var i=this.w,n=new b(this.ctx),r=new L(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick;var a=new k(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var o=n.group({class:"apexcharts-candlestick-series apexcharts-plot-series"}),s=0;s<t.length;s++){var l,c,u,d,h=void 0,p=void 0,f=[],m=[],g=i.globals.comboCharts?e[s]:s,v=n.group({class:"apexcharts-series",seriesName:y.escapeString(i.globals.seriesNames[g]),rel:s+1,"data:realIndex":g});t[s].length>0&&(this.visibleI=this.visibleI+1),this.yRatio.length>1&&(this.yaxisIndex=g);var _=this.barHelpers.initialPositions();p=_.y,u=_.barHeight,h=_.x,d=_.barWidth,l=_.xDivision,c=_.zeroH,m.push(h+d/2);for(var x=n.group({class:"apexcharts-datalabels","data:realIndex":g}),w=0;w<i.globals.dataPoints;w++){var S,T=this.barHelpers.getStrokeWidth(s,w,g),M=this.drawCandleStickPaths({indexes:{i:s,j:w,realIndex:g},x:h,y:p,xDivision:l,barWidth:d,zeroH:c,strokeWidth:T,elSeries:v});p=M.y,h=M.x,S=M.color,w>0&&m.push(h+d/2),f.push(p);var C=r.fillPath({seriesNumber:g,dataPointIndex:w,color:S,value:t[s][w]}),D=this.candlestickOptions.wick.useFillColor?S:void 0;this.renderSeries({realIndex:g,pathFill:C,lineFill:D,j:w,i:s,pathFrom:M.pathFrom,pathTo:M.pathTo,strokeWidth:T,elSeries:v,x:h,y:p,series:t,barHeight:u,barWidth:d,elDataLabelsWrap:x,visibleSeries:this.visibleI,type:"candlestick"})}i.globals.seriesXvalues[g]=m,i.globals.seriesYvalues[g]=f,o.add(v)}return o}},{key:"drawCandleStickPaths",value:function(t){var e=t.indexes,i=t.x,n=(t.y,t.xDivision),r=t.barWidth,a=t.zeroH,o=t.strokeWidth,s=this.w,l=new b(this.ctx),c=e.i,u=e.j,d=!0,h=s.config.plotOptions.candlestick.colors.upward,p=s.config.plotOptions.candlestick.colors.downward,f=this.yRatio[this.yaxisIndex],m=e.realIndex,g=this.getOHLCValue(m,u),y=a,v=a;g.o>g.c&&(d=!1);var _=Math.min(g.o,g.c),x=Math.max(g.o,g.c);s.globals.isXNumeric&&(i=(s.globals.seriesX[m][u]-s.globals.minX)/this.xRatio-r/2);var w=i+r*this.visibleI;void 0===this.series[c][u]||null===this.series[c][u]?_=a:(_=a-_/f,x=a-x/f,y=a-g.h/f,v=a-g.l/f);var k=l.move(w,a),S=l.move(w,_);return s.globals.previousPaths.length>0&&(S=this.getPreviousPath(m,u,!0)),k=l.move(w,x)+l.line(w+r/2,x)+l.line(w+r/2,y)+l.line(w+r/2,x)+l.line(w+r,x)+l.line(w+r,_)+l.line(w+r/2,_)+l.line(w+r/2,v)+l.line(w+r/2,_)+l.line(w,_)+l.line(w,x-o/2),S+=l.move(w,_),s.globals.isXNumeric||(i+=n),{pathTo:k,pathFrom:S,x:i,y:x,barXPosition:w,color:d?h:p}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:i.globals.seriesCandleO[t][e],h:i.globals.seriesCandleH[t][e],l:i.globals.seriesCandleL[t][e],c:i.globals.seriesCandleC[t][e]}}}]),i}(),kt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(t,i){t.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,n){var r=this.w,a=1,o=r.config.plotOptions[t].shadeIntensity,s=this.determineColor(t,e,i);r.globals.hasNegs||n?a=r.config.plotOptions[t].reverseNegativeShade?s.percent<0?s.percent/100*(1.25*o):(1-s.percent/100)*(1.25*o):s.percent<=0?1-(1+s.percent/100)*o:(1-s.percent/100)*o:(a=1-s.percent/100,"treemap"===t&&(a=(1-s.percent/100)*(1.25*o)));var l=s.color,c=new y;return r.config.plotOptions[t].enableShades&&(a<0&&(a=0),l="dark"===this.w.config.theme.mode?y.hexToRgba(c.shadeColor(-1*a,s.color),r.config.fill.opacity):y.hexToRgba(c.shadeColor(a,s.color),r.config.fill.opacity)),{color:l,colorProps:s}}},{key:"determineColor",value:function(t,e,i){var n=this.w,r=n.globals.series[e][i],a=n.config.plotOptions[t],o=a.colorScale.inverse?i:e;n.config.plotOptions[t].distributed&&(o=i);var s=n.globals.colors[o],l=null,c=Math.min.apply(Math,m(n.globals.series[e])),u=Math.max.apply(Math,m(n.globals.series[e]));a.distributed||"heatmap"!==t||(c=n.globals.minY,u=n.globals.maxY),void 0!==a.colorScale.min&&(c=a.colorScale.min<n.globals.minY?a.colorScale.min:n.globals.minY,u=a.colorScale.max>n.globals.maxY?a.colorScale.max:n.globals.maxY);var d=Math.abs(u)+Math.abs(c),h=100*r/(0===d?d-1e-6:d);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map((function(t,e){if(r>=t.from&&r<=t.to){s=t.color,l=t.foreColor?t.foreColor:null,c=t.from,u=t.to;var i=Math.abs(u)+Math.abs(c);h=100*r/(0===i?i-1e-6:i)}})),{color:s,foreColor:l,percent:h}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,n=t.y,r=t.i,a=t.j,o=t.colorProps,s=t.fontSize,l=this.w.config.dataLabels,c=new b(this.ctx),u=new P(this.ctx),d=null;if(l.enabled){d=c.group({class:"apexcharts-data-labels"});var h=l.offsetX,p=l.offsetY,f=i+h,m=n+parseFloat(l.style.fontSize)/3+p;u.plotDataLabelsText({x:f,y:m,text:e,i:r,j:a,color:o.foreColor,parent:d,fontSize:s,dataLabelsConfig:l})}return d}},{key:"addListeners",value:function(t){var e=new b(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),t}(),St=function(){function t(e,i){a(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new kt(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return s(t,[{key:"draw",value:function(t){var e=this.w,i=new b(this.ctx),n=i.group({class:"apexcharts-heatmap"});n.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var r=e.globals.gridWidth/e.globals.dataPoints,a=e.globals.gridHeight/e.globals.series.length,o=0,s=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(s=!0,l.reverse());for(var c=s?0:l.length-1;s?c<l.length:c>=0;s?c++:c--){var u=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:y.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(u,c),e.config.chart.dropShadow.enabled){var d=e.config.chart.dropShadow;new _(this.ctx).dropShadow(u,d,c)}for(var h=0,p=e.config.plotOptions.heatmap.shadeIntensity,f=0;f<l[c].length;f++){var m=this.helpers.getShadeColor(e.config.chart.type,c,f,this.negRange),g=m.color,v=m.colorProps;"image"===e.config.fill.type&&(g=new L(this.ctx).fillPath({seriesNumber:c,dataPointIndex:f,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:y.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:r,height:e.config.fill.image.height?e.config.fill.image.height:a}));var x=this.rectRadius,w=i.drawRect(h,o,r,a,x);if(w.attr({cx:h,cy:o}),w.node.classList.add("apexcharts-heatmap-rect"),u.add(w),w.attr({fill:g,i:c,index:c,j:f,val:l[c][f],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?g:e.globals.stroke.colors[0],color:g}),this.helpers.addListeners(w),e.config.chart.animations.enabled&&!e.globals.dataChanged){var k=1;e.globals.resized||(k=e.config.chart.animations.speed),this.animateHeatMap(w,h,o,r,a,k)}if(e.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){S=this.dynamicAnim.speed;var T=e.globals.previousPaths[c]&&e.globals.previousPaths[c][f]&&e.globals.previousPaths[c][f].color;T||(T="rgba(255, 255, 255, 0)"),this.animateHeatColor(w,y.isColorHex(T)?T:y.rgb2hex(T),y.isColorHex(g)?g:y.rgb2hex(g),S)}}var M=(0,e.config.dataLabels.formatter)(e.globals.series[c][f],{value:e.globals.series[c][f],seriesIndex:c,dataPointIndex:f,w:e}),C=this.helpers.calculateDataLabels({text:M,x:h+r/2,y:o+a/2,i:c,j:f,colorProps:v,series:l});null!==C&&u.add(C),h+=r}o+=a,n.add(u)}var D=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?D.unshift(""):D.push(""),e.globals.yAxisScale[0].result=D;var A=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-A/2,n}},{key:"animateHeatMap",value:function(t,e,i,n,r,a){var o=new v(this.ctx);o.animateRect(t,{x:e+n/2,y:i+r/2,width:0,height:0},{x:e,y:i,width:n,height:r},a,(function(){o.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,n){t.attr({fill:e}).animate(n).attr({fill:i})}}]),t}(),Tt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawYAxisTexts",value:function(t,e,i,n){var r=this.w,a=r.config.yaxis[0],o=r.globals.yLabelFormatters[0];return new b(this.ctx).drawText({x:t+a.labels.offsetX,y:e+a.labels.offsetY,text:o(n,i),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[i]:a.labels.style.colors})}}]),t}(),Mt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,"radialBar"===i.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return s(t,[{key:"draw",value:function(t){var e=this,i=this.w,n=new b(this.ctx);if(this.ret=n.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var r=0,a=0;a<t.length;a++)r+=y.negToZero(t[a]);var o=[],s=n.group();0===r&&(r=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var c=this.fullAngle*y.negToZero(t[l])/r;o.push(c),"polarArea"===this.chartType?(o[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var u,d=0,h=0;h<i.globals.previousPaths.length;h++)d+=y.negToZero(i.globals.previousPaths[h]);for(var p=0;p<i.globals.previousPaths.length;p++)u=this.fullAngle*y.negToZero(i.globals.previousPaths[p])/d,this.prevSectorAngleArr.push(u)}this.donutSize<0&&(this.donutSize=0);var f=i.config.plotOptions.pie.customScale,m=i.globals.gridWidth/2,g=i.globals.gridHeight/2,v=m-i.globals.gridWidth/2*f,_=g-i.globals.gridHeight/2*f;if("donut"===this.chartType){var x=n.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),s.add(x)}var w=this.drawArcs(o,t);if(this.sliceLabels.forEach((function(t){w.add(t)})),s.attr({transform:"translate(".concat(v,", ").concat(_,") scale(").concat(f,")")}),s.add(w),this.ret.add(s),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:_});this.ret.add(k)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,n=new _(this.ctx),r=new b(this.ctx),a=new L(this.ctx),o=r.group({class:"apexcharts-slices"}),s=this.initialAngle,l=this.initialAngle,c=this.initialAngle,u=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var d=0;d<t.length;d++){var h=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:y.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});o.add(h),l=u,c=(s=c)+t[d],u=l+this.prevSectorAngleArr[d];var p=c<s?this.fullAngle+c-s:c-s,f=a.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:e[d]}),m=this.getChangedPath(l,u),g=r.drawPath({d:m,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:f,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(g.attr({index:0,j:d}),n.setSelectionFilter(g,0,d),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;n.dropShadow(g,v,d)}this.addListeners(g,this.donutDataLabels),b.setAttrs(g.node,{"data:angle":p,"data:startAngle":s,"data:strokeWidth":this.strokeWidth,"data:value":e[d]});var x={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?x=y.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(s+p/2)%this.fullAngle):"donut"===this.chartType&&(x=y.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(s+p/2)%this.fullAngle)),h.add(g);var w=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0==(w=p/this.fullAngle*i.config.chart.animations.speed)&&(w=1),this.animDur=w+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[d],endAngle:c,startAngle:s,prevStartAngle:l,prevEndAngle:u,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[d],endAngle:c,startAngle:s,i:d,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:w}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,d)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),i.config.dataLabels.enabled){var k=x.x,S=x.y,T=100*p/this.fullAngle+"%";if(0!==p&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[d]){var M=i.config.dataLabels.formatter;void 0!==M&&(T=M(i.globals.seriesPercent[d][0],{seriesIndex:d,w:i}));var C=i.globals.dataLabels.style.colors[d],D=r.group({class:"apexcharts-datalabels"}),A=r.drawText({x:k,y:S,text:T,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:C});if(D.add(A),i.config.dataLabels.dropShadow.enabled){var E=i.config.dataLabels.dropShadow;n.dropShadow(A,E)}A.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(A.node.classList.add("apexcharts-pie-label-delay"),A.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(D)}}}return o}},{key:"addListeners",value:function(t,e){var i=new b(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,n=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,r=n,a=e.startAngle,o=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(a=e.prevEndAngle,r=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(n+o>this.fullAngle?e.endAngle=e.endAngle-(n+o):n+o<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(n+o)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(t,a,o,n,r,e)}},{key:"animateArc",value:function(t,e,i,n,r,a){var o,s=this,l=this.w,c=new v(this.ctx),u=a.size;(isNaN(e)||isNaN(r))&&(e=i,r=n,a.dur=0);var d=n,h=i,p=e<i?this.fullAngle+e-i:e-i;l.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=s.getPiePath({me:s,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:u}),t.attr({d:o})),0!==a.dur?t.animate(a.dur,l.globals.easing,a.animBeginArr[a.i]).afterAll((function(){"pie"!==s.chartType&&"donut"!==s.chartType&&"polarArea"!==s.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":s.strokeWidth}),a.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){d=p+(n-p)*l,a.animateStartingPos&&(d=r+(n-r)*l,h=e-r+(i-(e-r))*l),o=s.getPiePath({me:s,startAngle:h,angle:d,size:u}),t.node.setAttribute("data:pathOrig",o),t.attr({d:o})})):(o=s.getPiePath({me:s,startAngle:h,angle:n,size:u}),a.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",o),t.attr({d:o,"stroke-width":s.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,n=this,r=n.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),a=i.globals.dom.Paper.select(".apexcharts-".concat(n.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==a.attr("data:pieClicked")){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),a.attr("data:pieClicked","true");var s=parseInt(a.attr("data:startAngle"),10),l=parseInt(a.attr("data:angle"),10);e=n.getPiePath({me:n,startAngle:s,angle:l,size:r}),360!==l&&a.plot(e)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var c=a.attr("data:pathOrig");a.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,n=t.angle,r=t.size,a=i,o=Math.PI*(a-90)/180,s=n+i;Math.ceil(s)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(s=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(s)>this.fullAngle&&(s-=this.fullAngle);var l=Math.PI*(s-90)/180,c=e.centerX+r*Math.cos(o),u=e.centerY+r*Math.sin(o),d=e.centerX+r*Math.cos(l),h=e.centerY+r*Math.sin(l),p=y.polarToCartesian(e.centerX,e.centerY,e.donutSize,s),f=y.polarToCartesian(e.centerX,e.centerY,e.donutSize,a),m=n>180?1:0,g=["M",c,u,"A",r,r,0,m,1,d,h];return"donut"===e.chartType?[].concat(g,["L",p.x,p.y,"A",e.donutSize,e.donutSize,0,m,0,f.x,f.y,"L",c,u,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(g,["L",e.centerX,e.centerY,"L",c,u]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new X(this.ctx),n=new b(this.ctx),r=new Tt(this.ctx),a=n.group(),o=n.group(),s=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),l=s.result.reverse(),c=s.result.length;this.maxY=s.niceMax;for(var u=e.globals.radialSize,d=u/(c-1),h=0;h<c-1;h++){var p=n.drawCircle(u);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var f=r.drawYAxisTexts(this.centerX,this.centerY-u+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,h,l[h]);o.add(f)}a.add(p),u-=d}this.drawSpokes(t),t.add(a),t.add(o)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,n=new b(this.ctx),r=n.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),a=t.total.show;r.node.style.opacity=e.opacity;var o,s,l=e.centerX,c=e.centerY;o=void 0===t.name.color?i.globals.colors[0]:t.name.color;var u=t.name.fontSize,d=t.name.fontFamily,h=t.value.fontWeight;s=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var p=t.value.formatter,f="",m="";if(a?(o=t.total.color,u=t.total.fontSize,d=t.total.fontFamily,h=t.total.fontWeight,m=t.total.label,f=t.total.formatter(i)):1===i.globals.series.length&&(f=p(i.globals.series[0],i),m=i.globals.seriesNames[0]),m&&(m=t.name.formatter(m,t.total.show,i)),t.name.show){var g=n.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:m,textAnchor:"middle",foreColor:o,fontSize:u,fontWeight:h,fontFamily:d});g.node.classList.add("apexcharts-datalabel-label"),r.add(g)}if(t.value.show){var y=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,v=n.drawText({x:l,y:c+y,text:f,textAnchor:"middle",foreColor:s,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),r.add(v)}return r}},{key:"printInnerLabels",value:function(t,e,i,n){var r,a=this.w;n?r=void 0===t.name.color?a.globals.colors[parseInt(n.parentNode.getAttribute("rel"),10)-1]:t.name.color:a.globals.series.length>1&&t.total.show&&(r=t.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),s=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,a),n||"function"!=typeof t.total.formatter||(i=t.total.formatter(a));var l=e===t.total.label;e=t.name.formatter(e,l,a),null!==o&&(o.textContent=e),null!==s&&(s.textContent=i),null!==o&&(o.style.fill=r)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,n=t.getAttribute("data:value"),r=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,r,n,t);var a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==a&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,n=new b(this.ctx),r=i.config.plotOptions.polarArea.spokes;0!==r.strokeWidth&&y.getPolygonPos(i.globals.radialSize,i.globals.series.length).forEach((function(i,a){var o=n.drawLine(i.x+e.centerX,i.y+e.centerY,e.centerX,e.centerY,Array.isArray(r.connectorColors)?r.connectorColors[a]:r.connectorColors);t.add(o)}))}},{key:"revertDataLabelsInner",value:function(t,e,i){var n=this,r=this.w,a=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),o=!1,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var i=t.makeSliceOut,r=t.printLabel;Array.prototype.forEach.call(s,(function(t){"true"===t.getAttribute("data:pieClicked")&&(i&&(o=!0),r&&n.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&r.globals.series.length>1)o&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(r));else if(l({makeSliceOut:!1,printLabel:!0}),!o)if(r.globals.selectedDataPoints.length&&r.globals.series.length>1)if(r.globals.selectedDataPoints[0].length>0){var c=r.globals.selectedDataPoints[0],u=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(u,e)}else a&&r.globals.selectedDataPoints.length&&0===r.globals.selectedDataPoints[0].length&&(a.style.opacity=0);else a&&r.globals.series.length>1&&(a.style.opacity=0)}}]),t}(),Ct=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new b(this.ctx),this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new k(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),void 0!==i.config.plotOptions.radar.size&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s(t,[{key:"draw",value:function(t){var e=this,i=this.w,n=new L(this.ctx),r=[],a=new P(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,s=i.globals.gridHeight/2,l=o+i.config.plotOptions.radar.offsetX,c=s+i.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(l||0,", ").concat(c||0,")")}),h=[],p=null,f=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,o){var s=t.length===i.globals.dataPoints,l=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":s,seriesName:y.escapeString(i.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});e.dataRadiusOfPercent[o]=[],e.dataRadius[o]=[],e.angleArr[o]=[],t.forEach((function(t,i){var n=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.isLog&&(t=e.coreUtils.getLogVal(t,0)),e.dataRadiusOfPercent[o][i]=t/n,e.dataRadius[o][i]=e.dataRadiusOfPercent[o][i]*e.size,e.angleArr[o][i]=i*e.disAngle})),h=e.getDataPointsPos(e.dataRadius[o],e.angleArr[o]);var c=e.createPaths(h,{x:0,y:0});p=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),f=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":o}),i.globals.delayedElements.push({el:p.node,index:o});var d={i:o,realIndex:o,animationDelay:o,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[o],strokeLineCap:i.config.stroke.lineCap},m=null;i.globals.previousPaths.length>0&&(m=e.getPreviousPath(o));for(var g=0;g<c.linePathsTo.length;g++){var v=e.graphics.renderPaths(u(u({},d),{},{pathFrom:null===m?c.linePathsFrom[g]:m,pathTo:c.linePathsTo[g],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[o]:e.strokeWidth,fill:"none",drawShadow:!1}));l.add(v);var b=n.fillPath({seriesNumber:o}),x=e.graphics.renderPaths(u(u({},d),{},{pathFrom:null===m?c.areaPathsFrom[g]:m,pathTo:c.areaPathsTo[g],strokeWidth:0,fill:b,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var w=new _(e.ctx),k=i.config.chart.dropShadow;w.dropShadow(x,Object.assign({},k,{noUserSpaceOnUse:!0}),o)}l.add(x)}t.forEach((function(t,n){var r=new A(e.ctx).getMarkerConfig("apexcharts-marker",o,n),s=e.graphics.drawMarker(h[n].x,h[n].y,r);s.attr("rel",n),s.attr("j",n),s.attr("index",o),s.node.setAttribute("default-marker-size",r.pSize);var c=e.graphics.group({class:"apexcharts-series-markers"});c&&c.add(s),p.add(c),l.add(p);var d=i.config.dataLabels;if(d.enabled){var m=d.formatter(i.globals.series[o][n],{seriesIndex:o,dataPointIndex:n,w:i});a.plotDataLabelsText({x:h[n].x,y:h[n].y,text:m,textAnchor:"middle",i:o,j:o,parent:f,offsetCorrection:!1,dataLabelsConfig:u({},d)})}l.add(f)})),r.push(l)})),this.drawPolygons({parent:d}),i.config.xaxis.labels.show){var m=this.drawXAxisTexts();d.add(m)}return r.forEach((function(t){d.add(t)})),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,n=t.parent,r=new Tt(this.ctx),a=i.globals.yAxisScale[0].result.reverse(),o=a.length,s=[],l=this.size/(o-1),c=0;c<o;c++)s[c]=l*c;s.reverse();var u=[],d=[];s.forEach((function(t,i){var n=y.getPolygonPos(t,e.dataPointsLen),r="";n.forEach((function(t,n){if(0===i){var a=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[n]:e.polygons.connectorColors);d.push(a)}0===n&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),r+=t.x+","+t.y+" "})),u.push(r)})),u.forEach((function(t,r){var a=e.polygons.strokeColors,o=e.polygons.strokeWidth,s=e.graphics.drawPolygon(t,Array.isArray(a)?a[r]:a,Array.isArray(o)?o[r]:o,i.globals.radarPolygons.fill.colors[r]);n.add(s)})),d.forEach((function(t){n.add(t)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,i){var n=r.drawYAxisTexts(t.x,t.y,i,a[i]);e.yaxisLabels.add(n)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,n=this.graphics.group({class:"apexcharts-xaxis"}),r=y.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(a,o){var s=e.config.xaxis.labels.formatter,l=new P(t.ctx);if(r[o]){var c=t.getTextPos(r[o],t.size),d=s(a,{seriesIndex:-1,dataPointIndex:o,w:e});l.plotDataLabelsText({x:c.newX,y:c.newY,text:d,textAnchor:c.textAnchor,i:o,j:o,parent:n,color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:u({textAnchor:c.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}})),n}},{key:"createPaths",value:function(t,e){var i=this,n=[],r=[],a=[],o=[];if(t.length){r=[this.graphics.move(e.x,e.y)],o=[this.graphics.move(e.x,e.y)];var s=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,n){s+=i.graphics.line(e.x,e.y),l+=i.graphics.line(e.x,e.y),n===t.length-1&&(s+="Z",l+="Z")})),n.push(s),a.push(l)}return{linePathsFrom:r,linePathsTo:n,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(t,e){var i="middle",n=t.x,r=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",n+=10):t.x<0&&(i="end",n-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?r-=10:t.y>0&&(r+=10)),{textAnchor:i,newX:n,newY:r}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,n=0;n<e.globals.previousPaths.length;n++){var r=e.globals.previousPaths[n];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[n].paths[0]&&(i=e.globals.previousPaths[n].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var n=[],r=0;r<i;r++){var a={};a.x=t[r]*Math.sin(e[r]),a.y=-t[r]*Math.cos(e[r]),n.push(a)}return n}}]),t}(),Dt=function(t){d(i,Mt);var e=f(i);function i(t){var n;a(this,i),(n=e.call(this,t)).ctx=t,n.w=t.w,n.animBeginArr=[0],n.animDur=0;var r=n.w;return n.startAngle=r.config.plotOptions.radialBar.startAngle,n.endAngle=r.config.plotOptions.radialBar.endAngle,n.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),n.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,n.radialDataLabels=r.config.plotOptions.radialBar.dataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),360===n.endAngle&&(n.endAngle=359.99),n.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),n}return s(i,[{key:"draw",value:function(t){var e=this.w,i=new b(this.ctx),n=i.group({class:"apexcharts-radialbar"});if(e.globals.noData)return n;var r=i.group(),a=this.defaultSize/2,o=e.globals.gridWidth/2,s=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(s=s-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:s,centerX:o,centerY:a,colorArr:l,series:t});r.add(c)}var u=this.drawArcs({size:s,centerX:o,centerY:a,colorArr:l,series:t}),d=360;e.config.plotOptions.radialBar.startAngle<0&&(d=this.totalAngle);var h=(360-d)/360;if(e.globals.radialSize=s-s*h,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=p*h}return r.add(u.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(u.g.add(u.elHollow),u.dataLabels&&u.g.add(u.dataLabels)),n.add(r),n}},{key:"drawTracks",value:function(t){var e=this.w,i=new b(this.ctx),n=i.group({class:"apexcharts-tracks"}),r=new _(this.ctx),a=new L(this.ctx),o=this.getStrokeWidth(t);t.size=t.size-o/2;for(var s=0;s<t.series.length;s++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"});n.add(l),l.attr({rel:s+1}),t.size=t.size-o-this.margin;var c=e.config.plotOptions.radialBar.track,u=a.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[s]:c.background,solid:!0}),d=this.trackStartAngle,h=this.trackEndAngle;Math.abs(h)+Math.abs(d)>=360&&(h=360-Math.abs(this.startAngle)-.1);var p=i.drawPath({d:"",stroke:u,strokeWidth:o*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var f=c.dropShadow;r.dropShadow(p,f)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+s),this.animatePaths(p,{centerX:t.centerX,centerY:t.centerY,endAngle:h,startAngle:d,size:t.size,i:s,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return n}},{key:"drawArcs",value:function(t){var e=this.w,i=new b(this.ctx),n=new L(this.ctx),r=new _(this.ctx),a=i.group(),o=this.getStrokeWidth(t);t.size=t.size-o/2;var s=e.config.plotOptions.radialBar.hollow.background,l=t.size-o*t.series.length-this.margin*t.series.length-o*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(s=this.drawHollowImage(t,a,l,s));var u=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:s||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var d=e.config.plotOptions.radialBar.hollow.dropShadow;r.dropShadow(u,d)}var h=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(h=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:h})),"back"===e.config.plotOptions.radialBar.hollow.position&&(a.add(u),p&&a.add(p));var f=!1;e.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var m=f?t.series.length-1:0;f?m>=0:m<t.series.length;f?m--:m++){var g=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:y.escapeString(e.globals.seriesNames[m])});a.add(g),g.attr({rel:m+1,"data:realIndex":m}),this.ctx.series.addCollapsedClassToSeries(g,m),t.size=t.size-o-this.margin;var v=n.fillPath({seriesNumber:m,size:t.size,value:t.series[m]}),x=this.startAngle,w=void 0,k=y.negToZero(t.series[m]>100?100:t.series[m])/100,S=Math.round(this.totalAngle*k)+this.startAngle,T=void 0;e.globals.dataChanged&&(w=this.startAngle,T=Math.round(this.totalAngle*y.negToZero(e.globals.previousPaths[m])/100)+w),Math.abs(S)+Math.abs(x)>=360&&(S-=.01),Math.abs(T)+Math.abs(w)>=360&&(T-=.01);var M=S-x,C=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[m]:e.config.stroke.dashArray,D=i.drawPath({d:"",stroke:v,strokeWidth:o,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+m,strokeDashArray:C});if(b.setAttrs(D.node,{"data:angle":M,"data:value":t.series[m]}),e.config.chart.dropShadow.enabled){var A=e.config.chart.dropShadow;r.dropShadow(D,A,m)}r.setSelectionFilter(D,0,m),this.addListeners(D,this.radialDataLabels),g.add(D),D.attr({index:0,j:m});var E=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(E=(S-x)/360*e.config.chart.animations.speed,this.animDur=E/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),e.globals.dataChanged&&(E=(S-x)/360*e.config.chart.animations.dynamicAnimation.speed,this.animDur=E/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(D,{centerX:t.centerX,centerY:t.centerY,endAngle:S,startAngle:x,prevEndAngle:T,prevStartAngle:w,size:t.size,i:m,totalItems:2,animBeginArr:this.animBeginArr,dur:E,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:a,elHollow:u,dataLabels:p}}},{key:"drawHollow",value:function(t){var e=new b(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,i,n){var r=this.w,a=new L(this.ctx),o=y.randomId(),s=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)a.clippedImgArea({width:i,height:i,image:s,patternID:"pattern".concat(r.globals.cuid).concat(o)}),n="url(#pattern".concat(r.globals.cuid).concat(o,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var u=r.globals.dom.Paper.image(s).loaded((function(e){this.move(t.centerX-e.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(u)}else{var d=r.globals.dom.Paper.image(s).loaded((function(e){this.move(t.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(d)}}return n}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),i}(),Lt=function(){function t(e){a(this,t),this.w=e.w,this.lineCtx=e}return s(t,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if("line"===i.config.chart.type&&("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new k(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var n=e[t].slice();n[n.length-1]=n[n.length-1]+1e-6,e[t]=n}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,n=t.x,r=t.y,a=t.i,o=t.j,s=t.prevY,l=this.w,c=[],u=[];if(0===o){var d=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(d=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(d),u.push(y.isNumber(e[a][0])?s+l.config.markers.offsetY:null),c.push(n+l.config.markers.offsetX),u.push(y.isNumber(e[a][o+1])?r+l.config.markers.offsetY:null)}else c.push(n+l.config.markers.offsetX),u.push(y.isNumber(e[a][o+1])?r+l.config.markers.offsetY:null);return{x:c,y:u}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,n=t.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var o=r.globals.previousPaths[a];("line"===o.type||"area"===o.type)&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(n,10)&&("line"===o.type?(this.lineCtx.appendPathFrom=!1,e=r.globals.previousPaths[a].paths[0].d):"area"===o.type&&(this.lineCtx.appendPathFrom=!1,i=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(e=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e=t.i,i=t.series,n=t.prevY,r=t.lineYPosition,a=this.w;if(void 0!==i[e][0])n=(r=a.config.chart.stacked&&e>0?this.lineCtx.prevSeriesY[e-1][0]:this.lineCtx.zeroY)-i[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?i[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(a.config.chart.stacked&&e>0&&void 0===i[e][0])for(var o=e-1;o>=0;o--)if(null!==i[o][0]&&void 0!==i[o][0]){n=r=this.lineCtx.prevSeriesY[o][0];break}return{prevY:n,lineYPosition:r}}}]),t}(),At=function(){function t(e,i,n){a(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||n,this.scatter=new E(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Lt(this),this.markers=new A(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return s(t,[{key:"draw",value:function(t,e,i){var n=this.w,r=new b(this.ctx),a=n.globals.comboCharts?e:n.config.chart.type,o=r.group({class:"apexcharts-".concat(a,"-series apexcharts-plot-series")}),s=new k(this.ctx,n);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=s.getLogSeries(t),this.yRatio=s.getLogYRatios(this.yRatio);for(var l=[],c=0;c<t.length;c++){t=this.lineHelpers.sameValueSeriesFix(c,t);var u=n.globals.comboCharts?i[c]:c;this._initSerieVariables(t,c,u);var d=[],h=[],p=n.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),n.globals.isXNumeric&&n.globals.seriesX.length>0&&(p=(n.globals.seriesX[u][0]-n.globals.minX)/this.xRatio),h.push(p);var f,m=p,g=m,y=this.zeroY;y=this.lineHelpers.determineFirstPrevY({i:c,series:t,prevY:y,lineYPosition:0}).prevY,d.push(y),f=y;var v=this._calculatePathsFrom({series:t,i:c,realIndex:u,prevX:g,prevY:y}),_=this._iterateOverDataPoints({series:t,realIndex:u,i:c,x:p,y:1,pX:m,pY:f,pathsFrom:v,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:h,yArrj:d});this._handlePaths({type:a,realIndex:u,i:c,paths:_}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(n.config.chart.stacked)for(var x=l.length;x>0;x--)o.add(l[x-1]);else for(var w=0;w<l.length;w++)o.add(l[w]);return o}},{key:"_initSerieVariables",value:function(t,e,i){var n=this.w,r=new b(this.ctx);this.xDivision=n.globals.gridWidth/(n.globals.dataPoints-("on"===n.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(n.config.stroke.width)?n.config.stroke.width[i]:n.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed,this.zeroY=n.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?n.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>n.globals.gridHeight||"end"===n.config.plotOptions.area.fillTo)&&(this.areaBottomY=n.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",seriesName:y.escapeString(n.globals.seriesNames[i])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":i});var a=t[e].length===n.globals.dataPoints;this.elSeries.attr({"data:longestSeries":a,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,n,r,a=t.series,o=t.i,s=t.realIndex,l=t.prevX,c=t.prevY,u=this.w,d=new b(this.ctx);if(null===a[o][0]){for(var h=0;h<a[o].length;h++)if(null!==a[o][h]){l=this.xDivision*h,c=this.zeroY-a[o][h]/this.yRatio[this.yaxisIndex],e=d.move(l,c),i=d.move(l,this.areaBottomY);break}}else e=d.move(l,c),i=d.move(l,this.areaBottomY)+d.line(l,c);if(n=d.move(-1,this.zeroY)+d.line(-1,this.zeroY),r=d.move(-1,this.zeroY)+d.line(-1,this.zeroY),u.globals.previousPaths.length>0){var p=this.lineHelpers.checkPreviousPaths({pathFromLine:n,pathFromArea:r,realIndex:s});n=p.pathFromLine,r=p.pathFromArea}return{prevX:l,prevY:c,linePath:e,areaPath:i,pathFromLine:n,pathFromArea:r}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,n=t.i,r=t.paths,a=this.w,o=new b(this.ctx),s=new L(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[i]=r.xArrj,a.globals.seriesYvalues[i]=r.yArrj,this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var l={i:n,realIndex:i,animationDelay:n,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var c=s.fillPath({seriesNumber:i}),d=0;d<r.areaPaths.length;d++){var h=o.renderPaths(u(u({},l),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[d],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:c}));this.elSeries.add(h)}if(a.config.stroke.show&&!this.pointsChart){var p;p="line"===e?s.fillPath({seriesNumber:i,i:n}):a.globals.stroke.colors[i];for(var f=0;f<r.linePaths.length;f++){var m=o.renderPaths(u(u({},l),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[f],stroke:p,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:"none"}));this.elSeries.add(m)}}}},{key:"_iterateOverDataPoints",value:function(t){for(var e=t.series,i=t.realIndex,n=t.i,r=t.x,a=t.y,o=t.pX,s=t.pY,l=t.pathsFrom,c=t.linePaths,u=t.areaPaths,d=t.seriesIndex,h=t.lineYPosition,p=t.xArrj,f=t.yArrj,m=this.w,g=new b(this.ctx),v=this.yRatio,_=l.prevY,x=l.linePath,w=l.areaPath,k=l.pathFromLine,S=l.pathFromArea,T=y.isNumber(m.globals.minYArr[i])?m.globals.minYArr[i]:m.globals.minY,M=m.globals.dataPoints>1?m.globals.dataPoints-1:m.globals.dataPoints,C=0;C<M;C++){var D=void 0===e[n][C+1]||null===e[n][C+1];if(m.globals.isXNumeric){var L=m.globals.seriesX[i][C+1];void 0===m.globals.seriesX[i][C+1]&&(L=m.globals.seriesX[i][M-1]),r=(L-m.globals.minX)/this.xRatio}else r+=this.xDivision;h=m.config.chart.stacked&&n>0&&m.globals.collapsedSeries.length<m.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<m.globals.series.length;i++)if(m.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(n-1)][C+1]:this.zeroY,a=D?h-T/v[this.yaxisIndex]+2*(this.isReversed?T/v[this.yaxisIndex]:0):h-e[n][C+1]/v[this.yaxisIndex]+2*(this.isReversed?e[n][C+1]/v[this.yaxisIndex]:0),p.push(r),f.push(a);var A=this.lineHelpers.calculatePoints({series:e,x:r,y:a,realIndex:i,i:n,j:C,prevY:_}),E=this._createPaths({series:e,i:n,realIndex:i,j:C,x:r,y:a,pX:o,pY:s,linePath:x,areaPath:w,linePaths:c,areaPaths:u,seriesIndex:d});u=E.areaPaths,c=E.linePaths,o=E.pX,s=E.pY,w=E.areaPath,x=E.linePath,this.appendPathFrom&&(k+=g.line(r,this.zeroY),S+=g.line(r,this.zeroY)),this.handleNullDataPoints(e,A,n,C,i),this._handleMarkersAndLabels({pointsPos:A,series:e,x:r,y:a,prevY:_,i:n,j:C,realIndex:i})}return{yArrj:f,xArrj:p,pathFromArea:S,areaPaths:u,pathFromLine:k,linePaths:c}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.pointsPos,i=(t.series,t.x,t.y,t.prevY,t.i),n=t.j,r=t.realIndex,a=this.w,o=new P(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,n,{realIndex:r,pointsPos:e,zRatio:this.zRatio,elParent:this.elPointsMain});else{a.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var s=this.markers.plotChartMarkers(e,r,n+1);null!==s&&this.elPointsMain.add(s)}var l=o.drawDataLabel(e,r,n+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(t){var e=t.series,i=t.i,n=t.realIndex,r=t.j,a=t.x,o=t.y,s=t.pX,l=t.pY,c=t.linePath,u=t.areaPath,d=t.linePaths,h=t.areaPaths,p=t.seriesIndex,f=this.w,m=new b(this.ctx),g=f.config.stroke.curve,y=this.areaBottomY;if(Array.isArray(f.config.stroke.curve)&&(g=Array.isArray(p)?f.config.stroke.curve[p[i]]:f.config.stroke.curve[i]),"smooth"===g){var v=.35*(a-s);f.globals.hasNullValues?(null!==e[i][r]&&(null!==e[i][r+1]?(c=m.move(s,l)+m.curve(s+v,l,a-v,o,a+1,o),u=m.move(s+1,l)+m.curve(s+v,l,a-v,o,a+1,o)+m.line(a,y)+m.line(s,y)+"z"):(c=m.move(s,l),u=m.move(s,l)+"z")),d.push(c),h.push(u)):(c+=m.curve(s+v,l,a-v,o,a,o),u+=m.curve(s+v,l,a-v,o,a,o)),s=a,l=o,r===e[i].length-2&&(u=u+m.curve(s,l,a,o,a,y)+m.move(a,o)+"z",f.globals.hasNullValues||(d.push(c),h.push(u)))}else{if(null===e[i][r+1]){c+=m.move(a,o);var _=f.globals.isXNumeric?(f.globals.seriesX[n][r]-f.globals.minX)/this.xRatio:a-this.xDivision;u=u+m.line(_,y)+m.move(a,o)+"z"}null===e[i][r]&&(c+=m.move(a,o),u+=m.move(a,y)),"stepline"===g?(c=c+m.line(a,null,"H")+m.line(null,o,"V"),u=u+m.line(a,null,"H")+m.line(null,o,"V")):"straight"===g&&(c+=m.line(a,o),u+=m.line(a,o)),r===e[i].length-2&&(u=u+m.line(a,y)+m.move(a,o)+"z",d.push(c),h.push(u))}return{linePaths:d,areaPaths:h,pX:s,pY:l,linePath:c,areaPath:u}}},{key:"handleNullDataPoints",value:function(t,e,i,n,r){var a=this.w;if(null===t[i][n]&&a.config.markers.showNullDataPoints||1===t[i].length){var o=this.markers.plotChartMarkers(e,r,n+1,this.strokeWidth-a.config.markers.strokeWidth/2,!0);null!==o&&this.elPointsMain.add(o)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(e,i,n,r){this.xoffset=e,this.yoffset=i,this.height=r,this.width=n,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],n=this.xoffset,r=this.yoffset,o=a(t)/this.height,s=a(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([n,r,n+o,r+t[e]/o]),r+=t[e]/o;else for(e=0;e<t.length;e++)i.push([n,r,n+t[e]/s,r+s]),n+=t[e]/s;return i},this.cutArea=function(e){var i;if(this.width>=this.height){var n=e/this.height,r=this.width-n;i=new t(this.xoffset+n,this.yoffset,r,this.height)}else{var a=e/this.width,o=this.height-a;i=new t(this.xoffset,this.yoffset+a,this.width,o)}return i}}function e(e,n,r,o,s){return o=void 0===o?0:o,s=void 0===s?0:s,function(t){var e,i,n=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)n.push(t[e][i]);return n}(i(function(t,e){var i,n=[],r=e/a(t);for(i=0;i<t.length;i++)n[i]=t[i]*r;return n}(e,n*r),[],new t(o,s,n,r),[]))}function i(t,e,r,o){var s,l,c;if(0!==t.length)return s=r.shortestEdge(),function(t,e,i){var r;return 0===t.length||((r=t.slice()).push(e),n(t,i)>=n(r,i))}(e,l=t[0],s)?(e.push(l),i(t.slice(1),e,r,o)):(c=r.cutArea(a(e),o),o.push(r.getCoordinates(e)),i(t,[],c,o)),o;o.push(r.getCoordinates(e))}function n(t,e){var i=Math.min.apply(Math,t),n=Math.max.apply(Math,t),r=a(t);return Math.max(Math.pow(e,2)*n/Math.pow(r,2),Math.pow(r,2)/(Math.pow(e,2)*i))}function r(t){return t&&t.constructor===Array}function a(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function o(t){var e,i=0;if(r(t[0]))for(e=0;e<t.length;e++)i+=o(t[e]);else i=a(t);return i}return function t(i,n,a,s,l){s=void 0===s?0:s,l=void 0===l?0:l;var c,u,d=[],h=[];if(r(i[0])){for(u=0;u<i.length;u++)d[u]=o(i[u]);for(c=e(d,n,a,s,l),u=0;u<i.length;u++)h.push(t(i[u],c[u][2]-c[u][0],c[u][3]-c[u][1],c[u][0],c[u][1]))}else h=e(i,n,a,s,l);return h}}();var Et,Pt,It=function(){function t(e,i){a(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new kt(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return s(t,[{key:"draw",value:function(t){var e=this,i=this.w,n=new b(this.ctx),r=new L(this.ctx),a=n.group({class:"apexcharts-treemap"});if(i.globals.noData)return a;var o=[];return t.forEach((function(t){var e=t.map((function(t){return Math.abs(t)}));o.push(e)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(t,i){t.data.forEach((function(t){Array.isArray(e.labels[i])||(e.labels[i]=[]),e.labels[i].push(t.x)}))})),window.TreemapSquared.generate(o,i.globals.gridWidth,i.globals.gridHeight).forEach((function(o,s){var l=n.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:y.escapeString(i.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});if(i.config.chart.dropShadow.enabled){var c=i.config.chart.dropShadow;new _(e.ctx).dropShadow(a,c,s)}var u=n.group({class:"apexcharts-data-labels"});o.forEach((function(a,o){var c=a[0],u=a[1],d=a[2],h=a[3],p=n.drawRect(c,u,d-c,h-u,0,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?m:i.globals.stroke.colors[s]);p.attr({cx:c,cy:u,index:s,i:s,j:o,width:d-c,height:h-u});var f=e.helpers.getShadeColor(i.config.chart.type,s,o,e.negRange),m=f.color;void 0!==i.config.series[s].data[o]&&i.config.series[s].data[o].fillColor&&(m=i.config.series[s].data[o].fillColor);var g=r.fillPath({color:m,seriesNumber:s,dataPointIndex:o});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),e.helpers.addListeners(p);var y={x:c+(d-c)/2,y:u+(h-u)/2,width:0,height:0},v={x:c,y:u,width:d-c,height:h-u};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var _=1;i.globals.resized||(_=i.config.chart.animations.speed),e.animateTreemap(p,y,v,_)}if(i.globals.dataChanged){var b=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(b=e.dynamicAnim.speed,i.globals.previousPaths[s][o]&&i.globals.previousPaths[s][o].rect&&(y=i.globals.previousPaths[s][o].rect),e.animateTreemap(p,y,v,b))}var x=e.getFontSize(a),w=i.config.dataLabels.formatter(e.labels[s][o],{value:i.globals.series[s][o],seriesIndex:s,dataPointIndex:o,w:i}),k=e.helpers.calculateDataLabels({text:w,x:(c+d)/2,y:(u+h)/2+e.strokeWidth/2+x/3,i:s,j:o,colorProps:f,fontSize:x,series:t});i.config.dataLabels.enabled&&k&&e.rotateToFitLabel(k,w,c,u,d,h),l.add(p),null!==k&&l.add(k)})),l.add(u),a.add(l)})),a}},{key:"getFontSize",value:function(t){var e,i,n=this.w,r=function t(e){var i,n=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)n+=t(e[i]);else for(i=0;i<e.length;i++)n+=e[i].length;return n}(this.labels)/function t(e){var i,n=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)n+=t(e[i]);else for(i=0;i<e.length;i++)n+=1;return n}(this.labels);return e=(t[2]-t[0])*(t[3]-t[1]),i=Math.pow(e,.5),Math.min(i/r,parseInt(n.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,n,r,a){var o=new b(this.ctx),s=o.getTextRects(e);if(s.width+5>r-i&&s.width<=a-n){var l=o.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,n){var r=new v(this.ctx);r.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},n,(function(){r.animationCompleted(t)}))}}]),t}(),Ot=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return s(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,n=this.w;if(n.globals.allSeriesCollapsed)return n.globals.labels=[],n.globals.timescaleLabels=[],[];var r=new Y(this.ctx),a=(e-t)/864e5;this.determineInterval(a),n.globals.disableZoomIn=!1,n.globals.disableZoomOut=!1,a<.005?n.globals.disableZoomIn=!0:a>5e4&&(n.globals.disableZoomOut=!0);var o=r.getTimeUnitsfromTimestamp(t,e,this.utc),s=n.globals.gridWidth/a,l=s/24,c=l/60,d=c/60,h=Math.floor(24*a),p=Math.floor(24*a*60),f=Math.floor(24*a*60*60),m=Math.floor(a),g=Math.floor(a/30),y=Math.floor(a/365),v={minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},_={firstVal:v,currentSecond:v.minSecond,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:s,hoursWidthOnXAxis:l,minutesWidthOnXAxis:c,secondsWidthOnXAxis:d,numberOfSeconds:f,numberOfMinutes:p,numberOfHours:h,numberOfDays:m,numberOfMonths:g,numberOfYears:y};switch(this.tickInterval){case"years":this.generateYearScale(_);break;case"months":case"half_year":this.generateMonthScale(_);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(_);break;case"hours":this.generateHourScale(_);break;case"minutes":this.generateMinuteScale(_)}var b=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?u(u({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?u(u({},e),{},{value:t.value}):"minute"===t.unit?u(u({},e),{},{value:t.value,minute:t.value}):t}));return b.filter((function(t){var e=1,r=Math.ceil(n.globals.gridWidth/120),a=t.value;void 0!==n.config.xaxis.tickAmount&&(r=n.config.xaxis.tickAmount),b.length>r&&(e=Math.floor(b.length/r));var o=!1,s=!1;switch(i.tickInterval){case"years":"year"===t.unit&&(o=!0);break;case"half_year":e=7,"year"===t.unit&&(o=!0);break;case"months":e=1,"year"===t.unit&&(o=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(o=!0),30===a&&(s=!0);break;case"months_days":e=10,"month"===t.unit&&(o=!0),30===a&&(s=!0);break;case"week_days":e=8,"month"===t.unit&&(o=!0);break;case"days":e=1,"month"===t.unit&&(o=!0);break;case"hours":"day"===t.unit&&(o=!0);break;case"minutes":a%5!=0&&(s=!0)}if("minutes"===i.tickInterval||"hours"===i.tickInterval){if(!s)return!0}else if((a%e==0||o)&&!s)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,n=this.formatDates(t),r=this.removeOverlappingTS(n);i.globals.timescaleLabels=r.slice(),new ct(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){switch(!0){case t>1825:this.tickInterval="years";break;case t>800&&t<=1825:this.tickInterval="half_year";break;case t>180&&t<=800:this.tickInterval="months";break;case t>90&&t<=180:this.tickInterval="months_fortnight";break;case t>60&&t<=90:this.tickInterval="months_days";break;case t>30&&t<=60:this.tickInterval="week_days";break;case t>2&&t<=30:this.tickInterval="days";break;case t>.1&&t<=2:this.tickInterval="hours";break;case t<.1:this.tickInterval="minutes";break;default:this.tickInterval="days"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,n=t.currentYear,r=t.daysWidthOnXAxis,a=t.numberOfYears,o=e.minYear,s=0,l=new Y(this.ctx),c="year";if(e.minDate>1||e.minMonth>0){var u=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);s=(l.determineDaysOfYear(e.minYear)-u+1)*r,o=e.minYear+1,this.timeScaleArray.push({position:s,value:o,unit:c,year:o,month:y.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:s,value:o,unit:c,year:n,month:y.monthMod(i+1)});for(var d=o,h=s,p=0;p<a;p++)d++,h=l.determineDaysOfYear(d-1)*r+h,this.timeScaleArray.push({position:h,value:d,unit:c,year:d,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,n=t.currentMonth,r=t.currentYear,a=t.daysWidthOnXAxis,o=t.numberOfMonths,s=n,l=0,c=new Y(this.ctx),u="month",d=0;if(e.minDate>1){l=(c.determineDaysOfMonths(n+1,e.minYear)-i+1)*a,s=y.monthMod(n+1);var h=r+d,p=y.monthMod(s),f=s;0===s&&(u="year",f=h,p=1,h+=d+=1),this.timeScaleArray.push({position:l,value:f,unit:u,year:h,month:p})}else this.timeScaleArray.push({position:l,value:s,unit:u,year:r,month:y.monthMod(n)});for(var m=s+1,g=l,v=0,_=1;v<o;v++,_++){0===(m=y.monthMod(m))?(u="year",d+=1):u="month";var b=this._getYear(r,m,d);g=c.determineDaysOfMonths(m,b)*a+g;var x=0===m?b:m;this.timeScaleArray.push({position:g,value:x,unit:u,year:b,month:0===m?1:m}),m++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,n=t.currentYear,r=t.hoursWidthOnXAxis,a=t.numberOfDays,o=new Y(this.ctx),s="day",l=e.minDate+1,c=l,u=function(t,e,i){return t>o.determineDaysOfMonths(e+1,i)?(c=1,s="month",h=e+=1,e):e},d=(24-e.minHour)*r,h=l,p=u(c,i,n);0===e.minHour&&1===e.minDate&&(d=0,h=y.monthMod(e.minMonth),s="month",c=e.minDate,a++),this.timeScaleArray.push({position:d,value:h,unit:s,year:this._getYear(n,p,0),month:y.monthMod(p),day:c});for(var f=d,m=0;m<a;m++){s="day",p=u(c+=1,p,this._getYear(n,p,0));var g=this._getYear(n,p,0);f=24*r+f;var v=1===c?y.monthMod(p):c;this.timeScaleArray.push({position:f,value:v,unit:s,year:g,month:y.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,n=t.currentMonth,r=t.currentYear,a=t.minutesWidthOnXAxis,o=t.numberOfHours,s=new Y(this.ctx),l="hour",c=function(t,e){return t>s.determineDaysOfMonths(e+1,r)&&(m=1,e+=1),{month:e,date:m}},u=function(t,e){return t>s.determineDaysOfMonths(e+1,r)?e+=1:e},d=60-(e.minMinute+e.minSecond/60),h=d*a,p=e.minHour+1,f=p+1;60===d&&(h=0,f=(p=e.minHour)+1);var m=i,g=u(m,n);this.timeScaleArray.push({position:h,value:p,unit:l,day:m,hour:f,year:r,month:y.monthMod(g)});for(var v=h,_=0;_<o;_++){l="hour",f>=24&&(f=0,l="day",g=c(m+=1,g).month,g=u(m,g));var b=this._getYear(r,g,0);v=0===f&&0===_?d*a:60*a+v;var x=0===f?m:f;this.timeScaleArray.push({position:v,value:x,unit:l,hour:f,day:m,year:b,month:y.monthMod(g)}),f++}}},{key:"generateMinuteScale",value:function(t){var e=t.firstVal,i=(t.currentSecond,t.currentMinute,t.currentHour),n=t.currentDate,r=t.currentMonth,a=t.currentYear,o=t.minutesWidthOnXAxis,s=t.secondsWidthOnXAxis,l=t.numberOfMinutes,c="minute",u=(60-e.minSecond)*s,d=e.minMinute+1,h=d+1,p=n,f=r,m=a,g=i;this.timeScaleArray.push({position:u,value:d,unit:c,day:p,hour:g,minute:h,year:m,month:y.monthMod(f)});for(var v=u,_=0;_<l;_++)h>=60&&(h=0,24===(g+=1)&&(g=0)),v=o+v,this.timeScaleArray.push({position:v,value:h,unit:c,hour:g,minute:h,day:p,year:this._getYear(a,f,0),month:y.monthMod(f)}),h++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),i+="minute"===t.unit?":"+("0"+e).slice(-2)+":00":":00:00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(t){var n=t.value.toString(),r=new Y(e.ctx),a=e.createRawDateString(t,n),o=r.getDate(r.parseDate(a));if(e.utc||(o=r.getDate(r.parseDateWithTimezone(a))),void 0===i.config.xaxis.labels.format){var s="dd MMM",l=i.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(s=l.year),"month"===t.unit&&(s=l.month),"day"===t.unit&&(s=l.day),"hour"===t.unit&&(s=l.hour),"minute"===t.unit&&(s=l.minute),n=r.formatDate(o,s)}else n=r.formatDate(o,i.config.xaxis.labels.format);return{dateString:a,position:t.position,value:n,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,n=new b(this.ctx),r=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(r=!0,e=n.getTextRects(t[0].value).width);var a=0,o=t.map((function(o,s){if(s>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var l=r?e:n.getTextRects(t[a].value).width,c=t[a].position;return o.position>c+l+10?(a=s,o):null}return o}));return o.filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),t}(),Rt=function(){function t(e,i){a(this,t),this.ctx=i,this.w=i.w,this.el=e}return s(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","candlestick","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,t.xyCharts=["line","area","bar","rangeBar","candlestick","scatter","bubble"].indexOf(i)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),b.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,n=i.config,r=i.globals,a={series:[],i:[]},o={series:[],i:[]},s={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},u={series:[],i:[]};r.series.map((function(e,d){void 0!==t[d].type?("column"===t[d].type||"bar"===t[d].type?(r.series.length>1&&n.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(d),i.globals.columnSeries=c.series):"area"===t[d].type?(o.series.push(e),o.i.push(d)):"line"===t[d].type?(a.series.push(e),a.i.push(d)):"scatter"===t[d].type?(s.series.push(e),s.i.push(d)):"bubble"===t[d].type?(l.series.push(e),l.i.push(d)):"candlestick"===t[d].type?(u.series.push(e),u.i.push(d)):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),r.comboCharts=!0):(a.series.push(e),a.i.push(d))}));var d=new At(this.ctx,e),h=new wt(this.ctx,e);this.ctx.pie=new Mt(this.ctx);var p=new Dt(this.ctx);this.ctx.rangeBar=new F(this.ctx,e);var f=new Ct(this.ctx),m=[];if(r.comboCharts){if(o.series.length>0&&m.push(d.draw(o.series,"area",o.i)),c.series.length>0)if(i.config.chart.stacked){var g=new xt(this.ctx,e);m.push(g.draw(c.series,c.i))}else this.ctx.bar=new z(this.ctx,e),m.push(this.ctx.bar.draw(c.series,c.i));if(a.series.length>0&&m.push(d.draw(a.series,"line",a.i)),u.series.length>0&&m.push(h.draw(u.series,u.i)),s.series.length>0){var y=new At(this.ctx,e,!0);m.push(y.draw(s.series,"scatter",s.i))}if(l.series.length>0){var v=new At(this.ctx,e,!0);m.push(v.draw(l.series,"bubble",l.i))}}else switch(n.chart.type){case"line":m=d.draw(r.series,"line");break;case"area":m=d.draw(r.series,"area");break;case"bar":n.chart.stacked?m=new xt(this.ctx,e).draw(r.series):(this.ctx.bar=new z(this.ctx,e),m=this.ctx.bar.draw(r.series));break;case"candlestick":m=new wt(this.ctx,e).draw(r.series);break;case"rangeBar":m=this.ctx.rangeBar.draw(r.series);break;case"heatmap":m=new St(this.ctx,e).draw(r.series);break;case"treemap":m=new It(this.ctx,e).draw(r.series);break;case"pie":case"donut":case"polarArea":m=this.ctx.pie.draw(r.series);break;case"radialBar":m=p.draw(r.series);break;case"radar":m=f.draw(r.series);break;default:m=d.draw(r.series)}return m}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=y.getDimensions(this.el),n=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===n?y.isNumber(i[0])&&(0===i[0].width&&(i=y.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==n&&""!==n||(t.svgWidth=parseInt(e.chart.width,10));var r=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===r){var a=y.getDimensions(this.el.parentNode);t.svgHeight=a[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),b.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==r){var o=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+o+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};b.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,n=t.config.chart.sparkline.enabled?1:15;n+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new dt(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*t.globals.radialSize;if(r&&!t.config.chart.sparkline.enabled){var o=y.getBoundingClientRect(r);a=o.bottom;var s=o.bottom-o.top;a=Math.max(2.05*t.globals.radialSize,s)}var l=a+e.translateY+i+n;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),e.dom.elWrap.style.height=l+"px",b.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px"}},{key:"coreCalculations",value:function(){new Z(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},i=new B,n=this.w.globals;i.initGlobalVars(n),n.seriesXvalues=e(),n.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new et(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new et(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new Ot(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new k(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=e.config.chart.brush.targets||[e.config.chart.brush.target];i.forEach((function(e){var i=ApexCharts.getChartByID(e);i.w.globals.brushSource=t.ctx,"function"!=typeof i.w.config.chart.events.zoomed&&(i.w.config.chart.events.zoomed=function(){t.updateSourceChart(i)}),"function"!=typeof i.w.config.chart.events.scrolled&&(i.w.config.chart.events.scrolled=function(){t.updateSourceChart(i)})})),e.config.chart.events.selection=function(t,n){i.forEach((function(t){var i=ApexCharts.getChartByID(t),r=y.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===i.w.globals.series.length){var a=new X(i);r=a.autoScaleY(i,r,n)}var o=i.w.config.yaxis.reduce((function(t,e,n){return[].concat(m(t),[u(u({},i.w.config.yaxis[n]),{},{min:r[0].min,max:r[0].max})])}),[]);i.ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max},yaxis:o},!1,!1,!1,!1)}))}}}}]),t}(),zt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=[this.ctx];a&&(s=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(s=[this.ctx],this.ctx.w.globals.isExecCalled=!1),s.forEach((function(a){var s=a.w;return s.globals.shouldAnimate=n,i||(s.globals.resized=!0,s.globals.dataChanged=!0,n&&a.series.getPreviousPaths()),t&&"object"===r(t)&&(a.config=new N(t),t=k.extendArrayProps(a.config,t,s),a.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,s.config=y.extend(s.config,t),o&&(s.globals.lastXAxis=t.xaxis?y.clone(t.xaxis):[],s.globals.lastYAxis=t.yaxis?y.clone(t.yaxis):[],s.globals.initialConfig=y.extend({},s.config),s.globals.initialSeries=y.clone(s.config.series))),a.update(t)}))}},{key:"_updateSeries",value:function(t,e){var i,n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.w;return a.globals.shouldAnimate=e,a.globals.dataChanged=!0,e&&this.ctx.series.getPreviousPaths(),a.globals.axisCharts?(0===(i=t.map((function(t,e){return n._extendSeries(t,e)}))).length&&(i=[{data:[]}]),a.config.series=i):a.config.series=t.slice(),r&&(a.globals.initialSeries=y.clone(a.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(t,e){var i=this.w,n=i.config.series[e];return u(u({},i.config.series[e]),{},{name:t.name?t.name:n&&n.name,color:t.color?t.color:n&&n.color,type:t.type?t.type:n&&n.type,data:t.data?t.data:n&&n.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,n=null,r=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?n=i.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"'], ").concat(r," circle[j='").concat(e,"'], ").concat(r," rect[j='").concat(e,"']")).members[0]:void 0===e&&(n=i.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),n?(new b(this.ctx).pathMouseDown(n,null),n.node?n.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(i){void 0!==t.xaxis[i]&&(e.config.xaxis[i]=t.xaxis[i],e.globals.lastXAxis[i]=t.xaxis[i])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new H(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){var e=this.w;return e.config.chart.stacked&&"100%"===e.config.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,n=i.globals.lastXAxis,r=i.globals.lastYAxis;t&&t.xaxis&&(n=t.xaxis),t&&t.yaxis&&(r=t.yaxis),i.config.xaxis.min=n.min,i.config.xaxis.max=n.max;i.config.yaxis.map((function(t,n){i.globals.zoomed||void 0!==r[n]?function(t){void 0!==r[t]&&(i.config.yaxis[t].min=r[t].min,i.config.yaxis[t].max=r[t].max)}(n):void 0!==e.ctx.opts.yaxis[n]&&(t.min=e.ctx.opts.yaxis[n].min,t.max=e.ctx.opts.yaxis[n].max)}))}}]),t}();Et="undefined"!=typeof window?window:void 0,Pt=function(t,e){var i=(void 0!==this?this:t).SVG=function(t){if(i.supported)return t=new i.Doc(t),i.parser.draw||i.prepare(),t};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.com/svgjs",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(t){return"Svgjs"+d(t)+i.did++},i.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},i.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var n=t.length-1;n>=0;n--)if(t[n])for(var r in e)t[n].prototype[r]=e[r];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,i.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&i.extend(e,t.extend),t.construct&&i.extend(t.parent||i.Container,t.construct),e},i.adopt=function(e){return e?e.instance?e.instance:((n="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new i.Nested:new i.Doc:"linearGradient"==e.nodeName?new i.Gradient("linear"):"radialGradient"==e.nodeName?new i.Gradient("radial"):i[d(e.nodeName)]?new(i[d(e.nodeName)]):new i.Element(e)).type=e.nodeName,n.node=e,e.instance=n,n instanceof i.Doc&&n.namespace().defs(),n.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),n):null;var n},i.prepare=function(){var t=e.getElementsByTagName("body")[0],n=(t?new i.Doc(t):i.adopt(e.documentElement).nested()).size(2,0);i.parser={body:t||e.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:n.polyline().node,path:n.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},e.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(t,e){for(var i=t.length,n=[],r=0;r<i;r++)n.push(e(t[r]));return n},filter:function(t,e){for(var i=t.length,n=[],r=0;r<i;r++)e(t[r])&&n.push(t[r]);return n},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(t){var e,n;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?i.regex.isRgb.test(t)?(e=i.regex.rgb.exec(t.replace(i.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):i.regex.isHex.test(t)&&(e=i.regex.hex.exec(4==(n=t).length?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===r(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+h(this.r)+h(this.g)+h(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new i.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new i.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),i.Color.test=function(t){return t+="",i.regex.isHex.test(t)||i.regex.isRgb.test(t)},i.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},i.Color.isColor=function(t){return i.Color.isRgb(t)||i.Color.test(t)},i.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),i.PointArray=function(t,e){i.Array.call(this,t,e||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var n={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},a="mlhvqtcsaz".split(""),o=0,s=a.length;o<s;++o)n[a[o]]=function(t){return function(e,i,r){if("H"==t)e[0]=e[0]+i.x;else if("V"==t)e[0]=e[0]+i.y;else if("A"==t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var a=0,o=e.length;a<o;++a)e[a]=e[a]+(a%2?i.y:i.x);return n[t](e,i,r)}}(a[o].toUpperCase());i.PathArray=function(t,e){i.Array.call(this,t,e||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}(this.value)},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,n=this.destination.value,r=[],a=new i.PathArray,o=0,s=e.length;o<s;o++){r[o]=[e[o][0]];for(var l=1,c=e[o].length;l<c;l++)r[o][l]=e[o][l]+(n[o][l]-e[o][l])*t;"A"===r[o][0]&&(r[o][4]=+(0!=r[o][4]),r[o][5]=+(0!=r[o][5]))}return a.value=r,a},parse:function(t){if(t instanceof i.PathArray)return t.valueOf();var e,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(i.regex.numbersWithDots,c).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var a=[],o=new i.Point,s=new i.Point,l=0,u=t.length;do{i.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),a.push(n[e].call(null,t.slice(l,l+=r[e.toUpperCase()]).map(parseFloat),o,s))}while(u>l);return a},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(i.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof i.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new i.Number(t),new i.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new i.Number(t),new i.Number(this-t,this.unit||t.unit)},times:function(t){return t=new i.Number(t),new i.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new i.Number(t),new i.Number(this/t,this.unit||t.unit)},to:function(t){var e=new i.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new i.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new i.Number(this.destination).minus(this).times(t).plus(this):this}}}),i.Element=i.invent({create:function(t){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=p(this,t,e);return this.width(new i.Number(n.width)).height(new i.Number(n.height))},clone:function(t){this.writeDataToDom();var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(i.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return i.get(this.attr(t))},parent:function(e){var n=this;if(!n.node.parentNode)return null;if(n=i.adopt(n.node.parentNode),!e)return n;for(;n&&n.node instanceof t.SVGElement;){if("string"==typeof e?n.matches(e):n instanceof e)return n;if(!n.node.parentNode||"#document"==n.node.parentNode.nodeName)return null;n=i.adopt(n.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var n=e.createElement("svg");if(!(t&&this instanceof i.Parent))return n.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,a=n.firstChild.childNodes.length;r<a;r++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),i.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},i.morph=function(t){return function(e,n){return new i.MorphObj(e,n).at(t)}},i.Situation=i.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(t.duration).valueOf(),this.delay=new i.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,n){"object"===r(t)&&(e=t.ease,n=t.delay,t=t.duration);var a=new i.Situation({duration:t||1e3,delay:n||0,ease:i.easing[e||"-"]||e});return this.queue(a),this},target:function(t){return t&&t instanceof i.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof i.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var n in e.animations){t=this.target()[n](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[n])||(e.animations[n]=[e.animations[n]]);for(var r=t.length;r--;)e.animations[n][r]instanceof i.Number&&(t[r]=new i.Number(t[r])),e.animations[n][r]=t[r].morph(e.animations[n][r])}for(var n in e.attrs)e.attrs[n]=new i.MorphObj(this.target().attr(n),e.attrs[n]);for(var n in e.styles)e.styles[n]=new i.MorphObj(this.target().style(n),e.styles[n]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function i(n){n.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))})),this._callStart()},during:function(t){var e=this.last(),n=function(n){n.detail.situation==e&&t.call(this,n.detail.pos,i.morph(n.detail.pos),n.detail.eased,e)};return this.target().off("during.fx",n).on("during.fx",n),this.after((function(){this.off("during.fx",n)})),this._callStart()},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,n;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,n=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var a in this.situation.once)a>this.lastPos&&a<=r&&(this.situation.once[a].call(this.target(),this.pos,r),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e=this,n=this.target(),r=this.situation;for(var a in r.animations)t=[].concat(r.animations[a]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),n[a].apply(n,t);for(var a in r.attrs)t=[a].concat(r.attrs[a]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),n.attr.apply(n,t);for(var a in r.styles)t=[a].concat(r.styles[a]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),n.style.apply(n,t);if(r.transforms.length){t=r.initialTransformation,a=0;for(var o=r.transforms.length;a<o;a++){var s=r.transforms[a];s instanceof i.Matrix?t=s.relative?t.multiply((new i.Matrix).morph(s).at(r.ease(this.pos))):t.morph(s).at(r.ease(this.pos)):(s.relative||s.undo(t.extract()),t=t.multiply(s.at(r.ease(this.pos))))}n.matrix(t)}return this},once:function(t,e,i){var n=this.last();return i||(t=n.ease(t)),n.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new i.FX(this))).animate(t,e,n)},delay:function(t){return(this.fx||(this.fx=new i.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(t,e){return i.Color.isColor(e)?new i.Color(t).morph(e):i.regex.delimiter.test(t)?i.regex.pathLetters.test(t)?new i.PathArray(t).morph(e):new i.Array(t).morph(e):i.regex.numberAndUnit.test(e)?new i.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(t,e,i){if("object"===r(t))for(var n in t)this.attr(n,t[n]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,n){return 4==arguments.length?this.plot([t,e,i,n]):this.add("plot",new(this.target().morphArray)(t))}}),i.Box=i.invent({create:function(t,e,n,a){if(!("object"!==r(t)||t instanceof i.Element))return i.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=n,this.height=a),y(this)}}),i.BBox=i.invent({create:function(t){if(i.Box.apply(this,[].slice.call(arguments)),t instanceof i.Element){var n;try{if(!e.documentElement.contains){for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Error("Element not in the dom")}n=t.node.getBBox()}catch(e){if(t instanceof i.Shape){i.parser.draw||i.prepare();var a=t.clone(i.parser.draw.instance).show();n=a.node.getBBox(),a.remove()}else n={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}i.Box.call(this,n)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(t){var e=m([1,0,0,1,0,0]);t=t instanceof i.Element?t.matrixify():"string"==typeof t?m(t.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?m([].slice.call(arguments)):Array.isArray(t)?m(t):"object"===r(t)?t:e;for(var n=_.length-1;n>=0;--n)this[_[n]]=null!=t[_[n]]?t[_[n]]:e[_[n]]},extend:{extract:function(){var t=f(this,0,1),e=(f(this,1,0),180/Math.PI*Math.atan2(t.y,t.x)-90);return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(t){return this.destination=new i.Matrix(t),this},multiply:function(t){return new i.Matrix(this.native().multiply(function(t){return t instanceof i.Matrix||(t=new i.Matrix(t)),t}(t).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(t,e){return new i.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=i.parser.native.createSVGMatrix(),e=_.length-1;e>=0;e--)t[_[e]]=this[_[e]];return t},toString:function(){return"matrix("+v(this.a)+","+v(this.b)+","+v(this.c)+","+v(this.d)+","+v(this.e)+","+v(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new i.Matrix(e)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===r(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(t,e){return this.destination=new i.Point(t,e),this}}}),i.extend(i.Element,{point:function(t,e){return new i.Point(t,e).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(t,e,n){if(null==t){for(t={},n=(e=this.node.attributes).length-1;n>=0;n--)t[e[n].nodeName]=i.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"===r(t))for(var a in t)this.attr(a,t[a]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?i.defaults.attrs[t]:i.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(i.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof i.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new i.Number(e):i.Color.isColor(e)?e=new i.Color(e):Array.isArray(e)&&(e=new i.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),i.extend(i.Element,{transform:function(t,e){var n;return"object"!==r(t)?(n=new i.Matrix(this).extract(),"string"==typeof t?n[t]:n):(n=new i.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(n=e?n.multiply(new i.Matrix(t)):new i.Matrix(t)),this.attr("transform",n))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(i.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(m(e[1])):t[e[0]].apply(t,e[1])}),new i.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[i];else if("object"===r(t))for(i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[this.arguments[i]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===r(t))for(var n in t)this.style(n,t[n]);else{if(!i.regex.isCss.test(t))return this.node.style[u(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[u(t)]=null===e||i.regex.isBlank.test(e)?"":e;return this}}),i.Parent=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(t){return i.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return i.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var n=this.children(),r=0,a=n.length;r<a;r++)n[r]instanceof i.Element&&t.apply(n[r],[r,n]),e&&n[r]instanceof i.Container&&n[r].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(t,e){return 0===e||this instanceof i.Defs||this.node==i.parser.draw||(t=t||(this instanceof i.Doc?this:this.parent(i.Parent)),e=e||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),i.Container=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){i.Element.prototype[t]=function(e){return i.on(this.node,t,e),this}})),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(t,e,n,r,a){var o=n.bind(r||t.instance||t),s=(i.handlerMap.indexOf(t)+1||i.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";i.listeners[s]=i.listeners[s]||{},i.listeners[s][l]=i.listeners[s][l]||{},i.listeners[s][l][c]=i.listeners[s][l][c]||{},n._svgjsListenerId||(n._svgjsListenerId=++i.listenerId),i.listeners[s][l][c][n._svgjsListenerId]=o,t.addEventListener(l,o,a||{passive:!0})},i.off=function(t,e,n){var r=i.handlerMap.indexOf(t),a=e&&e.split(".")[0],o=e&&e.split(".")[1],s="";if(-1!=r)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;i.listeners[r][a]&&i.listeners[r][a][o||"*"]&&(t.removeEventListener(a,i.listeners[r][a][o||"*"][n],!1),delete i.listeners[r][a][o||"*"][n])}else if(o&&a){if(i.listeners[r][a]&&i.listeners[r][a][o]){for(var l in i.listeners[r][a][o])i.off(t,[a,o].join("."),l);delete i.listeners[r][a][o]}}else if(o)for(var c in i.listeners[r])for(var s in i.listeners[r][c])o===s&&i.off(t,[c,o].join("."));else if(a){if(i.listeners[r][a]){for(var s in i.listeners[r][a])i.off(t,[a,s].join("."));delete i.listeners[r][a]}}else{for(var c in i.listeners[r])i.off(t,c);delete i.listeners[r],delete i.handlerMap[r]}},i.extend(i.Element,{on:function(t,e,n,r){return i.on(this.node,t,e,n,r),this},off:function(t,e){return i.off(this.node,t,e),this},fire:function(e,n){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new i.CustomEvent(e,{detail:n,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,i.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(t):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=g(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(t){this.constructor.call(this,i.create(t+"Gradient")),this.type=t},inherit:i.Container,extend:{at:function(t,e,n){return this.put(new i.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="gradientTransform"),i.Container.prototype.attr.call(this,t,e,n)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),i.extend(i.Gradient,i.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(t),fy:new i.Number(e)}):this.attr({x1:new i.Number(t),y1:new i.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(t),cy:new i.Number(e)}):this.attr({x2:new i.Number(t),y2:new i.Number(e)})}}),i.extend(i.Defs,{gradient:function(t,e){return this.put(new i.Gradient(t)).update(e)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(t){return("number"==typeof t||t instanceof i.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new i.Number(t.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="patternTransform"),i.Container.prototype.attr.call(this,t,e,n)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),i.extend(i.Defs,{pattern:function(t,e,n){return this.put(new i.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,i.xlink)}},construct:{use:function(t,e){return this.put(new i.Use).element(t,e)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(t,e){return this.put(new i.Rect).size(t,e)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(t){return this.put(new i.Circle).rx(new i.Number(t).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(t,e){return this.put(new i.Ellipse).size(t,e).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),i.extend(i.Circle,i.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new i.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new i.Number(t).divide(2))},size:function(t,e){var n=p(this,t,e);return this.rx(new i.Number(n.width).divide(2)).ry(new i.Number(n.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new i.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=p(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,n,r){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=t?[t,e,n,r]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(t){return this.put(new i.Polyline).plot(t||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(t){return this.put(new i.Polygon).plot(t||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new i.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=p(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new i.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new i.Path).plot(t||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(e){if(!e)return this;var n=this,r=new t.Image;return i.on(r,"load",(function(){i.off(r);var t=n.parent(i.Pattern);null!==t&&(0==n.width()&&0==n.height()&&n.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))})),i.on(r,"error",(function(t){i.off(r),"function"==typeof n._error&&n._error.call(n,t)})),this.attr("href",r.src=this.src=e,i.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,n){return this.put(new i.Image).load(t).size(e||0,n||e||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,n=0,r=e.length;n<r;++n)0!=n&&3!=e[n].nodeType&&1==i.adopt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{n=0;for(var a=(t=t.split("\n")).length;n<a;n++)this.tspan(t[n]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new i.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=i.utils.map(i.utils.filterSVGElements(t.childNodes),(function(t){return i.adopt(t)}));return new i.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?n+=r:(this.attr("dy",r+n),n=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new i.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new i.Text).text(t)},plain:function(t){return this.put(new i.Text).plain(t)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(i.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,n=new i.Tspan;return!1===this._build&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,n,r){return n+r.replace(i.regex.dots," .")}function u(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function h(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function p(t,e,i){if(null==e||null==i){var n=t.bbox();null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)}return{width:e,height:i}}function f(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function m(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function g(e){for(var n=e.childNodes.length-1;n>=0;n--)e.childNodes[n]instanceof t.SVGElement&&g(e.childNodes[n]);return i.adopt(e).id(i.eid(e.nodeName))}function y(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function v(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||i.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var n=l[t].length-1;n>=0;n--)null!=e[l[t][n]]&&this.attr(l.prefix(t,l[t][n]),e[l[t][n]]);return this},i.extend(i.Element,i.FX,e)})),i.extend(i.Element,i.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new i.Number(t).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(t){return this.y(new i.Number(t).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),i.Set=i.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new i.Set(t)}}}),i.FX.Set=i.invent({create:function(t){this.set=t}}),i.Set.inherit=function(){var t=[];for(var e in i.Shape.prototype)"function"==typeof i.Shape.prototype[e]&&"function"!=typeof i.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){i.Set.prototype[t]=function(){for(var e=0,n=this.members.length;e<n;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new i.FX.Set(this)):this}})),t=[],i.FX.prototype)"function"==typeof i.FX.prototype[e]&&"function"!=typeof i.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){i.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(t,e){if("object"===r(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(t){var n=e.getElementById(function(t){var e=(t||"").toString().match(i.regex.reference);if(e)return e[1]}(t)||t);return i.adopt(n)},i.select=function(t,n){return new i.Set(i.utils.map((n||e).querySelectorAll(t),(function(t){return i.adopt(t)})))},i.extend(i.Parent,{select:function(t){return i.select(t,this.node)}});var _="abcdef".split("");if("function"!=typeof t.CustomEvent){var b=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n};b.prototype=t.Event.prototype,i.CustomEvent=b}else i.CustomEvent=t.CustomEvent;return i},void 0!==(n=function(){return Pt(Et,Et.document)}.call(e,i,e,t))&&(t.exports=n),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,n,r){return this.put(new SVG.DisplacementMapEffect(t,e,i,n,r))},specularLighting:function(t,e,i,n){return this.put(new SVG.SpecularLightingEffect(t,e,i,n))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,n,r){return this.put(new SVG.TurbulenceEffect(t,e,i,n,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,n){return this.parent()&&this.parent().displacementMap(this,t,e,i,n)},specularLighting:function(t,e,i,n){return this.parent()&&this.parent().specularLighting(t,e,i,n).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,n,r){return this.parent()&&this.parent().turbulence(t,e,i,n,r).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=r(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=r(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,n,r){this.attr({in:t,in2:e,scale:i,xChannelSelector:n,yChannelSelector:r})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",a(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,n,r){this.attr({numOctaves:e,seed:i,stitchTiles:n,baseFrequency:t,type:r})}},i={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach(function(e){this[e].attr(t.rgb)}.bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,n){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:n})}},n={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,n,r,a){this.attr({x:t,y:e,z:i,pointsAtX:n,pointsAtY:r,pointsAtZ:a})},mergeNode:function(t){this.attr("in",t)}};function r(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function a(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,n=[];e<i;e++)n.push(t[e]);return n.join(" ")}function o(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}["r","g","b","a"].forEach((function(t){n["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),o(e,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),o(i,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),o(n,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function t(t,r,a,o,s,l,c){for(var u=t.slice(r,a||c),d=o.slice(s,l||c),h=0,p={pos:[0,0],start:[0,0]},f={pos:[0,0],start:[0,0]};u[h]=e.call(p,u[h]),d[h]=e.call(f,d[h]),u[h][0]!=d[h][0]||"M"==u[h][0]||"A"==u[h][0]&&(u[h][4]!=d[h][4]||u[h][5]!=d[h][5])?(Array.prototype.splice.apply(u,[h,1].concat(n.call(p,u[h]))),Array.prototype.splice.apply(d,[h,1].concat(n.call(f,d[h])))):(u[h]=i.call(p,u[h]),d[h]=i.call(f,d[h])),++h!=u.length||h!=d.length;)h==u.length&&u.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),h==d.length&&d.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]);return{start:u,dest:d}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function i(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function n(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":t=(e=function(t,e){var i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k,S,T,M,C,D=Math.abs(e[1]),L=Math.abs(e[2]),A=e[3]%360,E=e[4],P=e[5],I=e[6],O=e[7],R=new SVG.Point(t),z=new SVG.Point(I,O),Y=[];if(0===D||0===L||R.x===z.x&&R.y===z.y)return[["C",R.x,R.y,z.x,z.y,z.x,z.y]];for((n=(i=new SVG.Point((R.x-z.x)/2,(R.y-z.y)/2).transform((new SVG.Matrix).rotate(A))).x*i.x/(D*D)+i.y*i.y/(L*L))>1&&(D*=n=Math.sqrt(n),L*=n),r=(new SVG.Matrix).rotate(A).scale(1/D,1/L).rotate(-A),R=R.transform(r),s=(a=[(z=z.transform(r)).x-R.x,z.y-R.y])[0]*a[0]+a[1]*a[1],o=Math.sqrt(s),a[0]/=o,a[1]/=o,l=s<4?Math.sqrt(1-s/4):0,E===P&&(l*=-1),c=new SVG.Point((z.x+R.x)/2+l*-a[1],(z.y+R.y)/2+l*a[0]),u=new SVG.Point(R.x-c.x,R.y-c.y),d=new SVG.Point(z.x-c.x,z.y-c.y),h=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(h*=-1),p=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(p*=-1),P&&h>p&&(p+=2*Math.PI),!P&&h<p&&(p-=2*Math.PI),y=[],v=h,f=(p-h)/(m=Math.ceil(2*Math.abs(h-p)/Math.PI)),g=4*Math.tan(f/4)/3,w=0;w<=m;w++)b=Math.cos(v),_=Math.sin(v),x=new SVG.Point(c.x+b,c.y+_),y[w]=[new SVG.Point(x.x+g*_,x.y-g*b),x,new SVG.Point(x.x-g*_,x.y+g*b)],v+=f;for(y[0][0]=y[0][1].clone(),y[y.length-1][2]=y[y.length-1][1].clone(),r=(new SVG.Matrix).rotate(A).scale(D,L).rotate(-A),w=0,k=y.length;w<k;w++)y[w][0]=y[w][0].transform(r),y[w][1]=y[w][1].transform(r),y[w][2]=y[w][2].transform(r);for(w=1,k=y.length;w<k;w++)S=(x=y[w-1][2]).x,T=x.y,M=(x=y[w][0]).x,C=x.y,I=(x=y[w][1]).x,O=x.y,Y.push(["C",S,T,M,C,I,O]);return Y}(this.pos,t))[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function r(t,e){if(!1===e)return!1;for(var i=e,n=t.length;i<n;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var i=this.value,n=this.parse(e),a=0,o=0,s=!1,l=!1;!1!==a||!1!==o;){var c;s=r(i,!1!==a&&a+1),l=r(n,!1!==o&&o+1),!1===a&&(a=0==(c=new SVG.PathArray(u.start).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===o&&(o=0==(c=new SVG.PathArray(u.dest).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var u=t(i,a,s,n,o,l);i=i.slice(0,a).concat(u.start,!1===s?[]:i.slice(s)),n=n.slice(0,o).concat(u.dest,!1===l?[]:n.slice(l)),a=!1!==s&&a+u.start.length,o=!1!==l&&o+u.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=n,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){i.start(t)})),this.el.on("touchstart.drag",(function(t){i.start(t)}))},t.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,n=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:n,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),n=this.startPoints.box.x+i.x-this.startPoints.point.x,r=this.startPoints.box.y+i.y-this.startPoints.point.y,a=this.constraint,o=i.x-this.startPoints.point.x,s=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof a){var l=a.call(this.el,n,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(n):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof a&&(null!=a.minX&&n<a.minX?o=(n=a.minX)-this.startPoints.box.x:null!=a.maxX&&n>a.maxX-e.width&&(o=(n=a.maxX-e.width)-this.startPoints.box.x),null!=a.minY&&r<a.minY?s=(r=a.minY)-this.startPoints.box.y:null!=a.maxY&&r>a.maxY-e.height&&(s=(r=a.maxY-e.height)-this.startPoints.box.y),null!=a.snapToGrid&&(n-=n%a.snapToGrid,r-=r%a.snapToGrid,o-=o%a.snapToGrid,s-=s%a.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:o,y:s},!0):this.el.move(n,r));return i},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,i){"function"!=typeof e&&"object"!=typeof e||(i=e,e=!0);var n=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?n.init(i||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var n="string"!=typeof t?t:e[t];return i?n/2:n},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var n=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);var a=["points","pointsExclude"];for(var r in a){var o=this.options[a[r]];"string"==typeof o?o=o.length>0?o.split(/\s*,\s*/i):[]:"boolean"==typeof o&&"points"===a[r]&&(o=o?n:[]),this.options[a[r]]=o}this.options.points=[n,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,n=e.length;i<n;++i){var r=function(e){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var n=i.pageX||i.touches[0].pageX,r=i.pageY||i.touches[0].pageY;t.el.fire("point",{x:n,y:r,i:e,event:i})}}(i),a=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(a)}},t.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(i,n){var r=t.pointCoords(i,e);t.rectSelection.set.get(n+1).center(r.x,r.y)})),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function n(t){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var n=i.pageX||i.touches[0].pageX,r=i.pageY||i.touches[0].pageY;e.el.fire(t,{x:n,y:r,event:i})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,r){var a=e.pointCoords(t,i),o=e.drawPoint(a.x,a.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",n(t)).on("touchstart",n(t));e.rectSelection.set.add(o)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var i=t.pageX||t.touches[0].pageX,n=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:i,y:n,event:t})},a=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(a)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,i){return"object"==typeof e&&(i=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var n=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[n[t.detail.i][0],n[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,n=e+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),a=Math.atan2(n-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),o=this.parameters.rotation+180*(a-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(o-o%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),n=this.el.array().valueOf();n[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],n[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(n)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),n=i.x-this.parameters.p.x,r=i.y-this.parameters.p.y;this.lastUpdateCall=[n,r],this.calc(n,r),this.el.fire("resizing",{dx:n,dy:r,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,i,n){var r;return void 0!==n?r=[(i+t)%this.options.snapToGrid,(n+e)%this.options.snapToGrid]:(i=null==i?3:i,r=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(r[0]-=this.options.snapToGrid),e<0&&(r[1]-=this.options.snapToGrid),t-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,n)},t.prototype.constraintToBox=function(t,e,i,n){var r,a,o=this.options.constraint||{};return void 0!==n?(r=i,a=n):(r=this.parameters.box.x+(1&i?0:this.parameters.box.width),a=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==o.minX&&r+t<o.minX&&(t=o.minX-r),void 0!==o.maxX&&r+t>o.maxX&&(t=o.maxX-r),void 0!==o.minY&&a+e<o.minY&&(e=o.minY-a),void 0!==o.maxY&&a+e>o.maxY&&(e=o.maxY-a),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),n=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+t[0],a=this.parameters.box.height-t[1],o=r/a;return o<n?(i[1]=r/n-this.parameters.box.height,e&&(i[1]=-i[1])):o>n&&(i[0]=this.parameters.box.width-a*n,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(t,e){void 0===e&&(e={});var i=e.insertAt;if("undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-z-label:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-candlestick {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-candlestick>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-candlestick span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function t(t){var e=t.__resizeTriggers__,i=e.firstElementChild,n=e.lastElementChild,r=i?i.firstElementChild:null;n&&(n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight),r&&(r.style.width=i.offsetWidth+1+"px",r.style.height=i.offsetHeight+1+"px"),i&&(i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight)}function e(e){var i=this;t(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=r((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach((function(t){t.call(e)})))}))}var i,n,r=(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return i(t)}),a=(n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return n(t)}),o=!1,s="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(void 0!==u.style.animationName&&(o=!0),!1===o)for(var d=0;d<l.length;d++)if(void 0!==u.style[l[d]+"AnimationName"]){s=c[d];break}window.addResizeListener=function(i,n){i.__resizeTriggers__||("static"==getComputedStyle(i).position&&(i.style.position="relative"),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=document.createElement("div")).className="resize-triggers",i.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',i.appendChild(i.__resizeTriggers__),t(i),i.addEventListener("scroll",e,!0),s&&i.__resizeTriggers__.addEventListener(s,(function(e){"resizeanim"==e.animationName&&t(i)}))),i.__resizeListeners__.push(n)},window.removeResizeListener=function(t,i){t&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(i),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",e),t.__resizeTriggers__.parentNode&&(t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__))))}}(),void 0===window.Apex&&(window.Apex={});var Yt=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","touchstart","touchmove","mouseup","touchend"],this.ctx.animations=new v(this.ctx),this.ctx.axes=new tt(this.ctx),this.ctx.core=new Rt(this.ctx.el,this.ctx),this.ctx.config=new N({}),this.ctx.data=new V(this.ctx),this.ctx.grid=new G(this.ctx),this.ctx.graphics=new b(this.ctx),this.ctx.coreUtils=new k(this.ctx),this.ctx.crosshairs=new et(this.ctx),this.ctx.events=new K(this.ctx),this.ctx.exports=new $(this.ctx),this.ctx.localization=new Q(this.ctx),this.ctx.options=new C,this.ctx.responsive=new it(this.ctx),this.ctx.series=new O(this.ctx),this.ctx.theme=new nt(this.ctx),this.ctx.formatters=new W(this.ctx),this.ctx.titleSubtitle=new rt(this.ctx),this.ctx.legend=new dt(this.ctx),this.ctx.toolbar=new ht(this.ctx),this.ctx.dimensions=new ct(this.ctx),this.ctx.updateHelpers=new zt(this.ctx),this.ctx.zoomPanSelection=new pt(this.ctx),this.ctx.w.globals.tooltip=new bt(this.ctx)}}]),t}(),Ft=function(){function t(e){a(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,n=this.w.globals.dom.Paper.node;n.parentNode&&n.parentNode.parentNode&&!i&&(n.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach((function(t){r.removeEventListener(t,e.ctx.events.documentEvent)}));var a=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elAnnotations=null,a.elLegendWrap=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectMarkerMask=null,a.elDefs=null}}]),t}(),Ht=function(){function t(e,i){a(this,t),this.opts=i,this.ctx=this,this.w=new j(i).init(),this.el=e,this.w.globals.cuid=y.randomId(),this.w.globals.chartID=this.w.config.chart.id?y.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Yt(this).initModules(),this.create=y.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return s(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var n=t.w.config.chart.events.beforeMount;"function"==typeof n&&n(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),window.addResizeListener(t.el.parentNode,t.parentResizeHandler);var r=t.create(t.w.config.series,{});if(!r)return e(t);t.mount(r).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(r)})).catch((function(t){i(t)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this.w;new Yt(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new H(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return n.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===n.svgWidth)return n.animationEnded=!0,null;var r=k.checkComboSeries(t);n.comboCharts=r.comboCharts,n.comboBarCount=r.comboBarCount;var a=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||a)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new A(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var o=this.core.xySettings();this.grid.createGridMask();var s=this.core.plotChartType(t,o),l=new P(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:s,xyRatios:o,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,n=i.w;return new Promise((function(r,a){if(null===i.el)return a(new Error("Not enough data to display or target element not found"));(null===e||n.globals.allSeriesCollapsed)&&i.series.handleNoData(),"treemap"!==n.config.chart.type&&i.axes.drawAxis(n.config.chart.type,e.xyRatios),i.grid=new G(i);var o=i.grid.drawGrid();i.annotations=new D(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===n.config.grid.position&&o&&n.globals.dom.elGraphical.add(o.el);var s=new q(t.ctx),l=new J(t.ctx);if(null!==o&&(s.xAxisLabelCorrections(o.xAxisTickWidth),l.setYAxisTextAlignments(),n.config.yaxis.map((function(t,e){-1===n.globals.ignoreYAxisIndexes.indexOf(e)&&l.yAxisTitleRotate(e,t.opposite)}))),"back"===n.config.annotations.position&&(n.globals.dom.Paper.add(n.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(e.elGraph))for(var c=0;c<e.elGraph.length;c++)n.globals.dom.elGraphical.add(e.elGraph[c]);else n.globals.dom.elGraphical.add(e.elGraph);if("front"===n.config.grid.position&&o&&n.globals.dom.elGraphical.add(o.el),"front"===n.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===n.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===n.config.annotations.position&&(n.globals.dom.Paper.add(n.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!n.globals.noData){if(n.config.tooltip.enabled&&!n.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),n.globals.axisCharts&&(n.globals.isXNumeric||n.config.xaxis.convertedCatToNumeric||n.globals.isTimelineBar))(n.config.chart.zoom.enabled||n.config.chart.selection&&n.config.chart.selection.enabled||n.config.chart.pan&&n.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var u=n.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){u[t]=!1}))}n.config.chart.toolbar.show&&!n.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}n.globals.memory.methodsToExec.length>0&&n.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),n.globals.axisCharts||n.globals.noData||i.core.resizeNonAxisCharts(),r(i)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var t=this.w.config.chart.id;t&&Apex._chartInstances.forEach((function(e,i){e.id===y.escapeString(t)&&Apex._chartInstances.splice(i,1)})),new Ft(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w;return o.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,i){return e.updateHelpers._extendSeries(t,i)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,n,r,a)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.w.config.series.slice();return n.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var n=i.w.config.series.slice(),r=0;r<n.length;r++)if(null!==t[r]&&void 0!==t[r])for(var a=0;a<t[r].data.length;a++)n[r].data.push(t[r].data[a]);return i.w.config.series=n,e&&(i.w.globals.initialSeries=y.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,n){new Ft(e.ctx).clear({isUpdating:!0});var r=e.create(e.w.config.series,t);if(!r)return i(e);e.mount(r).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(t){n(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addXaxisAnnotationExternal(t,e,n)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addYaxisAnnotationExternal(t,e,n)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addPointAnnotationExternal(t,e,n)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Z(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Z(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(){return new $(this.ctx).dataURI()}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=y.escapeString(t),i=Apex._chartInstances.filter((function(t){return t.id===e}))[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var n=null;if(-1!==i.publicMethods.indexOf(e)){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];n=i[e].apply(i,a)}return n}}},{key:"merge",value:function(t,e){return y.extend(t,e)}}]),t}();t.exports=Ht},function(t,e,i){var n,r;i(168),n=[i(1)],void 0===(r=function(t){return function(){var e,i,n,r=0,a="error",o="info",s="success",l="warning",c={clear:function(i,n){var r=f();e||u(r),d(i,r,n)||function(i){for(var n=e.children(),r=n.length-1;r>=0;r--)d(t(n[r]),i)}(r)},remove:function(i){var n=f();e||u(n),i&&0===t(":focus",i).length?m(i):e.children().length&&e.remove()},error:function(t,e,i){return p({type:a,iconClass:f().iconClasses.error,message:t,optionsOverride:i,title:e})},getContainer:u,info:function(t,e,i){return p({type:o,iconClass:f().iconClasses.info,message:t,optionsOverride:i,title:e})},options:{},subscribe:function(t){i=t},success:function(t,e,i){return p({type:s,iconClass:f().iconClasses.success,message:t,optionsOverride:i,title:e})},version:"2.1.4",warning:function(t,e,i){return p({type:l,iconClass:f().iconClasses.warning,message:t,optionsOverride:i,title:e})}};return c;function u(i,n){return i||(i=f()),(e=t("#"+i.containerId)).length||n&&(e=function(i){return(e=t("<div/>").attr("id",i.containerId).addClass(i.positionClass)).appendTo(t(i.target)),e}(i)),e}function d(e,i,n){var r=!(!n||!n.force)&&n.force;return!(!e||!r&&0!==t(":focus",e).length||(e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){m(e)}}),0))}function h(t){i&&i(t)}function p(i){var a=f(),o=i.iconClass||a.iconClass;if(void 0!==i.optionsOverride&&(a=t.extend(a,i.optionsOverride),o=i.optionsOverride.iconClass||o),!function(t,e){if(t.preventDuplicates){if(e.message===n)return!0;n=e.message}return!1}(a,i)){r++,e=u(a,!0);var s=null,l=t("<div/>"),c=t("<div/>"),d=t("<div/>"),p=t("<div/>"),g=t(a.closeHtml),y={intervalId:null,hideEta:null,maxHideTime:null},v={toastId:r,state:"visible",startTime:new Date,options:a,map:i};return i.iconClass&&l.addClass(a.toastClass).addClass(o),function(){if(i.title){var t=i.title;a.escapeHtml&&(t=_(i.title)),c.append(t).addClass(a.titleClass),l.append(c)}}(),function(){if(i.message){var t=i.message;a.escapeHtml&&(t=_(i.message)),d.append(t).addClass(a.messageClass),l.append(d)}}(),a.closeButton&&(g.addClass(a.closeClass).attr("role","button"),l.prepend(g)),a.progressBar&&(p.addClass(a.progressClass),l.prepend(p)),a.rtl&&l.addClass("rtl"),a.newestOnTop?e.prepend(l):e.append(l),function(){var t="";switch(i.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}l.attr("aria-live",t)}(),l.hide(),l[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(s=setTimeout(b,a.timeOut),y.maxHideTime=parseFloat(a.timeOut),y.hideEta=(new Date).getTime()+y.maxHideTime,a.progressBar&&(y.intervalId=setInterval(k,10))),a.closeOnHover&&l.hover(w,x),!a.onclick&&a.tapToDismiss&&l.click(b),a.closeButton&&g&&g.click((function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),a.onCloseClick&&a.onCloseClick(t),b(!0)})),a.onclick&&l.click((function(t){a.onclick(t),b()})),h(v),a.debug&&console&&console.log(v),l}function _(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e){var i=e&&!1!==a.closeMethod?a.closeMethod:a.hideMethod,n=e&&!1!==a.closeDuration?a.closeDuration:a.hideDuration,r=e&&!1!==a.closeEasing?a.closeEasing:a.hideEasing;if(!t(":focus",l).length||e)return clearTimeout(y.intervalId),l[i]({duration:n,easing:r,complete:function(){m(l),clearTimeout(s),a.onHidden&&"hidden"!==v.state&&a.onHidden(),v.state="hidden",v.endTime=new Date,h(v)}})}function x(){(a.timeOut>0||a.extendedTimeOut>0)&&(s=setTimeout(b,a.extendedTimeOut),y.maxHideTime=parseFloat(a.extendedTimeOut),y.hideEta=(new Date).getTime()+y.maxHideTime)}function w(){clearTimeout(s),y.hideEta=0,l.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}function k(){var t=(y.hideEta-(new Date).getTime())/y.maxHideTime*100;p.width(t+"%")}}function f(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},c.options)}function m(t){e||(e=u()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),n=void 0))}}()}.apply(e,n))||(t.exports=r)},function(t,e,i){
/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
t.exports=function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},i=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[e[n]]=n);var r=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in r)if(r.hasOwnProperty(a)){if(!("channels"in r[a]))throw new Error("missing channels property: "+a);if(!("labels"in r[a]))throw new Error("missing channel labels property: "+a);if(r[a].labels.length!==r[a].channels)throw new Error("channel and label counts mismatch: "+a);var o=r[a].channels,s=r[a].labels;delete r[a].channels,delete r[a].labels,Object.defineProperty(r[a],"channels",{value:o}),Object.defineProperty(r[a],"labels",{value:s})}r.rgb.hsl=function(t){var e,i,n=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(n,r,a),s=Math.max(n,r,a),l=s-o;return s===o?e=0:n===s?e=(r-a)/l:r===s?e=2+(a-n)/l:a===s&&(e=4+(n-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(o+s)/2,[e,100*(s===o?0:i<=.5?l/(s+o):l/(2-s-o)),100*i]},r.rgb.hsv=function(t){var e,i,n,r,a,o=t[0]/255,s=t[1]/255,l=t[2]/255,c=Math.max(o,s,l),u=c-Math.min(o,s,l),d=function(t){return(c-t)/6/u+.5};return 0===u?r=a=0:(a=u/c,e=d(o),i=d(s),n=d(l),o===c?r=n-i:s===c?r=1/3+e-n:l===c&&(r=2/3+i-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*a,100*c]},r.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2];return[r.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(i,n))*100,100*(n=1-1/255*Math.max(e,Math.max(i,n)))]},r.rgb.cmyk=function(t){var e,i=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-r)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},r.rgb.keyword=function(t){var n=i[t];if(n)return n;var r,a,o,s=1/0;for(var l in e)if(e.hasOwnProperty(l)){var c=e[l],u=(a=t,o=c,Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)+Math.pow(a[2]-o[2],2));u<s&&(s=u,r=l)}return r},r.keyword.rgb=function(t){return e[t]},r.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]},r.rgb.lab=function(t){var e=r.rgb.xyz(t),i=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},r.hsl.rgb=function(t){var e,i,n,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[a=255*l,a,a];e=2*l-(i=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(n=o+1/3*-(c-1))<0&&n++,n>1&&n--,a=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,r[c]=255*a;return r},r.hsl.hsv=function(t){var e=t[0],i=t[1]/100,n=t[2]/100,r=i,a=Math.max(n,.01);return i*=(n*=2)<=1?n:2-n,r*=a<=1?a:2-a,[e,100*(0===n?2*r/(a+r):2*i/(n+i)),(n+i)/2*100]},r.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*n*(1-i),s=255*n*(1-i*a),l=255*n*(1-i*(1-a));switch(n*=255,r){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}},r.hsv.hsl=function(t){var e,i,n,r=t[0],a=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return n=(2-a)*o,i=a*s,[r,100*(i=(i/=(e=(2-a)*s)<=1?e:2-e)||0),100*(n/=2)]},r.hwb.rgb=function(t){var e,i,n,r,a,o,s,l=t[0]/360,c=t[1]/100,u=t[2]/100,d=c+u;switch(d>1&&(c/=d,u/=d),n=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(n=1-n),r=c+n*((i=1-u)-c),e){default:case 6:case 0:a=i,o=r,s=c;break;case 1:a=r,o=i,s=c;break;case 2:a=c,o=i,s=r;break;case 3:a=c,o=r,s=i;break;case 4:a=r,o=c,s=i;break;case 5:a=i,o=c,s=r}return[255*a,255*o,255*s]},r.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},r.xyz.rgb=function(t){var e,i,n,r=t[0]/100,a=t[1]/100,o=t[2]/100;return i=-.9689*r+1.8758*a+.0415*o,n=.0557*r+-.204*a+1.057*o,e=(e=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]},r.xyz.lab=function(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},r.lab.xyz=function(t){var e,i,n,r=t[0];e=t[1]/500+(i=(r+16)/116),n=i-t[2]/200;var a=Math.pow(i,3),o=Math.pow(e,3),s=Math.pow(n,3);return i=a>.008856?a:(i-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[e*=95.047,i*=100,n*=108.883]},r.lab.lch=function(t){var e,i=t[0],n=t[1],r=t[2];return(e=360*Math.atan2(r,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+r*r),e]},r.lch.lab=function(t){var e,i=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[i,n*Math.cos(e),n*Math.sin(e)]},r.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],a=1 in arguments?arguments[1]:r.rgb.hsv(t)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===a&&(o+=60),o},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){var e=t[0],i=t[1],n=t[2];return e===i&&i===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},r.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},r.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var i;return t-=16,[Math.floor(t/36)/5*255,Math.floor((i=t%36)/6)/5*255,i%6/5*255]},r.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];3===e[0].length&&(i=i.split("").map((function(t){return t+t})).join(""));var n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},r.rgb.hcg=function(t){var e,i=t[0]/255,n=t[1]/255,r=t[2]/255,a=Math.max(Math.max(i,n),r),o=Math.min(Math.min(i,n),r),s=a-o;return e=s<=0?0:a===i?(n-r)/s%6:a===n?2+(r-i)/s:4+(i-n)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},r.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=1,r=0;return(n=i<.5?2*e*i:2*e*(1-i))<1&&(r=(i-.5*n)/(1-n)),[t[0],100*n,100*r]},r.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=e*i,r=0;return n<1&&(r=(i-n)/(1-n)),[t[0],100*n,100*r]},r.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0===i)return[255*n,255*n,255*n];var r,a=[0,0,0],o=e%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:a[0]=1,a[1]=s,a[2]=0;break;case 1:a[0]=l,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=s;break;case 3:a[0]=0,a[1]=l,a[2]=1;break;case 4:a[0]=s,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=l}return r=(1-i)*n,[255*(i*a[0]+r),255*(i*a[1]+r),255*(i*a[2]+r)]},r.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),n=0;return i>0&&(n=e/i),[t[0],100*n,100*i]},r.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i]},r.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},r.hwb.hcg=function(t){var e=t[1]/100,i=1-t[2]/100,n=i-e,r=0;return n<1&&(r=(i-n)/(1-n)),[t[0],100*n,100*r]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=r.gray.hsv=function(t){return[0,0,t[0]]},r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}));function n(t){var e=function(){for(var t={},e=Object.keys(i),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),a=Object.keys(i[r]),o=a.length,s=0;s<o;s++){var l=a[s],c=e[l];-1===c.distance&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(l))}return e}function r(t,e){return function(i){return e(t(i))}}function a(t,e){for(var n=[e[t].parent,t],a=i[e[t].parent][t],o=e[t].parent;e[o].parent;)n.unshift(e[o].parent),a=r(i[e[o].parent][o],a),o=e[o].parent;return a.conversion=n,a}i.rgb,i.hsl,i.hsv,i.hwb,i.cmyk,i.xyz,i.lab,i.lch,i.hex,i.keyword,i.ansi16,i.ansi256,i.hcg,i.apple,i.gray;var o={};Object.keys(i).forEach((function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:i[t].channels}),Object.defineProperty(o[t],"labels",{value:i[t].labels});var e=function(t){for(var e=n(t),i={},r=Object.keys(e),o=r.length,s=0;s<o;s++){var l=r[s];null!==e[l].parent&&(i[l]=a(l,e))}return i}(t);Object.keys(e).forEach((function(i){var n=e[i];o[t][i]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var i=t(e);if("object"==typeof i)for(var n=i.length,r=0;r<n;r++)i[r]=Math.round(i[r]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(n),o[t][i].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))}));var s=o,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},c={getRgba:u,getHsla:d,getRgb:function(t){var e=u(t);return e&&e.slice(0,3)},getHsl:function(t){var e=d(t);return e&&e.slice(0,3)},getHwb:h,getAlpha:function(t){var e=u(t);return e||(e=d(t))||(e=h(t))?e[3]:void 0},hexString:function(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+y(t[0])+y(t[1])+y(t[2])+(e>=0&&e<1?y(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:p,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return f(t,e);var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+i+"%, "+n+"%, "+r+"%)"},percentaString:f,hslString:function(t,e){return e<1||t[3]&&t[3]<1?m(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:m,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return v[t.slice(0,3)]}};function u(t){if(t){var e=[0,0,0],i=1,n=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(n){r=(n=n[1])[3];for(var a=0;a<e.length;a++)e[a]=parseInt(n[a]+n[a],16);r&&(i=Math.round(parseInt(r+r,16)/255*100)/100)}else if(n=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=n[2],n=n[1],a=0;a<e.length;a++)e[a]=parseInt(n.slice(2*a,2*a+2),16);r&&(i=Math.round(parseInt(r,16)/255*100)/100)}else if(n=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(n[a+1]);i=parseFloat(n[4])}else if(n=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(n[a+1]));i=parseFloat(n[4])}else if(n=t.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(e=l[n[1]]))return}for(a=0;a<e.length;a++)e[a]=g(e[a],0,255);return i=i||0==i?g(i,0,1):1,e[3]=i,e}}function d(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[g(parseInt(e[1]),0,360),g(parseFloat(e[2]),0,100),g(parseFloat(e[3]),0,100),g(isNaN(i)?1:i,0,1)]}}}function h(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[g(parseInt(e[1]),0,360),g(parseFloat(e[2]),0,100),g(parseFloat(e[3]),0,100),g(isNaN(i)?1:i,0,1)]}}}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e,i){return Math.min(Math.max(e,t),i)}function y(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var v={};for(var _ in l)v[l[_]]=_;var b=function(t){return t instanceof b?t:this instanceof b?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=c.getRgba(t))?this.setValues("rgb",e):(e=c.getHsla(t))?this.setValues("hsl",e):(e=c.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new b(t);var e};b.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return c.hexString(this.values.rgb)},rgbString:function(){return c.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return c.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return c.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return c.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return c.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return c.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return c.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=t,n=void 0===e?.5:e,r=2*n-1,a=this.alpha()-i.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*i.red(),o*this.green()+s*i.green(),o*this.blue()+s*i.blue()).alpha(this.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new b,n=this.values,r=i.values;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],"[object Array]"===(e={}.toString.call(t))?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return i}},b.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},b.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},b.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},b.prototype.setValues=function(t,e){var i,n,r=this.values,a=this.spaces,o=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)r[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)r[t][i]=e[t.charAt(i)];l=e.a}else if(void 0!==e[a[t][0]]){var c=a[t];for(i=0;i<t.length;i++)r[t][i]=e[c[i]];l=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===t)return!1;for(i=0;i<t.length;i++)n=Math.max(0,Math.min(o[t][i],r[t][i])),r[t][i]=Math.round(n);for(var u in a)u!==t&&(r[u]=s[t][u](r[t]));return!0},b.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},b.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:(i===n[e]||(n[e]=i,this.setValues(t,n)),this)},"undefined"!=typeof window&&(window.Color=b);var x=b;function w(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var k,S={noop:function(){},uid:(k=0,function(){return k++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,i){return S.valueOrDefault(S.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var r,a,o;if(S.isArray(t))if(a=t.length,n)for(r=a-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<a;r++)e.call(i,t[r],r);else if(S.isObject(t))for(a=(o=Object.keys(t)).length,r=0;r<a;r++)e.call(i,t[o[r]],o[r])},arrayEquals:function(t,e){var i,n,r,a;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],a=e[i],r instanceof Array&&a instanceof Array){if(!S.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(t){if(S.isArray(t))return t.map(S.clone);if(S.isObject(t)){for(var e=Object.create(t),i=Object.keys(t),n=i.length,r=0;r<n;++r)e[i[r]]=S.clone(t[i[r]]);return e}return t},_merger:function(t,e,i,n){if(w(t)){var r=e[t],a=i[t];S.isObject(r)&&S.isObject(a)?S.merge(r,a,n):e[t]=S.clone(a)}},_mergerIf:function(t,e,i){if(w(t)){var n=e[t],r=i[t];S.isObject(n)&&S.isObject(r)?S.mergeIf(n,r):e.hasOwnProperty(t)||(e[t]=S.clone(r))}},merge:function(t,e,i){var n,r,a,o,s,l=S.isArray(e)?e:[e],c=l.length;if(!S.isObject(t))return t;for(n=(i=i||{}).merger||S._merger,r=0;r<c;++r)if(e=l[r],S.isObject(e))for(s=0,o=(a=Object.keys(e)).length;s<o;++s)n(a[s],t,e,i);return t},mergeIf:function(t,e){return S.merge(t,e,{merger:S._mergerIf})},extend:Object.assign||function(t){return S.merge(t,[].slice.call(arguments,1),{merger:function(t,e,i){e[t]=i[t]}})},inherits:function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=S.inherits,t&&S.extend(i.prototype,t),i.__super__=e.prototype,i},_deprecated:function(t,e,i,n){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')}},T=S;S.callCallback=S.callback,S.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},S.getValueOrDefault=S.valueOrDefault,S.getValueAtIndexOrDefault=S.valueAtIndexOrDefault;var M={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-M.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*M.easeInBounce(2*t):.5*M.easeOutBounce(2*t-1)+.5}},C={effects:M};T.easingEffects=M;var D=Math.PI,L=D/180,A=2*D,E=D/2,P=D/4,I=2*D/3,O={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,r,a){if(a){var o=Math.min(a,r/2,n/2),s=e+o,l=i+o,c=e+n-o,u=i+r-o;t.moveTo(e,l),s<c&&l<u?(t.arc(s,l,o,-D,-E),t.arc(c,l,o,-E,0),t.arc(c,u,o,0,E),t.arc(s,u,o,E,D)):s<c?(t.moveTo(s,i),t.arc(c,l,o,-E,E),t.arc(s,l,o,E,D+E)):l<u?(t.arc(s,l,o,-D,0),t.arc(s,u,o,0,D)):t.arc(s,l,o,-D,D),t.closePath(),t.moveTo(e,i)}else t.rect(e,i,n,r)},drawPoint:function(t,e,i,n,r,a){var o,s,l,c,u,d=(a||0)*L;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(o=e.toString())||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(d),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(i)||i<=0)){switch(t.beginPath(),e){default:t.arc(n,r,i,0,A),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(d)*i,r-Math.cos(d)*i),d+=I,t.lineTo(n+Math.sin(d)*i,r-Math.cos(d)*i),d+=I,t.lineTo(n+Math.sin(d)*i,r-Math.cos(d)*i),t.closePath();break;case"rectRounded":c=i-(u=.516*i),s=Math.cos(d+P)*c,l=Math.sin(d+P)*c,t.arc(n-s,r-l,u,d-D,d-E),t.arc(n+l,r-s,u,d-E,d),t.arc(n+s,r+l,u,d,d+E),t.arc(n-l,r+s,u,d+E,d+D),t.closePath();break;case"rect":if(!a){c=Math.SQRT1_2*i,t.rect(n-c,r-c,2*c,2*c);break}d+=P;case"rectRot":s=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-s,r-l),t.lineTo(n+l,r-s),t.lineTo(n+s,r+l),t.lineTo(n-l,r+s),t.closePath();break;case"crossRot":d+=P;case"cross":s=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-s,r-l),t.lineTo(n+s,r+l),t.moveTo(n+l,r-s),t.lineTo(n-l,r+s);break;case"star":s=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-s,r-l),t.lineTo(n+s,r+l),t.moveTo(n+l,r-s),t.lineTo(n-l,r+s),d+=P,s=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-s,r-l),t.lineTo(n+s,r+l),t.moveTo(n+l,r-s),t.lineTo(n-l,r+s);break;case"line":s=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-s,r-l),t.lineTo(n+s,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(d)*i,r+Math.sin(d)*i)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){var r=i.steppedLine;if(r){if("middle"===r){var a=(e.x+i.x)/2;t.lineTo(a,n?i.y:e.y),t.lineTo(a,n?e.y:i.y)}else"after"===r&&!n||"after"!==r&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}else i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y)}},R=O;T.clear=O.clear,T.drawRoundedRectangle=function(t){t.beginPath(),O.roundedRect.apply(O,arguments)};var z={_set:function(t,e){return T.merge(this[t]||(this[t]={}),e)}};z._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Y=z,F=T.valueOrDefault,H={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,i,n,r;return T.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,r=+t.left||0):e=i=n=r=+t||0,{top:e,right:i,bottom:n,left:r,height:e+n,width:r+i}},_parseFont:function(t){var e=Y.global,i=F(t.fontSize,e.defaultFontSize),n={family:F(t.fontFamily,e.defaultFontFamily),lineHeight:T.options.toLineHeight(F(t.lineHeight,e.defaultLineHeight),i),size:i,style:F(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return n.string=function(t){return!t||T.isNullOrUndef(t.size)||T.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(n),n},resolve:function(t,e,i,n){var r,a,o,s=!0;for(r=0,a=t.length;r<a;++r)if(void 0!==(o=t[r])&&(void 0!==e&&"function"==typeof o&&(o=o(e),s=!1),void 0!==i&&T.isArray(o)&&(o=o[i],s=!1),void 0!==o))return n&&!s&&(n.cacheable=!1),o}},N={_factorize:function(t){var e,i=[],n=Math.sqrt(t);for(e=1;e<n;e++)t%e==0&&(i.push(e),i.push(t/e));return n===(0|n)&&i.push(n),i.sort((function(t,e){return t-e})).pop(),i},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e}},B=N;T.log10=N.log10;var j=T,V=C,W=R,U=H,$=B,q={getRtlAdapter:function(t,e,i){return t?function(t,e){return{x:function(i){return t+t+e-i},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,i):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},overrideTextDirection:function(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};j.easing=V,j.canvas=W,j.options=U,j.math=$,j.rtl=q;var G=function(t){j.extend(this,t),this.initialize.apply(this,arguments)};j.extend(G.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=j.extend({},t._model)),t._start={},t},transition:function(t){var e=this,i=e._model,n=e._start,r=e._view;return i&&1!==t?(r||(r=e._view={}),n||(n=e._start={}),function(t,e,i,n){var r,a,o,s,l,c,u,d,h,p=Object.keys(i);for(r=0,a=p.length;r<a;++r)if(c=i[o=p[r]],e.hasOwnProperty(o)||(e[o]=c),(s=e[o])!==c&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(u=typeof c)==typeof(l=t[o]))if("string"===u){if((d=x(l)).valid&&(h=x(c)).valid){e[o]=h.mix(d,n).rgbString();continue}}else if(j.isFinite(l)&&j.isFinite(c)){e[o]=l+(c-l)*n;continue}e[o]=c}}(n,r,i,t),e):(e._view=j.extend({},i),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return j.isNumber(this._model.x)&&j.isNumber(this._model.y)}}),G.extend=j.inherits;var X=G,Z=X.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),J=Z;Object.defineProperty(Z.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Z.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),Y._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:j.noop,onComplete:j.noop}});var K={animations:[],request:null,addAnimation:function(t,e,i,n){var r,a,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=i,n||(t.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===t)return void(o[r]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=j.findIndex(this.animations,(function(e){return e.chart===t}));-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=j.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,e,i,n,r=this.animations,a=0;a<r.length;)e=(t=r[a]).chart,i=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*i)+1,t.currentStep=Math.min(n,i),j.callback(t.render,[e,t],e),j.callback(t.onAnimationProgress,[t],e),t.currentStep>=i?(j.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(a,1)):++a}},Q=j.options.resolve,tt=["push","pop","shift","splice","unshift"];function et(t,e){var i=t._chartjs;if(i){var n=i.listeners,r=n.indexOf(e);-1!==r&&n.splice(r,1),n.length>0||(tt.forEach((function(e){delete t[e]})),delete t._chartjs)}}var it=function(t,e){this.initialize(t,e)};j.extend(it.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements(),i._type=i.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.chart,i=e.scales,n=this.getDataset(),r=e.options.scales;null!==t.xAxisID&&t.xAxisID in i&&!n.xAxisID||(t.xAxisID=n.xAxisID||r.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in i&&!n.yAxisID||(t.yAxisID=n.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&et(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,i=this.getMeta(),n=this.getDataset().data||[],r=i.data;for(t=0,e=n.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);i.dataset=i.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,i=this,n=i.getDataset(),r=n.data||(n.data=[]);i._data!==r&&(i._data&&et(i._data,i),r&&Object.isExtensible(r)&&(e=i,(t=r)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tt.forEach((function(e){var i="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=n.apply(this,e);return j.each(t._chartjs.listeners,(function(t){"function"==typeof t[i]&&t[i].apply(t,e)})),r}})})))),i._data=r),i.resyncElements()},_configure:function(){this._config=j.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(t,e,i){"_meta"!==t&&"data"!==t&&j._merger(t,e,i)}})},_update:function(t){this._configure(),this._cachedDataOpts=null,this.update(t)},update:j.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,r=0;r<n;++r)i[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},getStyle:function(t){var e,i=this.getMeta(),n=i.dataset;return this._configure(),n&&void 0===t?e=this._resolveDatasetElementOptions(n||{}):(t=t||0,e=this._resolveDataElementOptions(i.data[t]||{},t)),!1!==e.fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var i,n,r,a,o=this,s=o.chart,l=o._config,c=t.custom||{},u=s.options.elements[o.datasetElementType.prototype._type]||{},d=o._datasetElementOptions,h={},p={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(i=0,n=d.length;i<n;++i)r=d[i],a=e?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=Q([c[a],l[a],u[a]],p);return h},_resolveDataElementOptions:function(t,e){var i=this,n=t&&t.custom,r=i._cachedDataOpts;if(r&&!n)return r;var a,o,s,l,c=i.chart,u=i._config,d=c.options.elements[i.dataElementType.prototype._type]||{},h=i._dataElementOptions,p={},f={chart:c,dataIndex:e,dataset:i.getDataset(),datasetIndex:i.index},m={cacheable:!n};if(n=n||{},j.isArray(h))for(o=0,s=h.length;o<s;++o)p[l=h[o]]=Q([n[l],u[l],d[l]],f,e,m);else for(o=0,s=(a=Object.keys(h)).length;o<s;++o)p[l=a[o]]=Q([n[l],u[h[l]],u[l],d[l]],f,e,m);return m.cacheable&&(i._cachedDataOpts=Object.freeze(p)),p},removeHoverStyle:function(t){j.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},r=t._model,a=j.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Q([n.hoverBackgroundColor,e.hoverBackgroundColor,a(r.backgroundColor)],void 0,i),r.borderColor=Q([n.hoverBorderColor,e.hoverBorderColor,a(r.borderColor)],void 0,i),r.borderWidth=Q([n.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,i)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,i,n,r,a,o=this.getMeta().dataset,s={};if(o){for(a=o._model,r=this._resolveDatasetElementOptions(o,!0),t=0,e=(n=Object.keys(r)).length;t<e;++t)s[i=n[t]]=a[i],a[i]=r[i];o.$previousStyle=s}},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,i=t.data.length,n=e.length;n<i?t.data.splice(n,i-n):n>i&&this.insertElements(i,n-i)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),it.extend=j.inherits;var nt=it,rt=2*Math.PI;function at(t,e){var i=e.startAngle,n=e.endAngle,r=e.pixelMargin,a=r/e.outerRadius,o=e.x,s=e.y;t.beginPath(),t.arc(o,s,e.outerRadius,i-a,n+a),e.innerRadius>r?(a=r/e.innerRadius,t.arc(o,s,e.innerRadius-r,n+a,i-a,!0)):t.arc(o,s,r,n+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}function ot(t,e,i){var n="inner"===e.borderAlign;n?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),i.fullCircles&&function(t,e,i,n){var r,a=i.endAngle;for(n&&(i.endAngle=i.startAngle+rt,at(t,i),i.endAngle=a,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=rt,i.fullCircles--)),t.beginPath(),t.arc(i.x,i.y,i.innerRadius,i.startAngle+rt,i.startAngle,!0),r=0;r<i.fullCircles;++r)t.stroke();for(t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.startAngle+rt),r=0;r<i.fullCircles;++r)t.stroke()}(t,e,i,n),n&&at(t,i),t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),t.stroke()}Y._set("global",{elements:{arc:{backgroundColor:Y.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var st=X.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=j.getAngleFromPoint(i,{x:t,y:e}),r=n.angle,a=n.distance,o=i.startAngle,s=i.endAngle;s<o;)s+=rt;for(;r>s;)r-=rt;for(;r<o;)r+=rt;var l=r>=o&&r<=s,c=a>=i.innerRadius&&a<=i.outerRadius;return l&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t,e=this._chart.ctx,i=this._view,n="inner"===i.borderAlign?.33:0,r={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-n,0),pixelMargin:n,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/rt)};if(e.save(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+rt,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),t=0;t<r.fullCircles;++t)e.fill();r.endAngle=r.startAngle+i.circumference%rt}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),i.borderWidth&&ot(e,i,r),e.restore()}}),lt=j.valueOrDefault,ct=Y.global.defaultColor;Y._set("global",{elements:{line:{tension:.4,backgroundColor:ct,borderWidth:3,borderColor:ct,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ut=X.extend({_type:"line",draw:function(){var t,e,i,n=this,r=n._view,a=n._chart.ctx,o=r.spanGaps,s=n._children.slice(),l=Y.global,c=l.elements.line,u=-1,d=n._loop;if(s.length){if(n._loop){for(t=0;t<s.length;++t)if(e=j.previousItem(s,t),!s[t]._view.skip&&e._view.skip){s=s.slice(t).concat(s.slice(0,t)),d=o;break}d&&s.push(s[0])}for(a.save(),a.lineCap=r.borderCapStyle||c.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||c.borderDash),a.lineDashOffset=lt(r.borderDashOffset,c.borderDashOffset),a.lineJoin=r.borderJoinStyle||c.borderJoinStyle,a.lineWidth=lt(r.borderWidth,c.borderWidth),a.strokeStyle=r.borderColor||l.defaultColor,a.beginPath(),(i=s[0]._view).skip||(a.moveTo(i.x,i.y),u=0),t=1;t<s.length;++t)i=s[t]._view,e=-1===u?j.previousItem(s,t):s[u],i.skip||(u!==t-1&&!o||-1===u?a.moveTo(i.x,i.y):j.canvas.lineTo(a,e._view,i),u=t);d&&a.closePath(),a.stroke(),a.restore()}}}),dt=j.valueOrDefault,ht=Y.global.defaultColor;function pt(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}Y._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ht,borderColor:ht,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ft=X.extend({_type:"point",inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:pt,inXRange:pt,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._chart.ctx,n=e.pointStyle,r=e.rotation,a=e.radius,o=e.x,s=e.y,l=Y.global,c=l.defaultColor;e.skip||(void 0===t||j.canvas._isPointInArea(e,t))&&(i.strokeStyle=e.borderColor||c,i.lineWidth=dt(e.borderWidth,l.elements.point.borderWidth),i.fillStyle=e.backgroundColor||c,j.canvas.drawPoint(i,n,a,o,s,r))}}),mt=Y.global.defaultColor;function gt(t){return t&&void 0!==t.width}function yt(t){var e,i,n,r,a;return gt(t)?(a=t.width/2,e=t.x-a,i=t.x+a,n=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(a=t.height/2,e=Math.min(t.x,t.base),i=Math.max(t.x,t.base),n=t.y-a,r=t.y+a),{left:e,top:n,right:i,bottom:r}}function vt(t,e,i){return t===e?i:t===i?e:t}function _t(t,e,i){var n,r,a,o,s=t.borderWidth,l=function(t){var e=t.borderSkipped,i={};return e?(t.horizontal?t.base>t.x&&(e=vt(e,"left","right")):t.base<t.y&&(e=vt(e,"bottom","top")),i[e]=!0,i):i}(t);return j.isObject(s)?(n=+s.top||0,r=+s.right||0,a=+s.bottom||0,o=+s.left||0):n=r=a=o=+s||0,{t:l.top||n<0?0:n>i?i:n,r:l.right||r<0?0:r>e?e:r,b:l.bottom||a<0?0:a>i?i:a,l:l.left||o<0?0:o>e?e:o}}function bt(t,e,i){var n=null===e,r=null===i,a=!(!t||n&&r)&&yt(t);return a&&(n||e>=a.left&&e<=a.right)&&(r||i>=a.top&&i<=a.bottom)}Y._set("global",{elements:{rectangle:{backgroundColor:mt,borderColor:mt,borderSkipped:"bottom",borderWidth:0}}});var xt=X.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,i=function(t){var e=yt(t),i=e.right-e.left,n=e.bottom-e.top,r=_t(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b}}}(e),n=i.outer,r=i.inner;t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),n.w===r.w&&n.h===r.h||(t.save(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.fillStyle=e.borderColor,t.rect(r.x,r.y,r.w,r.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return bt(this._view,t,e)},inLabelRange:function(t,e){var i=this._view;return gt(i)?bt(i,t,null):bt(i,null,e)},inXRange:function(t){return bt(this._view,t,null)},inYRange:function(t){return bt(this._view,null,t)},getCenterPoint:function(){var t,e,i=this._view;return gt(i)?(t=i.x,e=(i.y+i.base)/2):(t=(i.x+i.base)/2,e=i.y),{x:t,y:e}},getArea:function(){var t=this._view;return gt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),wt={},kt=st,St=ut,Tt=ft,Mt=xt;wt.Arc=kt,wt.Line=St,wt.Point=Tt,wt.Rectangle=Mt;var Ct=j._deprecated,Dt=j.valueOrDefault;function Lt(t,e,i){var n,r,a=i.barThickness,o=e.stackCount,s=e.pixels[t],l=j.isNullOrUndef(a)?function(t,e){var i,n,r,a,o=t._length;for(r=1,a=e.length;r<a;++r)o=Math.min(o,Math.abs(e[r]-e[r-1]));for(r=0,a=t.getTicks().length;r<a;++r)n=t.getPixelForTick(r),o=r>0?Math.min(o,Math.abs(n-i)):o,i=n;return o}(e.scale,e.pixels):-1;return j.isNullOrUndef(a)?(n=l*i.categoryPercentage,r=i.barPercentage):(n=a*o,r=1),{chunk:n/o,ratio:r,start:s-n/2}}Y._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Y._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var At=nt.extend({dataElementType:wt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,i=this;nt.prototype.initialize.apply(i,arguments),(t=i.getMeta()).stack=i.getDataset().stack,t.bar=!0,e=i._getIndexScale().options,Ct("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Ct("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Ct("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Ct("bar chart",i._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Ct("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,i,n=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,i=n.length;e<i;++e)this.updateElement(n[e],e,t)},updateElement:function(t,e,i){var n=this,r=n.getMeta(),a=n.getDataset(),o=n._resolveDataElementOptions(t,e);t._xScale=n.getScaleForId(r.xAxisID),t._yScale=n.getScaleForId(r.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:n.chart.data.labels[e]},j.isArray(a.data[e])&&(t._model.borderSkipped=null),n._updateElementGeometry(t,e,i,o),t.pivot()},_updateElementGeometry:function(t,e,i,n){var r=this,a=t._model,o=r._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),c=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,e,n),d=r.calculateBarIndexPixels(r.index,e,c,n);a.horizontal=l,a.base=i?s:u.base,a.x=l?i?s:u.head:d.center,a.y=l?d.center:i?s:u.head,a.height=l?d.size:void 0,a.width=l?void 0:d.size},_getStacks:function(t){var e,i,n=this._getIndexScale(),r=n._getMatchingVisibleMetas(this._type),a=n.options.stacked,o=r.length,s=[];for(e=0;e<o&&(i=r[e],(!1===a||-1===s.indexOf(i.stack)||void 0===a&&void 0===i.stack)&&s.push(i.stack),i.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=void 0!==e?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,i=this._getIndexScale(),n=[];for(t=0,e=this.getMeta().data.length;t<e;++t)n.push(i.getPixelForValue(null,t,this.index));return{pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this.getStackCount(),scale:i}},calculateBarValuePixels:function(t,e,i){var n,r,a,o,s,l,c,u=this.chart,d=this._getValueScale(),h=d.isHorizontal(),p=u.data.datasets,f=d._getMatchingVisibleMetas(this._type),m=d._parseValue(p[t].data[e]),g=i.minBarLength,y=d.options.stacked,v=this.getMeta().stack,_=void 0===m.start?0:m.max>=0&&m.min>=0?m.min:m.max,b=void 0===m.start?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,x=f.length;if(y||void 0===y&&void 0!==v)for(n=0;n<x&&(r=f[n]).index!==t;++n)r.stack===v&&(a=void 0===(c=d._parseValue(p[r.index].data[e])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(m.min<0&&a<0||m.max>=0&&a>0)&&(_+=a));return o=d.getPixelForValue(_),l=(s=d.getPixelForValue(_+b))-o,void 0!==g&&Math.abs(l)<g&&(l=g,s=b>=0&&!h||b<0&&h?o-g:o+g),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(t,e,i,n){var r="flex"===n.barThickness?function(t,e,i){var n,r=e.pixels,a=r[t],o=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null,l=i.categoryPercentage;return null===o&&(o=a-(null===s?e.end-e.start:s-a)),null===s&&(s=a+a-o),n=a-(a-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/e.stackCount,ratio:i.barPercentage,start:n}}(e,i,n):Lt(e,i,n),a=this.getStackIndex(t,this.getMeta().stack),o=r.start+r.chunk*a+r.chunk/2,s=Math.min(Dt(n.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var t=this.chart,e=this._getValueScale(),i=this.getMeta().data,n=this.getDataset(),r=i.length,a=0;for(j.canvas.clipArea(t.ctx,t.chartArea);a<r;++a){var o=e._parseValue(n.data[a]);isNaN(o.min)||isNaN(o.max)||i[a].draw()}j.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var t=this,e=j.extend({},nt.prototype._resolveDataElementOptions.apply(t,arguments)),i=t._getIndexScale().options,n=t._getValueScale().options;return e.barPercentage=Dt(i.barPercentage,e.barPercentage),e.barThickness=Dt(i.barThickness,e.barThickness),e.categoryPercentage=Dt(i.categoryPercentage,e.categoryPercentage),e.maxBarThickness=Dt(i.maxBarThickness,e.maxBarThickness),e.minBarLength=Dt(n.minBarLength,e.minBarLength),e}}),Et=j.valueOrDefault,Pt=j.options.resolve;Y._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}});var It=nt.extend({dataElementType:wt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,i=e.getMeta().data;j.each(i,(function(i,n){e.updateElement(i,n,t)}))},updateElement:function(t,e,i){var n=this,r=n.getMeta(),a=t.custom||{},o=n.getScaleForId(r.xAxisID),s=n.getScaleForId(r.yAxisID),l=n._resolveDataElementOptions(t,e),c=n.getDataset().data[e],u=n.index,d=i?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,e,u),h=i?s.getBasePixel():s.getPixelForValue(c,e,u);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=u,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:i?0:l.radius,skip:a.skip||isNaN(d)||isNaN(h),x:d,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options,n=j.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Et(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Et(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Et(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},_resolveDataElementOptions:function(t,e){var i=this,n=i.chart,r=i.getDataset(),a=t.custom||{},o=r.data[e]||{},s=nt.prototype._resolveDataElementOptions.apply(i,arguments),l={chart:n,dataIndex:e,dataset:r,datasetIndex:i.index};return i._cachedDataOpts===s&&(s=j.extend({},s)),s.radius=Pt([a.radius,o.r,i._config.radius,n.options.elements.point.radius],l,e),s}}),Ot=j.valueOrDefault,Rt=Math.PI,zt=2*Rt,Yt=Rt/2;Y._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,i,n,r=document.createElement("ul"),a=t.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",t.id+"-legend"),o.length)for(e=0,i=o[0].data.length;e<i;++e)(n=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&n.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(i,n){var r=t.getDatasetMeta(0),a=r.controller.getStyle(n);return{text:i,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(e.datasets[0].data[n])||r.data[n].hidden,index:n}})):[]}},onClick:function(t,e){var i,n,r,a=e.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)(r=o.getDatasetMeta(i)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-Yt,circumference:zt,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return j.isArray(i)?(i=i.slice())[0]+=n:i+=n,i}}}});var Ft=nt.extend({dataElementType:wt.Arc,linkScales:j.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var e,i,n,r,a=this,o=a.chart,s=o.chartArea,l=o.options,c=1,u=1,d=0,h=0,p=a.getMeta(),f=p.data,m=l.cutoutPercentage/100||0,g=l.circumference,y=a._getRingWeight(a.index);if(g<zt){var v=l.rotation%zt,_=(v+=v>=Rt?-zt:v<-Rt?zt:0)+g,b=Math.cos(v),x=Math.sin(v),w=Math.cos(_),k=Math.sin(_),S=v<=0&&_>=0||_>=zt,T=v<=Yt&&_>=Yt||_>=zt+Yt,M=v<=-Yt&&_>=-Yt||_>=Rt+Yt,C=v===-Rt||_>=Rt?-1:Math.min(b,b*m,w,w*m),D=M?-1:Math.min(x,x*m,k,k*m),L=S?1:Math.max(b,b*m,w,w*m),A=T?1:Math.max(x,x*m,k,k*m);c=(L-C)/2,u=(A-D)/2,d=-(L+C)/2,h=-(A+D)/2}for(n=0,r=f.length;n<r;++n)f[n]._options=a._resolveDataElementOptions(f[n],n);for(o.borderWidth=a.getMaxBorderWidth(),e=(s.right-s.left-o.borderWidth)/c,i=(s.bottom-s.top-o.borderWidth)/u,o.outerRadius=Math.max(Math.min(e,i)/2,0),o.innerRadius=Math.max(o.outerRadius*m,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(a._getVisibleDatasetWeightTotal()||1),o.offsetX=d*o.outerRadius,o.offsetY=h*o.outerRadius,p.total=a.calculateTotal(),a.outerRadius=o.outerRadius-o.radiusLength*a._getRingWeightOffset(a.index),a.innerRadius=Math.max(a.outerRadius-o.radiusLength*y,0),n=0,r=f.length;n<r;++n)a.updateElement(f[n],n,t)},updateElement:function(t,e,i){var n=this,r=n.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=o.rotation,d=o.rotation,h=n.getDataset(),p=i&&s.animateRotate||t.hidden?0:n.calculateCircumference(h.data[e])*(o.circumference/zt),f=i&&s.animateScale?0:n.innerRadius,m=i&&s.animateScale?0:n.outerRadius,g=t._options||{};j.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:u,endAngle:d,circumference:p,outerRadius:m,innerRadius:f,label:j.valueAtIndexOrDefault(h.label,e,r.data.labels[e])}});var y=t._model;i&&s.animateRotate||(y.startAngle=0===e?o.rotation:n.getMeta().data[e-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),i=this.getMeta(),n=0;return j.each(i.data,(function(i,r){t=e.data[r],isNaN(t)||i.hidden||(n+=Math.abs(t))})),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?zt*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,i,n,r,a,o,s,l,c=0,u=this.chart;if(!t)for(e=0,i=u.data.datasets.length;e<i;++e)if(u.isDatasetVisible(e)){t=(n=u.getDatasetMeta(e)).data,e!==this.index&&(a=n.controller);break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)r=t[e],a?(a._configure(),o=a._resolveDataElementOptions(r,e)):o=r._options,"inner"!==o.borderAlign&&(s=o.borderWidth,c=(l=o.hoverBorderWidth)>(c=s>c?s:c)?l:c);return c},setHoverStyle:function(t){var e=t._model,i=t._options,n=j.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Ot(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Ot(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Ot(i.hoverBorderWidth,i.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e},_getRingWeight:function(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Y._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Y._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Ht=At.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Nt=j.valueOrDefault,Bt=j.options.resolve,jt=j.canvas._isPointInArea;function Vt(t,e){var i=t&&t.options.ticks||{},n=i.reverse,r=void 0===i.min?e:0,a=void 0===i.max?e:0;return{start:n?a:r,end:n?r:a}}function Wt(t,e,i){var n=i/2,r=Vt(t,n),a=Vt(e,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function Ut(t){var e,i,n,r;return j.isObject(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r}}Y._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var $t=nt.extend({datasetElementType:wt.Line,dataElementType:wt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,i,n=this,r=n.getMeta(),a=r.dataset,o=r.data||[],s=n.chart.options,l=n._config,c=n._showLine=Nt(l.showLine,s.showLines);for(n._xScale=n.getScaleForId(r.xAxisID),n._yScale=n.getScaleForId(r.yAxisID),c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=n._yScale,a._datasetIndex=n.index,a._children=o,a._model=n._resolveDatasetElementOptions(a),a.pivot()),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t);for(c&&0!==a._model.tension&&n.updateBezierControlPoints(),e=0,i=o.length;e<i;++e)o[e].pivot()},updateElement:function(t,e,i){var n,r,a=this,o=a.getMeta(),s=t.custom||{},l=a.getDataset(),c=a.index,u=l.data[e],d=a._xScale,h=a._yScale,p=o.dataset._model,f=a._resolveDataElementOptions(t,e);n=d.getPixelForValue("object"==typeof u?u:NaN,e,c),r=i?h.getBasePixel():a.calculatePointY(u,e,c),t._xScale=d,t._yScale=h,t._options=f,t._datasetIndex=c,t._index=e,t._model={x:n,y:r,skip:s.skip||isNaN(n)||isNaN(r),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:Nt(s.tension,p?p.tension:0),steppedLine:!!p&&p.steppedLine,hitRadius:f.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,i=e._config,n=t.custom||{},r=e.chart.options,a=r.elements.line,o=nt.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=Nt(i.spanGaps,r.spanGaps),o.tension=Nt(i.lineTension,a.tension),o.steppedLine=Bt([n.steppedLine,i.steppedLine,a.stepped]),o.clip=Ut(Nt(i.clip,Wt(e._xScale,e._yScale,o.borderWidth))),o},calculatePointY:function(t,e,i){var n,r,a,o,s,l,c,u=this.chart,d=this._yScale,h=0,p=0;if(d.options.stacked){for(s=+d.getRightValue(t),c=(l=u._getSortedVisibleDatasetMetas()).length,n=0;n<c&&(a=l[n]).index!==i;++n)r=u.data.datasets[a.index],"line"===a.type&&a.yAxisID===d.id&&((o=+d.getRightValue(r.data[e]))<0?p+=o||0:h+=o||0);return s<0?d.getPixelForValue(p+s):d.getPixelForValue(h+s)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,n,r=this.chart,a=this.getMeta(),o=a.dataset._model,s=r.chartArea,l=a.data||[];function c(t,e,i){return Math.max(Math.min(t,i),e)}if(o.spanGaps&&(l=l.filter((function(t){return!t._model.skip}))),"monotone"===o.cubicInterpolationMode)j.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)i=l[t]._model,n=j.splineCurve(j.previousItem(l,t)._model,i,j.nextItem(l,t)._model,o.tension),i.controlPointPreviousX=n.previous.x,i.controlPointPreviousY=n.previous.y,i.controlPointNextX=n.next.x,i.controlPointNextY=n.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)i=l[t]._model,jt(i,s)&&(t>0&&jt(l[t-1]._model,s)&&(i.controlPointPreviousX=c(i.controlPointPreviousX,s.left,s.right),i.controlPointPreviousY=c(i.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&jt(l[t+1]._model,s)&&(i.controlPointNextX=c(i.controlPointNextX,s.left,s.right),i.controlPointNextY=c(i.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,i=this.getMeta(),n=i.data||[],r=e.chartArea,a=e.canvas,o=0,s=n.length;for(this._showLine&&(t=i.dataset._model.clip,j.canvas.clipArea(e.ctx,{left:!1===t.left?0:r.left-t.left,right:!1===t.right?a.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?a.height:r.bottom+t.bottom}),i.dataset.draw(),j.canvas.unclipArea(e.ctx));o<s;++o)n[o].draw(r)},setHoverStyle:function(t){var e=t._model,i=t._options,n=j.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Nt(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Nt(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Nt(i.hoverBorderWidth,i.borderWidth),e.radius=Nt(i.hoverRadius,i.radius)}}),qt=j.options.resolve;Y._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,i,n,r=document.createElement("ul"),a=t.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",t.id+"-legend"),o.length)for(e=0,i=o[0].data.length;e<i;++e)(n=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&n.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(i,n){var r=t.getDatasetMeta(0),a=r.controller.getStyle(n);return{text:i,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(e.datasets[0].data[n])||r.data[n].hidden,index:n}})):[]}},onClick:function(t,e){var i,n,r,a=e.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)(r=o.getDatasetMeta(i)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Gt=nt.extend({dataElementType:wt.Arc,linkScales:j.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],u=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),e=0,i=a.data.length;e<i;e++)l[e]=s,n=r._computeAngle(e),c[e]=n,s+=n;for(e=0,i=u.length;e<i;++e)u[e]._options=r._resolveDataElementOptions(u[e],e),r.updateElement(u[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,i=e.chartArea,n=e.options,r=Math.min(i.right-i.left,i.bottom-i.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,i){var n=this,r=n.chart,a=n.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,u=l.xCenter,d=l.yCenter,h=o.startAngle,p=t.hidden?0:l.getDistanceFromCenterForValue(a.data[e]),f=n._starts[e],m=f+(t.hidden?0:n._angles[e]),g=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[e]),y=t._options||{};j.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,borderAlign:y.borderAlign,x:u,y:d,innerRadius:0,outerRadius:i?g:p,startAngle:i&&s.animateRotate?h:f,endAngle:i&&s.animateRotate?h:m,label:j.valueAtIndexOrDefault(c,e,c[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return j.each(e.data,(function(e,n){isNaN(t.data[n])||e.hidden||i++})),i},setHoverStyle:function(t){var e=t._model,i=t._options,n=j.getHoverColor,r=j.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=r(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=r(i.hoverBorderWidth,i.borderWidth)},_computeAngle:function(t){var e=this,i=this.getMeta().count,n=e.getDataset(),r=e.getMeta();if(isNaN(n.data[t])||r.data[t].hidden)return 0;var a={chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index};return qt([e.chart.options.elements.arc.angle,2*Math.PI/i],a,t)}});Y._set("pie",j.clone(Y.doughnut)),Y._set("pie",{cutoutPercentage:0});var Xt=Ft,Zt=j.valueOrDefault;Y._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Jt=nt.extend({datasetElementType:wt.Line,dataElementType:wt.Point,linkScales:j.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n=this,r=n.getMeta(),a=r.dataset,o=r.data||[],s=n.chart.scale,l=n._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=n.index,a._children=o,a._loop=!0,a._model=n._resolveDatasetElementOptions(a),a.pivot(),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t);for(n.updateBezierControlPoints(),e=0,i=o.length;e<i;++e)o[e].pivot()},updateElement:function(t,e,i){var n=this,r=t.custom||{},a=n.getDataset(),o=n.chart.scale,s=o.getPointPositionForValue(e,a.data[e]),l=n._resolveDataElementOptions(t,e),c=n.getMeta().dataset._model,u=i?o.xCenter:s.x,d=i?o.yCenter:s.y;t._scale=o,t._options=l,t._datasetIndex=n.index,t._index=e,t._model={x:u,y:d,skip:r.skip||isNaN(u)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Zt(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,i=t.chart.options,n=nt.prototype._resolveDatasetElementOptions.apply(t,arguments);return n.spanGaps=Zt(e.spanGaps,i.spanGaps),n.tension=Zt(e.lineTension,i.elements.line.tension),n},updateBezierControlPoints:function(){var t,e,i,n,r=this.getMeta(),a=this.chart.chartArea,o=r.data||[];function s(t,e,i){return Math.max(Math.min(t,i),e)}for(r.dataset._model.spanGaps&&(o=o.filter((function(t){return!t._model.skip}))),t=0,e=o.length;t<e;++t)i=o[t]._model,n=j.splineCurve(j.previousItem(o,t,!0)._model,i,j.nextItem(o,t,!0)._model,i.tension),i.controlPointPreviousX=s(n.previous.x,a.left,a.right),i.controlPointPreviousY=s(n.previous.y,a.top,a.bottom),i.controlPointNextX=s(n.next.x,a.left,a.right),i.controlPointNextY=s(n.next.y,a.top,a.bottom)},setHoverStyle:function(t){var e=t._model,i=t._options,n=j.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Zt(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Zt(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Zt(i.hoverBorderWidth,i.borderWidth),e.radius=Zt(i.hoverRadius,i.radius)}});Y._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),Y._set("global",{datasets:{scatter:{showLine:!1}}});var Kt={bar:At,bubble:It,doughnut:Ft,horizontalBar:Ht,line:$t,polarArea:Gt,pie:Xt,radar:Jt,scatter:$t};function Qt(t,e){return t.native?{x:t.x,y:t.y}:j.getRelativePosition(t,e)}function te(t,e){var i,n,r,a,o,s,l=t._getSortedVisibleDatasetMetas();for(n=0,a=l.length;n<a;++n)for(r=0,o=(i=l[n].data).length;r<o;++r)(s=i[r])._view.skip||e(s)}function ee(t,e){var i=[];return te(t,(function(t){t.inRange(e.x,e.y)&&i.push(t)})),i}function ie(t,e,i,n){var r=Number.POSITIVE_INFINITY,a=[];return te(t,(function(t){if(!i||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),s=n(e,o);s<r?(a=[t],r=s):s===r&&a.push(t)}})),a}function ne(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var r=e?Math.abs(t.x-n.x):0,a=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function re(t,e,i){var n=Qt(e,t);i.axis=i.axis||"x";var r=ne(i.axis),a=i.intersect?ee(t,n):ie(t,n,!1,r),o=[];return a.length?(t._getSortedVisibleDatasetMetas().forEach((function(t){var e=t.data[a[0]._index];e&&!e._view.skip&&o.push(e)})),o):[]}var ae={modes:{single:function(t,e){var i=Qt(e,t),n=[];return te(t,(function(t){if(t.inRange(i.x,i.y))return n.push(t),n})),n.slice(0,1)},label:re,index:re,dataset:function(t,e,i){var n=Qt(e,t);i.axis=i.axis||"xy";var r=ne(i.axis),a=i.intersect?ee(t,n):ie(t,n,!1,r);return a.length>0&&(a=t.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(t,e){return re(t,e,{intersect:!1})},point:function(t,e){return ee(t,Qt(e,t))},nearest:function(t,e,i){var n=Qt(e,t);i.axis=i.axis||"xy";var r=ne(i.axis);return ie(t,n,i.intersect,r)},x:function(t,e,i){var n=Qt(e,t),r=[],a=!1;return te(t,(function(t){t.inXRange(n.x)&&r.push(t),t.inRange(n.x,n.y)&&(a=!0)})),i.intersect&&!a&&(r=[]),r},y:function(t,e,i){var n=Qt(e,t),r=[],a=!1;return te(t,(function(t){t.inYRange(n.y)&&r.push(t),t.inRange(n.x,n.y)&&(a=!0)})),i.intersect&&!a&&(r=[]),r}}},oe=j.extend;function se(t,e){return j.where(t,(function(t){return t.pos===e}))}function le(t,e){return t.sort((function(t,i){var n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight}))}function ce(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function ue(t,e,i){var n,r,a=i.box,o=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?a.height:a.width,t[i.pos]+=i.size,a.getPadding){var s=a.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(n=e.outerWidth-ce(o,t,"left","right"),r=e.outerHeight-ce(o,t,"top","bottom"),n!==t.w||r!==t.h){t.w=n,t.h=r;var l=i.horizontal?[n,t.w]:[r,t.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function de(t,e){var i=e.maxPadding;function n(t){var n={left:0,top:0,right:0,bottom:0};return t.forEach((function(t){n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function he(t,e,i){var n,r,a,o,s,l,c=[];for(n=0,r=t.length;n<r;++n)(o=(a=t[n]).box).update(a.width||e.w,a.height||e.h,de(a.horizontal,e)),ue(e,i,a)&&(l=!0,c.length&&(s=!0)),o.fullWidth||c.push(a);return s&&he(c,e,i)||l}function pe(t,e,i){var n,r,a,o,s=i.padding,l=e.x,c=e.y;for(n=0,r=t.length;n<r;++n)o=(a=t[n]).box,a.horizontal?(o.left=o.fullWidth?s.left:e.left,o.right=o.fullWidth?i.outerWidth-s.right:e.left+e.w,o.top=c,o.bottom=c+o.height,o.width=o.right-o.left,c=o.bottom):(o.left=l,o.right=l+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,l=o.right);e.x=l,e.y=c}Y._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var fe,me={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)n=r[o],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(t,e,i){if(t){var n=t.options.layout||{},r=j.options.toPadding(n.padding),a=e-r.width,o=i-r.height,s=function(t){var e=function(t){var e,i,n,r=[];for(e=0,i=(t||[]).length;e<i;++e)n=t[e],r.push({index:e,box:n,pos:n.position,horizontal:n.isHorizontal(),weight:n.weight});return r}(t),i=le(se(e,"left"),!0),n=le(se(e,"right")),r=le(se(e,"top"),!0),a=le(se(e,"bottom"));return{leftAndTop:i.concat(r),rightAndBottom:n.concat(a),chartArea:se(e,"chartArea"),vertical:i.concat(n),horizontal:r.concat(a)}}(t.boxes),l=s.vertical,c=s.horizontal,u=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:a,vBoxMaxWidth:a/2/l.length,hBoxMaxHeight:o/2}),d=oe({maxPadding:oe({},r),w:a,h:o,x:r.left,y:r.top},r);!function(t,e){var i,n,r;for(i=0,n=t.length;i<n;++i)(r=t[i]).width=r.horizontal?r.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,r.height=r.horizontal&&e.hBoxMaxHeight}(l.concat(c),u),he(l,d,u),he(c,d,u)&&he(l,d,u),function(t){var e=t.maxPadding;function i(i){var n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(d),pe(s.leftAndTop,d,u),d.x+=d.w,d.y+=d.h,pe(s.rightAndBottom,d,u),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},j.each(s.chartArea,(function(e){var i=e.box;oe(i,t.chartArea),i.update(d.w,d.h)}))}}},ge=(fe=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&fe.default||fe,ye=["animationstart","webkitAnimationStart"],ve={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function _e(t,e){var i=j.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}var be=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function xe(t,e,i){t.addEventListener(e,i,be)}function we(t,e,i){t.removeEventListener(e,i,be)}function ke(t,e,i,n,r){return{type:t,chart:e,native:r||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function Se(t){var e=document.createElement("div");return e.className=t||"",e}function Te(t,e,i){var n,r,a,o,s=t.$chartjs||(t.$chartjs={}),l=s.resizer=function(t){var e=Se("chartjs-size-monitor"),i=Se("chartjs-size-monitor-expand"),n=Se("chartjs-size-monitor-shrink");i.appendChild(Se()),n.appendChild(Se()),e.appendChild(i),e.appendChild(n),e._reset=function(){i.scrollLeft=1e6,i.scrollTop=1e6,n.scrollLeft=1e6,n.scrollTop=1e6};var r=function(){e._reset(),t()};return xe(i,"scroll",r.bind(i,"expand")),xe(n,"scroll",r.bind(n,"shrink")),e}((n=function(){if(s.resizer){var n=i.options.maintainAspectRatio&&t.parentNode,r=n?n.clientWidth:0;e(ke("resize",i)),n&&n.clientWidth<r&&i.canvas&&e(ke("resize",i))}},a=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,a||(a=!0,j.requestAnimFrame.call(window,(function(){a=!1,n.apply(r,o)})))}));!function(t,e){var i=t.$chartjs||(t.$chartjs={}),n=i.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};j.each(ye,(function(e){xe(t,e,n)})),i.reflow=!!t.offsetParent,t.classList.add("chartjs-render-monitor")}(t,(function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}}))}function Me(t){var e=t.$chartjs||{},i=e.resizer;delete e.resizer,function(t){var e=t.$chartjs||{},i=e.renderProxy;i&&(j.each(ye,(function(e){we(t,e,i)})),delete e.renderProxy),t.classList.remove("chartjs-render-monitor")}(t),i&&i.parentNode&&i.parentNode.removeChild(i)}var Ce={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var i=t.$chartjs||(t.$chartjs={});if(!i.containsStyles){i.containsStyles=!0,e="/* Chart.js */\n"+e;var n=document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(e.host?e:document.head,ge)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(this._ensureLoaded(t),function(t,e){var i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t.$chartjs={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===r||""===r){var a=_e(t,"width");void 0!==a&&(t.width=a)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=_e(t,"height");void 0!==a&&(t.height=o)}}(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e.$chartjs){var i=e.$chartjs.initial;["height","width"].forEach((function(t){var n=i[t];j.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)})),j.each(i.style||{},(function(t,i){e.style[i]=t})),e.width=e.width,delete e.$chartjs}},addEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var r=i.$chartjs||(i.$chartjs={});xe(n,e,(r.proxies||(r.proxies={}))[t.id+"_"+e]=function(e){i(function(t,e){var i=ve[t.type]||t.type,n=j.getRelativePosition(t,e);return ke(i,e,n.x,n.y,t)}(e,t))})}else Te(n,i,t)},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var r=((i.$chartjs||{}).proxies||{})[t.id+"_"+e];r&&we(n,e,r)}else Me(n)}};j.addEvent=xe,j.removeEvent=we;var De=Ce._enabled?Ce:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},Le=j.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},De);Y._set("global",{plugins:{}});var Ae={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach((function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,r,a,o,s,l=this.descriptors(t),c=l.length;for(n=0;n<c;++n)if("function"==typeof(s=(a=(r=l[n]).plugin)[e])&&((o=[t].concat(i||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],n=[],r=t&&t.config||{},a=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(t){if(-1===i.indexOf(t)){var e=t.id,r=a[e];!1!==r&&(!0===r&&(r=j.clone(Y.global.plugins[e])),i.push(t),n.push({plugin:t,options:r||{}}))}})),e.descriptors=n,e.id=this._cacheId,n},_invalidate:function(t){delete t.$plugins}},Ee={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=j.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?j.merge(Object.create(null),[Y.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=j.extend(this.defaults[t],e))},addScalesToLayout:function(t){j.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,me.addBox(t,e)}))}},Pe=j.valueOrDefault,Ie=j.rtl.getRtlAdapter;Y._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:j.noop,title:function(t,e){var i="",n=e.labels,r=n?n.length:0;if(t.length>0){var a=t[0];a.label?i=a.label:a.xLabel?i=a.xLabel:r>0&&a.index<r&&(i=n[a.index])}return i},afterTitle:j.noop,beforeBody:j.noop,beforeLabel:j.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),j.isNullOrUndef(t.value)?i+=t.yLabel:i+=t.value,i},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:j.noop,afterBody:j.noop,beforeFooter:j.noop,footer:j.noop,afterFooter:j.noop}}});var Oe={average:function(t){if(!t.length)return!1;var e,i,n=0,r=0,a=0;for(e=0,i=t.length;e<i;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();n+=s.x,r+=s.y,++a}}return{x:n/a,y:r/a}},nearest:function(t,e){var i,n,r,a=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var c=l.getCenterPoint(),u=j.distanceBetweenPoints(e,c);u<s&&(s=u,r=l)}}if(r){var d=r.tooltipPosition();a=d.x,o=d.y}return{x:a,y:o}}};function Re(t,e){return e&&(j.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ze(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ye(t){var e=Y.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Pe(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Pe(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Pe(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Pe(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Pe(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Pe(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Pe(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Pe(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Pe(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Fe(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function He(t){return Re([],ze(t))}var Ne=X.extend({initialize:function(){this._model=Ye(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,i=e.callbacks,n=i.beforeTitle.apply(t,arguments),r=i.title.apply(t,arguments),a=i.afterTitle.apply(t,arguments),o=[];return o=Re(o,ze(n)),o=Re(o,ze(r)),o=Re(o,ze(a))},getBeforeBody:function(){return He(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var i=this,n=i._options.callbacks,r=[];return j.each(t,(function(t){var a={before:[],lines:[],after:[]};Re(a.before,ze(n.beforeLabel.call(i,t,e))),Re(a.lines,n.label.call(i,t,e)),Re(a.after,ze(n.afterLabel.call(i,t,e))),r.push(a)})),r},getAfterBody:function(){return He(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),a=[];return a=Re(a,ze(i)),a=Re(a,ze(n)),a=Re(a,ze(r))},update:function(t){var e,i,n,r,a,o,s,l,c,u,d=this,h=d._options,p=d._model,f=d._model=Ye(h),m=d._active,g=d._data,y={xAlign:p.xAlign,yAlign:p.yAlign},v={x:p.x,y:p.y},_={width:p.width,height:p.height},b={x:p.caretX,y:p.caretY};if(m.length){f.opacity=1;var x=[],w=[];b=Oe[h.position].call(d,m,d._eventPosition);var k=[];for(e=0,i=m.length;e<i;++e)k.push((n=m[e],r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,r=n._xScale,a=n._yScale||n._scale,o=n._index,s=n._datasetIndex,l=n._chart.getDatasetMeta(s).controller,c=l._getIndexScale(),u=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:a?a.getLabelForIndex(o,s):"",label:c?""+c.getLabelForIndex(o,s):"",value:u?""+u.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:n._model.x,y:n._model.y}));h.filter&&(k=k.filter((function(t){return h.filter(t,g)}))),h.itemSort&&(k=k.sort((function(t,e){return h.itemSort(t,e,g)}))),j.each(k,(function(t){x.push(h.callbacks.labelColor.call(d,t,d._chart)),w.push(h.callbacks.labelTextColor.call(d,t,d._chart))})),f.title=d.getTitle(k,g),f.beforeBody=d.getBeforeBody(k,g),f.body=d.getBody(k,g),f.afterBody=d.getAfterBody(k,g),f.footer=d.getFooter(k,g),f.x=b.x,f.y=b.y,f.caretPadding=h.caretPadding,f.labelColors=x,f.labelTextColors=w,f.dataPoints=k,_=function(t,e){var i=t._chart.ctx,n=2*e.yPadding,r=0,a=e.body,o=a.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,c=e.titleFontSize,u=e.bodyFontSize,d=e.footerFontSize;n+=s*c,n+=s?(s-1)*e.titleSpacing:0,n+=s?e.titleMarginBottom:0,n+=o*u,n+=o?(o-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*d,n+=l?(l-1)*e.footerSpacing:0;var h=0,p=function(t){r=Math.max(r,i.measureText(t).width+h)};return i.font=j.fontString(c,e._titleFontStyle,e._titleFontFamily),j.each(e.title,p),i.font=j.fontString(u,e._bodyFontStyle,e._bodyFontFamily),j.each(e.beforeBody.concat(e.afterBody),p),h=e.displayColors?u+2:0,j.each(a,(function(t){j.each(t.before,p),j.each(t.lines,p),j.each(t.after,p)})),h=0,i.font=j.fontString(d,e._footerFontStyle,e._footerFontFamily),j.each(e.footer,p),{width:r+=2*e.xPadding,height:n}}(this,f),v=function(t,e,i,n){var r=t.x,a=t.y,o=t.caretSize,s=t.caretPadding,l=t.cornerRadius,c=i.xAlign,u=i.yAlign,d=o+s,h=l+s;return"right"===c?r-=e.width:"center"===c&&((r-=e.width/2)+e.width>n.width&&(r=n.width-e.width),r<0&&(r=0)),"top"===u?a+=d:a-="bottom"===u?e.height+d:e.height/2,"center"===u?"left"===c?r+=d:"right"===c&&(r-=d):"left"===c?r-=h:"right"===c&&(r+=h),{x:r,y:a}}(f,_,y=function(t,e){var i,n,r,a,o,s=t._model,l=t._chart,c=t._chart.chartArea,u="center",d="center";s.y<e.height?d="top":s.y>l.height-e.height&&(d="bottom");var h=(c.left+c.right)/2,p=(c.top+c.bottom)/2;"center"===d?(i=function(t){return t<=h},n=function(t){return t>h}):(i=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},a=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=p?"top":"bottom"},i(s.x)?(u="left",r(s.x)&&(u="center",d=o(s.y))):n(s.x)&&(u="right",a(s.x)&&(u="center",d=o(s.y)));var f=t._options;return{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:d}}(this,_),d._chart)}else f.opacity=0;return f.xAlign=y.xAlign,f.yAlign=y.yAlign,f.x=v.x,f.y=v.y,f.width=_.width,f.height=_.height,f.caretX=b.x,f.caretY=b.y,d._model=f,t&&h.custom&&h.custom.call(d,f),d},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,r=this.getCaretPosition(t,e,n);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,i){var n,r,a,o,s,l,c=i.caretSize,u=i.cornerRadius,d=i.xAlign,h=i.yAlign,p=t.x,f=t.y,m=e.width,g=e.height;if("center"===h)s=f+g/2,"left"===d?(r=(n=p)-c,a=n,o=s+c,l=s-c):(r=(n=p+m)+c,a=n,o=s-c,l=s+c);else if("left"===d?(n=(r=p+u+c)-c,a=r+c):"right"===d?(n=(r=p+m-u-c)-c,a=r+c):(n=(r=i.caretX)-c,a=r+c),"top"===h)s=(o=f)-c,l=o;else{s=(o=f+g)+c,l=o;var y=a;a=n,n=y}return{x1:n,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(t,e,i){var n,r,a,o=e.title,s=o.length;if(s){var l=Ie(e.rtl,e.x,e.width);for(t.x=Fe(e,e._titleAlign),i.textAlign=l.textAlign(e._titleAlign),i.textBaseline="middle",n=e.titleFontSize,r=e.titleSpacing,i.fillStyle=e.titleFontColor,i.font=j.fontString(n,e._titleFontStyle,e._titleFontFamily),a=0;a<s;++a)i.fillText(o[a],l.x(t.x),t.y+n/2),t.y+=n+r,a+1===s&&(t.y+=e.titleMarginBottom-r)}},drawBody:function(t,e,i){var n,r,a,o,s,l,c,u,d=e.bodyFontSize,h=e.bodySpacing,p=e._bodyAlign,f=e.body,m=e.displayColors,g=0,y=m?Fe(e,"left"):0,v=Ie(e.rtl,e.x,e.width),_=function(e){i.fillText(e,v.x(t.x+g),t.y+d/2),t.y+=d+h},b=v.textAlign(p);for(i.textAlign=p,i.textBaseline="middle",i.font=j.fontString(d,e._bodyFontStyle,e._bodyFontFamily),t.x=Fe(e,b),i.fillStyle=e.bodyFontColor,j.each(e.beforeBody,_),g=m&&"right"!==b?"center"===p?d/2+1:d+2:0,s=0,c=f.length;s<c;++s){for(n=f[s],r=e.labelTextColors[s],a=e.labelColors[s],i.fillStyle=r,j.each(n.before,_),l=0,u=(o=n.lines).length;l<u;++l){if(m){var x=v.x(y);i.fillStyle=e.legendColorBackground,i.fillRect(v.leftForLtr(x,d),t.y,d,d),i.lineWidth=1,i.strokeStyle=a.borderColor,i.strokeRect(v.leftForLtr(x,d),t.y,d,d),i.fillStyle=a.backgroundColor,i.fillRect(v.leftForLtr(v.xPlus(x,1),d-2),t.y+1,d-2,d-2),i.fillStyle=r}_(o[l])}j.each(n.after,_)}g=0,j.each(e.afterBody,_),t.y-=h},drawFooter:function(t,e,i){var n,r,a=e.footer,o=a.length;if(o){var s=Ie(e.rtl,e.x,e.width);for(t.x=Fe(e,e._footerAlign),t.y+=e.footerMarginTop,i.textAlign=s.textAlign(e._footerAlign),i.textBaseline="middle",n=e.footerFontSize,i.fillStyle=e.footerFontColor,i.font=j.fontString(n,e._footerFontStyle,e._footerFontFamily),r=0;r<o;++r)i.fillText(a[r],s.x(t.x),t.y+n/2),t.y+=n+e.footerSpacing}},drawBackground:function(t,e,i,n){i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,i.lineWidth=e.borderWidth;var r=e.xAlign,a=e.yAlign,o=t.x,s=t.y,l=n.width,c=n.height,u=e.cornerRadius;i.beginPath(),i.moveTo(o+u,s),"top"===a&&this.drawCaret(t,n),i.lineTo(o+l-u,s),i.quadraticCurveTo(o+l,s,o+l,s+u),"center"===a&&"right"===r&&this.drawCaret(t,n),i.lineTo(o+l,s+c-u),i.quadraticCurveTo(o+l,s+c,o+l-u,s+c),"bottom"===a&&this.drawCaret(t,n),i.lineTo(o+u,s+c),i.quadraticCurveTo(o,s+c,o,s+c-u),"center"===a&&"left"===r&&this.drawCaret(t,n),i.lineTo(o,s+u),i.quadraticCurveTo(o,s,o+u,s),i.closePath(),i.fill(),e.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(n,e,t,i),n.y+=e.yPadding,j.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),j.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,i=this,n=i._options;return i._lastActive=i._lastActive||[],"mouseout"===t.type?i._active=[]:(i._active=i._chart.getElementsAtEventForMode(t,n.mode,n),n.reverse&&i._active.reverse()),(e=!j.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(n.enabled||n.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0),i.pivot())),e}}),Be=Oe,je=Ne;je.positioners=Be;var Ve=j.valueOrDefault;function We(){return j.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var r,a,o,s=i[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)o=i[t][r],a=Ve(o.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||o.type&&o.type!==e[t][r].type?j.merge(e[t][r],[Ee.getScaleDefaults(a),o]):j.merge(e[t][r],o)}else j._merger(t,e,i,n)}})}function Ue(){return j.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){var r=e[t]||Object.create(null),a=i[t];"scales"===t?e[t]=We(r,a):"scale"===t?e[t]=j.merge(r,[Ee.getScaleDefaults(a.type),a]):j._merger(t,e,i,n)}})}function $e(t){var e=t.options;j.each(t.scales,(function(e){me.removeBox(t,e)})),e=Ue(Y.global,Y[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function qe(t,e,i){var n,r=function(t){return t.id===n};do{n=e+i++}while(j.findIndex(t,r)>=0);return n}function Ge(t){return"top"===t||"bottom"===t}function Xe(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}Y._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Ze=function(t,e){return this.construct(t,e),this};j.extend(Ze.prototype,{construct:function(t,e){var i=this;e=function(t){var e=(t=t||Object.create(null)).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Ue(Y.global,Y[t.type],t.options||{}),t}(e);var n=Le.acquireContext(t,e),r=n&&n.canvas,a=r&&r.height,o=r&&r.width;i.id=j.uid(),i.ctx=n,i.canvas=r,i.config=e,i.width=o,i.height=a,i.aspectRatio=a?o/a:null,i.options=e.options,i._bufferedRender=!1,i._layers=[],i.chart=i,i.controller=i,Ze.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),n&&r?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Ae.notify(t,"beforeInit"),j.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),Ae.notify(t,"afterInit"),t},clear:function(){return j.canvas.clear(this),this},stop:function(){return K.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,r=i.maintainAspectRatio&&e.aspectRatio||null,a=Math.max(0,Math.floor(j.getMaximumWidth(n))),o=Math.max(0,Math.floor(r?a/r:j.getMaximumHeight(n)));if((e.width!==a||e.height!==o)&&(n.width=e.width=a,n.height=e.height=o,n.style.width=a+"px",n.style.height=o+"px",j.retinaScale(e,i.devicePixelRatio),!t)){var s={width:a,height:o};Ae.notify(e,"resize",[s]),i.onResize&&i.onResize(e,s),e.stop(),e.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;j.each(e.xAxes,(function(t,i){t.id||(t.id=qe(e.xAxes,"x-axis-",i))})),j.each(e.yAxes,(function(t,i){t.id||(t.id=qe(e.yAxes,"y-axis-",i))})),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,i=t.scales||{},n=[],r=Object.keys(i).reduce((function(t,e){return t[e]=!1,t}),{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(e.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}})))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),j.each(n,(function(e){var n=e.options,a=n.id,o=Ve(n.type,e.dtype);Ge(n.position)!==Ge(e.dposition)&&(n.position=e.dposition),r[a]=!0;var s=null;if(a in i&&i[a].type===o)(s=i[a]).options=n,s.ctx=t.ctx,s.chart=t;else{var l=Ee.getScaleConstructor(o);if(!l)return;s=new l({id:a,type:o,options:n,ctx:t.ctx,chart:t}),i[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)})),j.each(r,(function(t,e){t||delete i[e]})),t.scales=i,Ee.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,i=this,n=[],r=i.data.datasets;for(t=0,e=r.length;t<e;t++){var a=r[t],o=i.getDatasetMeta(t),s=a.type||i.config.type;if(o.type&&o.type!==s&&(i.destroyDatasetMeta(t),o=i.getDatasetMeta(t)),o.type=s,o.order=a.order||0,o.index=t,o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{var l=Kt[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(i,t),n.push(o.controller)}}return n},resetElements:function(){var t=this;j.each(t.data.datasets,(function(e,i){t.getDatasetMeta(i).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,i,n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),$e(n),Ae._invalidate(n),!1!==Ae.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var r=n.buildOrUpdateControllers();for(e=0,i=n.data.datasets.length;e<i;e++)n.getDatasetMeta(e).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&j.each(r,(function(t){t.reset()})),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],Ae.notify(n,"afterUpdate"),n._layers.sort(Xe("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){var t=this;!1!==Ae.notify(t,"beforeLayout")&&(me.update(this,this.width,this.height),t._layers=[],j.each(t.boxes,(function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())}),t),t._layers.forEach((function(t,e){t._idx=e})),Ae.notify(t,"afterScaleUpdate"),Ae.notify(t,"afterLayout"))},updateDatasets:function(){if(!1!==Ae.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);Ae.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),i={meta:e,index:t};!1!==Ae.notify(this,"beforeDatasetUpdate",[i])&&(e.controller._update(),Ae.notify(this,"afterDatasetUpdate",[i]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var i=e.options.animation,n=Ve(t.duration,i&&i.duration),r=t.lazy;if(!1!==Ae.notify(e,"beforeRender")){var a=function(t){Ae.notify(e,"afterRender"),j.callback(i&&i.onComplete,[t],e)};if(i&&n){var o=new J({numSteps:n/16.66,easing:t.easing||i.easing,render:function(t,e){var i=j.easing.effects[e.easing],n=e.currentStep,r=n/e.numSteps;t.draw(i(r),r,n)},onAnimationProgress:i.onProgress,onAnimationComplete:a});K.addAnimation(e,o,n,r)}else e.draw(),a(new J({numSteps:0,chart:e}));return e}},draw:function(t){var e,i,n=this;if(n.clear(),j.isNullOrUndef(t)&&(t=1),n.transition(t),!(n.width<=0||n.height<=0)&&!1!==Ae.notify(n,"beforeDraw",[t])){for(i=n._layers,e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(n.chartArea);for(n.drawDatasets(t);e<i.length;++e)i[e].draw(n.chartArea);n._drawTooltip(t),Ae.notify(n,"afterDraw",[t])}},transition:function(t){for(var e=0,i=(this.data.datasets||[]).length;e<i;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,i,n=[];for(e=0,i=(this.data.datasets||[]).length;e<i;++e)t&&!this.isDatasetVisible(e)||n.push(this.getDatasetMeta(e));return n.sort(Xe("order","index")),n},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,i;if(!1!==Ae.notify(this,"beforeDatasetsDraw",[t])){for(i=(e=this._getSortedVisibleDatasetMetas()).length-1;i>=0;--i)this.drawDataset(e[i],t);Ae.notify(this,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i={meta:t,index:t.index,easingValue:e};!1!==Ae.notify(this,"beforeDatasetDraw",[i])&&(t.controller.draw(e),Ae.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this.tooltip,i={tooltip:e,easingValue:t};!1!==Ae.notify(this,"beforeTooltipDraw",[i])&&(e.draw(),Ae.notify(this,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return ae.modes.single(this,t)},getElementsAtEvent:function(t){return ae.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return ae.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=ae.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return ae.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var i=e._meta[this.id];return i||(i=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),j.canvas.clear(i),Le.releaseContext(i.ctx),i.canvas=null,i.ctx=null),Ae.notify(i,"destroy"),delete Ze.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new je({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};j.each(t.options.events,(function(n){Le.addEventListener(t,n,i),e[n]=i})),t.options.responsive&&(i=function(){t.resize()},Le.addEventListener(t,"resize",i),e.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,j.each(e,(function(e,i){Le.removeEventListener(t,i,e)})))},updateHoverStyle:function(t,e,i){var n,r,a,o=i?"set":"remove";for(r=0,a=t.length;r<a;++r)(n=t[r])&&this.getDatasetMeta(n._datasetIndex).controller[o+"HoverStyle"](n);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==Ae.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),Ae.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,i=this,n=i.options||{},r=n.hover;return i.lastActive=i.lastActive||[],"mouseout"===t.type?i.active=[]:i.active=i.getElementsAtEventForMode(t,r.mode,r),j.callback(n.onHover||n.hover.onHover,[t.native,i.active],i),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(i,t.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,r.mode,!1),i.active.length&&r.mode&&i.updateHoverStyle(i.active,r.mode,!0),e=!j.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,e}}),Ze.instances={};var Je=Ze;function Ke(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Qe(t){this.options=t||{}}Ze.Controller=Ze,Ze.types={},j.configMerge=Ue,j.scaleMerge=We,j.extend(Qe.prototype,{formats:Ke,parse:Ke,format:Ke,add:Ke,diff:Ke,startOf:Ke,endOf:Ke,_create:function(t){return t}}),Qe.override=function(t){j.extend(Qe.prototype,t)};var ti={_date:Qe},ei={formatters:{values:function(t){return j.isArray(t)?t:""+t},linear:function(t,e,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var r=j.log10(Math.abs(n)),a="";if(0!==t)if(Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]))<1e-4){var o=j.log10(Math.abs(t)),s=Math.floor(o)-Math.floor(r);s=Math.max(Math.min(s,20),0),a=t.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),a=t.toFixed(l)}else a="0";return a},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(j.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===i.length-1?t.toExponential():""}}},ii=j.isArray,ni=j.isNullOrUndef,ri=j.valueOrDefault,ai=j.valueAtIndexOrDefault;function oi(t,e,i){var n,r=t.getTicks().length,a=Math.min(e,r-1),o=t.getPixelForTick(a),s=t._startPixel,l=t._endPixel;if(!(i&&(n=1===r?Math.max(o-s,l-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(a-1))/2,(o+=a<e?n:-n)<s-1e-6||o>l+1e-6)))return o}function si(t,e,i,n){var r,a,o,s,l,c,u,d,h,p,f,m,g,y=i.length,v=[],_=[],b=[],x=0,w=0;for(r=0;r<y;++r){if(s=i[r].label,l=i[r].major?e.major:e.minor,t.font=c=l.string,u=n[c]=n[c]||{data:{},gc:[]},d=l.lineHeight,h=p=0,ni(s)||ii(s)){if(ii(s))for(a=0,o=s.length;a<o;++a)f=s[a],ni(f)||ii(f)||(h=j.measureText(t,u.data,u.gc,h,f),p+=d)}else h=j.measureText(t,u.data,u.gc,h,s),p=d;v.push(h),_.push(p),b.push(d/2),x=Math.max(h,x),w=Math.max(p,w)}function k(t){return{width:v[t]||0,height:_[t]||0,offset:b[t]||0}}return function(t,e){j.each(t,(function(t){var i,n=t.gc,r=n.length/2;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(n,y),m=v.indexOf(x),g=_.indexOf(w),{first:k(0),last:k(y-1),widest:k(m),highest:k(g)}}function li(t){return t.drawTicks?t.tickMarkLength:0}function ci(t){var e,i;return t.display?(e=j.options._parseFont(t),i=j.options.toPadding(t.padding),e.lineHeight+i.height):0}function ui(t,e){return j.extend(j.options._parseFont({fontFamily:ri(e.fontFamily,t.fontFamily),fontSize:ri(e.fontSize,t.fontSize),fontStyle:ri(e.fontStyle,t.fontStyle),lineHeight:ri(e.lineHeight,t.lineHeight)}),{color:j.options.resolve([e.fontColor,t.fontColor,Y.global.defaultFontColor])})}function di(t){var e=ui(t,t.minor);return{minor:e,major:t.major.enabled?ui(t,t.major):e}}function hi(t){var e,i,n,r=[];for(i=0,n=t.length;i<n;++i)void 0!==(e=t[i])._index&&r.push(e);return r}function pi(t,e,i,n){var r,a,o,s,l=ri(i,0),c=Math.min(ri(n,t.length),t.length),u=0;for(e=Math.ceil(e),n&&(e=(r=n-i)/Math.floor(r/e)),s=l;s<0;)u++,s=Math.round(l+u*e);for(a=Math.max(l,0);a<c;a++)o=t[a],a===s?(o._index=a,u++,s=Math.round(l+u*e)):delete o.label}Y._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:ei.formatters.values,minor:{},major:{}}});var fi=X.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){j.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,r,a,o,s,l=this,c=l.options.ticks,u=c.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=j.extend({left:0,right:0,top:0,bottom:0},i),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],n=0,r=l.ticks.length;n<r;++n)o.push({value:l.ticks[n],major:!1});return l._ticks=o,s=u<o.length,a=l._convertTicksToLabels(s?function(t,e){for(var i=[],n=t.length/e,r=0,a=t.length;r<a;r+=n)i.push(t[Math.floor(r)]);return i}(o,u):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=c.display&&(c.autoSkip||"auto"===c.source)?l._autoSkip(o):o,s&&(a=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=a,l.afterUpdate(),l.minSize},_configure:function(){var t,e,i=this,n=i.options.ticks.reverse;i.isHorizontal()?(t=i.left,e=i.right):(t=i.top,e=i.bottom,n=!n),i._startPixel=t,i._endPixel=e,i._reversePixels=n,i._length=e-t},afterUpdate:function(){j.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){j.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){j.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){j.callback(this.options.beforeDataLimits,[this])},determineDataLimits:j.noop,afterDataLimits:function(){j.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){j.callback(this.options.beforeBuildTicks,[this])},buildTicks:j.noop,afterBuildTicks:function(t){var e=this;return ii(t)&&t.length?j.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=j.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){j.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){j.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){j.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,i,n,r,a,o,s=this,l=s.options,c=l.ticks,u=s.getTicks().length,d=c.minRotation||0,h=c.maxRotation,p=d;!s._isVisible()||!c.display||d>=h||u<=1||!s.isHorizontal()?s.labelRotation=d:(e=(t=s._getLabelSizes()).widest.width,i=t.highest.height-t.highest.offset,n=Math.min(s.maxWidth,s.chart.width-e),e+6>(r=l.offset?s.maxWidth/u:n/(u-1))&&(r=n/(u-(l.offset?.5:1)),a=s.maxHeight-li(l.gridLines)-c.padding-ci(l.scaleLabel),o=Math.sqrt(e*e+i*i),p=j.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/r,1)),Math.asin(Math.min(a/o,1))-Math.asin(i/o))),p=Math.max(d,Math.min(h,p))),s.labelRotation=p)},afterCalculateTickRotation:function(){j.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){j.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=t.chart,n=t.options,r=n.ticks,a=n.scaleLabel,o=n.gridLines,s=t._isVisible(),l="bottom"===n.position,c=t.isHorizontal();if(c?e.width=t.maxWidth:s&&(e.width=li(o)+ci(a)),c?s&&(e.height=li(o)+ci(a)):e.height=t.maxHeight,r.display&&s){var u=di(r),d=t._getLabelSizes(),h=d.first,p=d.last,f=d.widest,m=d.highest,g=.4*u.minor.lineHeight,y=r.padding;if(c){var v=0!==t.labelRotation,_=j.toRadians(t.labelRotation),b=Math.cos(_),x=Math.sin(_),w=x*f.width+b*(m.height-(v?m.offset:0))+(v?0:g);e.height=Math.min(t.maxHeight,e.height+w+y);var k,S,T=t.getPixelForTick(0)-t.left,M=t.right-t.getPixelForTick(t.getTicks().length-1);v?(k=l?b*h.width+x*h.offset:x*(h.height-h.offset),S=l?x*(p.height-p.offset):b*p.width+x*p.offset):(k=h.width/2,S=p.width/2),t.paddingLeft=Math.max((k-T)*t.width/(t.width-T),0)+3,t.paddingRight=Math.max((S-M)*t.width/(t.width-M),0)+3}else{var C=r.mirror?0:f.width+y+g;e.width=Math.min(t.maxWidth,e.width+C),t.paddingTop=h.height/2,t.paddingBottom=p.height/2}}t.handleMargins(),c?(t.width=t._length=i.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){j.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(ni(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,i,n,r=this;for(r.ticks=t.map((function(t){return t.value})),r.beforeTickToLabelConversion(),e=r.convertTicksToLabels(t)||r.ticks,r.afterTickToLabelConversion(),i=0,n=t.length;i<n;++i)t[i].label=e[i];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=si(t.ctx,di(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,i,n,r;return ii(t)?(e=+this.getRightValue(t[0]),i=+this.getRightValue(t[1]),n=Math.min(e,i),r=Math.max(e,i)):(e=void 0,i=t=+this.getRightValue(t),n=t,r=t),{min:n,max:r,start:e,end:i}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:j.noop,getPixelForValue:j.noop,getValueForPixel:j.noop,getPixelForTick:function(t){var e=this.options.offset,i=this._ticks.length,n=1/Math.max(i-(e?0:1),1);return t<0||t>i-1?null:this.getPixelForDecimal(t*n+(e?n/2:0))},getPixelForDecimal:function(t){return this._reversePixels&&(t=1-t),this._startPixel+t*this._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,i,n,r,a=this.options.ticks,o=this._length,s=a.maxTicksLimit||o/this._tickSize()+1,l=a.major.enabled?function(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(t):[],c=l.length,u=l[0],d=l[c-1];if(c>s)return function(t,e,i){var n,r,a=0,o=e[0];for(i=Math.ceil(i),n=0;n<t.length;n++)r=t[n],n===o?(r._index=n,o=e[++a*i]):delete r.label}(t,l,c/s),hi(t);if(n=function(t,e,i,n){var r,a,o,s,l=function(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),c=(e.length-1)/n;if(!l)return Math.max(c,1);for(o=0,s=(r=j.math._factorize(l)).length-1;o<s;o++)if((a=r[o])>c)return a;return Math.max(c,1)}(l,t,0,s),c>0){for(e=0,i=c-1;e<i;e++)pi(t,n,l[e],l[e+1]);return r=c>1?(d-u)/(c-1):null,pi(t,n,j.isNullOrUndef(r)?0:u-r,u),pi(t,n,d,j.isNullOrUndef(r)?t.length:d+r),hi(t)}return pi(t,n),hi(t)},_tickSize:function(){var t=this.options.ticks,e=j.toRadians(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*i>o*n?o/i:s/n:s*n<o*i?s/i:o/n},_isVisible:function(){var t,e,i,n=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(t=0,e=n.data.datasets.length;t<e;++t)if(n.isDatasetVisible(t)&&((i=n.getDatasetMeta(t)).xAxisID===this.id||i.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(t){var e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v=this,_=v.chart,b=v.options,x=b.gridLines,w=b.position,k=x.offsetGridLines,S=v.isHorizontal(),T=v._ticksToDraw,M=T.length+(k?1:0),C=li(x),D=[],L=x.drawBorder?ai(x.lineWidth,0,0):0,A=L/2,E=j._alignPixel,P=function(t){return E(_,t,L)};for("top"===w?(e=P(v.bottom),s=v.bottom-C,c=e-A,d=P(t.top)+A,p=t.bottom):"bottom"===w?(e=P(v.top),d=t.top,p=P(t.bottom)-A,s=e+A,c=v.top+C):"left"===w?(e=P(v.right),o=v.right-C,l=e-A,u=P(t.left)+A,h=t.right):(e=P(v.left),u=t.left,h=P(t.right)-A,o=e+A,l=v.left+C),i=0;i<M;++i)n=T[i]||{},ni(n.label)&&i<T.length||(i===v.zeroLineIndex&&b.offset===k?(f=x.zeroLineWidth,m=x.zeroLineColor,g=x.zeroLineBorderDash||[],y=x.zeroLineBorderDashOffset||0):(f=ai(x.lineWidth,i,1),m=ai(x.color,i,"rgba(0,0,0,0.1)"),g=x.borderDash||[],y=x.borderDashOffset||0),void 0!==(r=oi(v,n._index||i,k))&&(a=E(_,r,f),S?o=l=u=h=a:s=c=d=p=a,D.push({tx1:o,ty1:s,tx2:l,ty2:c,x1:u,y1:d,x2:h,y2:p,width:f,color:m,borderDash:g,borderDashOffset:y})));return D.ticksLength=M,D.borderValue=e,D},_computeLabelItems:function(){var t,e,i,n,r,a,o,s,l,c,u,d,h=this,p=h.options,f=p.ticks,m=p.position,g=f.mirror,y=h.isHorizontal(),v=h._ticksToDraw,_=di(f),b=f.padding,x=li(p.gridLines),w=-j.toRadians(h.labelRotation),k=[];for("top"===m?(a=h.bottom-x-b,o=w?"left":"center"):"bottom"===m?(a=h.top+x+b,o=w?"right":"center"):"left"===m?(r=h.right-(g?0:x)-b,o=g?"left":"right"):(r=h.left+(g?0:x)+b,o=g?"right":"left"),t=0,e=v.length;t<e;++t)n=(i=v[t]).label,ni(n)||(s=h.getPixelForTick(i._index||t)+f.labelOffset,c=(l=i.major?_.major:_.minor).lineHeight,u=ii(n)?n.length:1,y?(r=s,d="top"===m?((w?1:.5)-u)*c:(w?0:.5)*c):(a=s,d=(1-u)*c/2),k.push({x:r,y:a,rotation:w,label:n,font:l,textOffset:d,textAlign:o}));return k},_drawGrid:function(t){var e=this,i=e.options.gridLines;if(i.display){var n,r,a,o,s,l=e.ctx,c=e.chart,u=j._alignPixel,d=i.drawBorder?ai(i.lineWidth,0,0):0,h=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(a=0,o=h.length;a<o;++a)n=(s=h[a]).width,r=s.color,n&&r&&(l.save(),l.lineWidth=n,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),i.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),i.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(d){var p,f,m,g,y=d,v=ai(i.lineWidth,h.ticksLength-1,1),_=h.borderValue;e.isHorizontal()?(p=u(c,e.left,y)-y/2,f=u(c,e.right,v)+v/2,m=g=_):(m=u(c,e.top,y)-y/2,g=u(c,e.bottom,v)+v/2,p=f=_),l.lineWidth=d,l.strokeStyle=ai(i.color,0),l.beginPath(),l.moveTo(p,m),l.lineTo(f,g),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,i,n,r,a,o,s,l,c=t.ctx,u=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,n=u.length;e<n;++e){if(o=(a=u[e]).font,c.save(),c.translate(a.x,a.y),c.rotate(a.rotation),c.font=o.string,c.fillStyle=o.color,c.textBaseline="middle",c.textAlign=a.textAlign,s=a.label,l=a.textOffset,ii(s))for(i=0,r=s.length;i<r;++i)c.fillText(""+s[i],0,l),l+=o.lineHeight;else c.fillText(s,0,l);c.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,i=t.options,n=i.scaleLabel;if(n.display){var r,a,o=ri(n.fontColor,Y.global.defaultFontColor),s=j.options._parseFont(n),l=j.options.toPadding(n.padding),c=s.lineHeight/2,u=i.position,d=0;if(t.isHorizontal())r=t.left+t.width/2,a="bottom"===u?t.bottom-c-l.bottom:t.top+c+l.top;else{var h="left"===u;r=h?t.left+c+l.top:t.right-c-l.top,a=t.top+t.height/2,d=h?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(r,a),e.rotate(d),e.textAlign="center",e.textBaseline="middle",e.fillStyle=o,e.font=s.string,e.fillText(n.labelString,0,0),e.restore()}},draw:function(t){this._isVisible()&&(this._drawGrid(t),this._drawTitle(),this._drawLabels())},_layers:function(){var t=this,e=t.options,i=e.ticks&&e.ticks.z||0,n=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==n&&t.draw===t._draw?[{z:n,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:i,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:i,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,i=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter((function(n){return(!t||n.type===t)&&(i?n.xAxisID===e.id:n.yAxisID===e.id)}))}});fi.prototype._draw=fi.prototype.draw;var mi=fi,gi=j.isNullOrUndef,yi=mi.extend({determineDataLimits:function(){var t,e=this,i=e._getLabels(),n=e.options.ticks,r=n.min,a=n.max,o=0,s=i.length-1;void 0!==r&&(t=i.indexOf(r))>=0&&(o=t),void 0!==a&&(t=i.indexOf(a))>=0&&(s=t),e.minIndex=o,e.maxIndex=s,e.min=i[o],e.max=i[s]},buildTicks:function(){var t=this._getLabels(),e=this.minIndex,i=this.maxIndex;this.ticks=0===e&&i===t.length-1?t:t.slice(e,i+1)},getLabelForIndex:function(t,e){var i=this.chart;return i.getDatasetMeta(e).controller._getValueScaleId()===this.id?this.getRightValue(i.data.datasets[e].data[t]):this._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,i=t.ticks;mi.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),i&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(i.length-(e?0:1),1))},getPixelForValue:function(t,e,i){var n,r,a,o=this;return gi(e)||gi(i)||(t=o.chart.data.datasets[i].data[e]),gi(t)||(n=o.isHorizontal()?t.x:t.y),(void 0!==n||void 0!==t&&isNaN(e))&&(r=o._getLabels(),t=j.valueOrDefault(n,t),e=-1!==(a=r.indexOf(t))?a:e,isNaN(e)&&(e=t)),o.getPixelForDecimal((e-o._startValue)/o._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange);return Math.min(Math.max(e,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),vi={position:"bottom"};yi._defaults=vi;var _i=j.noop,bi=j.isNullOrUndef,xi=mi.extend({getRightValue:function(t){return"string"==typeof t?+t:mi.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var i=j.sign(t.min),n=j.sign(t.max);i<0&&n<0?t.max=0:i>0&&n>0&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==a&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,i=e.stepSize,n=e.maxTicksLimit;return i?t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1:(t=this._computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:_i,buildTicks:function(){var t=this,e=t.options.ticks,i=t.getTickLimit(),n={maxTicks:i=Math.max(2,i),min:e.min,max:e.max,precision:e.precision,stepSize:j.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var i,n,r,a,o=[],s=t.stepSize,l=s||1,c=t.maxTicks-1,u=t.min,d=t.max,h=t.precision,p=e.min,f=e.max,m=j.niceNum((f-p)/c/l)*l;if(m<1e-14&&bi(u)&&bi(d))return[p,f];(a=Math.ceil(f/m)-Math.floor(p/m))>c&&(m=j.niceNum(a*m/c/l)*l),s||bi(h)?i=Math.pow(10,j._decimalPlaces(m)):(i=Math.pow(10,h),m=Math.ceil(m*i)/i),n=Math.floor(p/m)*m,r=Math.ceil(f/m)*m,s&&(!bi(u)&&j.almostWhole(u/m,m/1e3)&&(n=u),!bi(d)&&j.almostWhole(d/m,m/1e3)&&(r=d)),a=(r-n)/m,a=j.almostEquals(a,Math.round(a),m/1e3)?Math.round(a):Math.ceil(a),n=Math.round(n*i)/i,r=Math.round(r*i)/i,o.push(bi(u)?n:u);for(var g=1;g<a;++g)o.push(Math.round((n+g*m)*i)/i);return o.push(bi(d)?r:d),o}(n,t);t.handleDirectionalChanges(),t.max=j.max(r),t.min=j.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),mi.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,i=e.getTicks(),n=e.min,r=e.max;mi.prototype._configure.call(e),e.options.offset&&i.length&&(n-=t=(r-n)/Math.max(i.length-1,1)/2,r+=t),e._startValue=n,e._endValue=r,e._valueRange=r-n}}),wi={position:"left",ticks:{callback:ei.formatters.linear}};function ki(t,e,i,n){var r,a,o=t.options,s=function(t,e,i){var n=[i.type,void 0===e&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===t[n]&&(t[n]={pos:[],neg:[]}),t[n]}(e,o.stacked,i),l=s.pos,c=s.neg,u=n.length;for(r=0;r<u;++r)a=t._parseValue(n[r]),isNaN(a.min)||isNaN(a.max)||i.data[r].hidden||(l[r]=l[r]||0,c[r]=c[r]||0,o.relativePoints?l[r]=100:a.min<0||a.max<0?c[r]+=a.min:l[r]+=a.max)}function Si(t,e,i){var n,r,a=i.length;for(n=0;n<a;++n)r=t._parseValue(i[n]),isNaN(r.min)||isNaN(r.max)||e.data[n].hidden||(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}var Ti=xi.extend({determineDataLimits:function(){var t,e,i,n,r=this,a=r.options,o=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=a.stacked,c={},u=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<u;++t)l=void 0!==(e=s[t]).stack;for(t=0;t<u;++t)i=o[(e=s[t]).index].data,l?ki(r,c,e,i):Si(r,e,i);j.each(c,(function(t){n=t.pos.concat(t.neg),r.min=Math.min(r.min,j.min(n)),r.max=Math.max(r.max,j.max(n))})),r.min=j.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=j.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=j.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){return this.getPixelForDecimal((+this.getRightValue(t)-this._startValue)/this._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}}),Mi=wi;Ti._defaults=Mi;var Ci=j.valueOrDefault,Di=j.math.log10,Li={position:"left",ticks:{callback:ei.formatters.logarithmic}};function Ai(t,e){return j.isFinite(t)&&t>=0?t:e}var Ei=mi.extend({determineDataLimits:function(){var t,e,i,n,r,a,o=this,s=o.options,l=o.chart,c=l.data.datasets,u=o.isHorizontal();function d(t){return u?t.xAxisID===o.id:t.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var h=s.stacked;if(void 0===h)for(t=0;t<c.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&d(e)&&void 0!==e.stack){h=!0;break}if(s.stacked||h){var p={};for(t=0;t<c.length;t++){var f=[(e=l.getDatasetMeta(t)).type,void 0===s.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&d(e))for(void 0===p[f]&&(p[f]=[]),r=0,a=(n=c[t].data).length;r<a;r++){var m=p[f];i=o._parseValue(n[r]),isNaN(i.min)||isNaN(i.max)||e.data[r].hidden||i.min<0||i.max<0||(m[r]=m[r]||0,m[r]+=i.max)}}j.each(p,(function(t){if(t.length>0){var e=j.min(t),i=j.max(t);o.min=Math.min(o.min,e),o.max=Math.max(o.max,i)}}))}else for(t=0;t<c.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&d(e))for(r=0,a=(n=c[t].data).length;r<a;r++)i=o._parseValue(n[r]),isNaN(i.min)||isNaN(i.max)||e.data[r].hidden||i.min<0||i.max<0||(o.min=Math.min(i.min,o.min),o.max=Math.max(i.max,o.max),0!==i.min&&(o.minNotZero=Math.min(i.min,o.minNotZero)));o.min=j.isFinite(o.min)?o.min:null,o.max=j.isFinite(o.max)?o.max:null,o.minNotZero=j.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=Ai(e.min,t.min),t.max=Ai(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(Di(t.min))-1),t.max=Math.pow(10,Math.floor(Di(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(Di(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Di(t.min))+1):10),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Di(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:Ai(e.min),max:Ai(e.max)},r=t.ticks=function(t,e){var i,n,r=[],a=Ci(t.min,Math.pow(10,Math.floor(Di(e.min)))),o=Math.floor(Di(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===a?(i=Math.floor(Di(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),r.push(a),a=n*Math.pow(10,i)):(i=Math.floor(Di(a)),n=Math.floor(a/Math.pow(10,i)));var l=i<0?Math.pow(10,Math.abs(i)):1;do{r.push(a),10==++n&&(n=1,l=++i>=0?1:l),a=Math.round(n*Math.pow(10,i)*l)/l}while(i<o||i===o&&n<s);var c=Ci(t.max,a);return r.push(c),r}(n,t);t.max=j.max(r),t.min=j.min(r),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),mi.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(Di(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,i=0;mi.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),i=Ci(t.options.ticks.fontSize,Y.global.defaultFontSize)/t._length),t._startValue=Di(e),t._valueOffset=i,t._valueRange=(Di(t.max)-Di(e))/(1-i)},getPixelForValue:function(t){var e=this,i=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(i=(Di(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(i)},getValueForPixel:function(t){var e=this,i=e.getDecimalForPixel(t);return 0===i&&0===e.min?0:Math.pow(10,e._startValue+(i-e._valueOffset)*e._valueRange)}}),Pi=Li;Ei._defaults=Pi;var Ii=j.valueOrDefault,Oi=j.valueAtIndexOrDefault,Ri=j.options.resolve,zi={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ei.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Yi(t){var e=t.ticks;return e.display&&t.display?Ii(e.fontSize,Y.global.defaultFontSize)+2*e.backdropPaddingY:0}function Fi(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function Hi(t){return 0===t||180===t?"center":t<180?"left":"right"}function Ni(t,e,i,n){var r,a,o=i.y+n/2;if(j.isArray(e))for(r=0,a=e.length;r<a;++r)t.fillText(e[r],i.x,o),o+=n;else t.fillText(e,i.x,o)}function Bi(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function ji(t){return j.isNumber(t)?t:0}var Vi=xi.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Yi(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;j.each(e.data.datasets,(function(r,a){if(e.isDatasetVisible(a)){var o=e.getDatasetMeta(a);j.each(r.data,(function(e,r){var a=+t.getRightValue(e);isNaN(a)||o.data[r].hidden||(i=Math.min(a,i),n=Math.max(a,n))}))}})),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=n===Number.NEGATIVE_INFINITY?0:n,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Yi(this.options))},convertTicksToLabels:function(){var t=this;xi.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map((function(){var e=j.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""}))},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,i,n,r=j.options._parseFont(t.options.pointLabels),a={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=r.string,t._pointLabelSizes=[];var s,l,c,u=t.chart.data.labels.length;for(e=0;e<u;e++){n=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=r.lineHeight,c=t.pointLabels[e],i=j.isArray(c)?{w:j.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},t._pointLabelSizes[e]=i;var d=t.getIndexAngle(e),h=j.toDegrees(d)%360,p=Fi(h,n.x,i.w,0,180),f=Fi(h,n.y,i.h,90,270);p.start<a.l&&(a.l=p.start,o.l=d),p.end>a.r&&(a.r=p.end,o.r=d),f.start<a.t&&(a.t=f.start,o.t=d),f.end>a.b&&(a.b=f.end,o.b=d)}t.setReductions(t.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,i){var n=this,r=e.l/Math.sin(i.l),a=Math.max(e.r-n.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),s=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(i.b);r=ji(r),a=ji(a),o=ji(o),s=ji(s),n.drawingArea=Math.min(Math.floor(t-(r+a)/2),Math.floor(t-(o+s)/2)),n.setCenterPoint(r,a,o,s)},setCenterPoint:function(t,e,i,n){var r=this,a=r.width-e-r.drawingArea,o=t+r.drawingArea,s=i+r.drawingArea,l=r.height-r.paddingTop-n-r.drawingArea;r.xCenter=Math.floor((o+a)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(t){var e=this.chart,i=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(i<0?i+360:i)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(j.isNullOrUndef(t))return NaN;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this.min,i=this.max;return this.getPointPositionForValue(t||0,this.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0)},_drawGrid:function(){var t,e,i,n=this,r=n.ctx,a=n.options,o=a.gridLines,s=a.angleLines,l=Ii(s.lineWidth,o.lineWidth),c=Ii(s.color,o.color);if(a.pointLabels.display&&function(t){var e=t.ctx,i=t.options,n=i.pointLabels,r=Yi(i),a=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),o=j.options._parseFont(n);e.save(),e.font=o.string,e.textBaseline="middle";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=0===s?r/2:0,c=t.getPointPosition(s,a+l+5),u=Oi(n.fontColor,s,Y.global.defaultFontColor);e.fillStyle=u;var d=t.getIndexAngle(s),h=j.toDegrees(d);e.textAlign=Hi(h),Bi(h,t._pointLabelSizes[s],c),Ni(e,t.pointLabels[s],c,o.lineHeight)}e.restore()}(n),o.display&&j.each(n.ticks,(function(t,i){0!==i&&(e=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),function(t,e,i,n){var r,a=t.ctx,o=e.circular,s=t.chart.data.labels.length,l=Oi(e.color,n-1),c=Oi(e.lineWidth,n-1);if((o||s)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(e.borderDash||[]),a.lineDashOffset=e.borderDashOffset||0),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{r=t.getPointPosition(0,i),a.moveTo(r.x,r.y);for(var u=1;u<s;u++)r=t.getPointPosition(u,i),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(n,o,e,i))})),s.display&&l&&c){for(r.save(),r.lineWidth=l,r.strokeStyle=c,r.setLineDash&&(r.setLineDash(Ri([s.borderDash,o.borderDash,[]])),r.lineDashOffset=Ri([s.borderDashOffset,o.borderDashOffset,0])),t=n.chart.data.labels.length-1;t>=0;t--)e=n.getDistanceFromCenterForValue(a.ticks.reverse?n.min:n.max),i=n.getPointPosition(t,e),r.beginPath(),r.moveTo(n.xCenter,n.yCenter),r.lineTo(i.x,i.y),r.stroke();r.restore()}},_drawLabels:function(){var t=this,e=t.ctx,i=t.options.ticks;if(i.display){var n,r,a=t.getIndexAngle(0),o=j.options._parseFont(i),s=Ii(i.fontColor,Y.global.defaultFontColor);e.save(),e.font=o.string,e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",j.each(t.ticks,(function(a,l){(0!==l||i.reverse)&&(n=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),i.showLabelBackdrop&&(r=e.measureText(a).width,e.fillStyle=i.backdropColor,e.fillRect(-r/2-i.backdropPaddingX,-n-o.size/2-i.backdropPaddingY,r+2*i.backdropPaddingX,o.size+2*i.backdropPaddingY)),e.fillStyle=s,e.fillText(a,0,-n))})),e.restore()}},_drawTitle:j.noop}),Wi=zi;Vi._defaults=Wi;var Ui=j._deprecated,$i=j.options.resolve,qi=j.valueOrDefault,Gi=Number.MIN_SAFE_INTEGER||-9007199254740991,Xi=Number.MAX_SAFE_INTEGER||9007199254740991,Zi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ji=Object.keys(Zi);function Ki(t,e){return t-e}function Qi(t){return j.valueOrDefault(t.time.min,t.ticks.min)}function tn(t){return j.valueOrDefault(t.time.max,t.ticks.max)}function en(t,e,i,n){var r=function(t,e,i){for(var n,r,a,o=0,s=t.length-1;o>=0&&o<=s;){if(r=t[(n=o+s>>1)-1]||null,a=t[n],!r)return{lo:null,hi:a};if(a[e]<i)o=n+1;else{if(!(r[e]>i))return{lo:r,hi:a};s=n-1}}return{lo:a,hi:null}}(t,e,i),a=r.lo?r.hi?r.lo:t[t.length-2]:t[0],o=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=o[e]-a[e],l=s?(i-a[e])/s:0,c=(o[n]-a[n])*l;return a[n]+c}function nn(t,e){var i=t._adapter,n=t.options.time,r=n.parser,a=r||n.format,o=e;return"function"==typeof r&&(o=r(o)),j.isFinite(o)||(o="string"==typeof a?i.parse(o,a):i.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(e),j.isFinite(o)||(o=i.parse(o))),o)}function rn(t,e){if(j.isNullOrUndef(e))return null;var i=t.options.time,n=nn(t,t.getRightValue(e));return null===n||i.round&&(n=+t._adapter.startOf(n,i.round)),n}function an(t,e,i,n){var r,a,o,s=Ji.length;for(r=Ji.indexOf(t);r<s-1;++r)if(o=(a=Zi[Ji[r]]).steps?a.steps:Xi,a.common&&Math.ceil((i-e)/(o*a.size))<=n)return Ji[r];return Ji[s-1]}function on(t,e,i){var n,r,a=[],o={},s=e.length;for(n=0;n<s;++n)o[r=e[n]]=n,a.push({value:r,major:!1});return 0!==s&&i?function(t,e,i,n){var r,a,o=t._adapter,s=+o.startOf(e[0].value,n),l=e[e.length-1].value;for(r=s;r<=l;r=+o.add(r,1,n))(a=i[r])>=0&&(e[a].major=!0);return e}(t,a,o,i):a}var sn=mi.extend({initialize:function(){this.mergeTicksOptions(),mi.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,i=e.time||(e.time={}),n=t._adapter=new ti._date(e.adapters.date);return Ui("time scale",i.format,"time.format","time.parser"),Ui("time scale",i.min,"time.min","ticks.min"),Ui("time scale",i.max,"time.max","ticks.max"),j.mergeIf(i.displayFormats,n.formats()),mi.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),mi.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,r,a,o,s=this,l=s.chart,c=s._adapter,u=s.options,d=u.time.unit||"day",h=Xi,p=Gi,f=[],m=[],g=[],y=s._getLabels();for(t=0,i=y.length;t<i;++t)g.push(rn(s,y[t]));for(t=0,i=(l.data.datasets||[]).length;t<i;++t)if(l.isDatasetVisible(t))if(r=l.data.datasets[t].data,j.isObject(r[0]))for(m[t]=[],e=0,n=r.length;e<n;++e)a=rn(s,r[e]),f.push(a),m[t][e]=a;else m[t]=g.slice(0),o||(f=f.concat(g),o=!0);else m[t]=[];g.length&&(h=Math.min(h,g[0]),p=Math.max(p,g[g.length-1])),f.length&&(f=i>1?function(t){var e,i,n,r={},a=[];for(e=0,i=t.length;e<i;++e)r[n=t[e]]||(r[n]=!0,a.push(n));return a}(f).sort(Ki):f.sort(Ki),h=Math.min(h,f[0]),p=Math.max(p,f[f.length-1])),h=rn(s,Qi(u))||h,p=rn(s,tn(u))||p,h=h===Xi?+c.startOf(Date.now(),d):h,p=p===Gi?+c.endOf(Date.now(),d)+1:p,s.min=Math.min(h,p),s.max=Math.max(h+1,p),s._table=[],s._timestamps={data:f,datasets:m,labels:g}},buildTicks:function(){var t,e,i,n=this,r=n.min,a=n.max,o=n.options,s=o.ticks,l=o.time,c=n._timestamps,u=[],d=n.getLabelCapacity(r),h=s.source,p=o.distribution;for(c="data"===h||"auto"===h&&"series"===p?c.data:"labels"===h?c.labels:function(t,e,i,n){var r,a=t._adapter,o=t.options,s=o.time,l=s.unit||an(s.minUnit,e,i,n),c=$i([s.stepSize,s.unitStepSize,1]),u="week"===l&&s.isoWeekday,d=e,h=[];if(u&&(d=+a.startOf(d,"isoWeek",u)),d=+a.startOf(d,u?"day":l),a.diff(i,e,l)>1e5*c)throw e+" and "+i+" are too far apart with stepSize of "+c+" "+l;for(r=d;r<i;r=+a.add(r,c,l))h.push(r);return r!==i&&"ticks"!==o.bounds||h.push(r),h}(n,r,a,d),"ticks"===o.bounds&&c.length&&(r=c[0],a=c[c.length-1]),r=rn(n,Qi(o))||r,a=rn(n,tn(o))||a,t=0,e=c.length;t<e;++t)(i=c[t])>=r&&i<=a&&u.push(i);return n.min=r,n.max=a,n._unit=l.unit||(s.autoSkip?an(l.minUnit,n.min,n.max,d):function(t,e,i,n,r){var a,o;for(a=Ji.length-1;a>=Ji.indexOf(i);a--)if(o=Ji[a],Zi[o].common&&t._adapter.diff(r,n,o)>=e-1)return o;return Ji[i?Ji.indexOf(i):0]}(n,u.length,l.minUnit,n.min,n.max)),n._majorUnit=s.major.enabled&&"year"!==n._unit?function(t){for(var e=Ji.indexOf(t)+1,i=Ji.length;e<i;++e)if(Zi[Ji[e]].common)return Ji[e]}(n._unit):void 0,n._table=function(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var r,a,o,s,l,c=[],u=[e];for(r=0,a=t.length;r<a;++r)(s=t[r])>e&&s<i&&u.push(s);for(u.push(i),r=0,a=u.length;r<a;++r)l=u[r+1],o=u[r-1],s=u[r],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||c.push({time:s,pos:r/(a-1)});return c}(n._timestamps.data,r,a,p),n._offsets=function(t,e,i,n,r){var a,o,s=0,l=0;return r.offset&&e.length&&(a=en(t,"time",e[0],"pos"),s=1===e.length?1-a:(en(t,"time",e[1],"pos")-a)/2,o=en(t,"time",e[e.length-1],"pos"),l=1===e.length?o:(o-en(t,"time",e[e.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(n._table,u,0,0,o),s.reverse&&u.reverse(),on(n,u,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i._adapter,r=i.chart.data,a=i.options.time,o=r.labels&&t<r.labels.length?r.labels[t]:"",s=r.datasets[e].data[t];return j.isObject(s)&&(o=i.getRightValue(s)),a.tooltipFormat?n.format(nn(i,o),a.tooltipFormat):"string"==typeof o?o:n.format(nn(i,o),a.displayFormats.datetime)},tickFormatFunction:function(t,e,i,n){var r=this._adapter,a=this.options,o=a.time.displayFormats,s=o[this._unit],l=this._majorUnit,c=o[l],u=i[e],d=a.ticks,h=l&&c&&u&&u.major,p=r.format(t,n||(h?c:s)),f=h?d.major:d.minor,m=$i([f.callback,f.userCallback,d.callback,d.userCallback]);return m?m(p,e,i):p},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(t[e].value,e,t));return n},getPixelForOffset:function(t){var e=this._offsets,i=en(this._table,"time",t,"pos");return this.getPixelForDecimal((e.start+i)*e.factor)},getPixelForValue:function(t,e,i){var n=null;if(void 0!==e&&void 0!==i&&(n=this._timestamps.datasets[i][e]),null===n&&(n=rn(this,t)),null!==n)return this.getPixelForOffset(n)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end,n=en(this._table,"pos",i,"time");return this._adapter._create(n)},_getLabelSize:function(t){var e=this.options.ticks,i=this.ctx.measureText(t).width,n=j.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),a=Math.sin(n),o=qi(e.fontSize,Y.global.defaultFontSize);return{w:i*r+o*a,h:i*a+o*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,i=e.options.time,n=i.displayFormats,r=n[i.unit]||n.millisecond,a=e.tickFormatFunction(t,0,on(e,[t],e._majorUnit),r),o=e._getLabelSize(a),s=Math.floor(e.isHorizontal()?e.width/o.w:e.height/o.h);return e.options.offset&&s--,s>0?s:1}}),ln={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};sn._defaults=ln;var cn={category:yi,linear:Ti,logarithmic:Ei,radialLinear:Vi,time:sn},un={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};ti._date.override("function"==typeof t?{_id:"moment",formats:function(){return un},parse:function(e,i){return"string"==typeof e&&"string"==typeof i?e=t(e,i):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,i){return t(e).format(i)},add:function(e,i,n){return t(e).add(i,n).valueOf()},diff:function(e,i,n){return t(e).diff(t(i),n)},startOf:function(e,i,n){return e=t(e),"isoWeek"===i?e.isoWeekday(n).valueOf():e.startOf(i).valueOf()},endOf:function(e,i){return t(e).endOf(i).valueOf()},_create:function(e){return t(e)}}:{}),Y._set("global",{plugins:{filler:{propagate:!0}}});var dn={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),r=n&&i.isDatasetVisible(e)&&n.dataset._children||[],a=r.length||0;return a?function(t,e){return e<a&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return j.isArray(e)?function(t,i){return e[i]}:function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}};function hn(t,e,i){var n,r=t._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(n=parseFloat(a,10),isFinite(n)&&Math.floor(n)===n)return"-"!==a[0]&&"+"!==a[0]||(n=e+n),!(n===e||n<0||n>=i)&&n;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function pn(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,i,n,r,a,o=t.el._scale,s=o.options,l=o.chart.data.labels.length,c=t.fill,u=[];if(!l)return null;for(e=s.ticks.reverse?o.max:o.min,i=s.ticks.reverse?o.min:o.max,n=o.getPointPositionForValue(0,e),r=0;r<l;++r)a="start"===c||"end"===c?o.getPointPositionForValue(r,"start"===c?e:i):o.getBasePosition(r),s.gridLines.circular&&(a.cx=n.x,a.cy=n.y,a.angle=o.getIndexAngle(r)-Math.PI/2),u.push(a);return u}(t):function(t){var e,i=t.el._model||{},n=t.el._scale||{},r=t.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===r?a=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?a=i.scaleZero:n.getBasePixel&&(a=n.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(j.isFinite(a))return{x:(e=n.isHorizontal())?a:null,y:e?null:a}}return null}(t)}function fn(t,e,i){var n,r=t[e].fill,a=[e];if(!i)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(n=t[r]))return!1;if(n.visible)return r;a.push(r),r=n.fill}return!1}function mn(t){var e=t.fill,i="dataset";return!1===e?null:(isFinite(e)||(i="boundary"),dn[i](t))}function gn(t){return t&&!t.skip}function yn(t,e,i,n,r){var a,o,s,l;if(n&&r){for(t.moveTo(e[0].x,e[0].y),a=1;a<n;++a)j.canvas.lineTo(t,e[a-1],e[a]);if(void 0===i[0].angle)for(t.lineTo(i[r-1].x,i[r-1].y),a=r-1;a>0;--a)j.canvas.lineTo(t,i[a],i[a-1],!0);else for(o=i[0].cx,s=i[0].cy,l=Math.sqrt(Math.pow(i[0].x-o,2)+Math.pow(i[0].y-s,2)),a=r-1;a>0;--a)t.arc(o,s,l,i[a].angle,i[a-1].angle,!0)}}function vn(t,e,i,n,r,a){var o,s,l,c,u,d,h,p,f=e.length,m=n.spanGaps,g=[],y=[],v=0,_=0;for(t.beginPath(),o=0,s=f;o<s;++o)u=i(c=e[l=o%f]._view,l,n),d=gn(c),h=gn(u),a&&void 0===p&&d&&(s=f+(p=o+1)),d&&h?(v=g.push(c),_=y.push(u)):v&&_&&(m?(d&&g.push(c),h&&y.push(u)):(yn(t,g,y,v,_),v=_=0,g=[],y=[]));yn(t,g,y,v,_),t.closePath(),t.fillStyle=r,t.fill()}var _n={id:"filler",afterDatasetsUpdate:function(t,e){var i,n,r,a,o=(t.data.datasets||[]).length,s=e.propagate,l=[];for(n=0;n<o;++n)a=null,(r=(i=t.getDatasetMeta(n)).dataset)&&r._model&&r instanceof wt.Line&&(a={visible:t.isDatasetVisible(n),fill:hn(r,n,o),chart:t,el:r}),i.$filler=a,l.push(a);for(n=0;n<o;++n)(a=l[n])&&(a.fill=fn(l,n,s),a.boundary=pn(a),a.mapper=mn(a))},beforeDatasetsDraw:function(t){var e,i,n,r,a,o,s,l=t._getSortedVisibleDatasetMetas(),c=t.ctx;for(i=l.length-1;i>=0;--i)(e=l[i].$filler)&&e.visible&&(r=(n=e.el)._view,a=n._children||[],o=e.mapper,s=r.backgroundColor||Y.global.defaultColor,o&&s&&a.length&&(j.canvas.clipArea(c,t.chartArea),vn(c,a,o,r,s,n._loop),j.canvas.unclipArea(c)))}},bn=j.rtl.getRtlAdapter,xn=j.noop,wn=j.valueOrDefault;function kn(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}Y._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,r=n.getDatasetMeta(i);r.hidden=null===r.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,i=t.options.legend||{},n=i.labels&&i.labels.usePointStyle;return t._getSortedDatasetMetas().map((function(i){var r=i.controller.getStyle(n?0:void 0);return{text:e[i.index].label,fillStyle:r.backgroundColor,hidden:!t.isDatasetVisible(i.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:i.index}}),this)}}},legendCallback:function(t){var e,i,n,r=document.createElement("ul"),a=t.data.datasets;for(r.setAttribute("class",t.id+"-legend"),e=0,i=a.length;e<i;e++)(n=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[e].backgroundColor,a[e].label&&n.appendChild(document.createTextNode(a[e].label));return r.outerHTML}});var Sn=X.extend({initialize:function(t){j.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:xn,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:xn,beforeSetDimensions:xn,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:xn,beforeBuildLabels:xn,buildLabels:function(){var t=this,e=t.options.labels||{},i=j.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter((function(i){return e.filter(i,t.chart.data)}))),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:xn,beforeFit:xn,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,r=t.ctx,a=j.options._parseFont(i),o=a.size,s=t.legendHitBoxes=[],l=t.minSize,c=t.isHorizontal();if(c?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n){if(r.font=a.string,c){var u=t.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="middle",j.each(t.legendItems,(function(t,e){var n=kn(i,o)+o/2+r.measureText(t.text).width;(0===e||u[u.length-1]+n+2*i.padding>l.width)&&(d+=o+i.padding,u[u.length-(e>0?0:1)]=0),s[e]={left:0,top:0,width:n,height:o},u[u.length-1]+=n+i.padding})),l.height+=d}else{var h=i.padding,p=t.columnWidths=[],f=t.columnHeights=[],m=i.padding,g=0,y=0;j.each(t.legendItems,(function(t,e){var n=kn(i,o)+o/2+r.measureText(t.text).width;e>0&&y+o+2*h>l.height&&(m+=g+i.padding,p.push(g),f.push(y),g=0,y=0),g=Math.max(g,n),y+=o+h,s[e]={left:0,top:0,width:n,height:o}})),m+=g,p.push(g),f.push(y),l.width+=m}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:xn,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,i=e.labels,n=Y.global,r=n.defaultColor,a=n.elements.line,o=t.height,s=t.columnHeights,l=t.width,c=t.lineWidths;if(e.display){var u,d=bn(e.rtl,t.left,t.minSize.width),h=t.ctx,p=wn(i.fontColor,n.defaultFontColor),f=j.options._parseFont(i),m=f.size;h.textAlign=d.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=p,h.fillStyle=p,h.font=f.string;var g=kn(i,m),y=t.legendHitBoxes,v=function(t,n){switch(e.align){case"start":return i.padding;case"end":return t-n;default:return(t-n+i.padding)/2}},_=t.isHorizontal();u=_?{x:t.left+v(l,c[0]),y:t.top+i.padding,line:0}:{x:t.left+i.padding,y:t.top+v(o,s[0]),line:0},j.rtl.overrideTextDirection(t.ctx,e.textDirection);var b=m+i.padding;j.each(t.legendItems,(function(e,n){var p=h.measureText(e.text).width,f=g+m/2+p,x=u.x,w=u.y;d.setWidth(t.minSize.width),_?n>0&&x+f+i.padding>t.left+t.minSize.width&&(w=u.y+=b,u.line++,x=u.x=t.left+v(l,c[u.line])):n>0&&w+b>t.top+t.minSize.height&&(x=u.x=x+t.columnWidths[u.line]+i.padding,u.line++,w=u.y=t.top+v(o,s[u.line]));var k=d.x(x);!function(t,e,n){if(!(isNaN(g)||g<=0)){h.save();var o=wn(n.lineWidth,a.borderWidth);if(h.fillStyle=wn(n.fillStyle,r),h.lineCap=wn(n.lineCap,a.borderCapStyle),h.lineDashOffset=wn(n.lineDashOffset,a.borderDashOffset),h.lineJoin=wn(n.lineJoin,a.borderJoinStyle),h.lineWidth=o,h.strokeStyle=wn(n.strokeStyle,r),h.setLineDash&&h.setLineDash(wn(n.lineDash,a.borderDash)),i&&i.usePointStyle){var s=g*Math.SQRT2/2,l=d.xPlus(t,g/2),c=e+m/2;j.canvas.drawPoint(h,n.pointStyle,s,l,c,n.rotation)}else h.fillRect(d.leftForLtr(t,g),e,g,m),0!==o&&h.strokeRect(d.leftForLtr(t,g),e,g,m);h.restore()}}(k,w,e),y[n].left=d.leftForLtr(k,y[n].width),y[n].top=w,function(t,e,i,n){var r=m/2,a=d.xPlus(t,g+r),o=e+r;h.fillText(i.text,a,o),i.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(a,o),h.lineTo(d.xPlus(a,n),o),h.stroke())}(k,w,e,p),_?u.x+=f+i.padding:u.y+=b})),j.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var i,n,r,a=this;if(t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom)for(r=a.legendHitBoxes,i=0;i<r.length;++i)if(t>=(n=r[i]).left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return a.legendItems[i];return null},handleEvent:function(t){var e,i=this,n=i.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!n.onHover&&!n.onLeave)return}else{if("click"!==r)return;if(!n.onClick)return}e=i._getLegendItemAt(t.x,t.y),"click"===r?e&&n.onClick&&n.onClick.call(i,t.native,e):(n.onLeave&&e!==i._hoveredItem&&(i._hoveredItem&&n.onLeave.call(i,t.native,i._hoveredItem),i._hoveredItem=e),n.onHover&&e&&n.onHover.call(i,t.native,e))}});function Tn(t,e){var i=new Sn({ctx:t.ctx,options:e,chart:t});me.configure(t,i,e),me.addBox(t,i),t.legend=i}var Mn={id:"legend",_element:Sn,beforeInit:function(t){var e=t.options.legend;e&&Tn(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(j.mergeIf(e,Y.global.legend),i?(me.configure(t,i,e),i.options=e):Tn(t,e)):i&&(me.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}},Cn=j.noop;Y._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Dn=X.extend({initialize:function(t){j.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:Cn,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Cn,beforeSetDimensions:Cn,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Cn,beforeBuildLabels:Cn,buildLabels:Cn,afterBuildLabels:Cn,beforeFit:Cn,fit:function(){var t,e=this,i=e.options,n=e.minSize={},r=e.isHorizontal();i.display?(t=(j.isArray(i.text)?i.text.length:1)*j.options._parseFont(i).lineHeight+2*i.padding,e.width=n.width=r?e.maxWidth:t,e.height=n.height=r?t:e.maxHeight):e.width=n.width=e.height=n.height=0},afterFit:Cn,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=t.options;if(i.display){var n,r,a,o=j.options._parseFont(i),s=o.lineHeight,l=s/2+i.padding,c=0,u=t.top,d=t.left,h=t.bottom,p=t.right;e.fillStyle=j.valueOrDefault(i.fontColor,Y.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(r=d+(p-d)/2,a=u+l,n=p-d):(r="left"===i.position?d+l:p-l,a=u+(h-u)/2,n=h-u,c=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(r,a),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var f=i.text;if(j.isArray(f))for(var m=0,g=0;g<f.length;++g)e.fillText(f[g],0,m,n),m+=s;else e.fillText(f,0,0,n);e.restore()}}});function Ln(t,e){var i=new Dn({ctx:t.ctx,options:e,chart:t});me.configure(t,i,e),me.addBox(t,i),t.titleBlock=i}var An={},En=_n,Pn=Mn,In={id:"title",_element:Dn,beforeInit:function(t){var e=t.options.title;e&&Ln(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(j.mergeIf(e,Y.global.title),i?(me.configure(t,i,e),i.options=e):Ln(t,e)):i&&(me.removeBox(t,i),delete t.titleBlock)}};for(var On in An.filler=En,An.legend=Pn,An.title=In,Je.helpers=j,function(){function t(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function e(t){return null!=t&&"none"!==t}function i(i,n,r){var a=document.defaultView,o=j._getParentNode(i),s=a.getComputedStyle(i)[n],l=a.getComputedStyle(o)[n],c=e(s),u=e(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?t(s,i,r):d,u?t(l,o,r):d):"none"}j.where=function(t,e){if(j.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return j.each(t,(function(t){e(t)&&i.push(t)})),i},j.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,r=t.length;n<r;++n)if(e.call(i,t[n],n,t))return n;return-1},j.findNextWhere=function(t,e,i){j.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var r=t[n];if(e(r))return r}},j.findPreviousWhere=function(t,e,i){j.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;n>=0;n--){var r=t[n];if(e(r))return r}},j.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},j.almostEquals=function(t,e,i){return Math.abs(t-e)<i},j.almostWhole=function(t,e){var i=Math.round(t);return i-e<=t&&i+e>=t},j.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)},j.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)},j.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},j.toRadians=function(t){return t*(Math.PI/180)},j.toDegrees=function(t){return t*(180/Math.PI)},j._decimalPlaces=function(t){if(j.isFinite(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}},j.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),a=Math.atan2(n,i);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},j.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},j.aliasPixel=function(t){return t%2==0?0:.5},j._alignPixel=function(t,e,i){var n=t.currentDevicePixelRatio,r=i/2;return Math.round((e-r)*n)/n+r},j.splineCurve=function(t,e,i,n){var r=t.skip?e:t,a=e,o=i.skip?e:i,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),u=l/(s+l),d=n*(c=isNaN(c)?0:c),h=n*(u=isNaN(u)?0:u);return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},j.EPSILON=Number.EPSILON||1e-14,j.splineCurveMonotone=function(t){var e,i,n,r,a,o,s,l,c,u=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),d=u.length;for(e=0;e<d;++e)if(!(n=u[e]).model.skip){if(i=e>0?u[e-1]:null,(r=e<d-1?u[e+1]:null)&&!r.model.skip){var h=r.model.x-n.model.x;n.deltaK=0!==h?(r.model.y-n.model.y)/h:0}!i||i.model.skip?n.mK=n.deltaK:!r||r.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}for(e=0;e<d-1;++e)n=u[e],r=u[e+1],n.model.skip||r.model.skip||(j.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=r.mK=0:(a=n.mK/n.deltaK,o=r.mK/n.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),n.mK=a*s*n.deltaK,r.mK=o*s*n.deltaK)));for(e=0;e<d;++e)(n=u[e]).model.skip||(i=e>0?u[e-1]:null,r=e<d-1?u[e+1]:null,i&&!i.model.skip&&(c=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-c,n.model.controlPointPreviousY=n.model.y-c*n.mK),r&&!r.model.skip&&(c=(r.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+c,n.model.controlPointNextY=n.model.y+c*n.mK))},j.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},j.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},j.niceNum=function(t,e){var i=Math.floor(j.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},j.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},j.getRelativePosition=function(t,e){var i,n,r=t.originalEvent||t,a=t.target||t.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&s.length>0?(i=s[0].clientX,n=s[0].clientY):(i=r.clientX,n=r.clientY);var l=parseFloat(j.getStyle(a,"padding-left")),c=parseFloat(j.getStyle(a,"padding-top")),u=parseFloat(j.getStyle(a,"padding-right")),d=parseFloat(j.getStyle(a,"padding-bottom")),h=o.right-o.left-l-u,p=o.bottom-o.top-c-d;return{x:i=Math.round((i-o.left-l)/h*a.width/e.currentDevicePixelRatio),y:n=Math.round((n-o.top-c)/p*a.height/e.currentDevicePixelRatio)}},j.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},j.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},j._calculatePadding=function(t,e,i){return(e=j.getStyle(t,e)).indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)},j._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},j.getMaximumWidth=function(t){var e=j._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth,n=i-j._calculatePadding(e,"padding-left",i)-j._calculatePadding(e,"padding-right",i),r=j.getConstraintWidth(t);return isNaN(r)?n:Math.min(n,r)},j.getMaximumHeight=function(t){var e=j._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight,n=i-j._calculatePadding(e,"padding-top",i)-j._calculatePadding(e,"padding-bottom",i),r=j.getConstraintHeight(t);return isNaN(r)?n:Math.min(n,r)},j.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},j.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==i){var n=t.canvas,r=t.height,a=t.width;n.height=r*i,n.width=a*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=r+"px",n.style.width=a+"px")}},j.fontString=function(t,e,i){return e+" "+t+"px "+i},j.longestText=function(t,e,i,n){var r=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},a=n.garbageCollect=[],n.font=e),t.font=e;var o,s,l,c,u,d=0,h=i.length;for(o=0;o<h;o++)if(null!=(c=i[o])&&!0!==j.isArray(c))d=j.measureText(t,r,a,d,c);else if(j.isArray(c))for(s=0,l=c.length;s<l;s++)null==(u=c[s])||j.isArray(u)||(d=j.measureText(t,r,a,d,u));var p=a.length/2;if(p>i.length){for(o=0;o<p;o++)delete r[a[o]];a.splice(0,p)}return d},j.measureText=function(t,e,i,n,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,i.push(r)),a>n&&(n=a),n},j.numberOfLabelLines=function(t){var e=1;return j.each(t,(function(t){j.isArray(t)&&t.length>e&&(e=t.length)})),e},j.color=x?function(t){return t instanceof CanvasGradient&&(t=Y.global.defaultColor),x(t)}:function(t){return console.error("Color.js not found!"),t},j.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:j.color(t).saturate(.5).darken(.1).rgbString()}}(),Je._adapters=ti,Je.Animation=J,Je.animationService=K,Je.controllers=Kt,Je.DatasetController=nt,Je.defaults=Y,Je.Element=X,Je.elements=wt,Je.Interaction=ae,Je.layouts=me,Je.platform=Le,Je.plugins=Ae,Je.Scale=mi,Je.scaleService=Ee,Je.Ticks=ei,Je.Tooltip=je,Je.helpers.each(cn,(function(t,e){Je.scaleService.registerScaleType(e,t,t._defaults)})),An)An.hasOwnProperty(On)&&Je.plugins.register(An[On]);Je.platform.initialize();var Rn=Je;return"undefined"!=typeof window&&(window.Chart=Je),Je.Chart=Je,Je.Legend=An.legend._element,Je.Title=An.title._element,Je.pluginService=Je.plugins,Je.PluginBase=Je.Element.extend({}),Je.canvasHelpers=Je.helpers.canvas,Je.layoutService=Je.layouts,Je.LinearScaleBase=xi,Je.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){Je[t]=function(e,i){return new Je(e,Je.helpers.merge(i||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),Rn}(function(){try{return i(0)}catch(t){}}())},function(t,e,i){var n,r,a;/*! nouislider - 14.7.0 - 4/6/2021 */r=[],void 0===(a="function"==typeof(n=function(){"use strict";var t="14.7.0";function e(t){t.parentElement.removeChild(t)}function i(t){return null!=t}function n(t){t.preventDefault()}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,i){i>0&&(c(t,e),setTimeout((function(){u(t,e)}),i))}function o(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function l(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function h(t,e){return 100/(e-t)}function p(t,e,i){return 100*e/(t[i+1]-t[i])}function f(t,e){for(var i=1;t>=e[i];)i+=1;return i}function m(t,e,i){if(i>=t.slice(-1)[0])return 100;var n=f(i,t),r=t[n-1],a=t[n],o=e[n-1],s=e[n];return o+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([r,a],i)/h(o,s)}function g(t,e,i,n){if(100===n)return n;var r=f(n,t),a=t[r-1],o=t[r];return i?n-a>(o-a)/2?o:a:e[r-1]?t[r-1]+function(t,e){return Math.round(t/e)*e}(n-t[r-1],e[r-1]):n}function y(t,e,i){var n;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.7.0): 'range' contains invalid value.");if(!r(n="min"===t?0:"max"===t?100:parseFloat(t))||!r(e[0]))throw new Error("noUiSlider (14.7.0): 'range' value isn't numeric.");i.xPct.push(n),i.xVal.push(e[0]),n?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function v(t,e,i){if(e)if(i.xVal[t]!==i.xVal[t+1]){i.xSteps[t]=p([i.xVal[t],i.xVal[t+1]],e,0)/h(i.xPct[t],i.xPct[t+1]);var n=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],r=Math.ceil(Number(n.toFixed(3))-1),a=i.xVal[t]+i.xNumSteps[t]*r;i.xHighestCompleteStep[t]=a}else i.xSteps[t]=i.xHighestCompleteStep[t]=i.xVal[t]}function _(t,e,i){var n;this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var r=[];for(n in t)t.hasOwnProperty(n)&&r.push([t[n],n]);for(r.length&&"object"==typeof r[0][0]?r.sort((function(t,e){return t[0][0]-e[0][0]})):r.sort((function(t,e){return t[0]-e[0]})),n=0;n<r.length;n++)y(r[n][1],r[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)v(n,this.xNumSteps[n],this)}_.prototype.getDistance=function(t){var e,i=[];for(e=0;e<this.xNumSteps.length-1;e++){var n=this.xNumSteps[e];if(n&&t/n%1!=0)throw new Error("noUiSlider (14.7.0): 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");i[e]=p(this.xVal,t,e)}return i},_.prototype.getAbsoluteDistance=function(t,e,i){var n,r=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[r+1];)r++;else t===this.xPct[this.xPct.length-1]&&(r=this.xPct.length-2);i||t!==this.xPct[r+1]||r++;var a=1,o=e[r],s=0,l=0,c=0,u=0;for(n=i?(t-this.xPct[r])/(this.xPct[r+1]-this.xPct[r]):(this.xPct[r+1]-t)/(this.xPct[r+1]-this.xPct[r]);o>0;)s=this.xPct[r+1+u]-this.xPct[r+u],e[r+u]*a+100-100*n>100?(l=s*n,a=(o-100*n)/e[r+u],n=1):(l=e[r+u]*s/100*a,a=0),i?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),o=e[r+u]*a;return t+c},_.prototype.toStepping=function(t){return t=m(this.xVal,this.xPct,t)},_.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var n=f(i,e),r=t[n-1],a=t[n],o=e[n-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([r,a],(i-o)*h(o,e[n]))}(this.xVal,this.xPct,t)},_.prototype.getStep=function(t){return t=g(this.xPct,this.xSteps,this.snap,t)},_.prototype.getDefaultStep=function(t,e,i){var n=f(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/i},_.prototype.getNearbySteps=function(t){var e=f(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},_.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},_.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var b={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},x={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},w=".__tooltips",k=".__aria";function S(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.7.0): 'format' requires 'to' and 'from' methods.")}function T(t,e){if(!r(e))throw new Error("noUiSlider (14.7.0): 'step' is not numeric.");t.singleStep=e}function M(t,e){if(!r(e))throw new Error("noUiSlider (14.7.0): 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function C(t,e){if(!r(e))throw new Error("noUiSlider (14.7.0): 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function D(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.7.0): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.7.0): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.7.0): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new _(e,t.snap,t.singleStep)}function L(t,e){if(e=s(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.7.0): 'start' option is incorrect.");t.handles=e.length,t.start=e}function A(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.7.0): 'snap' option must be a boolean.")}function E(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.7.0): 'animate' option must be a boolean.")}function P(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.7.0): 'animationDuration' option must be a number.")}function I(t,e){var i,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.7.0): 'connect' option doesn't match handle count.");n=e}t.connect=n}function O(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.7.0): 'orientation' option is invalid.")}}function R(t,e){if(!r(e))throw new Error("noUiSlider (14.7.0): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function z(t,e){if(!r(e))throw new Error("noUiSlider (14.7.0): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.7.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function Y(t,e){var i;if(!r(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.7.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!r(e[0])&&!r(e[1]))throw new Error("noUiSlider (14.7.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider (14.7.0): 'padding' option must be a positive number(s).");var n=e[0]+e[1],a=t.spectrum.xVal[0];if(n/(t.spectrum.xVal[t.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider (14.7.0): 'padding' option must not exceed 100% of the range.")}}function F(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.7.0): 'direction' option was not recognized.")}}function H(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.7.0): 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,r=e.indexOf("fixed")>=0,a=e.indexOf("snap")>=0,o=e.indexOf("hover")>=0,s=e.indexOf("unconstrained")>=0;if(r){if(2!==t.handles)throw new Error("noUiSlider (14.7.0): 'fixed' behaviour must be used with 2 handles");R(t,t.start[1]-t.start[0])}if(s&&(t.margin||t.limit))throw new Error("noUiSlider (14.7.0): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||a,drag:n,fixed:r,snap:a,hover:o,unconstrained:s}}function N(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.7.0): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.7.0): 'tooltips' must be passed a formatter or 'false'.")}))}}function B(t,e){t.ariaFormat=e,S(e)}function j(t,e){t.format=e,S(e)}function V(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.7.0): 'keyboardSupport' option must be a boolean.")}function W(t,e){t.documentElement=e}function U(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.7.0): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function $(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.7.0): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function q(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:b,format:b},n={step:{r:!1,t:T},keyboardPageMultiplier:{r:!1,t:M},keyboardDefaultStep:{r:!1,t:C},start:{r:!0,t:L},connect:{r:!0,t:I},direction:{r:!0,t:F},snap:{r:!1,t:A},animate:{r:!1,t:E},animationDuration:{r:!1,t:P},range:{r:!0,t:D},orientation:{r:!1,t:O},margin:{r:!1,t:R},limit:{r:!1,t:z},padding:{r:!1,t:Y},behaviour:{r:!0,t:H},ariaFormat:{r:!1,t:B},format:{r:!1,t:j},tooltips:{r:!1,t:N},keyboardSupport:{r:!0,t:V},documentElement:{r:!1,t:W},cssPrefix:{r:!0,t:U},cssClasses:{r:!0,t:$}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:x,keyboardPageMultiplier:5,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach((function(a){if(!i(t[a])&&void 0===r[a]){if(n[a].r)throw new Error("noUiSlider (14.7.0): '"+a+"' is required.");return!0}n[a].t(e,i(t[a])?t[a]:r[a])})),e.pips=t.pips;var a=document.createElement("div"),o=void 0!==a.style.msTransform,s=void 0!==a.style.transform;return e.transformRule=s?"transform":o?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function G(t,r,l){var h,p,f,m,g,y,v,_,b=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},x=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),S=t,T=r.spectrum,M=[],C=[],D=[],L=0,A={},E=t.ownerDocument,P=r.documentElement||E.documentElement,I=E.body,O="rtl"===E.dir||1===r.ort?0:100;function R(t,e){var i=E.createElement("div");return e&&c(i,e),t.appendChild(i),i}function z(t,e){var i=R(t,r.cssClasses.origin),n=R(i,r.cssClasses.handle);return R(n,r.cssClasses.touchArea),n.setAttribute("data-handle",e),r.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(t){return function(t,e){if(H()||N(e))return!1;var i=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],o=["Home","End"];r.dir&&!r.ort?i.reverse():r.ort&&!r.dir&&(n.reverse(),a.reverse());var s,l=t.key.replace("Arrow",""),c=l===a[0],u=l===a[1],d=l===n[0]||l===i[0]||c,h=l===n[1]||l===i[1]||u,p=l===o[0],f=l===o[1];if(!(d||h||p||f))return!0;if(t.preventDefault(),h||d){var m=r.keyboardPageMultiplier,g=d?0:1,y=mt(e)[g];if(null===y)return!1;!1===y&&(y=T.getDefaultStep(C[e],d,r.keyboardDefaultStep)),(u||c)&&(y*=m),y=Math.max(y,1e-7),y*=d?-1:1,s=M[e]+y}else s=f?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return ut(e,T.toStepping(s),!0,!0),rt("slide",e),rt("update",e),rt("change",e),rt("set",e),!1}(t,e)}))),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?c(n,r.cssClasses.handleLower):e===r.handles-1&&c(n,r.cssClasses.handleUpper),i}function Y(t,e){return!!e&&R(t,r.cssClasses.connect)}function F(t,e){return!!r.tooltips[e]&&R(t.firstChild,r.cssClasses.tooltip)}function H(){return S.hasAttribute("disabled")}function N(t){return p[t].hasAttribute("disabled")}function B(){g&&(nt("update"+w),g.forEach((function(t){t&&e(t)})),g=null)}function j(){B(),g=p.map(F),it("update"+w,(function(t,e,i){if(g[e]){var n=t[e];!0!==r.tooltips[e]&&(n=r.tooltips[e].to(i[e])),g[e].innerHTML=n}}))}function V(t,e,i){var n=E.createElement("div"),a=[];a[0]=r.cssClasses.valueNormal,a[1]=r.cssClasses.valueLarge,a[2]=r.cssClasses.valueSub;var o=[];o[0]=r.cssClasses.markerNormal,o[1]=r.cssClasses.markerLarge,o[2]=r.cssClasses.markerSub;var s=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],l=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function u(t,e){var i=e===r.cssClasses.value,n=i?a:o;return e+" "+(i?s:l)[r.ort]+" "+n[t]}return c(n,r.cssClasses.pips),c(n,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach((function(a){!function(t,a,o){if(-1!==(o=e?e(a,o):o)){var s=R(n,!1);s.className=u(o,r.cssClasses.marker),s.style[r.style]=t+"%",o>0&&((s=R(n,!1)).className=u(o,r.cssClasses.value),s.setAttribute("data-value",a),s.style[r.style]=t+"%",s.innerHTML=i.to(a))}}(a,t[a][0],t[a][1])})),n}function W(){m&&(e(m),m=null)}function U(t){W();var e=t.mode,i=t.density||1,n=t.filter||!1,r=function(t,e,i){if("range"===t||"steps"===t)return T.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.7.0): 'values' (>= 2) required for mode 'count'.");var n=e-1,r=100/n;for(e=[];n--;)e[n]=n*r;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return T.fromStepping(i?T.getStep(t):t)})):"values"===t?i?e.map((function(t){return T.fromStepping(T.getStep(T.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),a=function(t,e,i){var n,r={},a=T.xVal[0],o=T.xVal[T.xVal.length-1],s=!1,l=!1,c=0;return n=i.slice().sort((function(t,e){return t-e})),(i=n.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==a&&(i.unshift(a),s=!0),i[i.length-1]!==o&&(i.push(o),l=!0),i.forEach((function(n,a){var o,u,d,h,p,f,m,g,y,v,_=n,b=i[a+1],x="steps"===e;if(x&&(o=T.xNumSteps[a]),o||(o=b-_),!1!==_)for(void 0===b&&(b=_),o=Math.max(o,1e-7),u=_;u<=b;u=(u+o).toFixed(7)/1){for(g=(p=(h=T.toStepping(u))-c)/t,v=p/(y=Math.round(g)),d=1;d<=y;d+=1)r[(f=c+d*v).toFixed(5)]=[T.fromStepping(f),0];m=i.indexOf(u)>-1?1:x?2:0,!a&&s&&u!==b&&(m=0),u===b&&l||(r[h.toFixed(5)]=[u,m]),c=h}})),r}(i,e,r),o=t.format||{to:Math.round};return m=S.appendChild(V(a,n,o))}function $(){var t=h.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||h[e]:t.height||h[e]}function G(t,e,i,n){var a=function(a){return!!(a=function(t,e,i){var n,r,a=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(a){var l=function(t){return t.target===i||i.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(i)};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,l);if(c.length>1)return!1;n=c[0].pageX,r=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,l);if(!u)return!1;n=u.pageX,r=u.pageY}}return e=e||d(E),(o||s)&&(n=t.clientX+e.x,r=t.clientY+e.y),t.pageOffset=e,t.points=[n,r],t.cursor=o||s,t}(a,n.pageOffset,n.target||e))&&!(H()&&!n.doNotReject)&&(o=S,s=r.cssClasses.tap,!((o.classList?o.classList.contains(s):new RegExp("\\b"+s+"\\b").test(o.className))&&!n.doNotReject)&&!(t===b.start&&void 0!==a.buttons&&a.buttons>1)&&(!n.hover||!a.buttons)&&(x||a.preventDefault(),a.calcPoint=a.points[r.ort],void i(a,n)));var o,s},o=[];return t.split(" ").forEach((function(t){e.addEventListener(t,a,!!x&&{passive:!0}),o.push([t,a])})),o}function X(t){var e,i,n,a,s,l,c=100*(t-(e=h,i=r.ort,n=e.getBoundingClientRect(),a=e.ownerDocument,s=a.documentElement,l=d(a),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),i?n.top+l.y-s.clientTop:n.left+l.x-s.clientLeft))/$();return c=o(c),r.dir?100-c:c}function Z(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&K(t,e)}function J(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return K(t,e);var i=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint);st(i>0,100*i/e.baseSize,e.locations,e.handleNumbers)}function K(t,e){e.handle&&(u(e.handle,r.cssClasses.active),L-=1),e.listeners.forEach((function(t){P.removeEventListener(t[0],t[1])})),0===L&&(u(S,r.cssClasses.drag),ct(),t.cursor&&(I.style.cursor="",I.removeEventListener("selectstart",n))),e.handleNumbers.forEach((function(t){rt("change",t),rt("set",t),rt("end",t)}))}function Q(t,e){if(e.handleNumbers.some(N))return!1;var i;1===e.handleNumbers.length&&(i=p[e.handleNumbers[0]].children[0],L+=1,c(i,r.cssClasses.active)),t.stopPropagation();var a=[],o=G(b.move,P,J,{target:t.target,handle:i,listeners:a,startCalcPoint:t.calcPoint,baseSize:$(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:C.slice()}),s=G(b.end,P,K,{target:t.target,handle:i,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers}),l=G("mouseout",P,Z,{target:t.target,handle:i,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers});a.push.apply(a,o.concat(s,l)),t.cursor&&(I.style.cursor=getComputedStyle(t.target).cursor,p.length>1&&c(S,r.cssClasses.drag),I.addEventListener("selectstart",n,!1)),e.handleNumbers.forEach((function(t){rt("start",t)}))}function tt(t){t.stopPropagation();var e=X(t.calcPoint),i=function(t){var e=100,i=!1;return p.forEach((function(n,r){if(!N(r)){var a=C[r],o=Math.abs(a-t);(o<e||o<=e&&t>a||100===o&&100===e)&&(i=r,e=o)}})),i}(e);if(!1===i)return!1;r.events.snap||a(S,r.cssClasses.tap,r.animationDuration),ut(i,e,!0,!0),ct(),rt("slide",i,!0),rt("update",i,!0),rt("change",i,!0),rt("set",i,!0),r.events.snap&&Q(t,{handleNumbers:[i]})}function et(t){var e=X(t.calcPoint),i=T.getStep(e),n=T.fromStepping(i);Object.keys(A).forEach((function(t){"hover"===t.split(".")[0]&&A[t].forEach((function(t){t.call(y,n)}))}))}function it(t,e){A[t]=A[t]||[],A[t].push(e),"update"===t.split(".")[0]&&p.forEach((function(t,e){rt("update",e)}))}function nt(t){var e=t&&t.split(".")[0],i=e?t.substring(e.length):t;Object.keys(A).forEach((function(t){var n=t.split(".")[0],r=t.substring(n.length);e&&e!==n||i&&i!==r||function(t){return t===k||t===w}(r)&&i!==r||delete A[t]}))}function rt(t,e,i){Object.keys(A).forEach((function(n){var a=n.split(".")[0];t===a&&A[n].forEach((function(t){t.call(y,M.map(r.format.to),e,M.slice(),i||!1,C.slice(),y)}))}))}function at(t,e,i,n,a,s){var l;return p.length>1&&!r.events.unconstrained&&(n&&e>0&&(l=T.getAbsoluteDistance(t[e-1],r.margin,0),i=Math.max(i,l)),a&&e<p.length-1&&(l=T.getAbsoluteDistance(t[e+1],r.margin,1),i=Math.min(i,l))),p.length>1&&r.limit&&(n&&e>0&&(l=T.getAbsoluteDistance(t[e-1],r.limit,0),i=Math.min(i,l)),a&&e<p.length-1&&(l=T.getAbsoluteDistance(t[e+1],r.limit,1),i=Math.max(i,l))),r.padding&&(0===e&&(l=T.getAbsoluteDistance(0,r.padding[0],0),i=Math.max(i,l)),e===p.length-1&&(l=T.getAbsoluteDistance(100,r.padding[1],1),i=Math.min(i,l))),!((i=o(i=T.getStep(i)))===t[e]&&!s)&&i}function ot(t,e){var i=r.ort;return(i?e:t)+", "+(i?t:e)}function st(t,e,i,n){var r=i.slice(),a=[!t,t],o=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach((function(t,i){var n=at(r,t,r[t]+e,a[i],o[i],!1);!1===n?e=0:(e=n-r[t],r[t]=n)})):a=o=[!0];var s=!1;n.forEach((function(t,n){s=ut(t,i[t]+e,a[n],o[n])||s})),s&&n.forEach((function(t){rt("update",t),rt("slide",t)}))}function lt(t,e){return r.dir?100-t-e:t}function ct(){D.forEach((function(t){var e=C[t]>50?-1:1,i=3+(p.length+e*t);p[t].style.zIndex=i}))}function ut(t,e,i,n,a){return a||(e=at(C,t,e,i,n,!1)),!1!==e&&(function(t,e){C[t]=e,M[t]=T.fromStepping(e);var i="translate("+ot(10*(lt(e,0)-O)+"%","0")+")";p[t].style[r.transformRule]=i,dt(t),dt(t+1)}(t,e),!0)}function dt(t){if(f[t]){var e=0,i=100;0!==t&&(e=C[t-1]),t!==f.length-1&&(i=C[t]);var n=i-e,a="translate("+ot(lt(e,n)+"%","0")+")",o="scale("+ot(n/100,"1")+")";f[t].style[r.transformRule]=a+" "+o}}function ht(t,e){return null===t||!1===t||void 0===t?C[e]:("number"==typeof t&&(t=String(t)),t=r.format.from(t),!1===(t=T.toStepping(t))||isNaN(t)?C[e]:t)}function pt(t,e,i){var n=s(t),o=void 0===C[0];e=void 0===e||!!e,r.animate&&!o&&a(S,r.cssClasses.tap,r.animationDuration),D.forEach((function(t){ut(t,ht(n[t],t),!0,!1,i)}));for(var l=1===D.length?0:1;l<D.length;++l)D.forEach((function(t){ut(t,C[t],!0,!0,i)}));ct(),D.forEach((function(t){rt("update",t),null!==n[t]&&e&&rt("set",t)}))}function ft(){var t=M.map(r.format.to);return 1===t.length?t[0]:t}function mt(t){var e=C[t],i=T.getNearbySteps(e),n=M[t],a=i.thisStep.step,o=null;if(r.snap)return[n-i.stepBefore.startValue||null,i.stepAfter.startValue-n||null];!1!==a&&n+a>i.stepAfter.startValue&&(a=i.stepAfter.startValue-n),o=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===e?a=null:0===e&&(o=null);var s=T.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(s))),null!==o&&!1!==o&&(o=Number(o.toFixed(s))),[o,a]}return c(v=S,r.cssClasses.target),0===r.dir?c(v,r.cssClasses.ltr):c(v,r.cssClasses.rtl),0===r.ort?c(v,r.cssClasses.horizontal):c(v,r.cssClasses.vertical),c(v,"rtl"===getComputedStyle(v).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),h=R(v,r.cssClasses.base),function(t,e){var i=R(e,r.cssClasses.connects);p=[],(f=[]).push(Y(i,t[0]));for(var n=0;n<r.handles;n++)p.push(z(e,n)),D[n]=n,f.push(Y(i,t[n+1]))}(r.connect,h),(_=r.events).fixed||p.forEach((function(t,e){G(b.start,t.children[0],Q,{handleNumbers:[e]})})),_.tap&&G(b.start,h,tt,{}),_.hover&&G(b.move,h,et,{hover:!0}),_.drag&&f.forEach((function(t,e){if(!1!==t&&0!==e&&e!==f.length-1){var i=p[e-1],n=p[e],a=[t];c(t,r.cssClasses.draggable),_.fixed&&(a.push(i.children[0]),a.push(n.children[0])),a.forEach((function(t){G(b.start,t,Q,{handles:[i,n],handleNumbers:[e-1,e]})}))}})),pt(r.start),r.pips&&U(r.pips),r.tooltips&&j(),nt("update"+k),it("update"+k,(function(t,e,i,n,a){D.forEach((function(t){var e=p[t],n=at(C,t,0,!0,!0,!0),o=at(C,t,100,!0,!0,!0),s=a[t],l=r.ariaFormat.to(i[t]);n=T.fromStepping(n).toFixed(1),o=T.fromStepping(o).toFixed(1),s=T.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",n),e.children[0].setAttribute("aria-valuemax",o),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",l)}))})),y={destroy:function(){for(var t in nt(k),nt(w),r.cssClasses)r.cssClasses.hasOwnProperty(t)&&u(S,r.cssClasses[t]);for(;S.firstChild;)S.removeChild(S.firstChild);delete S.noUiSlider},steps:function(){return D.map(mt)},on:it,off:nt,get:ft,set:pt,setHandle:function(t,e,i,n){if(!((t=Number(t))>=0&&t<D.length))throw new Error("noUiSlider (14.7.0): invalid handle number, got: "+t);ut(t,ht(e,t),!0,!0,n),rt("update",t),i&&rt("set",t)},reset:function(t){pt(r.start,t)},__moveHandles:function(t,e,i){st(t,e,C,i)},options:l,updateOptions:function(t,e){var n=ft(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(e){void 0!==t[e]&&(l[e]=t[e])}));var o=q(l);a.forEach((function(e){void 0!==t[e]&&(r[e]=o[e])})),T=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips?U(r.pips):W(),r.tooltips?j():B(),C=[],pt(i(t.start)?t.start:n,e)},target:S,removePips:W,removeTooltips:B,getTooltips:function(){return g},getOrigins:function(){return p},pips:U}}return{__spectrum:_,version:t,cssClasses:x,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.7.0): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.7.0): Slider was already initialized.");var i=G(t,q(e),e);return t.noUiSlider=i,i}}})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=function(){function t(t,e,i){var r=this;this.target=t,this.endVal=e,this.options=i,this.version="2.0.8",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){r.startTime||(r.startTime=t);var e=t-r.startTime;r.remaining=r.duration-e,r.useEasing?r.countDown?r.frameVal=r.startVal-r.easingFn(e,0,r.startVal-r.endVal,r.duration):r.frameVal=r.easingFn(e,r.startVal,r.endVal-r.startVal,r.duration):r.countDown?r.frameVal=r.startVal-(r.startVal-r.endVal)*(e/r.duration):r.frameVal=r.startVal+(r.endVal-r.startVal)*(e/r.duration),r.countDown?r.frameVal=r.frameVal<r.endVal?r.endVal:r.frameVal:r.frameVal=r.frameVal>r.endVal?r.endVal:r.frameVal,r.frameVal=Number(r.frameVal.toFixed(r.options.decimalPlaces)),r.printValue(r.frameVal),e<r.duration?r.rAF=requestAnimationFrame(r.count):null!==r.finalEndVal?r.update(r.finalEndVal):r.callback&&r.callback()},this.formatNumber=function(t){var e,i,n,a,o=t<0?"-":"";e=Math.abs(t).toFixed(r.options.decimalPlaces);var s=(e+="").split(".");if(i=s[0],n=s.length>1?r.options.decimal+s[1]:"",r.options.useGrouping){a="";for(var l=0,c=i.length;l<c;++l)0!==l&&l%3==0&&(a=r.options.separator+a),a=i[c-l-1]+a;i=a}return r.options.numerals&&r.options.numerals.length&&(i=i.replace(/[0-9]/g,(function(t){return r.options.numerals[+t]})),n=n.replace(/[0-9]/g,(function(t){return r.options.numerals[+t]}))),o+r.options.prefix+i+n+r.options.suffix},this.easeOutExpo=function(t,e,i,n){return i*(1-Math.pow(2,-10*t/n))*1024/1023+e},this.options=n(n({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold){this.finalEndVal=t;var i=this.countDown?1:-1;this.endVal=t+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}()},function(t,e,i){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,i){return(l=s()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&o(r,i.prototype),r}).apply(null,arguments)}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}var d=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},h=function(t){return Object.keys(t).map((function(e){return t[e]}))},p=function(t){return Array.prototype.slice.call(t)},f=function(e){console.warn("".concat("SweetAlert2:"," ").concat("object"===t(e)?e.join(" "):e))},m=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},g=[],y=function(t,e){var i;i='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===g.indexOf(i)&&(g.push(i),f(i))},v=function(t){return"function"==typeof t?t():t},_=function(t){return t&&"function"==typeof t.toPromise},b=function(t){return _(t)?t.toPromise():Promise.resolve(t)},x=function(t){return t&&Promise.resolve(t)===t},w=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),k=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},S=function(t){var e={};for(var i in t)e[t[i]]="swal2-"+t[i];return e},T=S(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),M=S(["success","warning","info","question","error"]),C=function(){return document.body.querySelector(".".concat(T.container))},D=function(t){var e=C();return e?e.querySelector(t):null},L=function(t){return D(".".concat(t))},A=function(){return L(T.popup)},E=function(){return L(T.icon)},P=function(){return L(T.title)},I=function(){return L(T.content)},O=function(){return L(T["html-container"])},R=function(){return L(T.image)},z=function(){return L(T["progress-steps"])},Y=function(){return L(T["validation-message"])},F=function(){return D(".".concat(T.actions," .").concat(T.confirm))},H=function(){return D(".".concat(T.actions," .").concat(T.deny))},N=function(){return D(".".concat(T.loader))},B=function(){return D(".".concat(T.actions," .").concat(T.cancel))},j=function(){return L(T.actions)},V=function(){return L(T.header)},W=function(){return L(T.footer)},U=function(){return L(T["timer-progress-bar"])},$=function(){return L(T.close)},q=function(){var t=p(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=p(A().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return function(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}(t.concat(e)).filter((function(t){return ht(t)}))},G=function(){return!X()&&!document.body.classList.contains(T["no-backdrop"])},X=function(){return document.body.classList.contains(T["toast-shown"])},Z={previousBodyPadding:null},J=function(t,e){if(t.textContent="",e){var i=(new DOMParser).parseFromString(e,"text/html");p(i.querySelector("head").childNodes).forEach((function(e){t.appendChild(e)})),p(i.querySelector("body").childNodes).forEach((function(e){t.appendChild(e)}))}},K=function(t,e){if(!e)return!1;for(var i=e.split(/\s+/),n=0;n<i.length;n++)if(!t.classList.contains(i[n]))return!1;return!0},Q=function(e,i,n){if(function(t,e){p(t.classList).forEach((function(i){-1===h(T).indexOf(i)&&-1===h(M).indexOf(i)&&-1===h(e.showClass).indexOf(i)&&t.classList.remove(i)}))}(e,i),i.customClass&&i.customClass[n]){if("string"!=typeof i.customClass[n]&&!i.customClass[n].forEach)return f("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(t(i.customClass[n]),'"'));rt(e,i.customClass[n])}};function tt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return ot(t,T[e]);case"checkbox":return t.querySelector(".".concat(T.checkbox," input"));case"radio":return t.querySelector(".".concat(T.radio," input:checked"))||t.querySelector(".".concat(T.radio," input:first-child"));case"range":return t.querySelector(".".concat(T.range," input"));default:return ot(t,T.input)}}var et,it=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},nt=function(t,e,i){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){i?t.classList.add(e):t.classList.remove(e)})):i?t.classList.add(e):t.classList.remove(e)})))},rt=function(t,e){nt(t,e,!0)},at=function(t,e){nt(t,e,!1)},ot=function(t,e){for(var i=0;i<t.childNodes.length;i++)if(K(t.childNodes[i],e))return t.childNodes[i]},st=function(t,e,i){i==="".concat(parseInt(i))&&(i=parseInt(i)),i||0===parseInt(i)?t.style[e]="number"==typeof i?"".concat(i,"px"):i:t.style.removeProperty(e)},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},ct=function(t){t.style.display="none"},ut=function(t,e,i,n){var r=t.querySelector(e);r&&(r.style[i]=n)},dt=function(t,e,i){e?lt(t,i):ct(t)},ht=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},pt=function(t){return!!(t.scrollHeight>t.clientHeight)},ft=function(t){var e=window.getComputedStyle(t),i=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return i>0||n>0},mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=U();ht(i)&&(e&&(i.style.transition="none",i.style.width="100%"),setTimeout((function(){i.style.transition="width ".concat(t/1e3,"s linear"),i.style.width="0%"}),10))},gt=function(){return"undefined"==typeof window||"undefined"==typeof document},yt='\n <div aria-labelledby="'.concat(T.title,'" aria-describedby="').concat(T.content,'" class="').concat(T.popup,'" tabindex="-1">\n   <div class="').concat(T.header,'">\n     <ul class="').concat(T["progress-steps"],'"></ul>\n     <div class="').concat(T.icon,'"></div>\n     <img class="').concat(T.image,'" />\n     <h2 class="').concat(T.title,'" id="').concat(T.title,'"></h2>\n     <button type="button" class="').concat(T.close,'"></button>\n   </div>\n   <div class="').concat(T.content,'">\n     <div id="').concat(T.content,'" class="').concat(T["html-container"],'"></div>\n     <input class="').concat(T.input,'" />\n     <input type="file" class="').concat(T.file,'" />\n     <div class="').concat(T.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(T.select,'"></select>\n     <div class="').concat(T.radio,'"></div>\n     <label for="').concat(T.checkbox,'" class="').concat(T.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(T.label,'"></span>\n     </label>\n     <textarea class="').concat(T.textarea,'"></textarea>\n     <div class="').concat(T["validation-message"],'" id="').concat(T["validation-message"],'"></div>\n   </div>\n   <div class="').concat(T.actions,'">\n     <div class="').concat(T.loader,'"></div>\n     <button type="button" class="').concat(T.confirm,'"></button>\n     <button type="button" class="').concat(T.deny,'"></button>\n     <button type="button" class="').concat(T.cancel,'"></button>\n   </div>\n   <div class="').concat(T.footer,'"></div>\n   <div class="').concat(T["timer-progress-bar-container"],'">\n     <div class="').concat(T["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),vt=function(t){Yi.isVisible()&&et!==t.target.value&&Yi.resetValidationMessage(),et=t.target.value},_t=function(t){var e,i=!!(e=C())&&(e.parentNode.removeChild(e),at([document.documentElement,document.body],[T["no-backdrop"],T["toast-shown"],T["has-column"]]),!0);if(gt())m("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=T.container,i&&rt(n,T["no-transition"]),J(n,yt);var r,a,o,s,l,c,u,d,h,p="string"==typeof(r=t.target)?document.querySelector(r):r;p.appendChild(n),function(t){var e=A();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&rt(C(),T.rtl)}(p),a=I(),o=ot(a,T.input),s=ot(a,T.file),l=a.querySelector(".".concat(T.range," input")),c=a.querySelector(".".concat(T.range," output")),u=ot(a,T.select),d=a.querySelector(".".concat(T.checkbox," input")),h=ot(a,T.textarea),o.oninput=vt,s.onchange=vt,u.onchange=vt,d.onchange=vt,h.oninput=vt,l.oninput=function(t){vt(t),c.value=l.value},l.onchange=function(t){vt(t),l.nextSibling.value=l.value}}},bt=function(e,i){e instanceof HTMLElement?i.appendChild(e):"object"===t(e)?xt(e,i):e&&J(i,e)},xt=function(t,e){t.jquery?wt(e,t):J(e,t.toString())},wt=function(t,e){if(t.textContent="",0 in e)for(var i=0;i in e;i++)t.appendChild(e[i].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},kt=function(){if(gt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&void 0!==t.style[i])return e[i];return!1}(),St=function(t,e){var i=j(),n=N(),r=F(),a=H(),o=B();e.showConfirmButton||e.showDenyButton||e.showCancelButton||ct(i),Q(i,e,"actions"),Tt(r,"confirm",e),Tt(a,"deny",e),Tt(o,"cancel",e),function(t,e,i,n){if(!n.buttonsStyling)return at([t,e,i],T.styled);rt([t,e,i],T.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.denyButtonColor&&(e.style.backgroundColor=n.denyButtonColor),n.cancelButtonColor&&(i.style.backgroundColor=n.cancelButtonColor)}(r,a,o,e),e.reverseButtons&&(i.insertBefore(o,n),i.insertBefore(a,n),i.insertBefore(r,n)),J(n,e.loaderHtml),Q(n,e,"loader")};function Tt(t,e,i){dt(t,i["show".concat(d(e),"Button")],"inline-block"),J(t,i["".concat(e,"ButtonText")]),t.setAttribute("aria-label",i["".concat(e,"ButtonAriaLabel")]),t.className=T[e],Q(t,i,"".concat(e,"Button")),rt(t,i["".concat(e,"ButtonClass")])}var Mt=function(t,e){var i=C();if(i){!function(t,e){"string"==typeof e?t.style.background=e:e||rt([document.documentElement,document.body],T["no-backdrop"])}(i,e.backdrop),!e.backdrop&&e.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in T?rt(t,T[e]):(f('The "position" parameter is not valid, defaulting to "center"'),rt(t,T.center))}(i,e.position),function(t,e){if(e&&"string"==typeof e){var i="grow-".concat(e);i in T&&rt(t,T[i])}}(i,e.grow),Q(i,e,"container");var n=document.body.getAttribute("data-swal2-queue-step");n&&(i.setAttribute("data-queue-step",n),document.body.removeAttribute("data-swal2-queue-step"))}},Ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Dt=["input","file","range","select","radio","checkbox","textarea"],Lt=function(t){if(!Rt[t.input])return m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=Ot(t.input),i=Rt[t.input](e,t);lt(i),setTimeout((function(){it(i)}))},At=function(t,e){var i=tt(I(),t);if(i)for(var n in function(t){for(var e=0;e<t.attributes.length;e++){var i=t.attributes[e].name;-1===["type","value","style"].indexOf(i)&&t.removeAttribute(i)}}(i),e)"range"===t&&"placeholder"===n||i.setAttribute(n,e[n])},Et=function(t){var e=Ot(t.input);t.customClass&&rt(e,t.customClass.input)},Pt=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},It=function(t,e,i){if(i.inputLabel){t.id=T.input;var n=document.createElement("label"),r=T["input-label"];n.setAttribute("for",t.id),n.className=r,rt(n,i.customClass.inputLabel),n.innerText=i.inputLabel,e.insertAdjacentElement("beforebegin",n)}},Ot=function(t){var e=T[t]?T[t]:T.input;return ot(I(),e)},Rt={};Rt.text=Rt.email=Rt.password=Rt.number=Rt.tel=Rt.url=function(e,i){return"string"==typeof i.inputValue||"number"==typeof i.inputValue?e.value=i.inputValue:x(i.inputValue)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(i.inputValue),'"')),It(e,e,i),Pt(e,i),e.type=i.input,e},Rt.file=function(t,e){return It(t,t,e),Pt(t,e),t},Rt.range=function(t,e){var i=t.querySelector("input"),n=t.querySelector("output");return i.value=e.inputValue,i.type=e.input,n.value=e.inputValue,It(i,t,e),t},Rt.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var i=document.createElement("option");J(i,e.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,t.appendChild(i)}return It(t,t,e),t},Rt.radio=function(t){return t.textContent="",t},Rt.checkbox=function(t,e){var i=tt(I(),"checkbox");i.value=1,i.id=T.checkbox,i.checked=Boolean(e.inputValue);var n=t.querySelector("span");return J(n,e.inputPlaceholder),t},Rt.textarea=function(t,e){t.value=e.inputValue,Pt(t,e),It(t,t,e);var i=function(t){return parseInt(window.getComputedStyle(t).paddingLeft)+parseInt(window.getComputedStyle(t).paddingRight)};if("MutationObserver"in window){var n=parseInt(window.getComputedStyle(A()).width);new MutationObserver((function(){var e=t.offsetWidth+i(A())+i(I());A().style.width=e>n?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var zt=function(t,e){var i=O();Q(i,e,"htmlContainer"),e.html?(bt(e.html,i),lt(i,"block")):e.text?(i.textContent=e.text,lt(i,"block")):ct(i),function(t,e){var i=I(),n=Ct.innerParams.get(t),r=!n||e.input!==n.input;Dt.forEach((function(t){var n=T[t],a=ot(i,n);At(t,e.inputAttributes),a.className=n,r&&ct(a)})),e.input&&(r&&Lt(e),Et(e))}(t,e),Q(I(),e,"content")},Yt=function(t,e){for(var i in M)e.icon!==i&&at(t,M[i]);rt(t,M[e.icon]),Nt(t,e),Ft(),Q(t,e,"icon")},Ft=function(){for(var t=A(),e=window.getComputedStyle(t).getPropertyValue("background-color"),i=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),n=0;n<i.length;n++)i[n].style.backgroundColor=e},Ht=function(t,e){t.textContent="",e.iconHtml?J(t,Bt(e.iconHtml)):"success"===e.icon?J(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===e.icon?J(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):J(t,Bt({question:"?",warning:"!",info:"i"}[e.icon]))},Nt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var i=0,n=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];i<n.length;i++)ut(t,n[i],"backgroundColor",e.iconColor);ut(t,".swal2-success-ring","borderColor",e.iconColor)}},Bt=function(t){return'<div class="'.concat(T["icon-content"],'">').concat(t,"</div>")},jt=[],Vt=function(){return C()&&C().getAttribute("data-queue-step")},Wt=function(t,e){var i=z();if(!e.progressSteps||0===e.progressSteps.length)return ct(i);lt(i),i.textContent="";var n=parseInt(void 0===e.currentProgressStep?Vt():e.currentProgressStep);n>=e.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,r){var a=function(t){var e=document.createElement("li");return rt(e,T["progress-step"]),J(e,t),e}(t);if(i.appendChild(a),r===n&&rt(a,T["active-progress-step"]),r!==e.progressSteps.length-1){var o=function(t){var e=document.createElement("li");return rt(e,T["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);i.appendChild(o)}}))},Ut=function(t,e){var i=V();Q(i,e,"header"),Wt(0,e),function(t,e){var i=Ct.innerParams.get(t),n=E();i&&e.icon===i.icon?(Ht(n,e),Yt(n,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(M).indexOf(e.icon)?(m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),ct(n)):(lt(n),Ht(n,e),Yt(n,e),rt(n,e.showClass.icon)):ct(n)}(t,e),function(t,e){var i=R();if(!e.imageUrl)return ct(i);lt(i,""),i.setAttribute("src",e.imageUrl),i.setAttribute("alt",e.imageAlt),st(i,"width",e.imageWidth),st(i,"height",e.imageHeight),i.className=T.image,Q(i,e,"image")}(0,e),function(t,e){var i=P();dt(i,e.title||e.titleText,"block"),e.title&&bt(e.title,i),e.titleText&&(i.innerText=e.titleText),Q(i,e,"title")}(0,e),function(t,e){var i=$();J(i,e.closeButtonHtml),Q(i,e,"closeButton"),dt(i,e.showCloseButton),i.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)},$t=function(t,e){t.className="".concat(T.popup," ").concat(ht(t)?e.showClass.popup:""),e.toast?(rt([document.documentElement,document.body],T["toast-shown"]),rt(t,T.toast)):rt(t,T.modal),Q(t,e,"popup"),"string"==typeof e.customClass&&rt(t,e.customClass),e.icon&&rt(t,T["icon-".concat(e.icon)])},qt=function(t,e){!function(t,e){var i=C(),n=A();e.toast?(st(i,"width",e.width),n.style.width="100%"):st(n,"width",e.width),st(n,"padding",e.padding),e.background&&(n.style.background=e.background),ct(Y()),$t(n,e)}(0,e),Mt(0,e),Ut(t,e),zt(t,e),St(0,e),function(t,e){var i=W();dt(i,e.footer),e.footer&&bt(e.footer,i),Q(i,e,"footer")}(0,e),"function"==typeof e.didRender?e.didRender(A()):"function"==typeof e.onRender&&e.onRender(A())},Gt=function(){return F()&&F().click()},Xt=function(t){var e=A();e||Yi.fire(),e=A();var i=j(),n=N();!t&&ht(F())&&(t=F()),lt(i),t&&(ct(t),n.setAttribute("data-button-to-replace",t.className)),n.parentNode.insertBefore(n,t),rt([e,i],T.loading),lt(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Zt={},Jt=function(t){return new Promise((function(e){if(!t)return e();var i=window.scrollX,n=window.scrollY;Zt.restoreFocusTimeout=setTimeout((function(){Zt.previousActiveElement&&Zt.previousActiveElement.focus?(Zt.previousActiveElement.focus(),Zt.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),void 0!==i&&void 0!==n&&window.scrollTo(i,n)}))},Kt=function(){if(Zt.timeout)return function(){var t=U(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var i=parseInt(window.getComputedStyle(t).width),n=parseInt(e/i*100);t.style.removeProperty("transition"),t.style.width="".concat(n,"%")}(),Zt.timeout.stop()},Qt=function(){if(Zt.timeout){var t=Zt.timeout.start();return mt(t),t}},te=!1,ee={},ie=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var i in ee){var n=e.getAttribute(i);if(n)return void ee[i].fire({template:n})}},ne={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},re=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ae={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},oe=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],se=function(t){return Object.prototype.hasOwnProperty.call(ne,t)},le=function(t){return ae[t]},ce=function(t){se(t)||f('Unknown parameter "'.concat(t,'"'))},ue=function(t){-1!==oe.indexOf(t)&&f('The parameter "'.concat(t,'" is incompatible with toasts'))},de=function(t){le(t)&&y(t,le(t))},he=function(t){for(var e in t)ce(e),t.toast&&ue(e),de(e)},pe=Object.freeze({isValidParameter:se,isUpdatableParameter:function(t){return-1!==re.indexOf(t)},isDeprecatedParameter:le,argsToParams:function(e){var i={};return"object"!==t(e[0])||k(e[0])?["title","html","icon"].forEach((function(n,r){var a=e[r];"string"==typeof a||k(a)?i[n]=a:void 0!==a&&m("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(t(a)))})):r(i,e[0]),i},isVisible:function(){return ht(A())},clickConfirm:Gt,clickDeny:function(){return H()&&H().click()},clickCancel:function(){return B()&&B().click()},getContainer:C,getPopup:A,getTitle:P,getContent:I,getHtmlContainer:O,getImage:R,getIcon:E,getInputLabel:function(){return L(T["input-label"])},getCloseButton:$,getActions:j,getConfirmButton:F,getDenyButton:H,getCancelButton:B,getLoader:N,getHeader:V,getFooter:W,getTimerProgressBar:U,getFocusableElements:q,getValidationMessage:Y,isLoading:function(){return A().hasAttribute("data-loading")},fire:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return l(t,i)},mixin:function(t){return function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(p,i);var l,d,h=(l=p,d=s(),function(){var t,e=a(l);if(d){var i=a(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function p(){return e(this,p),h.apply(this,arguments)}return n(p,[{key:"_main",value:function(e,i){return u(a(p.prototype),"_main",this).call(this,e,r({},t,i))}}]),p}(this)},queue:function(t){y("Swal.queue()","async/await");var e=this;jt=t;var i=function(t,e){jt=[],t(e)},n=[];return new Promise((function(t){!function r(a,o){a<jt.length?(document.body.setAttribute("data-swal2-queue-step",a),e.fire(jt[a]).then((function(e){void 0!==e.value?(n.push(e.value),r(a+1,o)):i(t,{dismiss:e.dismiss})}))):i(t,{value:n})}(0)}))},getQueueStep:Vt,insertQueueStep:function(t,e){return e&&e<jt.length?jt.splice(e,0,t):jt.push(t)},deleteQueueStep:function(t){void 0!==jt[t]&&jt.splice(t,1)},showLoading:Xt,enableLoading:Xt,getTimerLeft:function(){return Zt.timeout&&Zt.timeout.getTimerLeft()},stopTimer:Kt,resumeTimer:Qt,toggleTimer:function(){var t=Zt.timeout;return t&&(t.running?Kt():Qt())},increaseTimer:function(t){if(Zt.timeout){var e=Zt.timeout.increase(t);return mt(e,!0),e}},isTimerRunning:function(){return Zt.timeout&&Zt.timeout.isRunning()},bindClickHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";ee[t]=this,te||(document.body.addEventListener("click",ie),te=!0)}});function fe(){if(Ct.innerParams.get(this)){var t=Ct.domCache.get(this);ct(t.loader);var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?lt(e[0],"inline-block"):ht(F())||ht(H())||ht(B())||ct(t.actions),at([t.popup,t.actions],T.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var me=function(){null===Z.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Z.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Z.previousBodyPadding+function(){var t=document.createElement("div");t.className=T["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))},ge=function(){navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||A().scrollHeight>window.innerHeight-44&&(C().style.paddingBottom="".concat(44,"px"))},ye=function(){var t,e=C();e.ontouchstart=function(e){t=ve(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}},ve=function(t){var e=t.target,i=C();return!(_e(t)||be(t)||e!==i&&(pt(i)||"INPUT"===e.tagName||pt(I())&&I().contains(e)))},_e=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},be=function(t){return t.touches&&t.touches.length>1},xe=function(){return!!window.MSInputMethodContext&&!!document.documentMode},we=function(){var t=C(),e=A();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},ke={swalPromiseResolve:new WeakMap};function Se(t,e,i,n){X()?Ae(t,n):(Jt(i).then((function(){return Ae(t,n)})),Zt.keydownTarget.removeEventListener("keydown",Zt.keydownHandler,{capture:Zt.keydownListenerCapture}),Zt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),G()&&(null!==Z.previousBodyPadding&&(document.body.style.paddingRight="".concat(Z.previousBodyPadding,"px"),Z.previousBodyPadding=null),function(){if(K(document.body,T.iosfix)){var t=parseInt(document.body.style.top,10);at(document.body,T.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&xe()&&window.removeEventListener("resize",we),p(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))),at([document.documentElement,document.body],[T.shown,T["height-auto"],T["no-backdrop"],T["toast-shown"]])}function Te(t){var e=A();if(e){t=Me(t);var i=Ct.innerParams.get(this);if(i&&!K(e,i.hideClass.popup)){var n=ke.swalPromiseResolve.get(this);at(e,i.showClass.popup),rt(e,i.hideClass.popup);var r=C();at(r,i.showClass.backdrop),rt(r,i.hideClass.backdrop),Ce(this,e,i),n(t)}}}var Me=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:r({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},Ce=function(t,e,i){var n=C(),r=kt&&ft(e),a=i.onClose,o=i.onAfterClose,s=i.willClose,l=i.didClose;De(e,s,a),r?Le(t,e,n,i.returnFocus,l||o):Se(t,n,i.returnFocus,l||o)},De=function(t,e,i){null!==e&&"function"==typeof e?e(t):null!==i&&"function"==typeof i&&i(t)},Le=function(t,e,i,n,r){Zt.swalCloseEventFinishedCallback=Se.bind(null,t,i,n,r),e.addEventListener(kt,(function(t){t.target===e&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback)}))},Ae=function(t,e){setTimeout((function(){"function"==typeof e&&e(),t._destroy()}))};function Ee(t,e,i){var n=Ct.domCache.get(t);e.forEach((function(t){n[t].disabled=i}))}function Pe(t,e){if(!t)return!1;if("radio"===t.type)for(var i=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<i.length;n++)i[n].disabled=e;else t.disabled=e}var Ie=function(){function t(i,n){e(this,t),this.callback=i,this.remaining=n,this.running=!1,this.start()}return n(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Oe={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Re(t){!function(t){t.inputValidator||Object.keys(Oe).forEach((function(e){t.input===e&&(t.inputValidator=Oe[e])}))}(t),t.showLoaderOnConfirm&&!t.preConfirm&&f("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=v(t.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),_t(t)}var ze,Ye=["swal-title","swal-html","swal-footer"],Fe=function(e){var i={};return p(e.querySelectorAll("swal-param")).forEach((function(e){Ue(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof ne[n]&&"false"===r&&(r=!1),"object"===t(ne[n])&&(r=JSON.parse(r)),i[n]=r})),i},He=function(t){var e={};return p(t.querySelectorAll("swal-button")).forEach((function(t){Ue(t,["type","color","aria-label"]);var i=t.getAttribute("type");e["".concat(i,"ButtonText")]=t.innerHTML,e["show".concat(d(i),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(i,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(i,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),e},Ne=function(t){var e={},i=t.querySelector("swal-image");return i&&(Ue(i,["src","width","height","alt"]),i.hasAttribute("src")&&(e.imageUrl=i.getAttribute("src")),i.hasAttribute("width")&&(e.imageWidth=i.getAttribute("width")),i.hasAttribute("height")&&(e.imageHeight=i.getAttribute("height")),i.hasAttribute("alt")&&(e.imageAlt=i.getAttribute("alt"))),e},Be=function(t){var e={},i=t.querySelector("swal-icon");return i&&(Ue(i,["type","color"]),i.hasAttribute("type")&&(e.icon=i.getAttribute("type")),i.hasAttribute("color")&&(e.iconColor=i.getAttribute("color")),e.iconHtml=i.innerHTML),e},je=function(t){var e={},i=t.querySelector("swal-input");i&&(Ue(i,["type","label","placeholder","value"]),e.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(e.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(e.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(e.inputValue=i.getAttribute("value")));var n=t.querySelectorAll("swal-input-option");return n.length&&(e.inputOptions={},p(n).forEach((function(t){Ue(t,["value"]);var i=t.getAttribute("value"),n=t.innerHTML;e.inputOptions[i]=n}))),e},Ve=function(t,e){var i={};for(var n in e){var r=e[n],a=t.querySelector(r);a&&(Ue(a,[]),i[r.replace(/^swal-/,"")]=a.innerHTML.trim())}return i},We=function(t){var e=Ye.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);p(t.querySelectorAll("*")).forEach((function(i){if(i.parentNode===t){var n=i.tagName.toLowerCase();-1===e.indexOf(n)&&f("Unrecognized element <".concat(n,">"))}}))},Ue=function(t,e){p(t.attributes).forEach((function(i){-1===e.indexOf(i.name)&&f(['Unrecognized attribute "'.concat(i.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))},$e=function(t){var e=C(),i=A();"function"==typeof t.willOpen?t.willOpen(i):"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(i);var n=window.getComputedStyle(document.body).overflowY;Je(e,i,t),setTimeout((function(){Xe(e,i)}),10),G()&&(Ze(e,t.scrollbarPadding,n),p(document.body.children).forEach((function(t){t===C()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,C())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))),X()||Zt.previousActiveElement||(Zt.previousActiveElement=document.activeElement),qe(i,t),at(e,T["no-transition"])},qe=function(t,e){"function"==typeof e.didOpen?setTimeout((function(){return e.didOpen(t)})):"function"==typeof e.onOpen&&setTimeout((function(){return e.onOpen(t)}))},Ge=function t(e){var i=A();if(e.target===i){var n=C();i.removeEventListener(kt,t),n.style.overflowY="auto"}},Xe=function(t,e){kt&&ft(e)?(t.style.overflowY="hidden",e.addEventListener(kt,Ge)):t.style.overflowY="auto"},Ze=function(t,e,i){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!K(document.body,T.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),rt(document.body,T.iosfix),ye(),ge()}}(),"undefined"!=typeof window&&xe()&&(we(),window.addEventListener("resize",we)),e&&"hidden"!==i&&me(),setTimeout((function(){t.scrollTop=0}))},Je=function(t,e,i){rt(t,i.showClass.backdrop),e.style.setProperty("opacity","0","important"),lt(e),setTimeout((function(){rt(e,i.showClass.popup),e.style.removeProperty("opacity")}),10),rt([document.documentElement,document.body],T.shown),i.heightAuto&&i.backdrop&&!i.toast&&rt([document.documentElement,document.body],T["height-auto"])},Ke=function(t){return t.checked?1:0},Qe=function(t){return t.checked?t.value:null},ti=function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},ei=function(e,i){var n=I(),r=function(t){return ni[i.input](n,ri(t),i)};_(i.inputOptions)||x(i.inputOptions)?(Xt(F()),b(i.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===t(i.inputOptions)?r(i.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(i.inputOptions)))},ii=function(t,e){var i=t.getInput();ct(i),b(e.inputValue).then((function(n){i.value="number"===e.input?parseFloat(n)||0:"".concat(n),lt(i),i.focus(),t.hideLoading()})).catch((function(e){m("Error in inputValue promise: ".concat(e)),i.value="",lt(i),i.focus(),t.hideLoading()}))},ni={select:function(t,e,i){var n=ot(t,T.select),r=function(t,e,n){var r=document.createElement("option");r.value=n,J(r,e),r.selected=ai(n,i.inputValue),t.appendChild(r)};e.forEach((function(t){var e=t[0],i=t[1];if(Array.isArray(i)){var a=document.createElement("optgroup");a.label=e,a.disabled=!1,n.appendChild(a),i.forEach((function(t){return r(a,t[1],t[0])}))}else r(n,i,e)})),n.focus()},radio:function(t,e,i){var n=ot(t,T.radio);e.forEach((function(t){var e=t[0],r=t[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=T.radio,a.value=e,ai(e,i.inputValue)&&(a.checked=!0);var s=document.createElement("span");J(s,r),s.className=T.label,o.appendChild(a),o.appendChild(s),n.appendChild(o)}));var r=n.querySelectorAll("input");r.length&&r[0].focus()}},ri=function e(i){var n=[];return"undefined"!=typeof Map&&i instanceof Map?i.forEach((function(i,r){var a=i;"object"===t(a)&&(a=e(a)),n.push([r,a])})):Object.keys(i).forEach((function(r){var a=i[r];"object"===t(a)&&(a=e(a)),n.push([r,a])})),n},ai=function(t,e){return e&&e.toString()===t.toString()},oi=function(t,e,i){var n=function(t,e){var i=t.getInput();if(!i)return null;switch(e.input){case"checkbox":return Ke(i);case"radio":return Qe(i);case"file":return ti(i);default:return e.inputAutoTrim?i.value.trim():i.value}}(t,e);e.inputValidator?si(t,e,n):t.getInput().checkValidity()?"deny"===i?li(t,e,n):ui(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},si=function(t,e,i){t.disableInput(),Promise.resolve().then((function(){return b(e.inputValidator(i,e.validationMessage))})).then((function(n){t.enableButtons(),t.enableInput(),n?t.showValidationMessage(n):ui(t,e,i)}))},li=function(t,e,i){e.showLoaderOnDeny&&Xt(H()),e.preDeny?Promise.resolve().then((function(){return b(e.preDeny(i,e.validationMessage))})).then((function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?i:e})})):t.closePopup({isDenied:!0,value:i})},ci=function(t,e){t.closePopup({isConfirmed:!0,value:e})},ui=function(t,e,i){e.showLoaderOnConfirm&&Xt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return b(e.preConfirm(i,e.validationMessage))})).then((function(e){ht(Y())||!1===e?t.hideLoading():ci(t,void 0===e?i:e)}))):ci(t,i)},di=function(t,e,i){var n=q();if(n.length)return(e+=i)===n.length?e=0:-1===e&&(e=n.length-1),n[e].focus();A().focus()},hi=["ArrowRight","ArrowDown","Right","Down"],pi=["ArrowLeft","ArrowUp","Left","Up"],fi=["Escape","Esc"],mi=function(t,e,i){var n=Ct.innerParams.get(t);n&&(n.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?gi(t,e,n):"Tab"===e.key?yi(e,n):-1!==[].concat(hi,pi).indexOf(e.key)?vi(e.key):-1!==fi.indexOf(e.key)&&_i(e,n,i))},gi=function(t,e,i){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(i.input))return;Gt(),e.preventDefault()}},yi=function(t,e){for(var i=t.target,n=q(),r=-1,a=0;a<n.length;a++)if(i===n[a]){r=a;break}t.shiftKey?di(0,r,-1):di(0,r,1),t.stopPropagation(),t.preventDefault()},vi=function(t){if(-1!==[F(),H(),B()].indexOf(document.activeElement)){var e=-1!==hi.indexOf(t)?"nextElementSibling":"previousElementSibling",i=document.activeElement[e];i&&i.focus()}},_i=function(t,e,i){v(e.allowEscapeKey)&&(t.preventDefault(),i(w.esc))},bi=function(t,e,i){e.popup.onclick=function(){var e=Ct.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||i(w.close)}},xi=!1,wi=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(xi=!0)}}},ki=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(xi=!0)}}},Si=function(t,e,i){e.container.onclick=function(n){var r=Ct.innerParams.get(t);xi?xi=!1:n.target===e.container&&v(r.allowOutsideClick)&&i(w.backdrop)}},Ti=function(t,e){var i=function(t){var e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};var i=e.content||e;return We(i),r(Fe(i),He(i),Ne(i),Be(i),je(i),Ve(i,Ye))}(t),n=r({},ne,e,i,t);return n.showClass=r({},ne.showClass,n.showClass),n.hideClass=r({},ne.hideClass,n.hideClass),!1===t.animation&&(n.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},n.hideClass={}),n},Mi=function(t,e,i){return new Promise((function(n){var r=function(e){t.closePopup({isDismissed:!0,dismiss:e})};ke.swalPromiseResolve.set(t,n),e.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?oi(t,e,"confirm"):ui(t,e,!0)}(t,i)},e.denyButton.onclick=function(){return function(t,e){t.disableButtons(),e.returnInputValueOnDeny?oi(t,e,"deny"):li(t,e,!1)}(t,i)},e.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(w.cancel)}(t,r)},e.closeButton.onclick=function(){return r(w.close)},function(t,e,i){Ct.innerParams.get(t).toast?bi(t,e,i):(wi(e),ki(e),Si(t,e,i))}(t,e,r),function(t,e,i,n){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),i.toast||(e.keydownHandler=function(e){return mi(t,e,n)},e.keydownTarget=i.keydownListenerCapture?window:A(),e.keydownListenerCapture=i.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(t,Zt,i,r),function(t,e){"select"===e.input||"radio"===e.input?ei(t,e):-1!==["text","email","number","tel","textarea"].indexOf(e.input)&&(_(e.inputValue)||x(e.inputValue))&&ii(t,e)}(t,i),$e(i),Di(Zt,i,r),Li(e,i),setTimeout((function(){e.container.scrollTop=0}))}))},Ci=function(t){var e={popup:A(),container:C(),content:I(),actions:j(),confirmButton:F(),denyButton:H(),cancelButton:B(),loader:N(),closeButton:$(),validationMessage:Y(),progressSteps:z()};return Ct.domCache.set(t,e),e},Di=function(t,e,i){var n=U();ct(n),e.timer&&(t.timeout=new Ie((function(){i("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(lt(n),setTimeout((function(){t.timeout&&t.timeout.running&&mt(e.timer)}))))},Li=function(t,e){if(!e.toast)return v(e.allowEnterKey)?void(Ai(t,e)||di(0,-1,1)):Ei()},Ai=function(t,e){return e.focusDeny&&ht(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&ht(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!ht(t.confirmButton)||(t.confirmButton.focus(),0))},Ei=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Pi=function(t){"function"==typeof t.didDestroy?t.didDestroy():"function"==typeof t.onDestroy&&t.onDestroy()},Ii=function(t){delete t.params,delete Zt.keydownHandler,delete Zt.keydownTarget,Oi(Ct),Oi(ke)},Oi=function(t){for(var e in t)t[e]=new WeakMap},Ri=Object.freeze({hideLoading:fe,disableLoading:fe,getInput:function(t){var e=Ct.innerParams.get(t||this),i=Ct.domCache.get(t||this);return i?tt(i.content,e.input):null},close:Te,closePopup:Te,closeModal:Te,closeToast:Te,enableButtons:function(){Ee(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Ee(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Pe(this.getInput(),!1)},disableInput:function(){return Pe(this.getInput(),!0)},showValidationMessage:function(t){var e=Ct.domCache.get(this),i=Ct.innerParams.get(this);J(e.validationMessage,t),e.validationMessage.className=T["validation-message"],i.customClass&&i.customClass.validationMessage&&rt(e.validationMessage,i.customClass.validationMessage),lt(e.validationMessage);var n=this.getInput();n&&(n.setAttribute("aria-invalid",!0),n.setAttribute("aria-describedBy",T["validation-message"]),it(n),rt(n,T.inputerror))},resetValidationMessage:function(){var t=Ct.domCache.get(this);t.validationMessage&&ct(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),at(e,T.inputerror))},getProgressSteps:function(){return Ct.domCache.get(this).progressSteps},_main:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};he(r({},e,t)),Zt.currentInstance&&Zt.currentInstance._destroy(),Zt.currentInstance=this;var i=Ti(t,e);Re(i),Object.freeze(i),Zt.timeout&&(Zt.timeout.stop(),delete Zt.timeout),clearTimeout(Zt.restoreFocusTimeout);var n=Ci(this);return qt(this,i),Ct.innerParams.set(this,i),Mi(this,n,i)},update:function(t){var e=A(),i=Ct.innerParams.get(this);if(!e||K(e,i.hideClass.popup))return f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var n={};Object.keys(t).forEach((function(e){Yi.isUpdatableParameter(e)?n[e]=t[e]:f('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var a=r({},i,n);qt(this,a),Ct.innerParams.set(this,a),Object.defineProperties(this,{params:{value:r({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Ct.domCache.get(this),e=Ct.innerParams.get(this);e&&(t.popup&&Zt.swalCloseEventFinishedCallback&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback),Zt.deferDisposalTimer&&(clearTimeout(Zt.deferDisposalTimer),delete Zt.deferDisposalTimer),Pi(e),Ii(this))}}),zi=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&m("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),ze=this;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=Object.freeze(this.constructor.argsToParams(n));Object.defineProperties(this,{params:{value:a,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);Ct.promise.set(this,o)}}return n(t,[{key:"then",value:function(t){return Ct.promise.get(this).then(t)}},{key:"finally",value:function(t){return Ct.promise.get(this).finally(t)}}]),t}();r(zi.prototype,Ri),r(zi,pe),Object.keys(Ri).forEach((function(t){zi[t]=function(){var e;if(ze)return(e=ze)[t].apply(e,arguments)}})),zi.DismissReason=w,zi.version="10.16.9";var Yi=zi;return Yi.default=Yi,Yi}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var i=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=e);else try{i.innerHTML=e}catch(t){i.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:column;align-items:stretch;width:auto;padding:1.25em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;margin:0 .625em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container{padding:.625em 0 0}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex:1;flex-basis:auto!important;align-self:stretch;width:auto;height:2.2em;height:auto;margin:0 .3125em;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n,r;
/*! DataTables 1.10.25
 * 2008-2021 SpryMedia Ltd - datatables.net/license
 */!function(a){"use strict";n=[i(1)],void 0===(r=function(t){return function(t,e,i,n){var r,a,o,s,l=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new a(t?se(this[r.iApiIndex]):this)},this.fnAddData=function(e,i){var r=this.api(!0),a=Array.isArray(e)&&(Array.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(i===n||i)&&r.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],r=i.oScroll;t===n||t?e.draw(!1):""===r.sX&&""===r.sY||Vt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var r=this.api(!0),a=r.rows(t),o=a.settings()[0],s=o.aoData[a[0][0]];return a.remove(),e&&e.call(this,o,s),(i===n||i)&&r.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,r,a,o){var s=this.api(!0);null===e||e===n?s.search(t,i,r,o):s.column(e).search(t,i,r,o),s.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==r||"th"==r?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var r=this.api(!0).column(t).visible(e);(i===n||i)&&r.columns.adjust().draw()},this.fnSettings=function(){return se(this[r.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,r,a){var o=this.api(!0);return i===n||null===i?o.row(e).data(t):o.cell(e,i).data(t),(a===n||a)&&o.columns.adjust(),(r===n||r)&&o.draw(),0},this.fnVersionCheck=r.fnVersionCheck;var i=this,o=e===n,s=this.length;for(var c in o&&(e={}),this.oApi=this.internal=r.internal,l.ext.internal)c&&(this[c]=Re(c));return this.each((function(){var r,a=s>1?ue({},e,!0):e,c=0,u=this.getAttribute("id"),d=!1,h=l.defaults,p=t(this);if("table"==this.nodeName.toLowerCase()){E(h),P(h.column),D(h,h,!0),D(h.column,h.column,!0),D(h,t.extend(a,p.data()),!0);var f=l.settings;for(c=0,r=f.length;c<r;c++){var m=f[c];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=a.bRetrieve!==n?a.bRetrieve:h.bRetrieve,y=a.bDestroy!==n?a.bDestroy:h.bDestroy;if(o||g)return m.oInstance;if(y){m.oInstance.fnDestroy();break}return void le(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){f.splice(c,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+l.ext._unique++,this.id=u);var v=t.extend(!0,{},l.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:u,sTableId:u});v.nTable=this,v.oApi=i.internal,v.oInit=a,f.push(v),v.oInstance=1===i.length?i:p.dataTable(),E(a),L(a.oLanguage),a.aLengthMenu&&!a.iDisplayLength&&(a.iDisplayLength=Array.isArray(a.aLengthMenu[0])?a.aLengthMenu[0][0]:a.aLengthMenu[0]),a=ue(t.extend(!0,{},h),a),ce(v.oFeatures,a,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ce(v,a,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ce(v.oScroll,a,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ce(v.oLanguage,a,"fnInfoCallback"),he(v,"aoDrawCallback",a.fnDrawCallback,"user"),he(v,"aoServerParams",a.fnServerParams,"user"),he(v,"aoStateSaveParams",a.fnStateSaveParams,"user"),he(v,"aoStateLoadParams",a.fnStateLoadParams,"user"),he(v,"aoStateLoaded",a.fnStateLoaded,"user"),he(v,"aoRowCallback",a.fnRowCallback,"user"),he(v,"aoRowCreatedCallback",a.fnCreatedRow,"user"),he(v,"aoHeaderCallback",a.fnHeaderCallback,"user"),he(v,"aoFooterCallback",a.fnFooterCallback,"user"),he(v,"aoInitComplete",a.fnInitComplete,"user"),he(v,"aoPreDrawCallback",a.fnPreDrawCallback,"user"),v.rowIdFn=K(a.rowId),I(v);var _=v.oClasses;if(t.extend(_,l.ext.classes,a.oClasses),p.addClass(_.sTable),v.iInitDisplayStart===n&&(v.iInitDisplayStart=a.iDisplayStart,v._iDisplayStart=a.iDisplayStart),null!==a.iDeferLoading){v.bDeferLoading=!0;var b=Array.isArray(a.iDeferLoading);v._iRecordsDisplay=b?a.iDeferLoading[0]:a.iDeferLoading,v._iRecordsTotal=b?a.iDeferLoading[1]:a.iDeferLoading}var x=v.oLanguage;t.extend(!0,x,a.oLanguage),x.sUrl?(t.ajax({dataType:"json",url:x.sUrl,success:function(e){L(e),D(h.oLanguage,e),t.extend(!0,x,e),pe(v,null,"i18n",[v]),Ot(v)},error:function(){Ot(v)}}),d=!0):pe(v,null,"i18n",[v]),null===a.asStripeClasses&&(v.asStripeClasses=[_.sStripeOdd,_.sStripeEven]);var w=v.asStripeClasses,k=p.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(w,(function(t,e){return k.hasClass(t)})))&&(t("tbody tr",this).removeClass(w.join(" ")),v.asDestroyStripes=w.slice());var S,T=[],M=this.getElementsByTagName("thead");if(0!==M.length&&(ht(v.aoHeader,M[0]),T=pt(v)),null===a.aoColumns)for(S=[],c=0,r=T.length;c<r;c++)S.push(null);else S=a.aoColumns;for(c=0,r=S.length;c<r;c++)R(v,T?T[c]:null);if(V(v,a.aoColumnDefs,S,(function(t,e){z(v,t,e)})),k.length){var C=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(k[0]).children("th, td").each((function(t,e){var i=v.aoColumns[t];if(i.mData===t){var r=C(e,"sort")||C(e,"order"),a=C(e,"filter")||C(e,"search");null===r&&null===a||(i.mData={_:t+".display",sort:null!==r?t+".@data-"+r:n,type:null!==r?t+".@data-"+r:n,filter:null!==a?t+".@data-"+a:n},z(v,t))}}))}var A=v.oFeatures,O=function(){if(a.aaSorting===n){var e=v.aaSorting;for(c=0,r=e.length;c<r;c++)e[c][1]=v.aoColumns[c].asSorting[0]}ne(v),A.bSort&&he(v,"aoDrawCallback",(function(){if(v.bSorted){var e=Kt(v),i={};t.each(e,(function(t,e){i[e.src]=e.dir})),pe(v,null,"order",[v,e,i]),te(v)}})),he(v,"aoDrawCallback",(function(){(v.bSorted||"ssp"===ge(v)||A.bDeferRender)&&ne(v)}),"sc");var i=p.children("caption").each((function(){this._captionSide=t(this).css("caption-side")})),o=p.children("thead");0===o.length&&(o=t("<thead/>").appendTo(p)),v.nTHead=o[0];var s=p.children("tbody");0===s.length&&(s=t("<tbody/>").insertAfter(o)),v.nTBody=s[0];var l=p.children("tfoot");if(0===l.length&&i.length>0&&(""!==v.oScroll.sX||""!==v.oScroll.sY)&&(l=t("<tfoot/>").appendTo(p)),0===l.length||0===l.children().length?p.addClass(_.sNoFooter):l.length>0&&(v.nTFoot=l[0],ht(v.aoFooter,v.nTFoot)),a.aaData)for(c=0;c<a.aaData.length;c++)W(v,a.aaData[c]);else(v.bDeferLoading||"dom"==ge(v))&&U(v,t(v.nTBody).children("tr"));v.aiDisplay=v.aiDisplayMaster.slice(),v.bInitialised=!0,!1===d&&Ot(v)};a.bStateSave?(A.bStateSave=!0,he(v,"aoDrawCallback",ae,"state_save"),oe(v,a,O)):O()}else le(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),i=null,this},c={},u=/[\r\n\u2028]/g,d=/<.*?>/g,h=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,p=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),f=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,m=function(t){return!t||!0===t||"-"===t},g=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},y=function(t,e){return c[e]||(c[e]=new RegExp(Tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(c[e],"."):t},v=function(t,e,i){var n="string"==typeof t;return!!m(t)||(e&&n&&(t=y(t,e)),i&&n&&(t=t.replace(f,"")),!isNaN(parseFloat(t))&&isFinite(t))},_=function(t,e,i){return!!m(t)||(function(t){return m(t)||"string"==typeof t}(t)&&!!v(S(t),e,i)||null)},b=function(t,e,i){var r=[],a=0,o=t.length;if(i!==n)for(;a<o;a++)t[a]&&t[a][e]&&r.push(t[a][e][i]);else for(;a<o;a++)t[a]&&r.push(t[a][e]);return r},x=function(t,e,i,r){var a=[],o=0,s=e.length;if(r!==n)for(;o<s;o++)t[e[o]][i]&&a.push(t[e[o]][i][r]);else for(;o<s;o++)a.push(t[e[o]][i]);return a},w=function(t,e){var i,r=[];e===n?(e=0,i=t):(i=e,e=t);for(var a=e;a<i;a++)r.push(a);return r},k=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},S=function(t){return t.replace(d,"")},T=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),i=e[0],n=1,r=e.length;n<r;n++){if(e[n]===i)return!1;i=e[n]}return!0}(t))return t.slice();var e,i,n,r=[],a=t.length,o=0;t:for(i=0;i<a;i++){for(e=t[i],n=0;n<o;n++)if(r[n]===e)continue t;r.push(e),o++}return r},M=function(t,e){if(Array.isArray(e))for(var i=0;i<e.length;i++)M(t,e[i]);else t.push(e);return t};Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});function C(e){var i,n,r={};t.each(e,(function(t,a){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&C(e[t]))})),e._hungarianMap=r}function D(e,i,r){var a;e._hungarianMap||C(e),t.each(i,(function(o,s){(a=e._hungarianMap[o])===n||!r&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),t.extend(!0,i[a],i[o]),D(e[a],i[a],r)):i[a]=i[o])}))}function L(t){var e=l.defaults.oLanguage,i=e.sDecimal;if(i&&Ie(i),t){var n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&ce(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&ce(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var r=t.sDecimal;r&&i!==r&&Ie(r)}}l.util={throttle:function(t,e){var i,r,a=e!==n?e:200;return function(){var e=this,o=+new Date,s=arguments;i&&o<i+a?(clearTimeout(r),r=setTimeout((function(){i=n,t.apply(e,s)}),a)):(i=o,t.apply(e,s))}},escapeRegex:function(t){return t.replace(p,"\\$1")}};var A=function(t,e,i){t[e]!==n&&(t[i]=t[e])};function E(t){A(t,"ordering","bSort"),A(t,"orderMulti","bSortMulti"),A(t,"orderClasses","bSortClasses"),A(t,"orderCellsTop","bSortCellsTop"),A(t,"order","aaSorting"),A(t,"orderFixed","aaSortingFixed"),A(t,"paging","bPaginate"),A(t,"pagingType","sPaginationType"),A(t,"pageLength","iDisplayLength"),A(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&D(l.models.oSearch,e[i])}function P(t){A(t,"orderable","bSortable"),A(t,"orderData","aDataSort"),A(t,"orderSequence","asSorting"),A(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||Array.isArray(e)||(t.aDataSort=[e])}function I(i){if(!l.__browser){var n={};l.__browser=n;var r=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),a=r.children(),o=a.children();n.barWidth=a[0].offsetWidth-a[0].clientWidth,n.bScrollOversize=100===o[0].offsetWidth&&100!==a[0].clientWidth,n.bScrollbarLeft=1!==Math.round(o.offset().left),n.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}t.extend(i.oBrowser,l.__browser),i.oScroll.iBarWidth=l.__browser.barWidth}function O(t,e,i,r,a,o){var s,l=r,c=!1;for(i!==n&&(s=i,c=!0);l!==a;)t.hasOwnProperty(l)&&(s=c?e(s,t[l],l,t):t[l],c=!0,l+=o);return s}function R(e,n){var r=l.defaults.column,a=e.aoColumns.length,o=t.extend({},l.models.oColumn,r,{nTh:n||i.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[a],mData:r.mData?r.mData:a,idx:a});e.aoColumns.push(o);var s=e.aoPreSearchCols;s[a]=t.extend({},l.models.oSearch,s[a]),z(e,a,t(n).data())}function z(e,i,r){var a=e.aoColumns[i],o=e.oClasses,s=t(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=s.attr("width")||null;var c=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(a.sWidthOrig=c[1])}r!==n&&null!==r&&(P(r),D(l.defaults.column,r,!0),r.mDataProp===n||r.mData||(r.mData=r.mDataProp),r.sType&&(a._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass),t.extend(a,r),ce(a,r,"sWidth","sWidthOrig"),r.iDataSort!==n&&(a.aDataSort=[r.iDataSort]),ce(a,r,"aDataSort"));var u=a.mData,d=K(u),h=a.mRender?K(a.mRender):null,p=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};a._bAttrSrc=t.isPlainObject(u)&&(p(u.sort)||p(u.type)||p(u.filter)),a._setter=null,a.fnGetData=function(t,e,i){var r=d(t,e,n,i);return h&&e?h(r,e,t,i):r},a.fnSetData=function(t,e,i){return Q(u)(t,e,i)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(a.bSortable=!1,s.addClass(o.sSortableNone));var f=-1!==t.inArray("asc",a.asSorting),m=-1!==t.inArray("desc",a.asSorting);a.bSortable&&(f||m)?f&&!m?(a.sSortingClass=o.sSortableAsc,a.sSortingClassJUI=o.sSortJUIAscAllowed):!f&&m?(a.sSortingClass=o.sSortableDesc,a.sSortingClassJUI=o.sSortJUIDescAllowed):(a.sSortingClass=o.sSortable,a.sSortingClassJUI=o.sSortJUI):(a.sSortingClass=o.sSortableNone,a.sSortingClassJUI="")}function Y(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;$t(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||Vt(t),pe(t,null,"column-sizing",[t])}function F(t,e){var i=B(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function H(e,i){var n=B(e,"bVisible"),r=t.inArray(i,n);return-1!==r?r:null}function N(e){var i=0;return t.each(e.aoColumns,(function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&i++})),i}function B(e,i){var n=[];return t.map(e.aoColumns,(function(t,e){t[i]&&n.push(e)})),n}function j(t){var e,i,r,a,o,s,c,u,d,h=t.aoColumns,p=t.aoData,f=l.ext.type.detect;for(e=0,i=h.length;e<i;e++)if(d=[],!(c=h[e]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(r=0,a=f.length;r<a;r++){for(o=0,s=p.length;o<s&&(d[o]===n&&(d[o]=q(t,o,e,"type")),(u=f[r](d[o],t))||r===f.length-1)&&("html"!==u||m(d[o]));o++);if(u){c.sType=u;break}}c.sType||(c.sType="string")}}function V(e,i,r,a){var o,s,l,c,u,d,h,p=e.aoColumns;if(i)for(o=i.length-1;o>=0;o--){var f=(h=i[o]).targets!==n?h.targets:h.aTargets;for(Array.isArray(f)||(f=[f]),l=0,c=f.length;l<c;l++)if("number"==typeof f[l]&&f[l]>=0){for(;p.length<=f[l];)R(e);a(f[l],h)}else if("number"==typeof f[l]&&f[l]<0)a(p.length+f[l],h);else if("string"==typeof f[l])for(u=0,d=p.length;u<d;u++)("_all"==f[l]||t(p[u].nTh).hasClass(f[l]))&&a(u,h)}if(r)for(o=0,s=r.length;o<s;o++)a(o,r[o])}function W(e,i,r,a){var o=e.aoData.length,s=t.extend(!0,{},l.models.oRow,{src:r?"dom":"data",idx:o});s._aData=i,e.aoData.push(s);for(var c=e.aoColumns,u=0,d=c.length;u<d;u++)c[u].sType=null;e.aiDisplayMaster.push(o);var h=e.rowIdFn(i);return h!==n&&(e.aIds[h]=s),!r&&e.oFeatures.bDeferRender||at(e,o,r,a),o}function U(e,i){var n;return i instanceof t||(i=t(i)),i.map((function(t,i){return n=rt(e,i),W(e,n.data,i,n.cells)}))}function $(e,i,n){return t.inArray(n,e.aoData[i].anCells)}function q(t,e,i,r){var a=t.iDraw,o=t.aoColumns[i],s=t.aoData[e]._aData,l=o.sDefaultContent,c=o.fnGetData(s,r,{settings:t,row:e,col:i});if(c===n)return t.iDrawError!=a&&null===l&&(le(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=a),l;if(c!==s&&null!==c||null===l||r===n){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==r?"":c}function G(t,e,i,n){var r=t.aoColumns[i],a=t.aoData[e]._aData;r.fnSetData(a,n,{settings:t,row:e,col:i})}var X=/\[.*?\]$/,Z=/\(\)$/;function J(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}function K(e){if(t.isPlainObject(e)){var i={};return t.each(e,(function(t,e){e&&(i[t]=K(e))})),function(t,e,r,a){var o=i[e]||i._;return o!==n?o(t,e,r,a):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,r){return e(t,i,n,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){return t[e]};var r=function(t,e,i){var a,o,s,l;if(""!==i)for(var c=J(i),u=0,d=c.length;u<d;u++){if(a=c[u].match(X),o=c[u].match(Z),a){if(c[u]=c[u].replace(X,""),""!==c[u]&&(t=t[c[u]]),s=[],c.splice(0,u+1),l=c.join("."),Array.isArray(t))for(var h=0,p=t.length;h<p;h++)s.push(r(t[h],e,l));var f=a[0].substring(1,a[0].length-1);t=""===f?s:s.join(f);break}if(o)c[u]=c[u].replace(Z,""),t=t[c[u]]();else{if(null===t||t[c[u]]===n)return n;t=t[c[u]]}}return t};return function(t,i){return r(t,i,e)}}function Q(e){if(t.isPlainObject(e))return Q(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var i=function(t,e,r){for(var a,o,s,l,c,u=J(r),d=u[u.length-1],h=0,p=u.length-1;h<p;h++){if("__proto__"===u[h]||"constructor"===u[h])throw new Error("Cannot set prototype values");if(o=u[h].match(X),s=u[h].match(Z),o){if(u[h]=u[h].replace(X,""),t[u[h]]=[],(a=u.slice()).splice(0,h+1),c=a.join("."),Array.isArray(e))for(var f=0,m=e.length;f<m;f++)i(l={},e[f],c),t[u[h]].push(l);else t[u[h]]=e;return}s&&(u[h]=u[h].replace(Z,""),t=t[u[h]](e)),null!==t[u[h]]&&t[u[h]]!==n||(t[u[h]]={}),t=t[u[h]]}d.match(Z)?t=t[d.replace(Z,"")](e):t[d.replace(X,"")]=e};return function(t,n){return i(t,n,e)}}function tt(t){return b(t.aoData,"_aData")}function et(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function it(t,e,i){for(var r=-1,a=0,o=t.length;a<o;a++)t[a]==e?r=a:t[a]>e&&t[a]--;-1!=r&&i===n&&t.splice(r,1)}function nt(t,e,i,r){var a,o,s=t.aoData[e],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=q(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var c=s.anCells;if(c)if(r!==n)l(c[r],r);else for(a=0,o=c.length;a<o;a++)l(c[a],a)}else s._aData=rt(t,s,r,r===n?n:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=t.aoColumns;if(r!==n)u[r].sType=null;else{for(a=0,o=u.length;a<o;a++)u[a].sType=null;ot(t,s)}}function rt(t,e,i,r){var a,o,s,l=[],c=e.firstChild,u=0,d=t.aoColumns,h=t._rowReadObject;r=r!==n?r:h?{}:[];var p=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var n=t.substring(i+1);Q(t)(r,e.getAttribute(n))}}},f=function(t){i!==n&&i!==u||(o=d[u],s=t.innerHTML.trim(),o&&o._bAttrSrc?(Q(o.mData._)(r,s),p(o.mData.sort,t),p(o.mData.type,t),p(o.mData.filter,t)):h?(o._setter||(o._setter=Q(o.mData)),o._setter(r,s)):r[u]=s);u++};if(c)for(;c;)"TD"!=(a=c.nodeName.toUpperCase())&&"TH"!=a||(f(c),l.push(c)),c=c.nextSibling;else for(var m=0,g=(l=e.anCells).length;m<g;m++)f(l[m]);var y=e.firstChild?e:e.nTr;if(y){var v=y.getAttribute("id");v&&Q(t.rowId)(r,v)}return{data:r,cells:l}}function at(e,n,r,a){var o,s,l,c,u,d,h=e.aoData[n],p=h._aData,f=[];if(null===h.nTr){for(o=r||i.createElement("tr"),h.nTr=o,h.anCells=f,o._DT_RowIndex=n,ot(e,h),c=0,u=e.aoColumns.length;c<u;c++)l=e.aoColumns[c],(s=(d=!r)?i.createElement(l.sCellType):a[c])._DT_CellIndex={row:n,column:c},f.push(s),!d&&(!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display")||(s.innerHTML=q(e,n,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?o.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,q(e,n,c),p,n,c);pe(e,"aoRowCreatedCallback",null,[o,p,n,f])}}function ot(e,i){var n=i.nTr,r=i._aData;if(n){var a=e.rowIdFn(r);if(a&&(n.id=a),r.DT_RowClass){var o=r.DT_RowClass.split(" ");i.__rowc=i.__rowc?T(i.__rowc.concat(o)):o,t(n).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&t(n).attr(r.DT_RowAttr),r.DT_RowData&&t(n).data(r.DT_RowData)}}function st(e){var i,n,r,a,o,s=e.nTHead,l=e.nTFoot,c=0===t("th, td",s).length,u=e.oClasses,d=e.aoColumns;for(c&&(a=t("<tr/>").appendTo(s)),i=0,n=d.length;i<n;i++)o=d[i],r=t(o.nTh).addClass(o.sClass),c&&r.appendTo(a),e.oFeatures.bSort&&(r.addClass(o.sSortingClass),!1!==o.bSortable&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),ie(e,o.nTh,i))),o.sTitle!=r[0].innerHTML&&r.html(o.sTitle),me(e,"header")(e,r,o,u);if(c&&ht(e.aoHeader,s),t(s).children("tr").attr("role","row"),t(s).children("tr").children("th, td").addClass(u.sHeaderTH),t(l).children("tr").children("th, td").addClass(u.sFooterTH),null!==l){var h=e.aoFooter[0];for(i=0,n=h.length;i<n;i++)(o=d[i]).nTf=h[i].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}}function lt(e,i,r){var a,o,s,l,c,u,d,h,p,f=[],m=[],g=e.aoColumns.length;if(i){for(r===n&&(r=!1),a=0,o=i.length;a<o;a++){for(f[a]=i[a].slice(),f[a].nTr=i[a].nTr,s=g-1;s>=0;s--)e.aoColumns[s].bVisible||r||f[a].splice(s,1);m.push([])}for(a=0,o=f.length;a<o;a++){if(d=f[a].nTr)for(;u=d.firstChild;)d.removeChild(u);for(s=0,l=f[a].length;s<l;s++)if(h=1,p=1,m[a][s]===n){for(d.appendChild(f[a][s].cell),m[a][s]=1;f[a+h]!==n&&f[a][s].cell==f[a+h][s].cell;)m[a+h][s]=1,h++;for(;f[a][s+p]!==n&&f[a][s].cell==f[a][s+p].cell;){for(c=0;c<h;c++)m[a+c][s+p]=1;p++}t(f[a][s].cell).attr("rowspan",h).attr("colspan",p)}}}}function ct(e,i){var r=pe(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,r)){var a=[],o=0,s=e.asStripeClasses,l=s.length,c=(e.aoOpenRows.length,e.oLanguage),u=e.iInitDisplayStart,d="ssp"==ge(e),h=e.aiDisplay;e.bDrawing=!0,u!==n&&-1!==u&&(e._iDisplayStart=d?u:u>=e.fnRecordsDisplay()?0:u,e.iInitDisplayStart=-1);var p=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Bt(e,!1);else if(d){if(!e.bDestroying&&!i)return void mt(e)}else e.iDraw++;if(0!==h.length)for(var m=d?0:p,g=d?e.aoData.length:f,y=m;y<g;y++){var v=h[y],_=e.aoData[v];null===_.nTr&&at(e,v);var b=_.nTr;if(0!==l){var x=s[o%l];_._sRowStripe!=x&&(t(b).removeClass(_._sRowStripe).addClass(x),_._sRowStripe=x)}pe(e,"aoRowCallback",null,[b,_._aData,o,y,v]),a.push(b),o++}else{var w=c.sZeroRecords;1==e.iDraw&&"ajax"==ge(e)?w=c.sLoadingRecords:c.sEmptyTable&&0===e.fnRecordsTotal()&&(w=c.sEmptyTable),a[0]=t("<tr/>",{class:l?s[0]:""}).append(t("<td />",{valign:"top",colSpan:N(e),class:e.oClasses.sRowEmpty}).html(w))[0]}pe(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],tt(e),p,f,h]),pe(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],tt(e),p,f,h]);var k=t(e.nTBody);k.children().detach(),k.append(t(a)),pe(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else Bt(e,!1)}function ut(t,e){var i=t.oFeatures,n=i.bSort,r=i.bFilter;n&&Qt(t),r?bt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,ct(t),t._drawHold=!1}function dt(e){var i=e.oClasses,n=t(e.nTable),r=t("<div/>").insertBefore(n),a=e.oFeatures,o=t("<div/>",{id:e.sTableId+"_wrapper",class:i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,c,u,d,h,p,f=e.sDom.split(""),m=0;m<f.length;m++){if(s=null,"<"==(c=f[m])){if(u=t("<div/>")[0],"'"==(d=f[m+1])||'"'==d){for(h="",p=2;f[m+p]!=d;)h+=f[m+p],p++;if("H"==h?h=i.sJUIHeader:"F"==h&&(h=i.sJUIFooter),-1!=h.indexOf(".")){var g=h.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==h.charAt(0)?u.id=h.substr(1,h.length-1):u.className=h;m+=p}o.append(u),o=t(u)}else if(">"==c)o=o.parent();else if("l"==c&&a.bPaginate&&a.bLengthChange)s=Yt(e);else if("f"==c&&a.bFilter)s=_t(e);else if("r"==c&&a.bProcessing)s=Nt(e);else if("t"==c)s=jt(e);else if("i"==c&&a.bInfo)s=Et(e);else if("p"==c&&a.bPaginate)s=Ft(e);else if(0!==l.ext.feature.length)for(var y=l.ext.feature,v=0,_=y.length;v<_;v++)if(c==y[v].cFeature){s=y[v].fnInit(e);break}if(s){var b=e.aanFeatures;b[c]||(b[c]=[]),b[c].push(s),o.append(s)}}r.replaceWith(o),e.nHolding=null}function ht(e,i){var n,r,a,o,s,l,c,u,d,h,p=t(i).children("tr"),f=function(t,e,i){for(var n=t[e];n[i];)i++;return i};for(e.splice(0,e.length),a=0,l=p.length;a<l;a++)e.push([]);for(a=0,l=p.length;a<l;a++)for(0,r=(n=p[a]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(u=(u=1*r.getAttribute("colspan"))&&0!==u&&1!==u?u:1,d=(d=1*r.getAttribute("rowspan"))&&0!==d&&1!==d?d:1,c=f(e,a,0),h=1===u,s=0;s<u;s++)for(o=0;o<d;o++)e[a+o][c+s]={cell:r,unique:h},e[a+o].nTr=n;r=r.nextSibling}}function pt(t,e,i){var n=[];i||(i=t.aoHeader,e&&ht(i=[],e));for(var r=0,a=i.length;r<a;r++)for(var o=0,s=i[r].length;o<s;o++)!i[r][o].unique||n[o]&&t.bSortCellsTop||(n[o]=i[r][o].cell);return n}function ft(e,i,n){if(pe(e,"aoServerParams","serverParams",[i]),i&&Array.isArray(i)){var r={},a=/(.*?)\[\]$/;t.each(i,(function(t,e){var i=e.name.match(a);if(i){var n=i[0];r[n]||(r[n]=[]),r[n].push(e.value)}else r[e.name]=e.value})),i=r}var o,s=e.ajax,l=e.oInstance,c=function(t){pe(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(s)&&s.data){var u="function"==typeof(o=s.data)?o(i,e):o;i="function"==typeof o&&u?u:t.extend(!0,i,u),delete s.data}var d={data:i,success:function(t){var i=t.error||t.sError;i&&le(e,0,i),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n,r){var a=pe(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,a)&&("parsererror"==n?le(e,0,"Invalid JSON response",1):4===i.readyState&&le(e,0,"Ajax error",7)),Bt(e,!1)}};e.oAjaxData=i,pe(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,(function(t,e){return{name:e,value:t}})),c,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(d,{url:s||e.sAjaxSource})):"function"==typeof s?e.jqXHR=s.call(l,i,c,e):(e.jqXHR=t.ajax(t.extend(d,s)),s.data=o)}function mt(t){t.iDraw++,Bt(t,!0),ft(t,gt(t),(function(e){yt(t,e)}))}function gt(e){var i,n,r,a,o=e.aoColumns,s=o.length,c=e.oFeatures,u=e.oPreviousSearch,d=e.aoPreSearchCols,h=[],p=Kt(e),f=e._iDisplayStart,m=!1!==c.bPaginate?e._iDisplayLength:-1,g=function(t,e){h.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",s),g("sColumns",b(o,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",m);var y={draw:e.iDraw,columns:[],order:[],start:f,length:m,search:{value:u.sSearch,regex:u.bRegex}};for(i=0;i<s;i++)r=o[i],a=d[i],n="function"==typeof r.mData?"function":r.mData,y.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),g("mDataProp_"+i,n),c.bFilter&&(g("sSearch_"+i,a.sSearch),g("bRegex_"+i,a.bRegex),g("bSearchable_"+i,r.bSearchable)),c.bSort&&g("bSortable_"+i,r.bSortable);c.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),c.bSort&&(t.each(p,(function(t,e){y.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)})),g("iSortingCols",p.length));var v=l.ext.legacy.ajax;return null===v?e.sAjaxSource?h:y:v?h:y}function yt(t,e){var i=function(t,i){return e[t]!==n?e[t]:e[i]},r=vt(t,e),a=i("sEcho","draw"),o=i("iTotalRecords","recordsTotal"),s=i("iTotalDisplayRecords","recordsFiltered");if(a!==n){if(1*a<t.iDraw)return;t.iDraw=1*a}et(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,c=r.length;l<c;l++)W(t,r[l]);t.aiDisplay=t.aiDisplayMaster.slice(),ct(t,!0),t._bInitComplete||Rt(t,e),Bt(t,!1)}function vt(e,i){var r=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?i.aaData||i[r]:""!==r?K(r)(i):i}function _t(e){var n=e.oClasses,r=e.sTableId,a=e.oLanguage,o=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=a.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=t("<div/>",{id:s.f?null:r+"_filter",class:n.sFilter}).append(t("<label/>").append(c)),d=function(){s.f;var t=this.value?this.value:"";t!=o.sSearch&&(bt(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,ct(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===ge(e)?400:0,p=t("input",u).val(o.sSearch).attr("placeholder",a.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?qt(d,h):d).on("mouseup",(function(t){setTimeout((function(){d.call(p[0])}),10)})).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",(function(t,n){if(e===n)try{p[0]!==i.activeElement&&p.val(o.sSearch)}catch(t){}})),u[0]}function bt(t,e,i){var r=t.oPreviousSearch,a=t.aoPreSearchCols,o=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(j(t),"ssp"!=ge(t)){kt(t,e.sSearch,i,s(e),e.bSmart,e.bCaseInsensitive),o(e);for(var l=0;l<a.length;l++)wt(t,a[l].sSearch,l,s(a[l]),a[l].bSmart,a[l].bCaseInsensitive);xt(t)}else o(e);t.bFiltered=!0,pe(t,null,"search",[t])}function xt(e){for(var i,n,r=l.ext.search,a=e.aiDisplay,o=0,s=r.length;o<s;o++){for(var c=[],u=0,d=a.length;u<d;u++)n=a[u],i=e.aoData[n],r[o](e,i._aFilterData,n,i._aData,u)&&c.push(n);a.length=0,t.merge(a,c)}}function wt(t,e,i,n,r,a){if(""!==e){for(var o,s=[],l=t.aiDisplay,c=St(e,n,r,a),u=0;u<l.length;u++)o=t.aoData[l[u]]._aFilterData[i],c.test(o)&&s.push(l[u]);t.aiDisplay=s}}function kt(t,e,i,n,r,a){var o,s,c,u=St(e,n,r,a),d=t.oPreviousSearch.sSearch,h=t.aiDisplayMaster,p=[];if(0!==l.ext.search.length&&(i=!0),s=Dt(t),e.length<=0)t.aiDisplay=h.slice();else{for((s||i||n||d.length>e.length||0!==e.indexOf(d)||t.bSorted)&&(t.aiDisplay=h.slice()),o=t.aiDisplay,c=0;c<o.length;c++)u.test(t.aoData[o[c]]._sFilterRow)&&p.push(o[c]);t.aiDisplay=p}}function St(e,i,n,r){if(e=i?e:Tt(e),n){var a=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}));e="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(e,r?"i":"")}var Tt=l.util.escapeRegex,Mt=t("<div>")[0],Ct=Mt.textContent!==n;function Dt(t){var e,i,n,r,a,o,s,c,u=t.aoColumns,d=l.ext.type.search,h=!1;for(i=0,r=t.aoData.length;i<r;i++)if(!(c=t.aoData[i])._aFilterData){for(o=[],n=0,a=u.length;n<a;n++)(e=u[n]).bSearchable?(s=q(t,i,n,"filter"),d[e.sType]&&(s=d[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Mt.innerHTML=s,s=Ct?Mt.textContent:Mt.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),o.push(s);c._aFilterData=o,c._sFilterRow=o.join("  "),h=!0}return h}function Lt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function At(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function Et(e){var i=e.sTableId,n=e.aanFeatures.i,r=t("<div/>",{class:e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:Pt,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),r[0]}function Pt(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,r=e._iDisplayStart+1,a=e.fnDisplayEnd(),o=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?n.sInfo:n.sInfoEmpty;s!==o&&(l+=" "+n.sInfoFiltered),l=It(e,l+=n.sInfoPostFix);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,r,a,o,s,l)),t(i).html(l)}}function It(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,r=t._iDisplayLength,a=t.fnRecordsDisplay(),o=-1===r;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,a)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(a/r)))}function Ot(t){var e,i,n,r=t.iInitDisplayStart,a=t.aoColumns,o=t.oFeatures,s=t.bDeferLoading;if(t.bInitialised){for(dt(t),st(t),lt(t,t.aoHeader),lt(t,t.aoFooter),Bt(t,!0),o.bAutoWidth&&$t(t),e=0,i=a.length;e<i;e++)(n=a[e]).sWidth&&(n.nTh.style.width=Jt(n.sWidth));pe(t,null,"preInit",[t]),ut(t);var l=ge(t);("ssp"!=l||s)&&("ajax"==l?ft(t,[],(function(i){var n=vt(t,i);for(e=0;e<n.length;e++)W(t,n[e]);t.iInitDisplayStart=r,ut(t),Bt(t,!1),Rt(t,i)})):(Bt(t,!1),Rt(t)))}else setTimeout((function(){Ot(t)}),200)}function Rt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&Y(t),pe(t,null,"plugin-init",[t,e]),pe(t,"aoInitComplete","init",[t,e])}function zt(t,e){var i=parseInt(e,10);t._iDisplayLength=i,fe(t),pe(t,null,"length",[t,i])}function Yt(e){for(var i=e.oClasses,n=e.sTableId,r=e.aLengthMenu,a=Array.isArray(r[0]),o=a?r[0]:r,s=a?r[1]:r,l=t("<select/>",{name:n+"_length","aria-controls":n,class:i.sLengthSelect}),c=0,u=o.length;c<u;c++)l[0][c]=new Option("number"==typeof s[c]?e.fnFormatNumber(s[c]):s[c],o[c]);var d=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(d[0].id=n+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",d).val(e._iDisplayLength).on("change.DT",(function(i){zt(e,t(this).val()),ct(e)})),t(e.nTable).on("length.dt.DT",(function(i,n,r){e===n&&t("select",d).val(r)})),d[0]}function Ft(e){var i=e.sPaginationType,n=l.ext.pager[i],r="function"==typeof n,a=function(t){ct(t)},o=t("<div/>").addClass(e.oClasses.sPaging+i)[0],s=e.aanFeatures;return r||n.fnInit(e,o,a),s.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,i,o=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(o/l),h=u?1:Math.ceil(c/l),p=n(d,h);for(e=0,i=s.p.length;e<i;e++)me(t,"pageButton")(t,s.p[e],e,p,d,h)}else n.fnUpdate(t,a)},sName:"pagination"})),o}function Ht(t,e,i){var n=t._iDisplayStart,r=t._iDisplayLength,a=t.fnRecordsDisplay();0===a||-1===r?n=0:"number"==typeof e?(n=e*r)>a&&(n=0):"first"==e?n=0:"previous"==e?(n=r>=0?n-r:0)<0&&(n=0):"next"==e?n+r<a&&(n+=r):"last"==e?n=Math.floor((a-1)/r)*r:le(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==n;return t._iDisplayStart=n,o&&(pe(t,null,"page",[t]),i&&ct(t)),o}function Nt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function Bt(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),pe(e,null,"processing",[e,i])}function jt(e){var i=t(e.nTable);i.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var r=n.sX,a=n.sY,o=e.oClasses,s=i.children("caption"),l=s.length?s[0]._captionSide:null,c=t(i[0].cloneNode(!1)),u=t(i[0].cloneNode(!1)),d=i.children("tfoot"),h="<div/>",p=function(t){return t?Jt(t):null};d.length||(d=null);var f=t(h,{class:o.sScrollWrapper}).append(t(h,{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?p(r):"100%"}).append(t(h,{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(i.children("thead"))))).append(t(h,{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:p(r)}).append(i));d&&f.append(t(h,{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:r?p(r):"100%"}).append(t(h,{class:o.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(i.children("tfoot")))));var m=f.children(),g=m[0],y=m[1],v=d?m[2]:null;return r&&t(y).on("scroll.DT",(function(t){var e=this.scrollLeft;g.scrollLeft=e,d&&(v.scrollLeft=e)})),t(y).css("max-height",a),n.bCollapse||t(y).css("height",a),e.nScrollHead=g,e.nScrollBody=y,e.nScrollFoot=v,e.aoDrawCallback.push({fn:Vt,sName:"scrolling"}),f[0]}function Vt(e){var i,r,a,o,s,l,c,u,d,h=e.oScroll,p=h.sX,f=h.sXInner,m=h.sY,g=h.iBarWidth,y=t(e.nScrollHead),v=y[0].style,_=y.children("div"),x=_[0].style,w=_.children("table"),k=e.nScrollBody,S=t(k),T=k.style,M=t(e.nScrollFoot).children("div"),C=M.children("table"),D=t(e.nTHead),L=t(e.nTable),A=L[0],E=A.style,P=e.nTFoot?t(e.nTFoot):null,I=e.oBrowser,O=I.bScrollOversize,R=b(e.aoColumns,"nTh"),z=[],H=[],N=[],B=[],j=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},V=k.scrollHeight>k.clientHeight;if(e.scrollBarVis!==V&&e.scrollBarVis!==n)return e.scrollBarVis=V,void Y(e);e.scrollBarVis=V,L.children("thead, tfoot").remove(),P&&(l=P.clone().prependTo(L),r=P.find("tr"),o=l.find("tr")),s=D.clone().prependTo(L),i=D.find("tr"),a=s.find("tr"),s.find("th, td").removeAttr("tabindex"),p||(T.width="100%",y[0].style.width="100%"),t.each(pt(e,s),(function(t,i){c=F(e,t),i.style.width=e.aoColumns[c].sWidth})),P&&Wt((function(t){t.style.width=""}),o),d=L.outerWidth(),""===p?(E.width="100%",O&&(L.find("tbody").height()>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(E.width=Jt(L.outerWidth()-g)),d=L.outerWidth()):""!==f&&(E.width=Jt(f),d=L.outerWidth()),Wt(j,a),Wt((function(e){N.push(e.innerHTML),z.push(Jt(t(e).css("width")))}),a),Wt((function(e,i){-1!==t.inArray(e,R)&&(e.style.width=z[i])}),i),t(a).height(0),P&&(Wt(j,o),Wt((function(e){B.push(e.innerHTML),H.push(Jt(t(e).css("width")))}),o),Wt((function(t,e){t.style.width=H[e]}),r),t(o).height(0)),Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+N[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=z[e]}),a),P&&Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+B[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=H[e]}),o),L.outerWidth()<d?(u=k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y")?d+g:d,O&&(k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(E.width=Jt(u-g)),""!==p&&""===f||le(e,1,"Possible column misalignment",6)):u="100%",T.width=Jt(u),v.width=Jt(u),P&&(e.nScrollFoot.style.width=Jt(u)),m||O&&(T.height=Jt(A.offsetHeight+g));var W=L.outerWidth();w[0].style.width=Jt(W),x.width=Jt(W);var U=L.height()>k.clientHeight||"scroll"==S.css("overflow-y"),$="padding"+(I.bScrollbarLeft?"Left":"Right");x[$]=U?g+"px":"0px",P&&(C[0].style.width=Jt(W),M[0].style.width=Jt(W),M[0].style[$]=U?g+"px":"0px"),L.children("colgroup").insertBefore(L.children("thead")),S.trigger("scroll"),!e.bSorted&&!e.bFiltered||e._drawHold||(k.scrollTop=0)}function Wt(t,e,i){for(var n,r,a=0,o=0,s=e.length;o<s;){for(n=e[o].firstChild,r=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,r,a):t(n,a),a++),n=n.nextSibling,r=i?r.nextSibling:null;o++}}var Ut=/<.*?>/g;function $t(i){var n,r,a,o=i.nTable,s=i.aoColumns,l=i.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=s.length,p=B(i,"bVisible"),f=t("th",i.nTHead),m=o.getAttribute("width"),g=o.parentNode,y=!1,v=i.oBrowser,_=v.bScrollOversize,b=o.style.width;for(b&&-1!==b.indexOf("%")&&(m=b),n=0;n<p.length;n++)null!==(r=s[p[n]]).sWidth&&(r.sWidth=Gt(r.sWidthOrig,g),y=!0);if(_||!y&&!u&&!c&&h==N(i)&&h==f.length)for(n=0;n<h;n++){var x=F(i,n);null!==x&&(s[x].sWidth=Jt(f.eq(n).width()))}else{var w=t(o).clone().css("visibility","hidden").removeAttr("id");w.find("tbody tr").remove();var k=t("<tr/>").appendTo(w.find("tbody"));for(w.find("thead, tfoot").remove(),w.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),w.find("tfoot th, tfoot td").css("width",""),f=pt(i,w.find("thead")[0]),n=0;n<p.length;n++)r=s[p[n]],f[n].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?Jt(r.sWidthOrig):"",r.sWidthOrig&&u&&t(f[n]).append(t("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<p.length;n++)r=s[a=p[n]],t(Xt(i,a)).clone(!1).append(r.sContentPadding).appendTo(k);t("[name]",w).removeAttr("name");var S=t("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(w).appendTo(g);u&&d?w.width(d):u?(w.css("width","auto"),w.removeAttr("width"),w.width()<g.clientWidth&&m&&w.width(g.clientWidth)):c?w.width(g.clientWidth):m&&w.width(m);var T=0;for(n=0;n<p.length;n++){var M=t(f[n]),C=M.outerWidth()-M.width(),D=v.bBounding?Math.ceil(f[n].getBoundingClientRect().width):M.outerWidth();T+=D,s[p[n]].sWidth=Jt(D-C)}o.style.width=Jt(T),S.remove()}if(m&&(o.style.width=Jt(m)),(m||u)&&!i._reszEvt){var L=function(){t(e).on("resize.DT-"+i.sInstance,qt((function(){Y(i)})))};_?setTimeout(L,1e3):L(),i._reszEvt=!0}}var qt=l.util.throttle;function Gt(e,n){if(!e)return 0;var r=t("<div/>").css("width",Jt(e)).appendTo(n||i.body),a=r[0].offsetWidth;return r.remove(),a}function Xt(e,i){var n=Zt(e,i);if(n<0)return null;var r=e.aoData[n];return r.nTr?r.anCells[i]:t("<td/>").html(q(e,n,i,"display"))[0]}function Zt(t,e){for(var i,n=-1,r=-1,a=0,o=t.aoData.length;a<o;a++)(i=(i=(i=q(t,a,e,"display")+"").replace(Ut,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,r=a);return r}function Jt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Kt(e){var i,r,a,o,s,c,u,d=[],h=e.aoColumns,p=e.aaSortingFixed,f=t.isPlainObject(p),m=[],g=function(e){e.length&&!Array.isArray(e[0])?m.push(e):t.merge(m,e)};for(Array.isArray(p)&&g(p),f&&p.pre&&g(p.pre),g(e.aaSorting),f&&p.post&&g(p.post),i=0;i<m.length;i++)for(r=0,a=(o=h[u=m[i][0]].aDataSort).length;r<a;r++)c=h[s=o[r]].sType||"string",m[i]._idx===n&&(m[i]._idx=t.inArray(m[i][1],h[s].asSorting)),d.push({src:u,col:s,dir:m[i][1],index:m[i]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return d}function Qt(t){var e,i,n,r,a,o=[],s=l.ext.type.order,c=t.aoData,u=(t.aoColumns,0),d=t.aiDisplayMaster;for(j(t),e=0,i=(a=Kt(t)).length;e<i;e++)(r=a[e]).formatter&&u++,re(t,r.col);if("ssp"!=ge(t)&&0!==a.length){for(e=0,n=d.length;e<n;e++)o[d[e]]=e;u===a.length?d.sort((function(t,e){var i,n,r,s,l,u=a.length,d=c[t]._aSortData,h=c[e]._aSortData;for(r=0;r<u;r++)if(0!==(s=(i=d[(l=a[r]).col])<(n=h[l.col])?-1:i>n?1:0))return"asc"===l.dir?s:-s;return(i=o[t])<(n=o[e])?-1:i>n?1:0})):d.sort((function(t,e){var i,n,r,l,u,d=a.length,h=c[t]._aSortData,p=c[e]._aSortData;for(r=0;r<d;r++)if(i=h[(u=a[r]).col],n=p[u.col],0!==(l=(s[u.type+"-"+u.dir]||s["string-"+u.dir])(i,n)))return l;return(i=o[t])<(n=o[e])?-1:i>n?1:0}))}t.bSorted=!0}function te(t){for(var e,i,n=t.aoColumns,r=Kt(t),a=t.oLanguage.oAria,o=0,s=n.length;o<s;o++){var l=n[o],c=l.asSorting,u=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==o?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=c[r[0].index+1]||c[0]):i=c[0],e=u+("asc"===i?a.sSortAscending:a.sSortDescending)):e=u,d.setAttribute("aria-label",e)}}function ee(e,i,r,a){var o,s=e.aoColumns[i],l=e.aaSorting,c=s.asSorting,u=function(e,i){var r=e._idx;return r===n&&(r=t.inArray(e[1],c)),r+1<c.length?r+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var d=t.inArray(i,b(l,"0"));-1!==d?(null===(o=u(l[d],!0))&&1===l.length&&(o=0),null===o?l.splice(d,1):(l[d][1]=c[o],l[d]._idx=o)):(l.push([i,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(o=u(l[0]),l.length=1,l[0][1]=c[o],l[0]._idx=o):(l.length=0,l.push([i,c[0]]),l[0]._idx=0);ut(e),"function"==typeof a&&a(e)}function ie(t,e,i,n){var r=t.aoColumns[i];de(e,{},(function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(Bt(t,!0),setTimeout((function(){ee(t,i,e.shiftKey,n),"ssp"!==ge(t)&&Bt(t,!1)}),0)):ee(t,i,e.shiftKey,n))}))}function ne(e){var i,n,r,a=e.aLastSort,o=e.oClasses.sSortColumn,s=Kt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=a.length;i<n;i++)r=a[i].src,t(b(e.aoData,"anCells",r)).removeClass(o+(i<2?i+1:3));for(i=0,n=s.length;i<n;i++)r=s[i].src,t(b(e.aoData,"anCells",r)).addClass(o+(i<2?i+1:3))}e.aLastSort=s}function re(t,e){var i,n,r,a=t.aoColumns[e],o=l.ext.order[a.sSortDataType];o&&(i=o.call(t.oInstance,t,e,H(t,e)));for(var s=l.ext.type.order[a.sType+"-pre"],c=0,u=t.aoData.length;c<u;c++)(n=t.aoData[c])._aSortData||(n._aSortData=[]),n._aSortData[e]&&!o||(r=o?i[c]:q(t,c,e,"sort"),n._aSortData[e]=s?s(r):r)}function ae(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:Lt(e.oPreviousSearch),columns:t.map(e.aoColumns,(function(t,i){return{visible:t.bVisible,search:Lt(e.aoPreSearchCols[i])}}))};pe(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function oe(e,i,r){var a,o,s=e.aoColumns,l=function(i){if(i&&i.time){var l=pe(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1===t.inArray(!1,l)){var c=e.iStateDuration;if(c>0&&i.time<+new Date-1e3*c)r();else if(i.columns&&s.length!==i.columns.length)r();else{if(e.oLoadedState=t.extend(!0,{},i),i.start!==n&&(e._iDisplayStart=i.start,e.iInitDisplayStart=i.start),i.length!==n&&(e._iDisplayLength=i.length),i.order!==n&&(e.aaSorting=[],t.each(i.order,(function(t,i){e.aaSorting.push(i[0]>=s.length?[0,i[1]]:i)}))),i.search!==n&&t.extend(e.oPreviousSearch,At(i.search)),i.columns)for(a=0,o=i.columns.length;a<o;a++){var u=i.columns[a];u.visible!==n&&(s[a].bVisible=u.visible),u.search!==n&&t.extend(e.aoPreSearchCols[a],At(u.search))}pe(e,"aoStateLoaded","stateLoaded",[e,i]),r()}}else r()}else r()};if(e.oFeatures.bStateSave){var c=e.fnStateLoadCallback.call(e.oInstance,e,l);c!==n&&l(c)}else r()}function se(e){var i=l.settings,n=t.inArray(e,b(i,"nTable"));return-1!==n?i[n]:null}function le(t,i,n,r){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,r&&(n+=". For more information about this error, please see http://datatables.net/tn/"+r),i)e.console&&console.log&&console.log(n);else{var a=l.ext,o=a.sErrMode||a.errMode;if(t&&pe(t,null,"error",[t,r,n]),"alert"==o)alert(n);else{if("throw"==o)throw new Error(n);"function"==typeof o&&o(t,r,n)}}}function ce(e,i,r,a){Array.isArray(r)?t.each(r,(function(t,n){Array.isArray(n)?ce(e,i,n[0],n[1]):ce(e,i,n)})):(a===n&&(a=r),i[r]!==n&&(e[a]=i[r]))}function ue(e,i,n){var r;for(var a in i)i.hasOwnProperty(a)&&(r=i[a],t.isPlainObject(r)?(t.isPlainObject(e[a])||(e[a]={}),t.extend(!0,e[a],r)):n&&"data"!==a&&"aaData"!==a&&Array.isArray(r)?e[a]=r.slice():e[a]=r);return e}function de(e,i,n){t(e).on("click.DT",i,(function(i){t(e).trigger("blur"),n(i)})).on("keypress.DT",i,(function(t){13===t.which&&(t.preventDefault(),n(t))})).on("selectstart.DT",(function(){return!1}))}function he(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function pe(e,i,n,r){var a=[];if(i&&(a=t.map(e[i].slice().reverse(),(function(t,i){return t.fn.apply(e.oInstance,r)}))),null!==n){var o=t.Event(n+".dt");t(e.nTable).trigger(o,r),a.push(o.result)}return a}function fe(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function me(e,i){var n=e.renderer,r=l.ext.renderer[i];return t.isPlainObject(n)&&n[i]?r[n[i]]||r._:"string"==typeof n&&r[n]||r._}function ge(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var ye=[],ve=Array.prototype;a=function(e,i){if(!(this instanceof a))return new a(e,i);var n=[],r=function(e){var i=function(e){var i,n,r=l.settings,a=t.map(r,(function(t,e){return t.nTable}));return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(i=t.inArray(e,a))?[r[i]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map((function(e){return-1!==(i=t.inArray(this,a))?r[i]:null})).toArray():void 0):[]}(e);i&&n.push.apply(n,i)};if(Array.isArray(e))for(var o=0,s=e.length;o<s;o++)r(e[o]);else r(e);this.context=T(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},a.extend(this,this,ye)},l.Api=a,t.extend(a.prototype,{any:function(){return 0!==this.count()},concat:ve.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new a(e[t],this[t]):null},filter:function(t){var e=[];if(ve.filter)e=ve.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new a(this.context,e)},flatten:function(){var t=[];return new a(this.context,t.concat.apply(t,this.toArray()))},join:ve.join,indexOf:ve.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,r){var o,s,l,c,u,d,h,p,f=[],m=this.context,g=this.selector;for("string"==typeof t&&(r=i,i=e,e=t,t=!1),s=0,l=m.length;s<l;s++){var y=new a(m[s]);if("table"===e)(o=i.call(y,m[s],s))!==n&&f.push(o);else if("columns"===e||"rows"===e)(o=i.call(y,m[s],this[s],s))!==n&&f.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[s],"column-rows"===e&&(d=Se(m[s],g.opts)),c=0,u=h.length;c<u;c++)p=h[c],(o="cell"===e?i.call(y,m[s],p.row,p.column,s,c):i.call(y,m[s],p,s,c,d))!==n&&f.push(o)}if(f.length||r){var v=new a(m,t?f.concat.apply([],f):f),_=v.selector;return _.rows=g.rows,_.cols=g.cols,_.opts=g.opts,v}return this},lastIndexOf:ve.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ve.map)e=ve.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new a(this.context,e)},pluck:function(t){return this.map((function(e){return e[t]}))},pop:ve.pop,push:ve.push,reduce:ve.reduce||function(t,e){return O(this,t,e,0,this.length,1)},reduceRight:ve.reduceRight||function(t,e){return O(this,t,e,this.length-1,-1,-1)},reverse:ve.reverse,selector:null,shift:ve.shift,slice:function(){return new a(this.context,this)},sort:ve.sort,splice:ve.splice,toArray:function(){return ve.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new a(this.context,T(this))},unshift:ve.unshift}),a.extend=function(t,e,i){if(i.length&&e&&(e instanceof a||e.__dt_wrapper)){var n,r,o,s=function(t,e,i){return function(){var n=e.apply(t,arguments);return a.extend(n,n,i.methodExt),n}};for(n=0,r=i.length;n<r;n++)e[(o=i[n]).name]="function"===o.type?s(t,o.val,o):"object"===o.type?{}:o.val,e[o.name].__dt_wrapper=!0,a.extend(t,e[o.name],o.propExt)}},a.register=o=function(e,i){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)a.register(e[n],i);else{var o,s,l,c,u=e.split("."),d=ye,h=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null};for(o=0,s=u.length;o<s;o++){var p=h(d,l=(c=-1!==u[o].indexOf("()"))?u[o].replace("()",""):u[o]);p||(p={name:l,val:{},methodExt:[],propExt:[],type:"object"},d.push(p)),o===s-1?(p.val=i,p.type="function"==typeof i?"function":t.isPlainObject(i)?"object":"other"):d=c?p.methodExt:p.propExt}}},a.registerPlural=s=function(t,e,i){a.register(t,i),a.register(e,(function(){var t=i.apply(this,arguments);return t===this?this:t instanceof a?t.length?Array.isArray(t[0])?new a(t.context,t[0]):t[0]:n:t}))};var _e=function(e,i){if(Array.isArray(e))return t.map(e,(function(t){return _e(t,i)}));if("number"==typeof e)return[i[e]];var n=t.map(i,(function(t,e){return t.nTable}));return t(n).filter(e).map((function(e){var r=t.inArray(this,n);return i[r]})).toArray()};o("tables()",(function(t){return t!==n&&null!==t?new a(_e(t,this.context)):this})),o("table()",(function(t){var e=this.tables(t),i=e.context;return i.length?new a(i[0]):e})),s("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),s("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),s("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),s("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),s("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),o("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?ct(e):("string"==typeof t&&(t="full-hold"!==t),ut(e,!1===t))}))})),o("page()",(function(t){return t===n?this.page.info().page:this.iterator("table",(function(e){Ht(e,t)}))})),o("page.info()",(function(t){if(0===this.context.length)return n;var e=this.context[0],i=e._iDisplayStart,r=e.oFeatures.bPaginate?e._iDisplayLength:-1,a=e.fnRecordsDisplay(),o=-1===r;return{page:o?0:Math.floor(i/r),pages:o?1:Math.ceil(a/r),start:i,end:e.fnDisplayEnd(),length:r,recordsTotal:e.fnRecordsTotal(),recordsDisplay:a,serverSide:"ssp"===ge(e)}})),o("page.len()",(function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",(function(e){zt(e,t)}))}));var be=function(t,e,i){if(i){var n=new a(t);n.one("draw",(function(){i(n.ajax.json())}))}if("ssp"==ge(t))ut(t,e);else{Bt(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),ft(t,[],(function(i){et(t);for(var n=vt(t,i),r=0,a=n.length;r<a;r++)W(t,n[r]);ut(t,e),Bt(t,!1)}))}};o("ajax.json()",(function(){var t=this.context;if(t.length>0)return t[0].json})),o("ajax.params()",(function(){var t=this.context;if(t.length>0)return t[0].oAjaxData})),o("ajax.reload()",(function(t,e){return this.iterator("table",(function(i){be(i,!1===e,t)}))})),o("ajax.url()",(function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0]).ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource:this.iterator("table",(function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e}))})),o("ajax.url().load()",(function(t,e){return this.iterator("table",(function(i){be(i,!1===e,t)}))}));var xe=function(t,e,i,a,o){var s,l,c,u,d,h,p=[],f=typeof e;for(e&&"string"!==f&&"function"!==f&&e.length!==n||(e=[e]),c=0,u=e.length;c<u;c++)for(d=0,h=(l=e[c]&&e[c].split&&!e[c].match(/[\[\(:]/)?e[c].split(","):[e[c]]).length;d<h;d++)(s=i("string"==typeof l[d]?l[d].trim():l[d]))&&s.length&&(p=p.concat(s));var m=r.selector[t];if(m.length)for(c=0,u=m.length;c<u;c++)p=m[c](a,o,p);return T(p)},we=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},ke=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Se=function(e,i){var n,r=[],a=e.aiDisplay,o=e.aiDisplayMaster,s=i.search,l=i.order,c=i.page;if("ssp"==ge(e))return"removed"===s?[]:w(0,o.length);if("current"==c)for(d=e._iDisplayStart,h=e.fnDisplayEnd();d<h;d++)r.push(a[d]);else if("current"==l||"applied"==l){if("none"==s)r=o.slice();else if("applied"==s)r=a.slice();else if("removed"==s){for(var u={},d=0,h=a.length;d<h;d++)u[a[d]]=null;r=t.map(o,(function(t){return u.hasOwnProperty(t)?null:t}))}}else if("index"==l||"original"==l)for(d=0,h=e.aoData.length;d<h;d++)("none"==s||-1===(n=t.inArray(d,a))&&"removed"==s||n>=0&&"applied"==s)&&r.push(d);return r};o("rows()",(function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=we(i);var r=this.iterator("table",(function(r){return function(e,i,r){var a;return xe("row",i,(function(i){var o=g(i),s=e.aoData;if(null!==o&&!r)return[o];if(a||(a=Se(e,r)),null!==o&&-1!==t.inArray(o,a))return[o];if(null===i||i===n||""===i)return a;if("function"==typeof i)return t.map(a,(function(t){var e=s[t];return i(t,e._aData,e.nTr)?t:null}));if(i.nodeName){var l=i._DT_RowIndex,c=i._DT_CellIndex;if(l!==n)return s[l]&&s[l].nTr===i?[l]:[];if(c)return s[c.row]&&s[c.row].nTr===i.parentNode?[c.row]:[];var u=t(i).closest("*[data-dt-row]");return u.length?[u.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var d=e.aIds[i.replace(/^#/,"")];if(d!==n)return[d.idx]}var h=k(x(e.aoData,a,"nTr"));return t(h).filter(i).map((function(){return this._DT_RowIndex})).toArray()}),e,r)}(r,e,i)}),1);return r.selector.rows=e,r.selector.opts=i,r})),o("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||n}),1)})),o("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return x(t.aoData,e,"_aData")}),1)})),s("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData}),1)})),s("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,i){nt(e,i,t)}))})),s("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),s("rows().ids()","row().id()",(function(t){for(var e=[],i=this.context,n=0,r=i.length;n<r;n++)for(var o=0,s=this[n].length;o<s;o++){var l=i[n].rowIdFn(i[n].aoData[this[n][o]]._aData);e.push((!0===t?"#":"")+l)}return new a(i,e)})),s("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,i,r){var a,o,s,l,c,u,d=e.aoData,h=d[i];for(d.splice(i,1),a=0,o=d.length;a<o;a++)if(u=(c=d[a]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=a),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=a;it(e.aiDisplayMaster,i),it(e.aiDisplay,i),it(t[r],i,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,fe(e);var p=e.rowIdFn(h._aData);p!==n&&delete e.aIds[p]})),this.iterator("table",(function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e})),this})),o("rows.add()",(function(e){var i=this.iterator("table",(function(t){var i,n,r,a=[];for(n=0,r=e.length;n<r;n++)(i=e[n]).nodeName&&"TR"===i.nodeName.toUpperCase()?a.push(U(t,i)[0]):a.push(W(t,i));return a}),1),n=this.rows(-1);return n.pop(),t.merge(n,i),n})),o("row()",(function(t,e){return ke(this.rows(t,e))})),o("row().data()",(function(t){var e=this.context;if(t===n)return e.length&&this.length?e[0].aoData[this[0]]._aData:n;var i=e[0].aoData[this[0]];return i._aData=t,Array.isArray(t)&&i.nTr&&i.nTr.id&&Q(e[0].rowId)(t,i.nTr.id),nt(e[0],this[0],"data"),this})),o("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),o("row.add()",(function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",(function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?U(t,e)[0]:W(t,e)}));return this.row(i[0])}));var Te=function(t,e){var i=t.context;if(i.length){var r=i[0].aoData[e!==n?e:t[0]];r&&r._details&&(r._details.remove(),r._detailsShow=n,r._details=n)}},Me=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.detach(),Ce(i[0]))}},Ce=function(t){var e=new a(t),i=t.aoData;e.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),b(i,"_details").length>0&&(e.on("draw.dt.DT_details",(function(n,r){t===r&&e.rows({page:"current"}).eq(0).each((function(t){var e=i[t];e._detailsShow&&e._details.insertAfter(e.nTr)}))})),e.on("column-visibility.dt.DT_details",(function(e,n,r,a){if(t===n)for(var o,s=N(n),l=0,c=i.length;l<c;l++)(o=i[l])._details&&o._details.children("td[colspan]").attr("colspan",s)})),e.on("destroy.dt.DT_details",(function(n,r){if(t===r)for(var a=0,o=i.length;a<o;a++)i[a]._details&&Te(e,a)})))};o("row().child()",(function(e,i){var r=this.context;return e===n?r.length&&this.length?r[0].aoData[this[0]]._details:n:(!0===e?this.child.show():!1===e?Te(this):r.length&&this.length&&function(e,i,n,r){var a=[],o=function(i,n){if(Array.isArray(i)||i instanceof t)for(var r=0,s=i.length;r<s;r++)o(i[r],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())a.push(i);else{var l=t("<tr><td></td></tr>").addClass(n);t("td",l).addClass(n).html(i)[0].colSpan=N(e),a.push(l[0])}};o(n,r),i._details&&i._details.detach(),i._details=t(a),i._detailsShow&&i._details.insertAfter(i.nTr)}(r[0],r[0].aoData[this[0]],e,i),this)})),o(["row().child.show()","row().child().show()"],(function(t){return Me(this,!0),this})),o(["row().child.hide()","row().child().hide()"],(function(){return Me(this,!1),this})),o(["row().child.remove()","row().child().remove()"],(function(){return Te(this),this})),o("row().child.isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var De=/^([^:]+):(name|visIdx|visible)$/,Le=function(t,e,i,n,r){for(var a=[],o=0,s=r.length;o<s;o++)a.push(q(t,r[o],e));return a};o("columns()",(function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=we(i);var r=this.iterator("table",(function(n){return function(e,i,n){var r=e.aoColumns,a=b(r,"sName"),o=b(r,"nTh");return xe("column",i,(function(i){var s=g(i);if(""===i)return w(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof i){var l=Se(e,n);return t.map(r,(function(t,n){return i(n,Le(e,n,0,0,l),o[n])?n:null}))}var c="string"==typeof i?i.match(De):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=t.map(r,(function(t,e){return t.bVisible?e:null}));return[d[d.length+u]]}return[F(e,u)];case"name":return t.map(a,(function(t,e){return t===c[1]?e:null}));default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var h=t(o).filter(i).map((function(){return t.inArray(this,o)})).toArray();if(h.length||!i.nodeName)return h;var p=t(i).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]}),e,n)}(n,e,i)}),1);return r.selector.cols=e,r.selector.opts=i,r})),s("columns().header()","column().header()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),s("columns().footer()","column().footer()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),s("columns().data()","column().data()",(function(){return this.iterator("column-rows",Le,1)})),s("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),s("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,i,n,r,a){return x(e.aoData,a,"search"===t?"_aFilterData":"_aSortData",i)}),1)})),s("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,i,n,r){return x(t.aoData,r,"anCells",e)}),1)})),s("columns().visible()","column().visible()",(function(e,i){var r=this,a=this.iterator("column",(function(i,r){if(e===n)return i.aoColumns[r].bVisible;!function(e,i,r){var a,o,s,l,c=e.aoColumns,u=c[i],d=e.aoData;if(r===n)return u.bVisible;if(u.bVisible!==r){if(r){var h=t.inArray(!0,b(c,"bVisible"),i+1);for(o=0,s=d.length;o<s;o++)l=d[o].nTr,a=d[o].anCells,l&&l.insertBefore(a[i],a[h]||null)}else t(b(e.aoData,"anCells",i)).detach();u.bVisible=r}}(i,r,e)}));return e!==n&&this.iterator("table",(function(a){lt(a,a.aoHeader),lt(a,a.aoFooter),a.aiDisplay.length||t(a.nTBody).find("td[colspan]").attr("colspan",N(a)),ae(a),r.iterator("column",(function(t,n){pe(t,null,"column-visibility",[t,n,e,i])})),(i===n||i)&&r.columns.adjust()})),a})),s("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,i){return"visible"===t?H(e,i):i}),1)})),o("columns.adjust()",(function(){return this.iterator("table",(function(t){Y(t)}),1)})),o("column.index()",(function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return F(i,e);if("fromData"===t||"toVisible"===t)return H(i,e)}})),o("column()",(function(t,e){return ke(this.columns(t,e))}));o("cells()",(function(e,i,r){if(t.isPlainObject(e)&&(e.row===n?(r=e,e=null):(r=i,i=null)),t.isPlainObject(i)&&(r=i,i=null),null===i||i===n)return this.iterator("table",(function(i){return function(e,i,r){var a,o,s,l,c,u,d,h=e.aoData,p=Se(e,r),f=k(x(h,p,"anCells")),m=t(M([],f)),g=e.aoColumns.length;return xe("cell",i,(function(i){var r="function"==typeof i;if(null===i||i===n||r){for(o=[],s=0,l=p.length;s<l;s++)for(a=p[s],c=0;c<g;c++)u={row:a,column:c},r?(d=h[a],i(u,q(e,a,c),d.anCells?d.anCells[c]:null)&&o.push(u)):o.push(u);return o}if(t.isPlainObject(i))return i.column!==n&&i.row!==n&&-1!==t.inArray(i.row,p)?[i]:[];var f=m.filter(i).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray();return f.length||!i.nodeName?f:(d=t(i).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]}),e,r)}(i,e,we(r))}));var a,o,s,l,c=r?{page:r.page,order:r.order,search:r.search}:{},u=this.columns(i,c),d=this.rows(e,c),h=this.iterator("table",(function(t,e){var i=[];for(a=0,o=d[e].length;a<o;a++)for(s=0,l=u[e].length;s<l;s++)i.push({row:d[e][a],column:u[e][s]});return i}),1),p=r&&r.selected?this.cells(h,r):h;return t.extend(p.selector,{cols:i,rows:e,opts:r}),p})),s("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,i){var r=t.aoData[e];return r&&r.anCells?r.anCells[i]:n}),1)})),o("cells().data()",(function(){return this.iterator("cell",(function(t,e,i){return q(t,e,i)}),1)})),s("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,i,n){return e.aoData[i][t][n]}),1)})),s("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,i,n){return q(e,i,n,t)}),1)})),s("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,i){return{row:e,column:i,columnVisible:H(t,i)}}),1)})),s("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,i,n){nt(e,i,t,n)}))})),o("cell()",(function(t,e,i){return ke(this.cells(t,e,i))})),o("cell().data()",(function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?q(e[0],i[0].row,i[0].column):n:(G(e[0],i[0].row,i[0].column,t),nt(e[0],i[0].row,"data",i[0].column),this)})),o("order()",(function(t,e){var i=this.context;return t===n?0!==i.length?i[0].aaSorting:n:("number"==typeof t?t=[[t,e]]:t.length&&!Array.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),o("order.listener()",(function(t,e,i){return this.iterator("table",(function(n){ie(n,t,e,i)}))})),o("order.fixed()",(function(e){if(!e){var i=this.context,r=i.length?i[0].aaSortingFixed:n;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",(function(i){i.aaSortingFixed=t.extend(!0,{},e)}))})),o(["columns().order()","column().order()"],(function(e){var i=this;return this.iterator("table",(function(n,r){var a=[];t.each(i[r],(function(t,i){a.push([i,e])})),n.aaSorting=a}))})),o("search()",(function(e,i,r,a){var o=this.context;return e===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",(function(n){n.oFeatures.bFilter&&bt(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===r||r,bCaseInsensitive:null===a||a}),1)}))})),s("columns().search()","column().search()",(function(e,i,r,a){return this.iterator("column",(function(o,s){var l=o.aoPreSearchCols;if(e===n)return l[s].sSearch;o.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===r||r,bCaseInsensitive:null===a||a}),bt(o,o.oPreviousSearch,1))}))})),o("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),o("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),o("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),o("state.save()",(function(){return this.iterator("table",(function(t){ae(t)}))})),l.versionCheck=l.fnVersionCheck=function(t){for(var e,i,n=l.version.split("."),r=t.split("."),a=0,o=r.length;a<o;a++)if((e=parseInt(n[a],10)||0)!==(i=parseInt(r[a],10)||0))return e>i;return!0},l.isDataTable=l.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return e instanceof l.Api||(t.each(l.settings,(function(e,r){var a=r.nScrollHead?t("table",r.nScrollHead)[0]:null,o=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;r.nTable!==i&&a!==i&&o!==i||(n=!0)})),n)},l.tables=l.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(l.settings,(function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable}));return i?new a(n):n},l.camelToHungarian=D,o("$()",(function(e,i){var n=this.rows(i).nodes(),r=t(n);return t([].concat(r.filter(e).toArray(),r.find(e).toArray()))})),t.each(["on","one","off"],(function(e,i){o(i+"()",(function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var n=t(this.tables().nodes());return n[i].apply(n,e),this}))})),o("clear()",(function(){return this.iterator("table",(function(t){et(t)}))})),o("settings()",(function(){return new a(this.context,this.context)})),o("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),o("data()",(function(){return this.iterator("table",(function(t){return b(t.aoData,"_aData")})).flatten()})),o("destroy()",(function(i){return i=i||!1,this.iterator("table",(function(n){var r,o=n.nTableWrapper.parentNode,s=n.oClasses,c=n.nTable,u=n.nTBody,d=n.nTHead,h=n.nTFoot,p=t(c),f=t(u),m=t(n.nTableWrapper),g=t.map(n.aoData,(function(t){return t.nTr}));n.bDestroying=!0,pe(n,"aoDestroyCallback","destroy",[n]),i||new a(n).columns().visible(!0),m.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+n.sInstance),c!=d.parentNode&&(p.children("thead").detach(),p.append(d)),h&&c!=h.parentNode&&(p.children("tfoot").detach(),p.append(h)),n.aaSorting=[],n.aaSortingFixed=[],ne(n),t(g).removeClass(n.asStripeClasses.join(" ")),t("th, td",d).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),f.children().detach(),f.append(g);var y=i?"remove":"detach";p[y](),m[y](),!i&&o&&(o.insertBefore(c,n.nTableReinsertBefore),p.css("width",n.sDestroyWidth).removeClass(s.sTable),(r=n.asDestroyStripes.length)&&f.children().each((function(e){t(this).addClass(n.asDestroyStripes[e%r])})));var v=t.inArray(n,l.settings);-1!==v&&l.settings.splice(v,1)}))})),t.each(["column","row","cell"],(function(t,e){o(e+"s().every()",(function(t){var i=this.selector.opts,r=this;return this.iterator(e,(function(a,o,s,l,c){t.call(r[e](o,"cell"===e?s:i,"cell"===e?i:n),o,s,l,c)}))}))})),o("i18n()",(function(e,i,r){var a=this.context[0],o=K(e)(a.oLanguage);return o===n&&(o=i),r!==n&&t.isPlainObject(o)&&(o=o[r]!==n?o[r]:o._),o.replace("%d",r)})),l.version="1.10.25",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},C(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},C(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ge(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ge(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?!1===a||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!a||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=r={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},t.extend(r,{afnFiltering:r.search,aTypes:r.type.detect,ofnSearch:r.type.search,oSort:r.type.order,afnSortData:r.order,aoFeatures:r.feature,oApi:r.internal,oStdClasses:r.classes,oPagination:r.pager}),t.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ae=l.ext.pager;function Ee(t,e){var i=[],n=Ae.numbers_length,r=Math.floor(n/2);return e<=n?i=w(0,e):t<=r?((i=w(0,n-2)).push("ellipsis"),i.push(e-1)):t>=e-1-r?((i=w(e-(n-2),e)).splice(0,0,"ellipsis"),i.splice(0,0,0)):((i=w(t-r+2,t+r-1)).push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}t.extend(Ae,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Ee(t,e)]},simple_numbers:function(t,e){return["previous",Ee(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ee(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ee(t,e),"last"]},_numbers:Ee,numbers_length:7}),t.extend(!0,l.ext.renderer,{pageButton:{_:function(e,r,a,o,s,l){var c,u,d,h=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},m=0,g=function(i,n){var r,o,d,y,v=h.sPageButtonDisabled,_=function(t){Ht(e,t.data.action,!0)};for(r=0,o=n.length;r<o;r++)if(d=n[r],Array.isArray(d)){var b=t("<"+(d.DT_el||"div")+"/>").appendTo(i);g(b,d)}else{switch(c=null,u=d,y=e.iTabIndex,d){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,0===s&&(y=-1,u+=" "+v);break;case"previous":c=p.sPrevious,0===s&&(y=-1,u+=" "+v);break;case"next":c=p.sNext,0!==l&&s!==l-1||(y=-1,u+=" "+v);break;case"last":c=p.sLast,0!==l&&s!==l-1||(y=-1,u+=" "+v);break;default:c=e.fnFormatNumber(d+1),u=s===d?h.sPageButtonActive:""}null!==c&&(de(t("<a>",{class:h.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":f[d],"data-dt-idx":m,tabindex:y,id:0===a&&"string"==typeof d?e.sTableId+"_"+d:null}).html(c).appendTo(i),{action:d},_),m++)}};try{d=t(r).find(i.activeElement).data("dt-idx")}catch(t){}g(t(r).empty(),o),d!==n&&t(r).find("[data-dt-idx="+d+"]").trigger("focus")}}}),t.extend(l.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return v(t,i)?"num"+i:null},function(t,e){if(t&&!(t instanceof Date)&&!h.test(t))return null;var i=Date.parse(t);return null!==i&&!isNaN(i)||m(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return v(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return _(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return _(t,i,!0)?"html-num-fmt"+i:null},function(t,e){return m(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(l.ext.type.search,{html:function(t){return m(t)?t:"string"==typeof t?t.replace(u," ").replace(d,""):""},string:function(t){return m(t)?t:"string"==typeof t?t.replace(u," "):t}});var Pe=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=y(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};function Ie(e){t.each({num:function(t){return Pe(t,e)},"num-fmt":function(t){return Pe(t,e,f)},"html-num":function(t){return Pe(t,e,d)},"html-num-fmt":function(t){return Pe(t,e,d,f)}},(function(t,i){r.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(r.type.search[t+e]=r.type.search.html)}))}t.extend(r.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e},"html-pre":function(t){return m(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return m(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ie(""),t.extend(!0,l.ext.renderer,{header:{_:function(e,i,n,r){t(e.nTable).on("order.dt.DT",(function(t,a,o,s){if(e===a){var l=n.idx;i.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:n.sSortingClass)}}))},jqueryui:function(e,i,n,r){t("<div/>").addClass(r.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",(function(t,a,o,s){if(e===a){var l=n.idx;i.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:n.sSortingClass),i.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:n.sSortingClassJUI)}}))}}});var Oe=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function Re(t){return function(){var e=[se(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[t].apply(this,e)}}return l.render={number:function(t,e,i,n,r){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var o=a<0?"-":"",s=parseFloat(a);if(isNaN(s))return Oe(a);s=s.toFixed(i),a=Math.abs(s);var l=parseInt(a,10),c=i?e+(a-l).toFixed(i).substring(2):"";return 0===l&&0===parseFloat(c)&&(o=""),o+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(r||"")}}},text:function(){return{display:Oe,filter:Oe}}},t.extend(l.ext.internal,{_fnExternApiFunc:Re,_fnBuildAjax:ft,_fnAjaxUpdate:mt,_fnAjaxParameters:gt,_fnAjaxUpdateDraw:yt,_fnAjaxDataSrc:vt,_fnAddColumn:R,_fnColumnOptions:z,_fnAdjustColumnSizing:Y,_fnVisibleToColumnIndex:F,_fnColumnIndexToVisible:H,_fnVisbleColumns:N,_fnGetColumns:B,_fnColumnTypes:j,_fnApplyColumnDefs:V,_fnHungarianMap:C,_fnCamelToHungarian:D,_fnLanguageCompat:L,_fnBrowserDetect:I,_fnAddData:W,_fnAddTr:U,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:$,_fnGetCellData:q,_fnSetCellData:G,_fnSplitObjNotation:J,_fnGetObjectDataFn:K,_fnSetObjectDataFn:Q,_fnGetDataMaster:tt,_fnClearTable:et,_fnDeleteIndex:it,_fnInvalidate:nt,_fnGetRowElements:rt,_fnCreateTr:at,_fnBuildHead:st,_fnDrawHead:lt,_fnDraw:ct,_fnReDraw:ut,_fnAddOptionsHtml:dt,_fnDetectHeader:ht,_fnGetUniqueThs:pt,_fnFeatureHtmlFilter:_t,_fnFilterComplete:bt,_fnFilterCustom:xt,_fnFilterColumn:wt,_fnFilter:kt,_fnFilterCreateSearch:St,_fnEscapeRegex:Tt,_fnFilterData:Dt,_fnFeatureHtmlInfo:Et,_fnUpdateInfo:Pt,_fnInfoMacros:It,_fnInitialise:Ot,_fnInitComplete:Rt,_fnLengthChange:zt,_fnFeatureHtmlLength:Yt,_fnFeatureHtmlPaginate:Ft,_fnPageChange:Ht,_fnFeatureHtmlProcessing:Nt,_fnProcessingDisplay:Bt,_fnFeatureHtmlTable:jt,_fnScrollDraw:Vt,_fnApplyToChildren:Wt,_fnCalculateColumnWidths:$t,_fnThrottle:qt,_fnConvertToWidth:Gt,_fnGetWidestNode:Xt,_fnGetMaxLenString:Zt,_fnStringToCss:Jt,_fnSortFlatten:Kt,_fnSort:Qt,_fnSortAria:te,_fnSortListener:ee,_fnSortAttachListener:ie,_fnSortingClasses:ne,_fnSortData:re,_fnSaveState:ae,_fnLoadState:oe,_fnSettingsFromNode:se,_fnLog:le,_fnMap:ce,_fnBindAction:de,_fnCallbackReg:he,_fnCallbackFire:pe,_fnLengthOverflow:fe,_fnRenderer:me,_fnDataSource:ge,_fnRowAttributes:ot,_fnExtend:ue,_fnCalculateEnd:function(){}}),t.fn.dataTable=l,l.$=t,t.fn.dataTableSettings=l.settings,t.fn.dataTableExt=l.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(l,(function(e,i){t.fn.DataTable[e]=i})),t.fn.dataTable}(t,window,document)}.apply(e,n))||(t.exports=r)}()},function(t,e,i){"use strict";
/*!
 * perfect-scrollbar v1.5.2
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function n(t){return getComputedStyle(t)}function r(t,e){for(var i in e){var n=e[i];"number"==typeof n&&(n+="px"),t.style[i]=n}return t}function a(t){var e=document.createElement("div");return e.className=t,e}var o="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(t,e){if(!o)throw new Error("No element matching method supported");return o.call(t,e)}function l(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function c(t,e){return Array.prototype.filter.call(t.children,(function(t){return s(t,e)}))}var u="ps",d="ps__rtl",h={thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},p={focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}},f={x:null,y:null};function m(t,e){var i=t.element.classList,n=p.scrolling(e);i.contains(n)?clearTimeout(f[e]):i.add(n)}function g(t,e){f[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(p.scrolling(e))}),t.settings.scrollingThreshold)}var y=function(t){this.element=t,this.handlers={}},v={isEmpty:{configurable:!0}};y.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},y.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter((function(n){return!(!e||n===e)||(i.element.removeEventListener(t,n,!1),!1)}))},y.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},v.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(y.prototype,v);var _=function(){this.eventElements=[]};function b(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function x(t,e,i,n,r){var a;if(void 0===n&&(n=!0),void 0===r&&(r=!1),"top"===e)a=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");a=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,i,n,r){var a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],u=i[5];void 0===n&&(n=!0);void 0===r&&(r=!1);var d=t.element;t.reach[l]=null,d[s]<1&&(t.reach[l]="start");d[s]>t[a]-t[o]-1&&(t.reach[l]="end");e&&(d.dispatchEvent(b("ps-scroll-"+l)),e<0?d.dispatchEvent(b("ps-scroll-"+c)):e>0&&d.dispatchEvent(b("ps-scroll-"+u)),n&&function(t,e){m(t,e),g(t,e)}(t,l));t.reach[l]&&(e||r)&&d.dispatchEvent(b("ps-"+l+"-reach-"+t.reach[l]))}(t,i,a,n,r)}function w(t){return parseInt(t,10)||0}_.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new y(t),this.eventElements.push(e)),e},_.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},_.prototype.unbind=function(t,e,i){var n=this.eventElement(t);n.unbind(e,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},_.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},_.prototype.once=function(t,e,i){var n=this.eventElement(t),r=function(t){n.unbind(e,r),i(t)};n.bind(e,r)};var k={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function S(t){var e=t.element,i=Math.floor(e.scrollTop),n=e.getBoundingClientRect();t.containerWidth=Math.round(n.width),t.containerHeight=Math.round(n.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(c(e,h.rail("x")).forEach((function(t){return l(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(c(e,h.rail("y")).forEach((function(t){return l(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=T(t,w(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=w((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=T(t,w(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=w(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth},n=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft;e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-n:i.top=e.scrollbarXTop+n;r(e.scrollbarXRail,i);var a={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?a.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:a.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?a.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:a.left=e.scrollbarYLeft+t.scrollLeft;r(e.scrollbarYRail,a),r(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(p.active("x")):(e.classList.remove(p.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(p.active("y")):(e.classList.remove(p.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function T(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function M(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=t.element,h=null,f=null,y=null;function v(e){e.touches&&e.touches[0]&&(e[r]=e.touches[0].pageY),d[l]=h+y*(e[r]-f),m(t,c),S(t),e.stopPropagation(),e.preventDefault()}function _(){g(t,c),t[u].classList.remove(p.clicking),t.event.unbind(t.ownerDocument,"mousemove",v)}function b(e,o){h=d[l],o&&e.touches&&(e[r]=e.touches[0].pageY),f=e[r],y=(t[n]-t[i])/(t[a]-t[s]),o?t.event.bind(t.ownerDocument,"touchmove",v):(t.event.bind(t.ownerDocument,"mousemove",v),t.event.once(t.ownerDocument,"mouseup",_),e.preventDefault()),t[u].classList.add(p.clicking),e.stopPropagation()}t.event.bind(t[o],"mousedown",(function(t){b(t)})),t.event.bind(t[o],"touchstart",(function(t){b(t,!0)}))}var C={"click-rail":function(t){t.element,t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=i*t.containerHeight,S(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=i*t.containerWidth,S(t),e.stopPropagation()}))},"drag-thumb":function(t){M(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),M(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(s(e,":hover")||s(t.scrollbarX,":focus")||s(t.scrollbarY,":focus"))){var n,r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(s(n=r,"input,[contenteditable]")||s(n,"select,[contenteditable]")||s(n,"textarea,[contenteditable]")||s(n,"button,[contenteditable]"))return}var a=0,o=0;switch(i.which){case 37:a=i.metaKey?-t.contentWidth:i.altKey?-t.containerWidth:-30;break;case 38:o=i.metaKey?t.contentHeight:i.altKey?t.containerHeight:30;break;case 39:a=i.metaKey?t.contentWidth:i.altKey?t.containerWidth:30;break;case 40:o=i.metaKey?-t.contentHeight:i.altKey?-t.containerHeight:-30;break;case 32:o=i.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:o=t.containerHeight;break;case 34:o=-t.containerHeight;break;case 36:o=t.contentHeight;break;case 35:o=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==a||t.settings.suppressScrollY&&0!==o||(e.scrollTop-=o,e.scrollLeft+=a,S(t),function(i,n){var r=Math.floor(e.scrollTop);if(0===i){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var a=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===a&&i<0||a>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(a,o)&&i.preventDefault())}}))},wheel:function(t){var e=t.element;function i(i){var r=function(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}(i),a=r[0],o=r[1];if(!function(t,i,r){if(!k.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var a=t;a&&a!==e;){if(a.classList.contains(h.consuming))return!0;var o=n(a);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&r<0||a.scrollTop<s&&r>0))return!0}if(i&&o.overflowX.match(/(scroll|auto)/)){var l=a.scrollWidth-a.clientWidth;if(l>0&&(a.scrollLeft>0&&i<0||a.scrollLeft<l&&i>0))return!0}a=a.parentNode}return!1}(i.target,a,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=a*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(a?e.scrollLeft+=a*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=a*t.settings.wheelSpeed),S(t),(s=s||function(i,n){var r=Math.floor(e.scrollTop),a=0===e.scrollTop,o=r+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,l=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(n)>Math.abs(i)?a||o:s||l)||!t.settings.wheelPropagation}(a,o))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",i)},touch:function(t){if(k.supportsTouch||k.supportsIePointer){var e=t.element,i={},r=0,a={},o=null;k.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",d),t.event.bind(e,"touchend",p)):k.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",d),t.event.bind(e,"pointerup",p)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",d),t.event.bind(e,"MSPointerUp",p)))}function s(i,n){e.scrollTop-=n,e.scrollLeft-=i,S(t)}function l(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(c(t)){var e=l(t);i.pageX=e.pageX,i.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function d(o){if(c(o)){var u=l(o),d={pageX:u.pageX,pageY:u.pageY},p=d.pageX-i.pageX,f=d.pageY-i.pageY;if(function(t,i,r){if(!e.contains(t))return!1;for(var a=t;a&&a!==e;){if(a.classList.contains(h.consuming))return!0;var o=n(a);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&r<0||a.scrollTop<s&&r>0))return!0}if(i&&o.overflowX.match(/(scroll|auto)/)){var l=a.scrollWidth-a.clientWidth;if(l>0&&(a.scrollLeft>0&&i<0||a.scrollLeft<l&&i>0))return!0}a=a.parentNode}return!1}(o.target,p,f))return;s(p,f),i=d;var m=(new Date).getTime(),g=m-r;g>0&&(a.x=p/g,a.y=f/g,r=m),function(i,n){var r=Math.floor(e.scrollTop),a=e.scrollLeft,o=Math.abs(i),s=Math.abs(n);if(s>o){if(n<0&&r===t.contentHeight-t.containerHeight||n>0&&0===r)return 0===window.scrollY&&n>0&&k.isChrome}else if(o>s&&(i<0&&a===t.contentWidth-t.containerWidth||i>0&&0===a))return!0;return!0}(p,f)&&o.preventDefault()}}function p(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){t.isInitialized?clearInterval(o):a.x||a.y?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(o):t.element?(s(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(o):clearInterval(o)}),10))}}},D=function(t,e){var i=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var o in this.element=t,t.classList.add(u),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[o]=e[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s,l,c=function(){return t.classList.add(p.focus)},f=function(){return t.classList.remove(p.focus)};this.isRtl="rtl"===n(t).direction,!0===this.isRtl&&t.classList.add(d),this.isNegativeScroll=(l=t.scrollLeft,t.scrollLeft=-1,s=t.scrollLeft<0,t.scrollLeft=l,s),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new _,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=a(h.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=a(h.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",c),this.event.bind(this.scrollbarX,"blur",f),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var m=n(this.scrollbarXRail);this.scrollbarXBottom=parseInt(m.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=w(m.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=w(m.borderLeftWidth)+w(m.borderRightWidth),r(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=w(m.marginLeft)+w(m.marginRight),r(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=a(h.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=a(h.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",c),this.event.bind(this.scrollbarY,"blur",f),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var g=n(this.scrollbarYRail);this.scrollbarYRight=parseInt(g.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=w(g.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=n(t);return w(e.width)+w(e.paddingLeft)+w(e.paddingRight)+w(e.borderLeftWidth)+w(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=w(g.borderTopWidth)+w(g.borderBottomWidth),r(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=w(g.marginTop)+w(g.marginBottom),r(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return C[t](i)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return i.onScroll(t)})),S(this)};D.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,r(this.scrollbarXRail,{display:"block"}),r(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=w(n(this.scrollbarXRail).marginLeft)+w(n(this.scrollbarXRail).marginRight),this.railYMarginHeight=w(n(this.scrollbarYRail).marginTop)+w(n(this.scrollbarYRail).marginBottom),r(this.scrollbarXRail,{display:"none"}),r(this.scrollbarYRail,{display:"none"}),S(this),x(this,"top",0,!1,!0),x(this,"left",0,!1,!0),r(this.scrollbarXRail,{display:""}),r(this.scrollbarYRail,{display:""}))},D.prototype.onScroll=function(t){this.isAlive&&(S(this),x(this,"top",this.element.scrollTop-this.lastScrollTop),x(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},D.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),l(this.scrollbarX),l(this.scrollbarY),l(this.scrollbarXRail),l(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},D.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")},e.a=D},function(t,e,i){t.exports=function(){"use strict";var t,e,i;function n(n,r){if(t)if(e){var a="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk); self.onerror = null;",o={};t(o),i=r(o),"undefined"!=typeof window&&(i.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else e=r;else t=r}return n(0,(function(t){var e="2.4.1",i=n;function n(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var i,n,r,a,o;for(void 0===e&&(e=1e-6),r=t,o=0;o<8;o++){if(a=this.sampleCurveX(r)-t,Math.abs(a)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=a/s}if((r=t)<(i=0))return i;if(r>(n=1))return n;for(;i<n;){if(a=this.sampleCurveX(r),Math.abs(a-t)<e)return r;t>a?i=r:n=r,r=.5*(n-i)+i}return r},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=a;function a(t,e){this.x=t,this.y=e}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=n,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-n*(this.y-e.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a?t:Array.isArray(t)?new a(t[0],t[1]):t};var o="undefined"!=typeof self?self:{};const s=Math.pow(2,53)-1,l=Math.PI/180,c=180/Math.PI;function u(t){return t*l}const d=[[0,0],[1,0],[1,1],[0,1]];function h(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function p(t,e,n,r){const a=new i(t,e,n,r);return function(t){return a.solve(t)}}const f=p(.25,.1,.25,1);function m(t,e,i){return Math.min(i,Math.max(e,t))}function g(t,e,i){const n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r}function y(t,e,i){if(!t.length)return i(null,[]);let n=t.length;const r=new Array(t.length);let a=null;t.forEach((t,o)=>{e(t,(t,e)=>{t&&(a=t),r[o]=e,0==--n&&i(a,r)})})}function v(t){const e=[];for(const i in t)e.push(t[i]);return e}function _(t,...e){for(const i of e)for(const e in i)t[e]=i[e];return t}let b=1;function x(){return b++}function w(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function k(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function S(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function T(t,e){t.forEach(t=>{e[t]&&(e[t]=e[t].bind(e))})}function M(t,e){return-1!==t.indexOf(e,t.length-e.length)}function C(t,e,i){const n={};for(const r in t)n[r]=e.call(i||this,t[r],r,t);return n}function D(t,e,i){const n={};for(const r in t)e.call(i||this,t[r],r,t)&&(n[r]=t[r]);return n}function L(t){return Array.isArray(t)?t.map(L):"object"==typeof t&&t?C(t,L):t}const A={};function E(t){A[t]||("undefined"!=typeof console&&console.warn(t),A[t]=!0)}function P(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function I(t){let e=0;for(let i,n,r=0,a=t.length,o=a-1;r<a;o=r++)i=t[r],n=t[o],e+=(n.x-i.x)*(i.y+n.y);return e}function O(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function R(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(t,i,n,r)=>{const a=n||r;return e[i]=!a||a.toLowerCase(),""}),e["max-age"]){const t=parseInt(e["max-age"],10);isNaN(t)?delete e["max-age"]:e["max-age"]=t}return e}let z,Y,F,H=null;function N(t){if(null==H){const e=t.navigator?t.navigator.userAgent:null;H=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return H}function B(t){try{const e=o[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}const j={now:()=>void 0!==F?F:o.performance.now(),setNow(t){F=t},restoreNow(){F=void 0},frame(t){const e=o.requestAnimationFrame(t);return{cancel:()=>o.cancelAnimationFrame(e)}},getImageData(t,e=0){const i=o.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=t.width,i.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:t=>(z||(z=o.document.createElement("a")),z.href=t,z.href),get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return!!o.matchMedia&&(null==Y&&(Y=o.matchMedia("(prefers-reduced-motion: reduce)")),Y.matches)}};let V;const W={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==V){const t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{V=null!=Object({NODE_ENV:"production"}).API_URL_REGEX?new RegExp(Object({NODE_ENV:"production"}).API_URL_REGEX):t}catch(e){V=t}}return V},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},U={supported:!1,testSupport:function(t){!G&&q&&(X?Z(t):$=t)}};let $,q,G=!1,X=!1;function Z(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,q),t.isContextLost())return;U.supported=!0}catch(t){}t.deleteTexture(e),G=!0}o.document&&(q=o.document.createElement("img"),q.onload=function(){$&&Z($),$=null,X=!0},q.onerror=function(){G=!0,$=null},q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const J="01",K="NO_ACCESS_TOKEN";function Q(t){return 0===t.indexOf("mapbox:")}function tt(t){return W.API_URL_REGEX.test(t)}const et=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function it(t){const e=t.match(et);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function nt(t){const e=t.params.length?"?"+t.params.join("&"):"";return`${t.protocol}://${t.authority}${t.path}${e}`}function rt(t){if(!t)return null;const e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(o.atob(e[1]).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(t){return null}}class at{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const e=rt(W.ACCESS_TOKEN);let i="";return i=e&&e.u?o.btoa(encodeURIComponent(e.u).replace(/%([0-9A-F]{2})/g,(t,e)=>String.fromCharCode(Number("0x"+e)))):W.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${i}`:"mapbox.eventData:"+i}fetchEventData(){const t=B("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{const t=o.localStorage.getItem(e);t&&(this.eventData=JSON.parse(t));const n=o.localStorage.getItem(i);n&&(this.anonId=n)}catch(t){E("Unable to read from LocalStorage")}}saveEventData(){const t=B("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{o.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){E("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,i,n,r){if(!W.EVENTS_URL)return;const a=it(W.EVENTS_URL);a.params.push("access_token="+(r||W.ACCESS_TOKEN||""));const o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:e,skuId:J,userId:this.anonId},s=i?_(o,i):o,l={url:nt(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Mt(l,t=>{this.pendingRequest=null,n(t),this.saveEventData(),this.processRequests(r)})}queueRequest(t,e){this.queue.push(t),this.processRequests(e)}}const ot=new class extends at{constructor(t){super("appUserTurnstile"),this._customAccessToken=t}postTurnstileEvent(t,e){W.EVENTS_URL&&W.ACCESS_TOKEN&&Array.isArray(t)&&t.some(t=>Q(t)||tt(t))&&this.queueRequest(Date.now(),e)}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=rt(W.ACCESS_TOKEN),i=e?e.u:W.ACCESS_TOKEN;let n=i!==this.eventData.tokenU;S(this.anonId)||(this.anonId=w(),n=!0);const r=this.queue.shift();if(this.eventData.lastSuccess){const t=new Date(this.eventData.lastSuccess),e=new Date(r),i=(r-this.eventData.lastSuccess)/864e5;n=n||i>=1||i<-1||t.getDate()!==e.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(r,{"enabled.telemetry":!1},t=>{t||(this.eventData.lastSuccess=r,this.eventData.tokenU=i)},t)}},st=ot.postTurnstileEvent.bind(ot),lt=new class extends at{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(t,e,i,n){this.skuToken=e,this.errorCb=n,W.EVENTS_URL&&(i||W.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(K)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),S(this.anonId)||(this.anonId=w()),this.postEvent(i,{skuToken:this.skuToken},t=>{t?this.errorCb(t):e&&(this.success[e]=!0)},t))}},ct=lt.postMapLoadEvent.bind(lt),ut=new class extends at{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(t,e,i,n){if(!W.API_URL||!W.SESSION_PATH)return;const r=it(W.API_URL+W.SESSION_PATH);r.params.push("sku="+(e||"")),r.params.push("access_token="+(n||W.ACCESS_TOKEN||""));const a={url:nt(r),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Ct(a,t=>{this.pendingRequest=null,i(t),this.saveEventData(),this.processRequests(n)})}getSessionAPI(t,e,i,n){this.skuToken=e,this.errorCb=n,W.SESSION_PATH&&W.API_URL&&(i||W.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(K)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||this.getSession(i,this.skuToken,t=>{t?this.errorCb(t):e&&(this.success[e]=!0)},t)}},dt=ut.getSessionAPI.bind(ut),ht=new Set,pt="mapbox-tiles";let ft,mt,gt=500,yt=50;function vt(){o.caches&&!ft&&(ft=o.caches.open(pt))}function _t(t){const e=t.indexOf("?");return e<0?t:t.slice(0,e)}let bt=1/0;const xt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(xt);class wt extends Error{constructor(t,e,i){401===e&&tt(i)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(t),this.status=e,this.url=i}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const kt=O()?()=>self.worker&&self.worker.referrer:()=>("blob:"===o.location.protocol?o.parent:o).location.href,St=function(t,e){if(!(/^file:/.test(i=t.url)||/^file:/.test(kt())&&!/^\w+:/.test(i))){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return function(t,e){const i=new o.AbortController,n=new o.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:kt(),signal:i.signal});let r=!1,a=!1;const s=(l=n.url).indexOf("sku=")>0&&tt(l);var l;"json"===t.type&&n.headers.set("Accept","application/json");const c=(i,r,l)=>{if(a)return;if(i&&"SecurityError"!==i.message&&E(i),r&&l)return u(r);const c=Date.now();o.fetch(n).then(i=>{if(i.ok){const t=s?i.clone():null;return u(i,t,c)}return e(new wt(i.statusText,i.status,t.url))}).catch(t=>{20!==t.code&&e(new Error(t.message))})},u=(i,s,l)=>{("arrayBuffer"===t.type?i.arrayBuffer():"json"===t.type?i.json():i.text()).then(t=>{a||(s&&l&&function(t,e,i){if(vt(),!ft)return;const n={status:e.status,statusText:e.statusText,headers:new o.Headers};e.headers.forEach((t,e)=>n.headers.set(e,t));const r=R(e.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&n.headers.set("Expires",new Date(i+1e3*r["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-i<42e4||function(t,e){if(void 0===mt)try{new Response(new ReadableStream),mt=!0}catch(t){mt=!1}mt?e(t.body):t.blob().then(e)}(e,e=>{const i=new o.Response(e,n);vt(),ft&&ft.then(e=>e.put(_t(t.url),i)).catch(t=>E(t.message))}))}(n,s,l),r=!0,e(null,t,i.headers.get("Cache-Control"),i.headers.get("Expires")))}).catch(t=>{a||e(new Error(t.message))})};return s?function(t,e){if(vt(),!ft)return e(null);const i=_t(t.url);ft.then(t=>{t.match(i).then(n=>{const r=function(t){if(!t)return!1;const e=new Date(t.headers.get("Expires")||0),i=R(t.headers.get("Cache-Control")||"");return e>Date.now()&&!i["no-cache"]}(n);t.delete(i),r&&t.put(i,n.clone()),e(null,n,r)}).catch(e)}).catch(e)}(n,c):c(null,null),{cancel:()=>{a=!0,r||i.abort()}}}(t,e);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(t,e){const i=new o.XMLHttpRequest;i.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(i.responseType="arraybuffer");for(const e in t.headers)i.setRequestHeader(e,t.headers[e]);return"json"===t.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===t.credentials,i.onerror=()=>{e(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let n=i.response;if("json"===t.type)try{n=JSON.parse(i.response)}catch(t){return e(t)}e(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else e(new wt(i.statusText,i.status,t.url))},i.send(t.body),{cancel:()=>i.abort()}}(t,e)},Tt=function(t,e){return St(_(t,{type:"arrayBuffer"}),e)},Mt=function(t,e){return St(_(t,{method:"POST"}),e)},Ct=function(t,e){return St(_(t,{method:"GET"}),e)};function Dt(t){const e=o.document.createElement("a");return e.href=t,e.protocol===o.document.location.protocol&&e.host===o.document.location.host}const Lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let At,Et;At=[],Et=0;const Pt=function(t,e){if(U.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Et>=W.MAX_PARALLEL_IMAGE_REQUESTS){const i={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return At.push(i),i}Et++;let i=!1;const n=()=>{if(!i)for(i=!0,Et--;At.length&&Et<W.MAX_PARALLEL_IMAGE_REQUESTS;){const t=At.shift(),{requestParameters:e,callback:i,cancelled:n}=t;n||(t.cancel=Pt(e,i).cancel)}},r=Tt(t,(t,i,r,a)=>{n(),t?e(t):i&&(o.createImageBitmap?function(t,e){const i=new o.Blob([new Uint8Array(t)],{type:"image/png"});o.createImageBitmap(i).then(t=>{e(null,t)}).catch(t=>{e(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(i,(t,i)=>e(t,i,r,a)):function(t,e){const i=new o.Image,n=o.URL;i.onload=()=>{e(null,i),n.revokeObjectURL(i.src),i.onload=null,o.requestAnimationFrame(()=>{i.src=Lt})},i.onerror=()=>e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new o.Blob([new Uint8Array(t)],{type:"image/png"});i.src=t.byteLength?n.createObjectURL(r):Lt}(i,(t,i)=>e(t,i,r,a)))});return{cancel:()=>{r.cancel(),n()}}};function It(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function Ot(t,e,i){if(i&&i[t]){const n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}class Rt{constructor(t,e={}){_(this,e),this.type=t}}class zt extends Rt{constructor(t,e={}){super("error",_({error:t},e))}}class Yt{on(t,e){return this._listeners=this._listeners||{},It(t,e,this._listeners),this}off(t,e){return Ot(t,e,this._listeners),Ot(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},It(t,e,this._oneTimeListeners),this):new Promise(e=>this.once(t,e))}fire(t,e){"string"==typeof t&&(t=new Rt(t,e||{}));const i=t.type;if(this.listens(i)){t.target=this;const e=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];for(const i of e)i.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];for(const e of n)Ot(i,e,this._oneTimeListeners),e.call(this,t);const r=this._eventedParent;r&&(_(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(t))}else t instanceof zt&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var Ft={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Ht{constructor(t,e,i,n){this.message=(t?t+": ":"")+i,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__)}}function Nt(t){const e=t.value;return e?[new Ht(t.key,e,"constants have been deprecated as of v8")]:[]}function Bt(t,...e){for(const i of e)for(const e in i)t[e]=i[e];return t}function jt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Vt(t){if(Array.isArray(t))return t.map(Vt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const i in t)e[i]=Vt(t[i]);return e}return jt(t)}class Wt extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}class Ut{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,i]of e)this.bindings[t]=i}concat(t){return new Ut(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const $t={kind:"null"},qt={kind:"number"},Gt={kind:"string"},Xt={kind:"boolean"},Zt={kind:"color"},Jt={kind:"object"},Kt={kind:"value"},Qt={kind:"collator"},te={kind:"formatted"},ee={kind:"resolvedImage"};function ie(t,e){return{kind:"array",itemType:t,N:e}}function ne(t){if("array"===t.kind){const e=ne(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const re=[$t,qt,Gt,Xt,Zt,te,Jt,ie(Kt),ee];function ae(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!ae(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of re)if(!ae(t,e))return null}return`Expected ${ne(t)} but found ${ne(e)} instead.`}function oe(t,e){return e.some(e=>e.kind===t.kind)}function se(t,e){return e.some(e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t)}function le(t){var e={exports:{}};return t(e,e.exports),e.exports}var ce=le((function(t,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function o(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in i)return i[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=s.indexOf("("),c=s.indexOf(")");if(-1!==l&&c+1===s.length){var u=s.substr(0,l),d=s.substr(l+1,c-(l+1)).split(","),h=1;switch(u){case"rgba":if(4!==d.length)return null;h=a(d.pop());case"rgb":return 3!==d.length?null:[r(d[0]),r(d[1]),r(d[2]),h];case"hsla":if(4!==d.length)return null;h=a(d.pop());case"hsl":if(3!==d.length)return null;var p=(parseFloat(d[0])%360+360)%360/360,f=a(d[1]),m=a(d[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[n(255*o(y,g,p+1/3)),n(255*o(y,g,p)),n(255*o(y,g,p-1/3)),h];default:return null}}return null}}catch(t){}}));class ue{constructor(t,e,i,n=1){this.r=t,this.g=e,this.b=i,this.a=n}static parse(t){if(!t)return;if(t instanceof ue)return t;if("string"!=typeof t)return;const e=ce.parseCSSColor(t);return e?new ue(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,i,n]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(i)},${n})`}toArray(){const{r:t,g:e,b:i,a:n}=this;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*i/n,n]}}ue.black=new ue(0,0,0,1),ue.white=new ue(1,1,1,1),ue.transparent=new ue(0,0,0,0),ue.red=new ue(1,0,0,1),ue.blue=new ue(0,0,1,1);class de{constructor(t,e,i){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class he{constructor(t,e,i,n,r){this.text=t,this.image=e,this.scale=i,this.fontStack=n,this.textColor=r}}class pe{constructor(t){this.sections=t}static fromString(t){return new pe([new he(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof pe?t:pe.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const i={};e.fontStack&&(i["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(i["font-scale"]=e.scale),e.textColor&&(i["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(i)}return t}}class fe{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new fe({name:t,available:!1}):null}serialize(){return["image",this.name]}}function me(t,e,i,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,i,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[t,e,i,n]:[t,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ge(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof ue)return!0;if(t instanceof de)return!0;if(t instanceof pe)return!0;if(t instanceof fe)return!0;if(Array.isArray(t)){for(const e of t)if(!ge(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!ge(t[e]))return!1;return!0}return!1}function ye(t){if(null===t)return $t;if("string"==typeof t)return Gt;if("boolean"==typeof t)return Xt;if("number"==typeof t)return qt;if(t instanceof ue)return Zt;if(t instanceof de)return Qt;if(t instanceof pe)return te;if(t instanceof fe)return ee;if(Array.isArray(t)){const e=t.length;let i;for(const e of t){const t=ye(e);if(i){if(i===t)continue;i=Kt;break}i=t}return ie(i||Kt,e)}return Jt}function ve(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof ue||t instanceof pe||t instanceof fe?t.toString():JSON.stringify(t)}class _e{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!ge(t[1]))return e.error("invalid value");const i=t[1];let n=ye(i);const r=e.expectedType;return"array"!==n.kind||0!==n.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(n=r),new _e(n,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ue?["rgba"].concat(this.value.toArray()):this.value instanceof pe?this.value.serialize():this.value}}class be{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const xe={string:Gt,number:qt,boolean:Xt,object:Jt};class we{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let i,n=1;const r=t[0];if("array"===r){let r,a;if(t.length>2){const i=t[1];if("string"!=typeof i||!(i in xe)||"object"===i)return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=xe[i],n++}else r=Kt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],n++}i=ie(r,a)}else i=xe[r];const a=[];for(;n<t.length;n++){const i=e.parse(t[n],n,Kt);if(!i)return null;a.push(i)}return new we(i,a)}evaluate(t){for(let e=0;e<this.args.length;e++){const i=this.args[e].evaluate(t);if(!ae(this.type,ye(i)))return i;if(e===this.args.length-1)throw new be(`Expected value to be of type ${ne(this.type)}, but found ${ne(ye(i))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,e=[t.kind];if("array"===t.kind){const i=t.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){e.push(i.kind);const n=t.N;("number"==typeof n||this.args.length>1)&&e.push(n)}}return e.concat(this.args.map(t=>t.serialize()))}}class ke{constructor(t){this.type=te,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const i=t[1];if(!Array.isArray(i)&&"object"==typeof i)return e.error("First argument must be an image or text section.");const n=[];let r=!1;for(let i=1;i<=t.length-1;++i){const a=t[i];if(r&&"object"==typeof a&&!Array.isArray(a)){r=!1;let t=null;if(a["font-scale"]&&(t=e.parse(a["font-scale"],1,qt),!t))return null;let i=null;if(a["text-font"]&&(i=e.parse(a["text-font"],1,ie(Gt)),!i))return null;let o=null;if(a["text-color"]&&(o=e.parse(a["text-color"],1,Zt),!o))return null;const s=n[n.length-1];s.scale=t,s.font=i,s.textColor=o}else{const a=e.parse(t[i],1,Kt);if(!a)return null;const o=a.type.kind;if("string"!==o&&"value"!==o&&"null"!==o&&"resolvedImage"!==o)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,n.push({content:a,scale:null,font:null,textColor:null})}}return new ke(n)}evaluate(t){return new pe(this.sections.map(e=>{const i=e.content.evaluate(t);return ye(i)===ee?new he("",i,null,null,null):new he(ve(i),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)}))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const i={};e.scale&&(i["font-scale"]=e.scale.serialize()),e.font&&(i["text-font"]=e.font.serialize()),e.textColor&&(i["text-color"]=e.textColor.serialize()),t.push(i)}return t}}class Se{constructor(t){this.type=ee,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const i=e.parse(t[1],1,Gt);return i?new Se(i):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),i=fe.fromString(e);return i&&t.availableImages&&(i.available=t.availableImages.indexOf(e)>-1),i}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Te={"to-boolean":Xt,"to-color":Zt,"to-number":qt,"to-string":Gt};class Me{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const i=t[0];if(("to-boolean"===i||"to-string"===i)&&2!==t.length)return e.error("Expected one argument.");const n=Te[i],r=[];for(let i=1;i<t.length;i++){const n=e.parse(t[i],i,Kt);if(!n)return null;r.push(n)}return new Me(n,r)}evaluate(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){let e,i;for(const n of this.args){if(e=n.evaluate(t),i=null,e instanceof ue)return e;if("string"==typeof e){const i=t.parseColor(e);if(i)return i}else if(Array.isArray(e)&&(i=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:me(e[0],e[1],e[2],e[3]),!i))return new ue(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new be(i||`Could not parse color from value '${"string"==typeof e?e:String(JSON.stringify(e))}'`)}if("number"===this.type.kind){let e=null;for(const i of this.args){if(e=i.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new be(`Could not convert ${JSON.stringify(e)} to number.`)}return"formatted"===this.type.kind?pe.fromString(ve(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?fe.fromString(ve(this.args[0].evaluate(t))):ve(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if("formatted"===this.type.kind)return new ke([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Se(this.args[0]).serialize();const t=["to-"+this.type.kind];return this.eachChild(e=>{t.push(e.serialize())}),t}}const Ce=["Unknown","Point","LineString","Polygon"];class De{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ce[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ue.parse(t)),e}}class Le{constructor(t,e,i,n){this.name=t,this.type=e,this._evaluate=i,this.args=n}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,e){const i=t[0],n=Le.definitions[i];if(!n)return e.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,o=a.filter(([e])=>!Array.isArray(e)||e.length===t.length-1);let s=null;for(const[n,a]of o){s=new Ke(e.registry,e.path,null,e.scope);const o=[];let l=!1;for(let e=1;e<t.length;e++){const i=t[e],r=Array.isArray(n)?n[e-1]:n.type,a=s.parse(i,1+o.length,r);if(!a){l=!0;break}o.push(a)}if(!l)if(Array.isArray(n)&&n.length!==o.length)s.error(`Expected ${n.length} arguments, but found ${o.length} instead.`);else{for(let t=0;t<o.length;t++){const e=Array.isArray(n)?n[t]:n.type,i=o[t];s.concat(t+1).checkSubtype(e,i.type)}if(0===s.errors.length)return new Le(i,r,a,o)}}if(1===o.length)e.errors.push(...s.errors);else{const i=(o.length?o:a).map(([t])=>{return e=t,Array.isArray(e)?`(${e.map(ne).join(", ")})`:`(${ne(e.type)}...)`;var e}).join(" | "),n=[];for(let i=1;i<t.length;i++){const r=e.parse(t[i],1+n.length);if(!r)return null;n.push(ne(r.type))}e.error(`Expected arguments of type ${i}, but found (${n.join(", ")}) instead.`)}return null}static register(t,e){Le.definitions=e;for(const i in e)t[i]=Le}}class Ae{constructor(t,e,i){this.type=Qt,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");const n=e.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,Xt);if(!n)return null;const r=e.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,Xt);if(!r)return null;let a=null;return i.locale&&(a=e.parse(i.locale,1,Gt),!a)?null:new Ae(n,r,a)}evaluate(t){return new de(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const Ee=8192;function Pe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Ie(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Oe(t,e){const i=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,r=Math.pow(2,e.z);return[Math.round(i*r*Ee),Math.round(n*r*Ee)]}function Re(t,e,i){const n=t[0]-e[0],r=t[1]-e[1],a=t[0]-i[0],o=t[1]-i[1];return n*o-a*r==0&&n*a<=0&&r*o<=0}function ze(t,e){let i=!1;for(let o=0,s=e.length;o<s;o++){const s=e[o];for(let e=0,o=s.length;e<o-1;e++){if(Re(t,s[e],s[e+1]))return!1;(r=s[e])[1]>(n=t)[1]!=(a=s[e+1])[1]>n[1]&&n[0]<(a[0]-r[0])*(n[1]-r[1])/(a[1]-r[1])+r[0]&&(i=!i)}}var n,r,a;return i}function Ye(t,e){for(let i=0;i<e.length;i++)if(ze(t,e[i]))return!0;return!1}function Fe(t,e,i,n){const r=n[0]-i[0],a=n[1]-i[1],o=(t[0]-i[0])*a-r*(t[1]-i[1]),s=(e[0]-i[0])*a-r*(e[1]-i[1]);return o>0&&s<0||o<0&&s>0}function He(t,e,i){for(const c of i)for(let i=0;i<c.length-1;++i)if(0!=(s=[(o=c[i+1])[0]-(a=c[i])[0],o[1]-a[1]])[0]*(l=[(r=e)[0]-(n=t)[0],r[1]-n[1]])[1]-s[1]*l[0]&&Fe(n,r,a,o)&&Fe(a,o,n,r))return!0;var n,r,a,o,s,l;return!1}function Ne(t,e){for(let i=0;i<t.length;++i)if(!ze(t[i],e))return!1;for(let i=0;i<t.length-1;++i)if(He(t[i],t[i+1],e))return!1;return!0}function Be(t,e){for(let i=0;i<e.length;i++)if(Ne(t,e[i]))return!0;return!1}function je(t,e,i){const n=[];for(let r=0;r<t.length;r++){const a=[];for(let n=0;n<t[r].length;n++){const o=Oe(t[r][n],i);Pe(e,o),a.push(o)}n.push(a)}return n}function Ve(t,e,i){const n=[];for(let r=0;r<t.length;r++){const a=je(t[r],e,i);n.push(a)}return n}function We(t,e,i,n){if(t[0]<i[0]||t[0]>i[2]){const e=.5*n;let r=t[0]-i[0]>e?-n:i[0]-t[0]>e?n:0;0===r&&(r=t[0]-i[2]>e?-n:i[2]-t[0]>e?n:0),t[0]+=r}Pe(e,t)}function Ue(t,e,i,n){const r=Math.pow(2,n.z)*Ee,a=[n.x*Ee,n.y*Ee],o=[];for(const n of t)for(const t of n){const n=[t.x+a[0],t.y+a[1]];We(n,e,i,r),o.push(n)}return o}function $e(t,e,i,n){const r=Math.pow(2,n.z)*Ee,a=[n.x*Ee,n.y*Ee],o=[];for(const i of t){const t=[];for(const n of i){const i=[n.x+a[0],n.y+a[1]];Pe(e,i),t.push(i)}o.push(t)}if(e[2]-e[0]<=r/2){(s=e)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const t of o)for(const n of t)We(n,e,i,r)}var s;return o}class qe{constructor(t,e){this.type=Xt,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(ge(t[1])){const e=t[1];if("FeatureCollection"===e.type)for(let t=0;t<e.features.length;++t){const i=e.features[t].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new qe(e,e.features[t].geometry)}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new qe(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new qe(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const a=je(e.coordinates,n,r),o=Ue(t.geometry(),i,n,r);if(!Ie(i,n))return!1;for(const t of o)if(!ze(t,a))return!1}if("MultiPolygon"===e.type){const a=Ve(e.coordinates,n,r),o=Ue(t.geometry(),i,n,r);if(!Ie(i,n))return!1;for(const t of o)if(!Ye(t,a))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const a=je(e.coordinates,n,r),o=$e(t.geometry(),i,n,r);if(!Ie(i,n))return!1;for(const t of o)if(!Ne(t,a))return!1}if("MultiPolygon"===e.type){const a=Ve(e.coordinates,n,r),o=$e(t.geometry(),i,n,r);if(!Ie(i,n))return!1;for(const t of o)if(!Be(t,a))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Ge(t){if(t instanceof Le){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof qe)return!1;let e=!0;return t.eachChild(t=>{e&&!Ge(t)&&(e=!1)}),e}function Xe(t){if(t instanceof Le&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild(t=>{e&&!Xe(t)&&(e=!1)}),e}function Ze(t,e){if(t instanceof Le&&e.indexOf(t.name)>=0)return!1;let i=!0;return t.eachChild(t=>{i&&!Ze(t,e)&&(i=!1)}),i}class Je{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const i=t[1];return e.scope.has(i)?new Je(i,e.scope.get(i)):e.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Ke{constructor(t,e=[],i,n=new Ut,r=[]){this.registry=t,this.path=e,this.key=e.map(t=>`[${t}]`).join(""),this.scope=n,this.errors=r,this.expectedType=i}parse(t,e,i,n,r={}){return e?this.concat(e,i,n)._parse(t,r):this._parse(t,r)}_parse(t,e){function i(t,e,i){return"assert"===i?new we(e,[t]):"coerce"===i?new Me(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=t[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[n];if(r){let n=r.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,r=n.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==r.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(t,r))return null}else n=i(n,t,e.typeAnnotation||"coerce");else n=i(n,t,e.typeAnnotation||"assert")}if(!(n instanceof _e)&&"resolvedImage"!==n.type.kind&&function t(e){if(e instanceof Je)return t(e.boundExpression);if(e instanceof Le&&"error"===e.name)return!1;if(e instanceof Ae)return!1;if(e instanceof qe)return!1;const i=e instanceof Me||e instanceof we;let n=!0;return e.eachChild(e=>{n=i?n&&t(e):n&&e instanceof _e}),!!n&&Ge(e)&&Ze(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(n)){const e=new De;try{n=new _e(n.type,n.evaluate(e))}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,i){const n="number"==typeof t?this.path.concat(t):this.path,r=i?this.scope.concat(i):this.scope;return new Ke(this.registry,n,e||null,r,this.errors)}error(t,...e){const i=`${this.key}${e.map(t=>`[${t}]`).join("")}`;this.errors.push(new Wt(i,t))}checkSubtype(t,e){const i=ae(t,e);return i&&this.error(i),i}}function Qe(t,e){const i=t.length-1;let n,r,a=0,o=i,s=0;for(;a<=o;)if(s=Math.floor((a+o)/2),n=t[s],r=t[s+1],n<=e){if(s===i||e<r)return s;a=s+1}else{if(!(n>e))throw new be("Input is not a number.");o=s-1}return 0}class ti{constructor(t,e,i){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const i=e.parse(t[1],1,qt);if(!i)return null;const n=[];let r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(let i=1;i<t.length;i+=2){const a=1===i?-1/0:t[i],o=t[i+1],s=i,l=i+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=e.parse(o,l,r);if(!c)return null;r=r||c.type,n.push([a,c])}return new ti(r,i,n)}evaluate(t){const e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);const r=e.length;return n>=e[r-1]?i[r-1].evaluate(t):i[Qe(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}function ei(t,e,i){return t*(1-i)+e*i}var ii=Object.freeze({__proto__:null,number:ei,color:function(t,e,i){return new ue(ei(t.r,e.r,i),ei(t.g,e.g,i),ei(t.b,e.b,i),ei(t.a,e.a,i))},array:function(t,e,i){return t.map((t,n)=>ei(t,e[n],i))}});const ni=6/29*3*(6/29),ri=Math.PI/180,ai=180/Math.PI;function oi(t){return t>.008856451679035631?Math.pow(t,1/3):t/ni+4/29}function si(t){return t>6/29?t*t*t:ni*(t-4/29)}function li(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ci(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ui(t){const e=ci(t.r),i=ci(t.g),n=ci(t.b),r=oi((.4124564*e+.3575761*i+.1804375*n)/.95047),a=oi((.2126729*e+.7151522*i+.072175*n)/1);return{l:116*a-16,a:500*(r-a),b:200*(a-oi((.0193339*e+.119192*i+.9503041*n)/1.08883)),alpha:t.a}}function di(t){let e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*si(e),i=.95047*si(i),n=1.08883*si(n),new ue(li(3.2404542*i-1.5371385*e-.4985314*n),li(-.969266*i+1.8760108*e+.041556*n),li(.0556434*i-.2040259*e+1.0572252*n),t.alpha)}function hi(t,e,i){const n=e-t;return t+i*(n>180||n<-180?n-360*Math.round(n/360):n)}const pi={forward:ui,reverse:di,interpolate:function(t,e,i){return{l:ei(t.l,e.l,i),a:ei(t.a,e.a,i),b:ei(t.b,e.b,i),alpha:ei(t.alpha,e.alpha,i)}}},fi={forward:function(t){const{l:e,a:i,b:n}=ui(t),r=Math.atan2(n,i)*ai;return{h:r<0?r+360:r,c:Math.sqrt(i*i+n*n),l:e,alpha:t.a}},reverse:function(t){const e=t.h*ri,i=t.c;return di({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:hi(t.h,e.h,i),c:ei(t.c,e.c,i),l:ei(t.l,e.l,i),alpha:ei(t.alpha,e.alpha,i)}}};var mi=Object.freeze({__proto__:null,lab:pi,hcl:fi});class gi{constructor(t,e,i,n,r){this.type=t,this.operator=e,this.interpolation=i,this.input=n,this.labels=[],this.outputs=[];for(const[t,e]of r)this.labels.push(t),this.outputs.push(e)}static interpolationFactor(t,e,n,r){let a=0;if("exponential"===t.name)a=yi(e,t.base,n,r);else if("linear"===t.name)a=yi(e,1,n,r);else if("cubic-bezier"===t.name){const o=t.controlPoints;a=new i(o[0],o[1],o[2],o[3]).solve(yi(e,1,n,r))}return a}static parse(t,e){let[i,n,r,...a]=t;if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const t=n[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:t}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);{const t=n.slice(1);if(4!==t.length||t.some(t=>"number"!=typeof t||t<0||t>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(r=e.parse(r,2,qt),!r)return null;const o=[];let s=null;"interpolate-hcl"===i||"interpolate-lab"===i?s=Zt:e.expectedType&&"value"!==e.expectedType.kind&&(s=e.expectedType);for(let t=0;t<a.length;t+=2){const i=a[t],n=a[t+1],r=t+3,l=t+4;if("number"!=typeof i)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(o.length&&o[o.length-1][0]>=i)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const c=e.parse(n,l,s);if(!c)return null;s=s||c.type,o.push([i,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new gi(s,i,n,r,o):e.error(`Type ${ne(s)} is not interpolatable.`)}evaluate(t){const e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);const r=e.length;if(n>=e[r-1])return i[r-1].evaluate(t);const a=Qe(e,n),o=gi.interpolationFactor(this.interpolation,n,e[a],e[a+1]),s=i[a].evaluate(t),l=i[a+1].evaluate(t);return"interpolate"===this.operator?ii[this.type.kind.toLowerCase()](s,l,o):"interpolate-hcl"===this.operator?fi.reverse(fi.interpolate(fi.forward(s),fi.forward(l),o)):pi.reverse(pi.interpolate(pi.forward(s),pi.forward(l),o))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function yi(t,e,i,n){const r=n-i,a=t-i;return 0===r?0:1===e?a/r:(Math.pow(e,a)-1)/(Math.pow(e,r)-1)}class vi{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let i=null;const n=e.expectedType;n&&"value"!==n.kind&&(i=n);const r=[];for(const n of t.slice(1)){const t=e.parse(n,1+r.length,i,void 0,{typeAnnotation:"omit"});if(!t)return null;i=i||t.type,r.push(t)}const a=n&&r.some(t=>ae(n,t.type));return new vi(a?Kt:i,r)}evaluate(t){let e,i=null,n=0;for(const r of this.args)if(n++,i=r.evaluate(t),i&&i instanceof fe&&!i.available&&(e||(e=i.name),i=null,n===this.args.length&&(i=e)),null!==i)break;return i}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(e=>{t.push(e.serialize())}),t}}class _i{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const i=[];for(let n=1;n<t.length-1;n+=2){const r=t[n];if("string"!=typeof r)return e.error(`Expected string, but found ${typeof r} instead.`,n);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);const a=e.parse(t[n+1],n+1);if(!a)return null;i.push([r,a])}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,i);return n?new _i(i,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,i]of this.bindings)t.push(e,i.serialize());return t.push(this.result.serialize()),t}}class bi{constructor(t,e,i){this.type=t,this.index=e,this.input=i}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,qt),n=e.parse(t[2],2,ie(e.expectedType||Kt));return i&&n?new bi(n.type.itemType,i,n):null}evaluate(t){const e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0)throw new be(`Array index out of bounds: ${e} < 0.`);if(e>=i.length)throw new be(`Array index out of bounds: ${e} > ${i.length-1}.`);if(e!==Math.floor(e))throw new be(`Array index must be an integer, but found ${e} instead.`);return i[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class xi{constructor(t,e){this.type=Xt,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Kt),n=e.parse(t[2],2,Kt);return i&&n?oe(i.type,[Xt,Gt,qt,$t,Kt])?new xi(i,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ne(i.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!i)return!1;if(!se(e,["boolean","string","number","null"]))throw new be(`Expected first argument to be of type boolean, string, number or null, but found ${ne(ye(e))} instead.`);if(!se(i,["string","array"]))throw new be(`Expected second argument to be of type array or string, but found ${ne(ye(i))} instead.`);return i.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class wi{constructor(t,e,i){this.type=qt,this.needle=t,this.haystack=e,this.fromIndex=i}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Kt),n=e.parse(t[2],2,Kt);if(!i||!n)return null;if(!oe(i.type,[Xt,Gt,qt,$t,Kt]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ne(i.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,qt);return r?new wi(i,n,r):null}return new wi(i,n)}evaluate(t){const e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!se(e,["boolean","string","number","null"]))throw new be(`Expected first argument to be of type boolean, string, number or null, but found ${ne(ye(e))} instead.`);if(!se(i,["string","array"]))throw new be(`Expected second argument to be of type array or string, but found ${ne(ye(i))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(t);return i.indexOf(e,n)}return i.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class ki{constructor(t,e,i,n,r,a){this.inputType=t,this.type=e,this.input=i,this.cases=n,this.outputs=r,this.otherwise=a}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let i,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const r={},a=[];for(let o=2;o<t.length-1;o+=2){let s=t[o];const l=t[o+1];Array.isArray(s)||(s=[s]);const c=e.concat(o);if(0===s.length)return c.error("Expected at least one branch label.");for(const t of s){if("number"!=typeof t&&"string"!=typeof t)return c.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return c.error("Numeric branch labels must be integer values.");if(i){if(c.checkSubtype(i,ye(t)))return null}else i=ye(t);if(void 0!==r[String(t)])return c.error("Branch labels must be unique.");r[String(t)]=a.length}const u=e.parse(l,o,n);if(!u)return null;n=n||u.type,a.push(u)}const o=e.parse(t[1],1,Kt);if(!o)return null;const s=e.parse(t[t.length-1],t.length-1,n);return s?"value"!==o.type.kind&&e.concat(1).checkSubtype(i,o.type)?null:new ki(i,n,o,r,a,s):null}evaluate(t){const e=this.input.evaluate(t);return(ye(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),i=[],n={};for(const t of e){const e=n[this.cases[t]];void 0===e?(n[this.cases[t]]=i.length,i.push([this.cases[t],[t]])):i[e][1].push(t)}const r=t=>"number"===this.inputType.kind?Number(t):t;for(const[e,n]of i)t.push(1===n.length?r(n[0]):n.map(r)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}class Si{constructor(t,e,i){this.type=t,this.branches=e,this.otherwise=i}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const n=[];for(let r=1;r<t.length-1;r+=2){const a=e.parse(t[r],r,Xt);if(!a)return null;const o=e.parse(t[r+1],r+1,i);if(!o)return null;n.push([a,o]),i=i||o.type}const r=e.parse(t[t.length-1],t.length-1,i);return r?new Si(i,n,r):null}evaluate(t){for(const[e,i]of this.branches)if(e.evaluate(t))return i.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,i]of this.branches)t(e),t(i);t(this.otherwise)}outputDefined(){return this.branches.every(([t,e])=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(e=>{t.push(e.serialize())}),t}}class Ti{constructor(t,e,i,n){this.type=t,this.input=e,this.beginIndex=i,this.endIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Kt),n=e.parse(t[2],2,qt);if(!i||!n)return null;if(!oe(i.type,[ie(Kt),Gt,Kt]))return e.error(`Expected first argument to be of type array or string, but found ${ne(i.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,qt);return r?new Ti(i.type,i,n,r):null}return new Ti(i.type,i,n)}evaluate(t){const e=this.input.evaluate(t),i=this.beginIndex.evaluate(t);if(!se(e,["string","array"]))throw new be(`Expected first argument to be of type array or string, but found ${ne(ye(e))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(t);return e.slice(i,n)}return e.slice(i)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Mi(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Ci(t,e,i,n){return 0===n.compare(e,i)}function Di(t,e,i){const n="=="!==t&&"!="!==t;return class r{constructor(t,e,i){this.type=Xt,this.lhs=t,this.rhs=e,this.collator=i,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const i=t[0];let a=e.parse(t[1],1,Kt);if(!a)return null;if(!Mi(i,a.type))return e.concat(1).error(`"${i}" comparisons are not supported for type '${ne(a.type)}'.`);let o=e.parse(t[2],2,Kt);if(!o)return null;if(!Mi(i,o.type))return e.concat(2).error(`"${i}" comparisons are not supported for type '${ne(o.type)}'.`);if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error(`Cannot compare types '${ne(a.type)}' and '${ne(o.type)}'.`);n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new we(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new we(a.type,[o])));let s=null;if(4===t.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(s=e.parse(t[3],3,Qt),!s)return null}return new r(a,o,s)}evaluate(r){const a=this.lhs.evaluate(r),o=this.rhs.evaluate(r);if(n&&this.hasUntypedArgument){const e=ye(a),i=ye(o);if(e.kind!==i.kind||"string"!==e.kind&&"number"!==e.kind)throw new be(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${i.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=ye(a),i=ye(o);if("string"!==t.kind||"string"!==i.kind)return e(r,a,o)}return this.collator?i(r,a,o,this.collator.evaluate(r)):e(r,a,o)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}serialize(){const e=[t];return this.eachChild(t=>{e.push(t.serialize())}),e}}}const Li=Di("==",(function(t,e,i){return e===i}),Ci),Ai=Di("!=",(function(t,e,i){return e!==i}),(function(t,e,i,n){return!Ci(0,e,i,n)})),Ei=Di("<",(function(t,e,i){return e<i}),(function(t,e,i,n){return n.compare(e,i)<0})),Pi=Di(">",(function(t,e,i){return e>i}),(function(t,e,i,n){return n.compare(e,i)>0})),Ii=Di("<=",(function(t,e,i){return e<=i}),(function(t,e,i,n){return n.compare(e,i)<=0})),Oi=Di(">=",(function(t,e,i){return e>=i}),(function(t,e,i,n){return n.compare(e,i)>=0}));class Ri{constructor(t,e,i,n,r){this.type=Gt,this.number=t,this.locale=e,this.currency=i,this.minFractionDigits=n,this.maxFractionDigits=r}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const i=e.parse(t[1],1,qt);if(!i)return null;const n=t[2];if("object"!=typeof n||Array.isArray(n))return e.error("NumberFormat options argument must be an object.");let r=null;if(n.locale&&(r=e.parse(n.locale,1,Gt),!r))return null;let a=null;if(n.currency&&(a=e.parse(n.currency,1,Gt),!a))return null;let o=null;if(n["min-fraction-digits"]&&(o=e.parse(n["min-fraction-digits"],1,qt),!o))return null;let s=null;return n["max-fraction-digits"]&&(s=e.parse(n["max-fraction-digits"],1,qt),!s)?null:new Ri(i,r,a,o,s)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class zi{constructor(t){this.type=qt,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error(`Expected argument of type string or array, but found ${ne(i.type)} instead.`):new zi(i):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new be(`Expected value to be of type string or array, but found ${ne(ye(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(e=>{t.push(e.serialize())}),t}}const Yi={"==":Li,"!=":Ai,">":Pi,"<":Ei,">=":Oi,"<=":Ii,array:we,at:bi,boolean:we,case:Si,coalesce:vi,collator:Ae,format:ke,image:Se,in:xi,"index-of":wi,interpolate:gi,"interpolate-hcl":gi,"interpolate-lab":gi,length:zi,let:_i,literal:_e,match:ki,number:we,"number-format":Ri,object:we,slice:Ti,step:ti,string:we,"to-boolean":Me,"to-color":Me,"to-number":Me,"to-string":Me,var:Je,within:qe};function Fi(t,[e,i,n,r]){e=e.evaluate(t),i=i.evaluate(t),n=n.evaluate(t);const a=r?r.evaluate(t):1,o=me(e,i,n,a);if(o)throw new be(o);return new ue(e/255*a,i/255*a,n/255*a,a)}function Hi(t,e){return t in e}function Ni(t,e){const i=e[t];return void 0===i?null:i}function Bi(t){return{type:t}}function ji(t){return{result:"success",value:t}}function Vi(t){return{result:"error",value:t}}function Wi(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ui(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function $i(t){return!!t.expression&&t.expression.interpolated}function qi(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Gi(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Xi(t){return t}function Zi(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function Ji(t,e,i,n,r){return Zi(typeof i===r?n[i]:void 0,t.default,e.default)}function Ki(t,e,i){if("number"!==qi(i))return Zi(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];const r=Qe(t.stops.map(t=>t[0]),i);return t.stops[r][1]}function Qi(t,e,i){const n=void 0!==t.base?t.base:1;if("number"!==qi(i))return Zi(t.default,e.default);const r=t.stops.length;if(1===r)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[r-1][0])return t.stops[r-1][1];const a=Qe(t.stops.map(t=>t[0]),i),o=function(t,e,i,n){const r=n-i,a=t-i;return 0===r?0:1===e?a/r:(Math.pow(e,a)-1)/(Math.pow(e,r)-1)}(i,n,t.stops[a][0],t.stops[a+1][0]),s=t.stops[a][1],l=t.stops[a+1][1];let c=ii[e.type]||Xi;if(t.colorSpace&&"rgb"!==t.colorSpace){const e=mi[t.colorSpace];c=(t,i)=>e.reverse(e.interpolate(e.forward(t),e.forward(i),o))}return"function"==typeof s.evaluate?{evaluate(...t){const e=s.evaluate.apply(void 0,t),i=l.evaluate.apply(void 0,t);if(void 0!==e&&void 0!==i)return c(e,i,o)}}:c(s,l,o)}function tn(t,e,i){return"color"===e.type?i=ue.parse(i):"formatted"===e.type?i=pe.fromString(i.toString()):"resolvedImage"===e.type?i=fe.fromString(i.toString()):qi(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),Zi(i,t.default,e.default)}Le.register(Yi,{error:[{kind:"error"},[Gt],(t,[e])=>{throw new be(e.evaluate(t))}],typeof:[Gt,[Kt],(t,[e])=>ne(ye(e.evaluate(t)))],"to-rgba":[ie(qt,4),[Zt],(t,[e])=>e.evaluate(t).toArray()],rgb:[Zt,[qt,qt,qt],Fi],rgba:[Zt,[qt,qt,qt,qt],Fi],has:{type:Xt,overloads:[[[Gt],(t,[e])=>Hi(e.evaluate(t),t.properties())],[[Gt,Jt],(t,[e,i])=>Hi(e.evaluate(t),i.evaluate(t))]]},get:{type:Kt,overloads:[[[Gt],(t,[e])=>Ni(e.evaluate(t),t.properties())],[[Gt,Jt],(t,[e,i])=>Ni(e.evaluate(t),i.evaluate(t))]]},"feature-state":[Kt,[Gt],(t,[e])=>Ni(e.evaluate(t),t.featureState||{})],properties:[Jt,[],t=>t.properties()],"geometry-type":[Gt,[],t=>t.geometryType()],id:[Kt,[],t=>t.id()],zoom:[qt,[],t=>t.globals.zoom],"heatmap-density":[qt,[],t=>t.globals.heatmapDensity||0],"line-progress":[qt,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[qt,[],t=>t.globals.skyRadialProgress||0],accumulated:[Kt,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[qt,Bi(qt),(t,e)=>{let i=0;for(const n of e)i+=n.evaluate(t);return i}],"*":[qt,Bi(qt),(t,e)=>{let i=1;for(const n of e)i*=n.evaluate(t);return i}],"-":{type:qt,overloads:[[[qt,qt],(t,[e,i])=>e.evaluate(t)-i.evaluate(t)],[[qt],(t,[e])=>-e.evaluate(t)]]},"/":[qt,[qt,qt],(t,[e,i])=>e.evaluate(t)/i.evaluate(t)],"%":[qt,[qt,qt],(t,[e,i])=>e.evaluate(t)%i.evaluate(t)],ln2:[qt,[],()=>Math.LN2],pi:[qt,[],()=>Math.PI],e:[qt,[],()=>Math.E],"^":[qt,[qt,qt],(t,[e,i])=>Math.pow(e.evaluate(t),i.evaluate(t))],sqrt:[qt,[qt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[qt,[qt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[qt,[qt],(t,[e])=>Math.log(e.evaluate(t))],log2:[qt,[qt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[qt,[qt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[qt,[qt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[qt,[qt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[qt,[qt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[qt,[qt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[qt,[qt],(t,[e])=>Math.atan(e.evaluate(t))],min:[qt,Bi(qt),(t,e)=>Math.min(...e.map(e=>e.evaluate(t)))],max:[qt,Bi(qt),(t,e)=>Math.max(...e.map(e=>e.evaluate(t)))],abs:[qt,[qt],(t,[e])=>Math.abs(e.evaluate(t))],round:[qt,[qt],(t,[e])=>{const i=e.evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[qt,[qt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[qt,[qt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Xt,[Gt,Kt],(t,[e,i])=>t.properties()[e.value]===i.value],"filter-id-==":[Xt,[Kt],(t,[e])=>t.id()===e.value],"filter-type-==":[Xt,[Gt],(t,[e])=>t.geometryType()===e.value],"filter-<":[Xt,[Gt,Kt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n<r}],"filter-id-<":[Xt,[Kt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i<n}],"filter->":[Xt,[Gt,Kt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n>r}],"filter-id->":[Xt,[Kt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i>n}],"filter-<=":[Xt,[Gt,Kt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[Xt,[Kt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i<=n}],"filter->=":[Xt,[Gt,Kt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[Xt,[Kt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i>=n}],"filter-has":[Xt,[Kt],(t,[e])=>e.value in t.properties()],"filter-has-id":[Xt,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[Xt,[ie(Gt)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Xt,[ie(Kt)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Xt,[Gt,ie(Kt)],(t,[e,i])=>i.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Xt,[Gt,ie(Kt)],(t,[e,i])=>function(t,e,i,n){for(;i<=n;){const r=i+n>>1;if(e[r]===t)return!0;e[r]>t?n=r-1:i=r+1}return!1}(t.properties()[e.value],i.value,0,i.value.length-1)],all:{type:Xt,overloads:[[[Xt,Xt],(t,[e,i])=>e.evaluate(t)&&i.evaluate(t)],[Bi(Xt),(t,e)=>{for(const i of e)if(!i.evaluate(t))return!1;return!0}]]},any:{type:Xt,overloads:[[[Xt,Xt],(t,[e,i])=>e.evaluate(t)||i.evaluate(t)],[Bi(Xt),(t,e)=>{for(const i of e)if(i.evaluate(t))return!0;return!1}]]},"!":[Xt,[Xt],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Xt,[Gt],(t,[e])=>{const i=t.globals&&t.globals.isSupportedScript;return!i||i(e.evaluate(t))}],upcase:[Gt,[Gt],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[Gt,[Gt],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[Gt,Bi(Kt),(t,e)=>e.map(e=>ve(e.evaluate(t))).join("")],"resolved-locale":[Gt,[Qt],(t,[e])=>e.evaluate(t).resolvedLocale()]});class en{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new De,this._defaultValue=e?function(t){return"color"===t.type&&Gi(t.default)?new ue(0,0,0,0):"color"===t.type?ue.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,i,n,r,a){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(t,e,i,n,r,a){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=i||null,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new be(`Expected value to be one of ${Object.keys(this._enumValues).map(t=>JSON.stringify(t)).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function nn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Yi}function rn(t,e){const i=new Ke(Yi,[],e?function(t){const e={color:Zt,string:Gt,number:qt,enum:Gt,boolean:Xt,formatted:te,resolvedImage:ee};return"array"===t.type?ie(e[t.value]||Kt,t.length):e[t.type]}(e):void 0),n=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return n?ji(new en(n,e)):Vi(i.errors)}class an{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Xe(e.expression)}evaluateWithoutErrorHandling(t,e,i,n,r,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,n,r,a)}evaluate(t,e,i,n,r,a){return this._styleExpression.evaluate(t,e,i,n,r,a)}}class on{constructor(t,e,i,n){this.kind=t,this.zoomStops=i,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Xe(e.expression),this.interpolationType=n}evaluateWithoutErrorHandling(t,e,i,n,r,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,n,r,a)}evaluate(t,e,i,n,r,a){return this._styleExpression.evaluate(t,e,i,n,r,a)}interpolationFactor(t,e,i){return this.interpolationType?gi.interpolationFactor(this.interpolationType,t,e,i):0}}function sn(t,e){if("error"===(t=rn(t,e)).result)return t;const i=t.value.expression,n=Ge(i);if(!n&&!Wi(e))return Vi([new Wt("","data expressions not supported")]);const r=Ze(i,["zoom"]);if(!r&&!Ui(e))return Vi([new Wt("","zoom expressions not supported")]);const a=function t(e){let i=null;if(e instanceof _i)i=t(e.result);else if(e instanceof vi){for(const n of e.args)if(i=t(n),i)break}else(e instanceof ti||e instanceof gi)&&e.input instanceof Le&&"zoom"===e.input.name&&(i=e);return i instanceof Wt||e.eachChild(e=>{const n=t(e);n instanceof Wt?i=n:!i&&n?i=new Wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&n&&i!==n&&(i=new Wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}(i);return a||r?a instanceof Wt?Vi([a]):a instanceof gi&&!$i(e)?Vi([new Wt("",'"interpolate" expressions cannot be used with this property')]):ji(a?new on(n?"camera":"composite",t.value,a.labels,a instanceof gi?a.interpolation:void 0):new an(n?"constant":"source",t.value)):Vi([new Wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ln{constructor(t,e){this._parameters=t,this._specification=e,Bt(this,function t(e,i){const n="color"===i.type,r=e.stops&&"object"==typeof e.stops[0][0],a=r||!(r||void 0!==e.property),o=e.type||($i(i)?"exponential":"interval");if(n&&((e=Bt({},e)).stops&&(e.stops=e.stops.map(t=>[t[0],ue.parse(t[1])])),e.default=ue.parse(e.default?e.default:i.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!mi[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);let s,l,c;if("exponential"===o)s=Qi;else if("interval"===o)s=Ki;else if("categorical"===o){s=Ji,l=Object.create(null);for(const t of e.stops)l[t[0]]=t[1];c=typeof e.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);s=tn}if(r){const n={},r=[];for(let t=0;t<e.stops.length;t++){const i=e.stops[t],a=i[0].zoom;void 0===n[a]&&(n[a]={zoom:a,type:e.type,property:e.property,default:e.default,stops:[]},r.push(a)),n[a].stops.push([i[0].value,i[1]])}const a=[];for(const e of r)a.push([n[e].zoom,t(n[e],i)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:gi.interpolationFactor.bind(void 0,o),zoomStops:a.map(t=>t[0]),evaluate:({zoom:t},n)=>Qi({stops:a,base:e.base},i,t).evaluate(t,n)}}if(a){const t="exponential"===o?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:t,interpolationFactor:gi.interpolationFactor.bind(void 0,t),zoomStops:e.stops.map(t=>t[0]),evaluate:({zoom:t})=>s(e,i,t,l,c)}}return{kind:"source",evaluate(t,n){const r=n&&n.properties?n.properties[e.property]:void 0;return void 0===r?Zi(e.default,i.default):s(e,i,r,l,c)}}}(this._parameters,this._specification))}static deserialize(t){return new ln(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function cn(t){const e=t.key,i=t.value,n=t.valueSpec||{},r=t.objectElementValidators||{},a=t.style,o=t.styleSpec;let s=[];const l=qi(i);if("object"!==l)return[new Ht(e,i,`object expected, ${l} found`)];for(const t in i){const l=t.split(".")[0],c=n[l]||n["*"];let u;if(r[l])u=r[l];else if(n[l])u=Yn;else if(r["*"])u=r["*"];else{if(!n["*"]){s.push(new Ht(e,i[t],`unknown property "${t}"`));continue}u=Yn}s=s.concat(u({key:(e?e+".":e)+t,value:i[t],valueSpec:c,style:a,styleSpec:o,object:i,objectKey:t},i))}for(const t in n)r[t]||n[t].required&&void 0===n[t].default&&void 0===i[t]&&s.push(new Ht(e,i,`missing required property "${t}"`));return s}function un(t){const e=t.value,i=t.valueSpec,n=t.style,r=t.styleSpec,a=t.key,o=t.arrayElementValidator||Yn;if("array"!==qi(e))return[new Ht(a,e,`array expected, ${qi(e)} found`)];if(i.length&&e.length!==i.length)return[new Ht(a,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new Ht(a,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let s={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum};r.$version<7&&(s.function=i.function),"object"===qi(i.value)&&(s=i.value);let l=[];for(let t=0;t<e.length;t++)l=l.concat(o({array:e,arrayIndex:t,value:e[t],valueSpec:s,style:n,styleSpec:r,key:`${a}[${t}]`}));return l}function dn(t){const e=t.key,i=t.value,n=t.valueSpec;let r=qi(i);if("number"===r&&i!=i&&(r="NaN"),"number"!==r)return[new Ht(e,i,`number expected, ${r} found`)];if("minimum"in n){let r=n.minimum;if("array"===qi(n.minimum)&&(r=n.minimum[t.arrayIndex]),i<r)return[new Ht(e,i,`${i} is less than the minimum value ${r}`)]}if("maximum"in n){let r=n.maximum;if("array"===qi(n.maximum)&&(r=n.maximum[t.arrayIndex]),i>r)return[new Ht(e,i,`${i} is greater than the maximum value ${r}`)]}return[]}function hn(t){const e=t.valueSpec,i=jt(t.value.type);let n,r,a,o={};const s="categorical"!==i&&void 0===t.value.property,l=!s,c="array"===qi(t.value.stops)&&"array"===qi(t.value.stops[0])&&"object"===qi(t.value.stops[0][0]),u=cn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===i)return[new Ht(t.key,t.value,'identity function may not have a "stops" property')];let e=[];const n=t.value;return e=e.concat(un({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:d})),"array"===qi(n)&&0===n.length&&e.push(new Ht(t.key,n,"array must have at least one stop")),e},default:function(t){return Yn({key:t.key,value:t.value,valueSpec:e,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===i&&s&&u.push(new Ht(t.key,t.value,'missing required property "property"')),"identity"===i||t.value.stops||u.push(new Ht(t.key,t.value,'missing required property "stops"')),"exponential"===i&&t.valueSpec.expression&&!$i(t.valueSpec)&&u.push(new Ht(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!Wi(t.valueSpec)?u.push(new Ht(t.key,t.value,"property functions not supported")):s&&!Ui(t.valueSpec)&&u.push(new Ht(t.key,t.value,"zoom functions not supported"))),"categorical"!==i&&!c||void 0!==t.value.property||u.push(new Ht(t.key,t.value,'"property" property is required')),u;function d(t){let i=[];const n=t.value,s=t.key;if("array"!==qi(n))return[new Ht(s,n,`array expected, ${qi(n)} found`)];if(2!==n.length)return[new Ht(s,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==qi(n[0]))return[new Ht(s,n,`object expected, ${qi(n[0])} found`)];if(void 0===n[0].zoom)return[new Ht(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new Ht(s,n,"object stop key must have value")];if(a&&a>jt(n[0].zoom))return[new Ht(s,n[0].zoom,"stop zoom values must appear in ascending order")];jt(n[0].zoom)!==a&&(a=jt(n[0].zoom),r=void 0,o={}),i=i.concat(cn({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:dn,value:h}}))}else i=i.concat(h({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return nn(Vt(n[1]))?i.concat([new Ht(s+"[1]",n[1],"expressions are not allowed in function stops.")]):i.concat(Yn({key:s+"[1]",value:n[1],valueSpec:e,style:t.style,styleSpec:t.styleSpec}))}function h(t,a){const s=qi(t.value),l=jt(t.value),c=null!==t.value?t.value:a;if(n){if(s!==n)return[new Ht(t.key,c,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ht(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){let n=`number expected, ${s} found`;return Wi(e)&&void 0===i&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ht(t.key,c,n)]}return"categorical"!==i||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&void 0!==r&&l<r?[new Ht(t.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in o?[new Ht(t.key,c,"stop domain values must be unique")]:(o[l]=!0,[])):[new Ht(t.key,c,"integer expected, found "+l)]}}function pn(t){const e=("property"===t.expressionContext?sn:rn)(Vt(t.value),t.valueSpec);if("error"===e.result)return e.value.map(e=>new Ht(`${t.key}${e.key}`,t.value,e.message));const i=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!i.outputDefined())return[new Ht(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Xe(i))return[new Ht(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Xe(i))return[new Ht(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Ze(i,["zoom","feature-state"]))return[new Ht(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ge(i))return[new Ht(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fn(t){const e=t.key,i=t.value,n=t.valueSpec,r=[];return Array.isArray(n.values)?-1===n.values.indexOf(jt(i))&&r.push(new Ht(e,i,`expected one of [${n.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(n.values).indexOf(jt(i))&&r.push(new Ht(e,i,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(i)} found`)),r}function mn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!mn(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}const gn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function yn(t){if(null==t)return{filter:()=>!0,needGeometry:!1};mn(t)||(t=bn(t));const e=rn(t,gn);if("error"===e.result)throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));return{filter:(t,i,n)=>e.value.evaluate(t,i,{},n),needGeometry:_n(t)}}function vn(t,e){return t<e?-1:t>e?1:0}function _n(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(_n(t[e]))return!0;return!1}function bn(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?xn(t[1],t[2],"=="):"!="===e?Sn(xn(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?xn(t[1],t[2],e):"any"===e?(i=t.slice(1),["any"].concat(i.map(bn))):"all"===e?["all"].concat(t.slice(1).map(bn)):"none"===e?["all"].concat(t.slice(1).map(bn).map(Sn)):"in"===e?wn(t[1],t.slice(2)):"!in"===e?Sn(wn(t[1],t.slice(2))):"has"===e?kn(t[1]):"!has"===e?Sn(kn(t[1])):"within"!==e||t;var i}function xn(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function wn(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",t,["literal",e.sort(vn)]]:["filter-in-small",t,["literal",e]]}}function kn(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Sn(t){return["!",t]}function Tn(t){return mn(Vt(t.value))?pn(Bt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){const i=e.value,n=e.key;if("array"!==qi(i))return[new Ht(n,i,`array expected, ${qi(i)} found`)];const r=e.styleSpec;let a,o=[];if(i.length<1)return[new Ht(n,i,"filter array must have at least 1 element")];switch(o=o.concat(fn({key:n+"[0]",value:i[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),jt(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"===jt(i[1])&&o.push(new Ht(n,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":3!==i.length&&o.push(new Ht(n,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(a=qi(i[1]),"string"!==a&&o.push(new Ht(n+"[1]",i[1],`string expected, ${a} found`)));for(let t=2;t<i.length;t++)a=qi(i[t]),"$type"===jt(i[1])?o=o.concat(fn({key:`${n}[${t}]`,value:i[t],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==a&&"number"!==a&&"boolean"!==a&&o.push(new Ht(`${n}[${t}]`,i[t],`string, number, or boolean expected, ${a} found`));break;case"any":case"all":case"none":for(let r=1;r<i.length;r++)o=o.concat(t({key:`${n}[${r}]`,value:i[r],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":a=qi(i[1]),2!==i.length?o.push(new Ht(n,i,`filter array for "${i[0]}" operator must have 2 elements`)):"string"!==a&&o.push(new Ht(n+"[1]",i[1],`string expected, ${a} found`));break;case"within":a=qi(i[1]),2!==i.length?o.push(new Ht(n,i,`filter array for "${i[0]}" operator must have 2 elements`)):"object"!==a&&o.push(new Ht(n+"[1]",i[1],`object expected, ${a} found`))}return o}(t)}function Mn(t,e){const i=t.key,n=t.style,r=t.styleSpec,a=t.value,o=t.objectKey,s=r[`${e}_${t.layerType}`];if(!s)return[];const l=o.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return Yn({key:i,value:a,valueSpec:r.transition,style:n,styleSpec:r});const c=t.valueSpec||s[o];if(!c)return[new Ht(i,a,`unknown property "${o}"`)];let u;if("string"===qi(a)&&Wi(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(a)))return[new Ht(i,a,`"${o}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===t.layerType&&("text-field"===o&&n&&!n.glyphs&&d.push(new Ht(i,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Gi(Vt(a))&&"identity"===jt(a.type)&&d.push(new Ht(i,a,'"text-font" does not support identity functions'))),d.concat(Yn({key:t.key,value:a,valueSpec:c,style:n,styleSpec:r,expressionContext:"property",propertyType:e,propertyKey:o}))}function Cn(t){return Mn(t,"paint")}function Dn(t){return Mn(t,"layout")}function Ln(t){let e=[];const i=t.value,n=t.key,r=t.style,a=t.styleSpec;i.type||i.ref||e.push(new Ht(n,i,'either "type" or "ref" is required'));let o=jt(i.type);const s=jt(i.ref);if(i.id){const a=jt(i.id);for(let o=0;o<t.arrayIndex;o++){const t=r.layers[o];jt(t.id)===a&&e.push(new Ht(n,i.id,`duplicate layer id "${i.id}", previously used at line ${t.id.__line__}`))}}if("ref"in i){let t;["type","source","source-layer","filter","layout"].forEach(t=>{t in i&&e.push(new Ht(n,i[t],`"${t}" is prohibited for ref layers`))}),r.layers.forEach(e=>{jt(e.id)===s&&(t=e)}),t?t.ref?e.push(new Ht(n,i.ref,"ref cannot reference another ref layer")):o=jt(t.type):e.push(new Ht(n,i.ref,`ref layer "${s}" not found`))}else if("background"!==o&&"sky"!==o)if(i.source){const t=r.sources&&r.sources[i.source],a=t&&jt(t.type);t?"vector"===a&&"raster"===o?e.push(new Ht(n,i.source,`layer "${i.id}" requires a raster source`)):"raster"===a&&"raster"!==o?e.push(new Ht(n,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==a||i["source-layer"]?"raster-dem"===a&&"hillshade"!==o?e.push(new Ht(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==o||!i.paint||!i.paint["line-gradient"]||"geojson"===a&&t.lineMetrics||e.push(new Ht(n,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Ht(n,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new Ht(n,i.source,`source "${i.source}" not found`))}else e.push(new Ht(n,i,'missing required property "source"'));return e=e.concat(cn({key:n,value:i,valueSpec:a.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Yn({key:n+".type",value:i.type,valueSpec:a.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"}),filter:Tn,layout:t=>cn({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":t=>Dn(Bt({layerType:o},t))}}),paint:t=>cn({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":t=>Cn(Bt({layerType:o},t))}})}})),e}function An(t){const e=t.value,i=t.key,n=qi(e);return"string"!==n?[new Ht(i,e,`string expected, ${n} found`)]:[]}const En={promoteId:function({key:t,value:e}){if("string"===qi(e))return An({key:t,value:e});{const i=[];for(const n in e)i.push(...An({key:`${t}.${n}`,value:e[n]}));return i}}};function Pn(t){const e=t.value,i=t.key,n=t.styleSpec,r=t.style;if(!e.type)return[new Ht(i,e,'"type" is required')];const a=jt(e.type);let o;switch(a){case"vector":case"raster":case"raster-dem":return o=cn({key:i,value:e,valueSpec:n["source_"+a.replace("-","_")],style:t.style,styleSpec:n,objectElementValidators:En}),o;case"geojson":if(o=cn({key:i,value:e,valueSpec:n.source_geojson,style:r,styleSpec:n,objectElementValidators:En}),e.cluster)for(const t in e.clusterProperties){const[n,r]=e.clusterProperties[t],a="string"==typeof n?[n,["accumulated"],["get",t]]:n;o.push(...pn({key:`${i}.${t}.map`,value:r,expressionContext:"cluster-map"})),o.push(...pn({key:`${i}.${t}.reduce`,value:a,expressionContext:"cluster-reduce"}))}return o;case"video":return cn({key:i,value:e,valueSpec:n.source_video,style:r,styleSpec:n});case"image":return cn({key:i,value:e,valueSpec:n.source_image,style:r,styleSpec:n});case"canvas":return[new Ht(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fn({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:n})}}function In(t){const e=t.value,i=t.styleSpec,n=i.light,r=t.style;let a=[];const o=qi(e);if(void 0===e)return a;if("object"!==o)return a=a.concat([new Ht("light",e,`object expected, ${o} found`)]),a;for(const t in e){const o=t.match(/^(.*)-transition$/);a=a.concat(o&&n[o[1]]&&n[o[1]].transition?Yn({key:t,value:e[t],valueSpec:i.transition,style:r,styleSpec:i}):n[t]?Yn({key:t,value:e[t],valueSpec:n[t],style:r,styleSpec:i}):[new Ht(t,e[t],`unknown property "${t}"`)])}return a}function On(t){const e=t.value,i=t.key,n=t.style,r=t.styleSpec,a=r.terrain;let o=[];const s=qi(e);if(void 0===e)return o;if("object"!==s)return o=o.concat([new Ht("terrain",e,`object expected, ${s} found`)]),o;for(const t in e){const i=t.match(/^(.*)-transition$/);o=o.concat(i&&a[i[1]]&&a[i[1]].transition?Yn({key:t,value:e[t],valueSpec:r.transition,style:n,styleSpec:r}):a[t]?Yn({key:t,value:e[t],valueSpec:a[t],style:n,styleSpec:r}):[new Ht(t,e[t],`unknown property "${t}"`)])}if(e.source){const t=n.sources&&n.sources[e.source],r=t&&jt(t.type);t?"raster-dem"!==r&&o.push(new Ht(i,e.source,`terrain cannot be used with a source of type ${r}, it only be used with a "raster-dem" source type`)):o.push(new Ht(i,e.source,`source "${e.source}" not found`))}else o.push(new Ht(i,e,'terrain is missing required property "source"'));return o}function Rn(t){const e=t.value,i=t.style,n=t.styleSpec,r=n.fog;let a=[];const o=qi(e);if(void 0===e)return a;if("object"!==o)return a=a.concat([new Ht("fog",e,`object expected, ${o} found`)]),a;for(const t in e){const o=t.match(/^(.*)-transition$/);a=a.concat(o&&r[o[1]]&&r[o[1]].transition?Yn({key:t,value:e[t],valueSpec:n.transition,style:i,styleSpec:n}):r[t]?Yn({key:t,value:e[t],valueSpec:r[t],style:i,styleSpec:n}):[new Ht(t,e[t],`unknown property "${t}"`)])}return a}const zn={"*":()=>[],array:un,boolean:function(t){const e=t.value,i=t.key,n=qi(e);return"boolean"!==n?[new Ht(i,e,`boolean expected, ${n} found`)]:[]},number:dn,color:function(t){const e=t.key,i=t.value,n=qi(i);return"string"!==n?[new Ht(e,i,`color expected, ${n} found`)]:null===ce.parseCSSColor(i)?[new Ht(e,i,`color expected, "${i}" found`)]:[]},constants:Nt,enum:fn,filter:Tn,function:hn,layer:Ln,object:cn,source:Pn,light:In,terrain:On,fog:Rn,string:An,formatted:function(t){return 0===An(t).length?[]:pn(t)},resolvedImage:function(t){return 0===An(t).length?[]:pn(t)}};function Yn(t){const e=t.value,i=t.valueSpec,n=t.styleSpec;return i.expression&&Gi(jt(e))?hn(t):i.expression&&nn(Vt(e))?pn(t):i.type&&zn[i.type]?zn[i.type](t):cn(Bt({},t,{valueSpec:i.type?n[i.type]:i}))}function Fn(t){const e=t.value,i=t.key,n=An(t);return n.length||(-1===e.indexOf("{fontstack}")&&n.push(new Ht(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new Ht(i,e,'"glyphs" url must include a "{range}" token'))),n}function Hn(t,e=Ft){let i=[];return i=i.concat(Yn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Fn,"*":()=>[]}})),t.constants&&(i=i.concat(Nt({key:"constants",value:t.constants,style:t,styleSpec:e}))),Nn(i)}function Nn(t){return[].concat(t).sort((t,e)=>t.line-e.line)}function Bn(t){return function(...e){return Nn(t.apply(this,e))}}Hn.source=Bn(Pn),Hn.light=Bn(In),Hn.terrain=Bn(On),Hn.fog=Bn(Rn),Hn.layer=Bn(Ln),Hn.filter=Bn(Tn),Hn.paintProperty=Bn(Cn),Hn.layoutProperty=Bn(Dn);const jn=Hn,Vn=jn.light,Wn=jn.fog,Un=jn.paintProperty,$n=jn.layoutProperty;function qn(t,e){let i=!1;if(e&&e.length)for(const n of e)t.fire(new zt(new Error(n.message))),i=!0;return i}var Gn=Xn;function Xn(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var r=new Int32Array(this.arrayBuffer);t=r[0],this.d=(e=r[1])+2*(i=r[2]);for(var a=0;a<this.d*this.d;a++){var o=r[3+a],s=r[3+a+1];n.push(o===s?null:r.subarray(o,s))}var l=r[3+n.length+1];this.keys=r.subarray(r[3+n.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var u=i/e*t;this.min=-u,this.max=t+u}Xn.prototype.insert=function(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},Xn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Xn.prototype._insertCell=function(t,e,i,n,r,a){this.cells[r].push(a)},Xn.prototype.query=function(t,e,i,n,r){var a=this.min,o=this.max;if(t<=a&&e<=a&&o<=i&&o<=n&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,i,n,this._queryCell,s,{},r),s},Xn.prototype._queryCell=function(t,e,i,n,r,a,o,s){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,d=0;d<l.length;d++){var h=l[d];if(void 0===o[h]){var p=4*h;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):t<=u[p+2]&&e<=u[p+3]&&i>=u[p+0]&&n>=u[p+1])?(o[h]=!0,a.push(c[h])):o[h]=!1}}},Xn.prototype._forEachCell=function(t,e,i,n,r,a,o,s){for(var l=this._convertToCellCoord(t),c=this._convertToCellCoord(e),u=this._convertToCellCoord(i),d=this._convertToCellCoord(n),h=l;h<=u;h++)for(var p=c;p<=d;p++){var f=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&r.call(this,t,e,i,n,f,a,o,s))return}},Xn.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Xn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Xn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var r=new Int32Array(e+i+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var a=e,o=0;o<t.length;o++){var s=t[o];r[3+o]=a,r.set(s,a),a+=s.length}return r[3+t.length]=a,r.set(this.keys,a),r[3+t.length+1]=a+=this.keys.length,r.set(this.bboxes,a),a+=this.bboxes.length,r.buffer};const{ImageData:Zn,ImageBitmap:Jn}=o,Kn={};function Qn(t,e,i={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Kn[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}Qn("Object",Object),Gn.serialize=function(t,e){const i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},Gn.deserialize=function(t){return new Gn(t.buffer)},Qn("Grid",Gn),Qn("Color",ue),Qn("Error",Error),Qn("ResolvedImage",fe),Qn("StylePropertyFunction",ln),Qn("StyleExpression",en,{omit:["_evaluator"]}),Qn("ZoomDependentExpression",on),Qn("ZoomConstantExpression",an),Qn("CompoundExpression",Le,{omit:["_evaluate"]});for(const t in Yi)Yi[t]._classRegistryKey||Qn("Expression_"+t,Yi[t]);function tr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function er(t){return Jn&&t instanceof Jn}function ir(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(tr(t)||er(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){const i=t;return e&&e.push(i.buffer),i}if(t instanceof Zn)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const i=[];for(const n of t)i.push(ir(n,e));return i}if("object"==typeof t){const i=t.constructor,n=i._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class");const r=i.serialize?i.serialize(t,e):{};if(!i.serialize){for(const i in t){if(!t.hasOwnProperty(i))continue;if(Kn[n].omit.indexOf(i)>=0)continue;const a=t[i];r[i]=Kn[n].shallow.indexOf(i)>=0?a:ir(a,e)}t instanceof Error&&(r.message=t.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(r.$name=n),r}throw new Error("can't serialize object of type "+typeof t)}function nr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||tr(t)||er(t)||ArrayBuffer.isView(t)||t instanceof Zn)return t;if(Array.isArray(t))return t.map(nr);if("object"==typeof t){const e=t.$name||"Object",{klass:i}=Kn[e];if(!i)throw new Error("can't deserialize unregistered class "+e);if(i.deserialize)return i.deserialize(t);const n=Object.create(i.prototype);for(const i of Object.keys(t)){if("$name"===i)continue;const r=t[i];n[i]=Kn[e].shallow.indexOf(i)>=0?r:nr(r)}return n}throw new Error("can't deserialize object of type "+typeof t)}class rr{constructor(){this.first=!0}update(t,e){const i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))}}const ar=t=>t>=1536&&t<=1791,or=t=>t>=1872&&t<=1919,sr=t=>t>=2208&&t<=2303,lr=t=>t>=11904&&t<=12031,cr=t=>t>=12032&&t<=12255,ur=t=>t>=12272&&t<=12287,dr=t=>t>=12288&&t<=12351,hr=t=>t>=12352&&t<=12447,pr=t=>t>=12448&&t<=12543,fr=t=>t>=12544&&t<=12591,mr=t=>t>=12704&&t<=12735,gr=t=>t>=12736&&t<=12783,yr=t=>t>=12784&&t<=12799,vr=t=>t>=12800&&t<=13055,_r=t=>t>=13056&&t<=13311,br=t=>t>=13312&&t<=19903,xr=t=>t>=19968&&t<=40959,wr=t=>t>=40960&&t<=42127,kr=t=>t>=42128&&t<=42191,Sr=t=>t>=44032&&t<=55215,Tr=t=>t>=63744&&t<=64255,Mr=t=>t>=64336&&t<=65023,Cr=t=>t>=65040&&t<=65055,Dr=t=>t>=65072&&t<=65103,Lr=t=>t>=65104&&t<=65135,Ar=t=>t>=65136&&t<=65279,Er=t=>t>=65280&&t<=65519;function Pr(t){for(const e of t)if(Rr(e.charCodeAt(0)))return!0;return!1}function Ir(t){for(const e of t)if(!Or(e.charCodeAt(0)))return!1;return!0}function Or(t){return!(ar(t)||or(t)||sr(t)||Mr(t)||Ar(t))}function Rr(t){return!(746!==t&&747!==t&&(t<4352||!(mr(t)||fr(t)||Dr(t)&&!(t>=65097&&t<=65103)||Tr(t)||_r(t)||lr(t)||gr(t)||!(!dr(t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||br(t)||xr(t)||vr(t)||(t=>t>=12592&&t<=12687)(t)||(t=>t>=43360&&t<=43391)(t)||(t=>t>=55216&&t<=55295)(t)||(t=>t>=4352&&t<=4607)(t)||Sr(t)||hr(t)||ur(t)||(t=>t>=12688&&t<=12703)(t)||cr(t)||yr(t)||pr(t)&&12540!==t||!(!Er(t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Lr(t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(t=>t>=5120&&t<=5759)(t)||(t=>t>=6320&&t<=6399)(t)||Cr(t)||(t=>t>=19904&&t<=19967)(t)||wr(t)||kr(t))))}function zr(t){return!(Rr(t)||function(t){return!!((t=>t>=128&&t<=255)(t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||(t=>t>=8192&&t<=8303)(t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||(t=>t>=8448&&t<=8527)(t)||(t=>t>=8528&&t<=8591)(t)||(t=>t>=8960&&t<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||(t=>t>=9216&&t<=9279)(t)&&9251!==t||(t=>t>=9280&&t<=9311)(t)||(t=>t>=9312&&t<=9471)(t)||(t=>t>=9632&&t<=9727)(t)||(t=>t>=9728&&t<=9983)(t)&&!(t>=9754&&t<=9759)||(t=>t>=11008&&t<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||dr(t)||pr(t)||(t=>t>=57344&&t<=63743)(t)||Dr(t)||Lr(t)||Er(t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Yr(t){return t>=1424&&t<=2303||Mr(t)||Ar(t)}function Fr(t,e){return!(!e&&Yr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||(t=>t>=6016&&t<=6143)(t))}function Hr(t){for(const e of t)if(Yr(e.charCodeAt(0)))return!0;return!1}const Nr="deferred",Br="loading",jr="loaded";let Vr=null,Wr="unavailable",Ur=null;const $r=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Wr="error"),Vr&&Vr(t)};function qr(){Gr.fire(new Rt("pluginStateChange",{pluginStatus:Wr,pluginURL:Ur}))}const Gr=new Yt,Xr=function(){return Wr},Zr=function(){if(Wr!==Nr||!Ur)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wr=Br,qr(),Ur&&Tt({url:Ur},t=>{t?$r(t):(Wr=jr,qr())})},Jr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Wr===jr||null!=Jr.applyArabicShaping,isLoading:()=>Wr===Br,setState(t){Wr=t.pluginStatus,Ur=t.pluginURL},isParsed:()=>null!=Jr.applyArabicShaping&&null!=Jr.processBidirectionalText&&null!=Jr.processStyledBidirectionalText,getPluginURL:()=>Ur};class Kr{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new rr,this.transition={})}isSupportedScript(t){return function(t,e){for(const i of t)if(!Fr(i.charCodeAt(0),e))return!1;return!0}(t,Jr.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),i=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*e}}}class Qr{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Gi(t))return new ln(t,e);if(nn(t)){const i=sn(t,e);if("error"===i.result)throw new Error(i.value.map(t=>`${t.key}: ${t.message}`).join(", "));return i.value}{let i=t;return"string"==typeof t&&"color"===e.type&&(i=ue.parse(t)),{kind:"constant",evaluate:()=>i}}}(void 0===e?t.specification.default:e,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,e,i){return this.property.possiblyEvaluate(this,t,e,i)}}class ta{constructor(t){this.property=t,this.value=new Qr(t,void 0)}transitioned(t,e){return new ia(this.property,this.value,e,_({},t.transition,this.transition),t.now)}untransitioned(){return new ia(this.property,this.value,null,{},0)}}class ea{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return L(this._values[t].value.value)}setValue(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ta(this._values[t].property)),this._values[t].value=new Qr(this._values[t].property,null===e?void 0:L(e))}getTransition(t){return L(this._values[t].transition)}setTransition(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ta(this._values[t].property)),this._values[t].transition=L(e)||void 0}serialize(){const t={};for(const e of Object.keys(this._values)){const i=this.getValue(e);void 0!==i&&(t[e]=i);const n=this.getTransition(e);void 0!==n&&(t[e+"-transition"]=n)}return t}transitioned(t,e){const i=new na(this._properties);for(const n of Object.keys(this._values))i._values[n]=this._values[n].transitioned(t,e._values[n]);return i}untransitioned(){const t=new na(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class ia{constructor(t,e,i,n,r){const a=n.delay||0,o=n.duration||0;r=r||0,this.property=t,this.value=e,this.begin=r+a,this.end=this.begin+o,t.specification.transition&&(n.delay||n.duration)&&(this.prior=i)}possiblyEvaluate(t,e,i){const n=t.now||0,r=this.value.possiblyEvaluate(t,e,i),a=this.prior;if(a){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return a.possiblyEvaluate(t,e,i);{const o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(t,e,i),r,h(o))}}return r}}class na{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,e,i){const n=new oa(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(t,e,i);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class ra{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return L(this._values[t].value)}setValue(t,e){this._values[t]=new Qr(this._values[t].property,null===e?void 0:L(e))}serialize(){const t={};for(const e of Object.keys(this._values)){const i=this.getValue(e);void 0!==i&&(t[e]=i)}return t}possiblyEvaluate(t,e,i){const n=new oa(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(t,e,i);return n}}class aa{constructor(t,e,i){this.property=t,this.value=e,this.parameters=i}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,e,i,n){return this.property.evaluate(this.value,this.parameters,t,e,i,n)}}class oa{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class sa{constructor(t){this.specification=t}possiblyEvaluate(t,e){return t.expression.evaluate(e)}interpolate(t,e,i){const n=ii[this.specification.type];return n?n(t,e,i):t}}class la{constructor(t,e){this.specification=t,this.overrides=e}possiblyEvaluate(t,e,i,n){return new aa(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},i,n)}:t.expression,e)}interpolate(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new aa(this,{kind:"constant",value:void 0},t.parameters);const n=ii[this.specification.type];return n?new aa(this,{kind:"constant",value:n(t.value.value,e.value.value,i)},t.parameters):t}evaluate(t,e,i,n,r,a){return"constant"===t.kind?t.value:t.evaluate(e,i,n,r,a)}}class ca extends la{possiblyEvaluate(t,e,i,n){if(void 0===t.value)return new aa(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},i,n),a="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,o=this._calculate(a,a,a,e);return new aa(this,{kind:"constant",value:o},e)}if("camera"===t.expression.kind){const i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new aa(this,{kind:"constant",value:i},e)}return new aa(this,t.expression,e)}evaluate(t,e,i,n,r,a){if("source"===t.kind){const o=t.evaluate(e,i,n,r,a);return this._calculate(o,o,o,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},i,n),t.evaluate({zoom:Math.floor(e.zoom)},i,n),t.evaluate({zoom:Math.floor(e.zoom)+1},i,n),e):t.value}_calculate(t,e,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e,other:i}:{from:i,to:e,other:t}}interpolate(t){return t}}class ua{constructor(t){this.specification=t}possiblyEvaluate(t,e,i,n){if(void 0!==t.value){if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},i,n);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new Kr(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Kr(Math.floor(e.zoom),e)),t.expression.evaluate(new Kr(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}}interpolate(t){return t}}class da{constructor(t){this.specification=t}possiblyEvaluate(t,e,i,n){return!!t.expression.evaluate(e,null,{},i,n)}interpolate(){return!1}}class ha{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e in t){const i=t[e];i.specification.overridable&&this.overridableProperties.push(e);const n=this.defaultPropertyValues[e]=new Qr(i,void 0),r=this.defaultTransitionablePropertyValues[e]=new ta(i);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({})}}}function pa(t,e){return 256*(t=m(Math.floor(t),0,255))+m(Math.floor(e),0,255)}Qn("DataDrivenProperty",la),Qn("DataConstantProperty",sa),Qn("CrossFadedDataDrivenProperty",ca),Qn("CrossFadedProperty",ua),Qn("ColorRampProperty",da);const fa={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ma{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ga{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ya(t,e=1){let i=0,n=0;return{members:t.map(t=>{const r=fa[t.type].BYTES_PER_ELEMENT,a=i=va(i,Math.max(e,r)),o=t.components||1;return n=Math.max(n,r),i+=r*o,{name:t.name,type:t.type,components:o,offset:a}}),size:va(i,Math.max(n,e)),alignment:e}}function va(t,e){return Math.ceil(t/e)*e}class _a extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=i,t}}_a.prototype.bytesPerElement=4,Qn("StructArrayLayout2i4",_a);class ba extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const a=4*t;return this.int16[a+0]=e,this.int16[a+1]=i,this.int16[a+2]=n,this.int16[a+3]=r,t}}ba.prototype.bytesPerElement=8,Qn("StructArrayLayout4i8",ba);class xa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,i,n,r,a,o)}emplace(t,e,i,n,r,a,o,s){const l=6*t,c=12*t,u=3*t;return this.int16[l+0]=e,this.int16[l+1]=i,this.uint8[c+4]=n,this.uint8[c+5]=r,this.uint8[c+6]=a,this.uint8[c+7]=o,this.float32[u+2]=s,t}}xa.prototype.bytesPerElement=12,Qn("StructArrayLayout2i4ub1f12",xa);class wa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=i,t}}wa.prototype.bytesPerElement=8,Qn("StructArrayLayout2f8",wa);class ka extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,i,n,r,a,o,s,l,c)}emplace(t,e,i,n,r,a,o,s,l,c,u){const d=10*t;return this.uint16[d+0]=e,this.uint16[d+1]=i,this.uint16[d+2]=n,this.uint16[d+3]=r,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=c,this.uint16[d+9]=u,t}}ka.prototype.bytesPerElement=20,Qn("StructArrayLayout10ui20",ka);class Sa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o,s){const l=this.length;return this.resize(l+1),this.emplace(l,t,e,i,n,r,a,o,s)}emplace(t,e,i,n,r,a,o,s,l){const c=8*t;return this.uint16[c+0]=e,this.uint16[c+1]=i,this.uint16[c+2]=n,this.uint16[c+3]=r,this.uint16[c+4]=a,this.uint16[c+5]=o,this.uint16[c+6]=s,this.uint16[c+7]=l,t}}Sa.prototype.bytesPerElement=16,Qn("StructArrayLayout8ui16",Sa);class Ta extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o,s,l,c,u,d){const h=this.length;return this.resize(h+1),this.emplace(h,t,e,i,n,r,a,o,s,l,c,u,d)}emplace(t,e,i,n,r,a,o,s,l,c,u,d,h){const p=12*t;return this.int16[p+0]=e,this.int16[p+1]=i,this.int16[p+2]=n,this.int16[p+3]=r,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=h,t}}Ta.prototype.bytesPerElement=24,Qn("StructArrayLayout4i4ui4i24",Ta);class Ma extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.float32[r+0]=e,this.float32[r+1]=i,this.float32[r+2]=n,t}}Ma.prototype.bytesPerElement=12,Qn("StructArrayLayout3f12",Ma);class Ca extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}Ca.prototype.bytesPerElement=4,Qn("StructArrayLayout1ul4",Ca);class Da extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,i,n,r,a,o,s,l,c)}emplace(t,e,i,n,r,a,o,s,l,c,u){const d=16*t,h=8*t;return this.int16[d+0]=e,this.int16[d+1]=i,this.float32[h+1]=n,this.float32[h+2]=r,this.float32[h+3]=a,this.float32[h+4]=o,this.int16[d+10]=s,this.uint32[h+6]=l,this.uint16[d+14]=c,this.uint16[d+15]=u,t}}Da.prototype.bytesPerElement=32,Qn("StructArrayLayout2i4f1i1ul2ui32",Da);class La extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,n,r,a)}emplace(t,e,i,n,r,a,o){const s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=a,this.int16[s+5]=o,t}}La.prototype.bytesPerElement=12,Qn("StructArrayLayout2i2i2i12",La);class Aa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,i,n,r)}emplace(t,e,i,n,r,a){const o=4*t,s=8*t;return this.float32[o+0]=e,this.float32[o+1]=i,this.float32[o+2]=n,this.int16[s+6]=r,this.int16[s+7]=a,t}}Aa.prototype.bytesPerElement=16,Qn("StructArrayLayout2f1f2i16",Aa);class Ea extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const a=12*t,o=3*t;return this.uint8[a+0]=e,this.uint8[a+1]=i,this.float32[o+1]=n,this.float32[o+2]=r,t}}Ea.prototype.bytesPerElement=12,Qn("StructArrayLayout2ub2f12",Ea);class Pa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.uint16[r+0]=e,this.uint16[r+1]=i,this.uint16[r+2]=n,t}}Pa.prototype.bytesPerElement=6,Qn("StructArrayLayout3ui6",Pa);class Ia extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y)}emplace(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v){const _=13*t,b=26*t,x=52*t;return this.float32[_+0]=e,this.float32[_+1]=i,this.uint16[b+4]=n,this.uint16[b+5]=r,this.uint32[_+3]=a,this.uint32[_+4]=o,this.uint32[_+5]=s,this.uint16[b+12]=l,this.uint16[b+13]=c,this.uint16[b+14]=u,this.float32[_+8]=d,this.float32[_+9]=h,this.uint8[x+40]=p,this.uint8[x+41]=f,this.uint8[x+42]=m,this.uint32[_+11]=g,this.int16[b+24]=y,this.uint8[x+50]=v,t}}Ia.prototype.bytesPerElement=52,Qn("StructArrayLayout2f2ui3ul3ui2f3ub1ul1i1ub52",Ia);class Oa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k,S,T,M){const C=this.length;return this.resize(C+1),this.emplace(C,t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k,S,T,M)}emplace(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k,S,T,M,C){const D=17*t,L=34*t;return this.float32[D+0]=e,this.float32[D+1]=i,this.int16[L+4]=n,this.int16[L+5]=r,this.int16[L+6]=a,this.int16[L+7]=o,this.int16[L+8]=s,this.int16[L+9]=l,this.uint16[L+10]=c,this.uint16[L+11]=u,this.uint16[L+12]=d,this.uint16[L+13]=h,this.uint16[L+14]=p,this.uint16[L+15]=f,this.uint16[L+16]=m,this.uint16[L+17]=g,this.uint16[L+18]=y,this.uint16[L+19]=v,this.uint16[L+20]=_,this.uint16[L+21]=b,this.uint16[L+22]=x,this.uint16[L+23]=w,this.uint16[L+24]=k,this.uint32[D+13]=S,this.float32[D+14]=T,this.float32[D+15]=M,this.float32[D+16]=C,t}}Oa.prototype.bytesPerElement=68,Qn("StructArrayLayout2f6i15ui1ul3f68",Oa);class Ra extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}Ra.prototype.bytesPerElement=4,Qn("StructArrayLayout1f4",Ra);class za extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.int16[r+0]=e,this.int16[r+1]=i,this.int16[r+2]=n,t}}za.prototype.bytesPerElement=6,Qn("StructArrayLayout3i6",za);class Ya extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const a=6*t;return this.uint32[3*t+0]=e,this.uint16[a+2]=i,this.uint16[a+3]=n,this.uint16[a+4]=r,t}}Ya.prototype.bytesPerElement=12,Qn("StructArrayLayout1ul3ui12",Ya);class Fa extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=i,t}}Fa.prototype.bytesPerElement=4,Qn("StructArrayLayout2ui4",Fa);class Ha extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Ha.prototype.bytesPerElement=2,Qn("StructArrayLayout1ui2",Ha);class Na extends ga{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const a=4*t;return this.float32[a+0]=e,this.float32[a+1]=i,this.float32[a+2]=n,this.float32[a+3]=r,t}}Na.prototype.bytesPerElement=16,Qn("StructArrayLayout4f16",Na);class Ba extends ma{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new r(this.anchorPointX,this.anchorPointY)}}Ba.prototype.size=32;class ja extends Da{get(t){return new Ba(this,t)}}Qn("CollisionBoxArray",ja);class Va extends ma{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+4]}get numGlyphs(){return this._structArray.uint16[this._pos2+5]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineStartIndex(){return this._structArray.uint32[this._pos4+4]}get lineLength(){return this._structArray.uint32[this._pos4+5]}get segment(){return this._structArray.uint16[this._pos2+12]}get lowerSize(){return this._structArray.uint16[this._pos2+13]}get upperSize(){return this._structArray.uint16[this._pos2+14]}get lineOffsetX(){return this._structArray.float32[this._pos4+8]}get lineOffsetY(){return this._structArray.float32[this._pos4+9]}get writingMode(){return this._structArray.uint8[this._pos1+40]}get placedOrientation(){return this._structArray.uint8[this._pos1+41]}set placedOrientation(t){this._structArray.uint8[this._pos1+41]=t}get hidden(){return this._structArray.uint8[this._pos1+42]}set hidden(t){this._structArray.uint8[this._pos1+42]=t}get crossTileID(){return this._structArray.uint32[this._pos4+11]}set crossTileID(t){this._structArray.uint32[this._pos4+11]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+24]}get flipState(){return this._structArray.uint8[this._pos1+50]}set flipState(t){this._structArray.uint8[this._pos1+50]=t}}Va.prototype.size=52;class Wa extends Ia{get(t){return new Va(this,t)}}Qn("PlacedSymbolArray",Wa);class Ua extends ma{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+8]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+9]}get key(){return this._structArray.uint16[this._pos2+10]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get featureIndex(){return this._structArray.uint16[this._pos2+19]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+21]}get numIconVertices(){return this._structArray.uint16[this._pos2+22]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+23]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+24]}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Ua.prototype.size=68;class $a extends Oa{get(t){return new Ua(this,t)}}Qn("SymbolInstanceArray",$a);class qa extends Ra{getoffsetX(t){return this.float32[1*t+0]}}Qn("GlyphOffsetArray",qa);class Ga extends za{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Qn("SymbolLineVertexArray",Ga);class Xa extends ma{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Xa.prototype.size=12;class Za extends Ya{get(t){return new Xa(this,t)}}Qn("FeatureIndexArray",Za);class Ja extends ma{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Ja.prototype.size=4;class Ka extends Fa{get(t){return new Ja(this,t)}}Qn("FillExtrusionCentroidArray",Ka);const Qa=ya([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),to=ya([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var eo=le((function(t){t.exports=function(t,e){var i,n,r,a,o,s,l,c;for(n=t.length-(i=3&t.length),r=e,o=3432918353,s=461845907,c=0;c<n;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,r=27492+(65535&(a=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(c)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),io=le((function(t){t.exports=function(t,e){for(var i,n=t.length,r=e^n,a=0;n>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24))+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:r^=(255&t.charCodeAt(a+2))<<16;case 2:r^=(255&t.charCodeAt(a+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(a)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),no=eo,ro=io;no.murmur3=eo,no.murmur2=ro;class ao{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,e,i,n){this.ids.push(oo(t)),this.positions.push(e,i,n)}getPositions(t){const e=oo(t);let i=0,n=this.ids.length-1;for(;i<n;){const t=i+n>>1;this.ids[t]>=e?n=t:i=t+1}const r=[];for(;this.ids[i]===e;)r.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return r}static serialize(t,e){const i=new Float64Array(t.ids),n=new Uint32Array(t.positions);return function t(e,i,n,r){for(;n<r;){const a=e[n+r>>1];let o=n-1,s=r+1;for(;;){do{o++}while(e[o]<a);do{s--}while(e[s]>a);if(o>=s)break;so(e,o,s),so(i,3*o,3*s),so(i,3*o+1,3*s+1),so(i,3*o+2,3*s+2)}s-n<r-s?(t(e,i,n,s),n=s+1):(t(e,i,s+1,r),r=s)}}(i,n,0,i.length-1),e&&e.push(i.buffer,n.buffer),{ids:i,positions:n}}static deserialize(t){const e=new ao;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function oo(t){const e=+t;return!isNaN(e)&&e<=s?e:no(String(t))}function so(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}Qn("FeaturePositionMap",ao);class lo{constructor(t,e){this.gl=t.gl,this.location=e}}class co extends lo{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class uo extends lo{constructor(t,e){super(t,e),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class ho extends lo{constructor(t,e){super(t,e),this.current=ue.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const po=new Float32Array(16),fo=new Float32Array(9);function mo(t){return[pa(255*t.r,255*t.g),pa(255*t.b,255*t.a)]}class go{constructor(t,e,i){this.value=t,this.uniformNames=e.map(t=>"u_"+t),this.type=i}setUniform(t,e,i){t.set(i.constantOr(this.value))}getBinding(t,e,i){return"color"===this.type?new ho(t,e):new co(t,e)}}class yo{constructor(t,e){this.uniformNames=e.map(t=>"u_"+t),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tl.concat(e.br),this.patternTo=t.tl.concat(t.br)}setUniform(t,e,i,n){const r="u_pattern_to"===n||"u_dash_to"===n?this.patternTo:"u_pattern_from"===n||"u_dash_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;r&&t.set(r)}getBinding(t,e,i){return"u_pattern_from"===i||"u_pattern_to"===i||"u_dash_from"===i||"u_dash_to"===i?new uo(t,e):new co(t,e)}}class vo{constructor(t,e,i,n){this.expression=t,this.type=i,this.maxValue=0,this.paintVertexAttributes=e.map(t=>({name:"a_"+t,type:"Float32",components:"color"===i?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(t,e,i,n,r){const a=this.paintVertexArray.length,o=this.expression.evaluate(new Kr(0),e,{},n,[],r);this.paintVertexArray.resize(t),this._setPaintValue(a,t,o)}updatePaintArray(t,e,i,n){const r=this.expression.evaluate({zoom:0},i,n);this._setPaintValue(t,e,r)}_setPaintValue(t,e,i){if("color"===this.type){const n=mo(i);for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,n[0],n[1])}else{for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class _o{constructor(t,e,i,n,r,a){this.expression=t,this.uniformNames=e.map(t=>`u_${t}_t`),this.type=i,this.useIntegerZoom=n,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map(t=>({name:"a_"+t,type:"Float32",components:"color"===i?4:2,offset:0})),this.paintVertexArray=new a}populatePaintArray(t,e,i,n,r){const a=this.expression.evaluate(new Kr(this.zoom),e,{},n,[],r),o=this.expression.evaluate(new Kr(this.zoom+1),e,{},n,[],r),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,a,o)}updatePaintArray(t,e,i,n){const r=this.expression.evaluate({zoom:this.zoom},i,n),a=this.expression.evaluate({zoom:this.zoom+1},i,n);this._setPaintValue(t,e,r,a)}_setPaintValue(t,e,i,n){if("color"===this.type){const r=mo(i),a=mo(n);for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1],a[0],a[1])}else{for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i,n);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(n))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,e){const i=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,n=m(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);t.set(n)}getBinding(t,e,i){return new co(t,e)}}class bo{constructor(t,e,i,n,r,a,o){this.expression=t,this.type=i,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.paintVertexAttributes=("array"===i?to:Qa).members;for(let t=0;t<e.length;++t);this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a}populatePaintArray(t,e,i){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],i)}updatePaintArray(t,e,i,n,r){this._setPaintValues(t,e,i.patterns&&i.patterns[this.layerId],r)}_setPaintValues(t,e,i,n){if(!n||!i)return;const{min:r,mid:a,max:o}=i,s=n[r],l=n[a],c=n[o];if(s&&l&&c)for(let i=t;i<e;i++)this._setPaintValue(this.zoomInPaintVertexArray,i,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,i,l,c)}_setPaintValue(t,e,i,n){t.emplace(e,i.tl[0],i.tl[1],i.br[0],i.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],i.pixelRatio,n.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class xo{constructor(t,e,i=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const r in t.paint._values){if(!i(r))continue;const a=t.paint.get(r);if(!(a instanceof aa&&Wi(a.property.specification)))continue;const o=So(r,t.type),s=a.value,l=a.property.specification.type,c=a.property.useIntegerZoom,u=a.property.specification["property-type"],d="cross-faded"===u||"cross-faded-data-driven"===u,h="line-dasharray"===String(r)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==s.kind||h)if("source"===s.kind||h||d){const i=Co(r,l,"source");this.binders[r]=d?new bo(s,o,l,c,e,i,t.id):new vo(s,o,l,i),n.push("/a_"+r)}else{const t=Co(r,l,"composite");this.binders[r]=new _o(s,o,l,c,e,t),n.push("/z_"+r)}else this.binders[r]=d?new yo(s.value,o):new go(s.value,o,l),n.push("/u_"+r)}this.cacheKey=n.sort().join("")}getMaxValue(t){const e=this.binders[t];return e instanceof vo||e instanceof _o?e.maxValue:0}populatePaintArrays(t,e,i,n,r){for(const a in this.binders){const o=this.binders[a];(o instanceof vo||o instanceof _o||o instanceof bo)&&o.populatePaintArray(t,e,i,n,r)}}setConstantPatternPositions(t,e){for(const i in this.binders){const n=this.binders[i];n instanceof yo&&n.setConstantPatternPositions(t,e)}}updatePaintArrays(t,e,i,n,r){let a=!1;for(const o in t){const s=e.getPositions(o);for(const e of s){const s=i.feature(e.index);for(const i in this.binders){const l=this.binders[i];if((l instanceof vo||l instanceof _o||l instanceof bo)&&!0===l.expression.isStateDependent){const c=n.paint.get(i);l.expression=c.value,l.updatePaintArray(e.start,e.end,s,t[o],r),a=!0}}}}return a}defines(){const t=[];for(const e in this.binders){const i=this.binders[e];(i instanceof go||i instanceof yo)&&t.push(...i.uniformNames.map(t=>"#define HAS_UNIFORM_"+t))}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const i=this.binders[e];if(i instanceof vo||i instanceof _o||i instanceof bo)for(let e=0;e<i.paintVertexAttributes.length;e++)t.push(i.paintVertexAttributes[e].name)}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const i=this.binders[e];if(i instanceof go||i instanceof yo||i instanceof _o)for(const e of i.uniformNames)t.push(e)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,e){const i=[];for(const n in this.binders){const r=this.binders[n];if(r instanceof go||r instanceof yo||r instanceof _o)for(const a of r.uniformNames)if(e[a]){const o=r.getBinding(t,e[a],a);i.push({name:a,property:n,binding:o})}}return i}setUniforms(t,e,i,n){for(const{name:t,property:r,binding:a}of e)this.binders[r].setUniform(a,n,i.get(r),t)}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const i=this.binders[e];if(t&&i instanceof bo){const e=2===t.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;e&&this._buffers.push(e)}else(i instanceof vo||i instanceof _o)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(t){for(const e in this.binders){const i=this.binders[e];(i instanceof vo||i instanceof _o||i instanceof bo)&&i.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof vo||e instanceof _o||e instanceof bo)&&e.destroy()}}}class wo{constructor(t,e,i=(()=>!0)){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new xo(n,e,i);this.needsUpload=!1,this._featureMap=new ao,this._bufferOffset=0}populatePaintArrays(t,e,i,n,r,a){for(const i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(t,e,n,r,a);void 0!==e.id&&this._featureMap.add(e.id,i,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,e,i,n){for(const r of i)this.needsUpload=this.programConfigurations[r.id].updatePaintArrays(t,this._featureMap,e,r,n)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const ko={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function So(t,e){return ko[t]||[t.replace(e+"-","").replace(/-/g,"_")]}const To={"line-pattern":{source:ka,composite:ka},"fill-pattern":{source:ka,composite:ka},"fill-extrusion-pattern":{source:ka,composite:ka},"line-dasharray":{source:Sa,composite:Sa}},Mo={color:{source:wa,composite:Na},number:{source:Ra,composite:wa}};function Co(t,e,i){const n=To[t];return n&&n[i]||Mo[e][i]}Qn("ConstantBinder",go),Qn("CrossFadedConstantBinder",yo),Qn("SourceExpressionBinder",vo),Qn("CrossFadedCompositeBinder",bo),Qn("CompositeExpressionBinder",_o),Qn("ProgramConfiguration",xo,{omit:["_buffers"]}),Qn("ProgramConfigurationSet",wo);const Do="-transition";class Lo extends Yt{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&"sky"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new ra(e.layout)),e.paint)){this._transitionablePaint=new ea(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new oa(e.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e,i={}){null!=e&&this._validate($n,`layers.${this.id}.layout.${t}`,t,e,i)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)}getPaintProperty(t){return M(t,Do)?this._transitionablePaint.getTransition(t.slice(0,-Do.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,i={}){if(null!=e&&this._validate(Un,`layers.${this.id}.paint.${t}`,t,e,i))return!1;if(M(t,Do))return this._transitionablePaint.setTransition(t.slice(0,-Do.length),e||void 0),!1;{const i=this._transitionablePaint._values[t],n="cross-faded-data-driven"===i.property.specification["property-type"],r=i.value.isDataDriven(),a=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const o=this._transitionablePaint._values[t].value;return o.isDataDriven()||r||n||this._handleOverridablePaintPropertyUpdate(t,a,o)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,e,i){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),D(t,(t,e)=>!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length))}_validate(t,e,i,n,r={}){return(!r||!1!==r.validate)&&qn(this,t.call(jn,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:Ft,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof aa&&Wi(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}}const Ao=ya([{name:"a_pos",components:2,type:"Int16"}],4),{members:Eo}=Ao;class Po{constructor(t=[]){this.segments=t}prepareSegment(t,e,i,n){let r=this.segments[this.segments.length-1];return t>Po.MAX_VERTEX_ARRAY_LENGTH&&E(`Max vertices per segment is ${Po.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!r||r.vertexLength+t>Po.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==n)&&(r={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},void 0!==n&&(r.sortKey=n),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy()}static simpleSegment(t,e,i,n){return new Po([{vertexOffset:t,primitiveOffset:e,vertexLength:i,primitiveLength:n,vaos:{},sortKey:0}])}}Po.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Qn("SegmentVector",Po);var Io=8192;const Oo=Math.pow(2,14)-1,Ro=-Oo-1;function zo(t){const e=Io/t.extent,i=t.loadGeometry();for(let t=0;t<i.length;t++){const n=i[t];for(let t=0;t<n.length;t++){const i=n[t],r=Math.round(i.x*e),a=Math.round(i.y*e);i.x=m(r,Ro,Oo),i.y=m(a,Ro,Oo),(r<i.x||r>i.x+1||a<i.y||a>i.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return i}function Yo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?zo(t):[]}}function Fo(t,e,i,n,r){t.emplaceBack(2*e+(n+1)/2,2*i+(r+1)/2)}class Ho{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new _a,this.indexArray=new Pa,this.segments=new Po,this.programConfigurations=new wo(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id)}populate(t,e,i){const n=this.layers[0],r=[];let a=null;"circle"===n.type&&(a=n.layout.get("circle-sort-key"));for(const{feature:e,id:n,index:o,sourceLayerIndex:s}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Yo(e,t);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),l,i))continue;const c=a?a.evaluate(l,{},i):void 0,u={id:n,properties:e.properties,type:e.type,sourceLayerIndex:s,index:o,geometry:t?l.geometry:zo(e),patterns:{},sortKey:c};r.push(u)}a&&r.sort((t,e)=>t.sortKey-e.sortKey);for(const n of r){const{geometry:r,index:a,sourceLayerIndex:o}=n,s=t[a].feature;this.addFeature(n,r,a,i),e.featureIndex.insert(s,r,a,o,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Eo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,i,n){for(const i of e)for(const e of i){const i=e.x,n=e.y;if(i<0||i>=Io||n<0||n>=Io)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),a=r.vertexLength;Fo(this.layoutVertexArray,i,n,-1,-1),Fo(this.layoutVertexArray,i,n,1,-1),Fo(this.layoutVertexArray,i,n,1,1),Fo(this.layoutVertexArray,i,n,-1,1),this.indexArray.emplaceBack(a,a+1,a+2),this.indexArray.emplaceBack(a,a+3,a+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,{},n)}}function No(t,e){for(let i=0;i<t.length;i++)if(Xo(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(Xo(t,e[i]))return!0;return!!Wo(t,e)}function Bo(t,e,i){return!!Xo(t,e)||!!$o(e,t,i)}function jo(t,e){if(1===t.length)return Go(e,t[0]);for(let i=0;i<e.length;i++){const n=e[i];for(let e=0;e<n.length;e++)if(Xo(t,n[e]))return!0}for(let i=0;i<t.length;i++)if(Go(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(Wo(t,e[i]))return!0;return!1}function Vo(t,e,i){if(t.length>1){if(Wo(t,e))return!0;for(let n=0;n<e.length;n++)if($o(e[n],t,i))return!0}for(let n=0;n<t.length;n++)if($o(t[n],e,i))return!0;return!1}function Wo(t,e){if(0===t.length||0===e.length)return!1;for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1];for(let t=0;t<e.length-1;t++)if(Uo(n,r,e[t],e[t+1]))return!0}return!1}function Uo(t,e,i,n){return P(t,i,n)!==P(e,i,n)&&P(t,e,i)!==P(t,e,n)}function $o(t,e,i){const n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(let i=1;i<e.length;i++)if(qo(t,e[i-1],e[i])<n)return!0;return!1}function qo(t,e,i){const n=e.distSqr(i);if(0===n)return t.distSqr(e);const r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return t.distSqr(r<0?e:r>1?i:i.sub(e)._mult(r)._add(e))}function Go(t,e){let i,n,r,a=!1;for(let o=0;o<t.length;o++){i=t[o];for(let t=0,o=i.length-1;t<i.length;o=t++)n=i[t],r=i[o],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(a=!a)}return a}function Xo(t,e){let i=!1;for(let n=0,r=t.length-1;n<t.length;r=n++){const a=t[n],o=t[r];a.y>e.y!=o.y>e.y&&e.x<(o.x-a.x)*(e.y-a.y)/(o.y-a.y)+a.x&&(i=!i)}return i}function Zo(t,e,i,n,a){for(const r of t)if(e<=r.x&&i<=r.y&&n>=r.x&&a>=r.y)return!0;const o=[new r(e,i),new r(e,a),new r(n,a),new r(n,i)];if(t.length>2)for(const e of o)if(Xo(t,e))return!0;for(let e=0;e<t.length-1;e++)if(Jo(t[e],t[e+1],o))return!0;return!1}function Jo(t,e,i){const n=i[0],r=i[2];if(t.x<n.x&&e.x<n.x||t.x>r.x&&e.x>r.x||t.y<n.y&&e.y<n.y||t.y>r.y&&e.y>r.y)return!1;const a=P(t,e,i[0]);return a!==P(t,e,i[1])||a!==P(t,e,i[2])||a!==P(t,e,i[3])}function Ko(t,e,i){const n=e.paint.get(t).value;return"constant"===n.kind?n.value:i.programConfigurations.get(e.id).getMaxValue(t)}function Qo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ts(t,e,i,n,a){if(!e[0]&&!e[1])return t;const o=r.convert(e)._mult(a);"viewport"===i&&o._rotate(-n);const s=[];for(let e=0;e<t.length;e++)s.push(t[e].sub(o));return s}function es(t,e,i,n){const a=r.convert(t)._mult(n);return"viewport"===e&&a._rotate(-i),a}Qn("CircleBucket",Ho,{omit:["layers"]});const is=new ha({"circle-sort-key":new la(Ft.layout_circle["circle-sort-key"])});var ns={paint:new ha({"circle-radius":new la(Ft.paint_circle["circle-radius"]),"circle-color":new la(Ft.paint_circle["circle-color"]),"circle-blur":new la(Ft.paint_circle["circle-blur"]),"circle-opacity":new la(Ft.paint_circle["circle-opacity"]),"circle-translate":new sa(Ft.paint_circle["circle-translate"]),"circle-translate-anchor":new sa(Ft.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new sa(Ft.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new sa(Ft.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new la(Ft.paint_circle["circle-stroke-width"]),"circle-stroke-color":new la(Ft.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new la(Ft.paint_circle["circle-stroke-opacity"])}),layout:is},rs="undefined"!=typeof Float32Array?Float32Array:Array;function as(){var t=new rs(9);return rs!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function os(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ss(t,e,i){var n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=i[0],b=i[1],x=i[2],w=i[3];return t[0]=_*n+b*s+x*d+w*m,t[1]=_*r+b*l+x*h+w*g,t[2]=_*a+b*c+x*p+w*y,t[3]=_*o+b*u+x*f+w*v,t[4]=(_=i[4])*n+(b=i[5])*s+(x=i[6])*d+(w=i[7])*m,t[5]=_*r+b*l+x*h+w*g,t[6]=_*a+b*c+x*p+w*y,t[7]=_*o+b*u+x*f+w*v,t[8]=(_=i[8])*n+(b=i[9])*s+(x=i[10])*d+(w=i[11])*m,t[9]=_*r+b*l+x*h+w*g,t[10]=_*a+b*c+x*p+w*y,t[11]=_*o+b*u+x*f+w*v,t[12]=(_=i[12])*n+(b=i[13])*s+(x=i[14])*d+(w=i[15])*m,t[13]=_*r+b*l+x*h+w*g,t[14]=_*a+b*c+x*p+w*y,t[15]=_*o+b*u+x*f+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var ls=ss;function cs(){var t=new rs(3);return rs!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function us(t){return Math.hypot(t[0],t[1],t[2])}function ds(t,e,i){var n=new rs(3);return n[0]=t,n[1]=e,n[2]=i,n}function hs(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function ps(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function fs(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function ms(t,e){var i=e[0],n=e[1],r=e[2],a=i*i+n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function gs(t,e,i){var n=i[0],r=i[1],a=i[2],o=e[0],s=e[1],l=e[2],c=r*l-a*s,u=a*o-n*l,d=n*s-r*o,h=r*d-a*u,p=a*c-n*d,f=n*u-r*c,m=2*i[3];return u*=m,d*=m,p*=2,f*=2,t[0]=o+(c*=m)+(h*=2),t[1]=s+u+p,t[2]=l+d+f,t}var ys,vs=hs,_s=ps,bs=us;function xs(t,e,i){var n=e[0],r=e[1],a=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*a+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*a+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*a+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*a+i[15]*o,t}function ws(){var t=new rs(4);return rs!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function ks(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ss(t,e,i){i*=.5;var n=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+o*s,t[1]=r*l+a*s,t[2]=a*l-r*s,t[3]=o*l-n*s,t}function Ts(t,e,i){const n=xs([],[t.x,t.y,e,1],i);return new r(n[0]/n[3],n[1]/n[3])}cs(),ys=new rs(4),rs!=Float32Array&&(ys[0]=0,ys[1]=0,ys[2]=0,ys[3]=0),cs(),ds(1,0,0),ds(0,1,0),ws(),ws(),as();const Ms=ds(0,0,0),Cs=ds(0,0,1);function Ds(t,e){const i=cs();return Ms[2]=e,t.intersectsPlane(Ms,Cs,i),new r(i[0],i[1])}class Ls extends Ho{}function As(t,{width:e,height:i},n,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==e*i*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(e*i*n);return t.width=e,t.height=i,t.data=r,t}function Es(t,{width:e,height:i},n){if(e===t.width&&i===t.height)return;const r=As({},{width:e,height:i},n);Ps(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,e),height:Math.min(t.height,i)},n),t.width=e,t.height=i,t.data=r.data}function Ps(t,e,i,n,r,a){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const o=t.data,s=e.data;for(let l=0;l<r.height;l++){const c=((i.y+l)*t.width+i.x)*a,u=((n.y+l)*e.width+n.x)*a;for(let t=0;t<r.width*a;t++)s[u+t]=o[c+t]}return e}Qn("HeatmapBucket",Ls,{omit:["layers"]});class Is{constructor(t,e){As(this,t,1,e)}resize(t){Es(this,t,1)}clone(){return new Is({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,i,n,r){Ps(t,e,i,n,r,1)}}class Os{constructor(t,e){As(this,t,4,e)}resize(t){Es(this,t,4)}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Os({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,i,n,r){Ps(t,e,i,n,r,4)}}Qn("AlphaImage",Is),Qn("RGBAImage",Os);var Rs={paint:new ha({"heatmap-radius":new la(Ft.paint_heatmap["heatmap-radius"]),"heatmap-weight":new la(Ft.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new sa(Ft.paint_heatmap["heatmap-intensity"]),"heatmap-color":new da(Ft.paint_heatmap["heatmap-color"]),"heatmap-opacity":new sa(Ft.paint_heatmap["heatmap-opacity"])})};function zs(t){const e={},i=t.resolution||256,n=t.clips?t.clips.length:1,r=t.image||new Os({width:i,height:n}),a=(i,n,a)=>{e[t.evaluationKey]=a;const o=t.expression.evaluate(e);r.data[i+n+0]=Math.floor(255*o.r/o.a),r.data[i+n+1]=Math.floor(255*o.g/o.a),r.data[i+n+2]=Math.floor(255*o.b/o.a),r.data[i+n+3]=Math.floor(255*o.a)};if(t.clips)for(let e=0,r=0;e<n;++e,r+=4*i)for(let n=0,o=0;n<i;n++,o+=4){const s=n/(i-1),{start:l,end:c}=t.clips[e];a(r,o,l*(1-s)+c*s)}else for(let t=0,e=0;t<i;t++,e+=4)a(0,e,t/(i-1));return r}var Ys={paint:new ha({"hillshade-illumination-direction":new sa(Ft.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new sa(Ft.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new sa(Ft.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new sa(Ft.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new sa(Ft.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new sa(Ft.paint_hillshade["hillshade-accent-color"])})};const Fs=ya([{name:"a_pos",components:2,type:"Int16"}],4),{members:Hs}=Fs;var Ns=js,Bs=js;function js(t,e,i){i=i||2;var n,r,a,o,s,l,c,u=e&&e.length,d=u?e[0]*i:t.length,h=Vs(t,0,d,i,!0),p=[];if(!h||h.next===h.prev)return p;if(u&&(h=function(t,e,i,n){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=Vs(t,e[r]*n,r<a-1?e[r+1]*n:t.length,n,!1))===o.next&&(o.steiner=!0),s.push(tl(o));for(s.sort(Zs),r=0;r<s.length;r++)Js(s[r],i),i=Ws(i,i.next);return i}(t,e,h,i)),t.length>80*i){n=a=t[0],r=o=t[1];for(var f=i;f<d;f+=i)(s=t[f])<n&&(n=s),(l=t[f+1])<r&&(r=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-n,o-r))?1/c:0}return Us(h,p,i,n,r,c),p}function Vs(t,e,i,n,r){var a,o;if(r===pl(t,e,i,n)>0)for(a=e;a<i;a+=n)o=ul(a,t[a],t[a+1],o);else for(a=i-n;a>=e;a-=n)o=ul(a,t[a],t[a+1],o);return o&&rl(o,o.next)&&(dl(o),o=o.next),o}function Ws(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!rl(n,n.next)&&0!==nl(n.prev,n,n.next))n=n.next;else{if(dl(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function Us(t,e,i,n,r,a,o){if(t){!o&&a&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=Qs(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,a,o,s,l,c=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,n=i,s=0,e=0;e<c&&(s++,n=n.nextZ);e++);for(l=c;s>0||l>0&&n;)0!==s&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,s--):(r=n,n=n.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=n}a.nextZ=null,c*=2}while(o>1)}(r)}(t,n,r,a);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?qs(t,n,r,a):$s(t))e.push(s.i/i),e.push(t.i/i),e.push(l.i/i),dl(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?Us(t=Gs(Ws(t),e,i),e,i,n,r,a,2):2===o&&Xs(t,e,i,n,r,a):Us(Ws(t),e,i,n,r,a,1);break}}}function $s(t){var e=t.prev,i=t,n=t.next;if(nl(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(el(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&nl(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function qs(t,e,i,n){var r=t.prev,a=t,o=t.next;if(nl(r,a,o)>=0)return!1;for(var s=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,c=Qs(r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,e,i,n),u=Qs(s,l,e,i,n),d=t.prevZ,h=t.nextZ;d&&d.z>=c&&h&&h.z<=u;){if(d!==t.prev&&d!==t.next&&el(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&nl(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&el(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&nl(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&el(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&nl(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=u;){if(h!==t.prev&&h!==t.next&&el(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&nl(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function Gs(t,e,i){var n=t;do{var r=n.prev,a=n.next.next;!rl(r,a)&&al(r,n,n.next,a)&&ll(r,a)&&ll(a,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(a.i/i),dl(n),dl(n.next),n=t=a),n=n.next}while(n!==t);return Ws(n)}function Xs(t,e,i,n,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&il(o,s)){var l=cl(o,s);return o=Ws(o,o.next),l=Ws(l,l.next),Us(o,e,i,n,r,a),void Us(l,e,i,n,r,a)}s=s.next}o=o.next}while(o!==t)}function Zs(t,e){return t.x-e.x}function Js(t,e){if(e=function(t,e){var i,n=e,r=t.x,a=t.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>o){if(o=s,s===r){if(a===n.y)return n;if(a===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i;var l,c=i,u=i.x,d=i.y,h=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&el(a<d?r:o,a,u,d,a<d?o:r,a,n.x,n.y)&&(l=Math.abs(a-n.y)/(r-n.x),ll(n,t)&&(l<h||l===h&&(n.x>i.x||n.x===i.x&&Ks(i,n)))&&(i=n,h=l)),n=n.next}while(n!==c);return i}(t,e)){var i=cl(e,t);Ws(e,e.next),Ws(i,i.next)}}function Ks(t,e){return nl(t.prev,t,e.prev)<0&&nl(e.next,t,t.next)<0}function Qs(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function tl(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function el(t,e,i,n,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(n-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(r-o)*(n-s)>=0}function il(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&al(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(ll(t,e)&&ll(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&r<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(nl(t.prev,t,e.prev)||nl(t,e.prev,e))||rl(t,e)&&nl(t.prev,t,t.next)>0&&nl(e.prev,e,e.next)>0)}function nl(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function rl(t,e){return t.x===e.x&&t.y===e.y}function al(t,e,i,n){var r=sl(nl(t,e,i)),a=sl(nl(t,e,n)),o=sl(nl(i,n,t)),s=sl(nl(i,n,e));return r!==a&&o!==s||!(0!==r||!ol(t,i,e))||!(0!==a||!ol(t,n,e))||!(0!==o||!ol(i,t,n))||!(0!==s||!ol(i,e,n))}function ol(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function sl(t){return t>0?1:t<0?-1:0}function ll(t,e){return nl(t.prev,t,t.next)<0?nl(t,e,t.next)>=0&&nl(t,t.prev,e)>=0:nl(t,e,t.prev)<0||nl(t,t.next,e)<0}function cl(t,e){var i=new hl(t.i,t.x,t.y),n=new hl(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,a.next=n,n.prev=a,n}function ul(t,e,i,n){var r=new hl(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function dl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function hl(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pl(t,e,i,n){for(var r=0,a=e,o=i-n;a<i;a+=n)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}function fl(t,e,i,n,r){!function t(e,i,n,r,a){for(;r>n;){if(r-n>600){var o=r-n+1,s=i-n+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1);t(e,i,Math.max(n,Math.floor(i-s*c/o+u)),Math.min(r,Math.floor(i+(o-s)*c/o+u)),a)}var d=e[i],h=n,p=r;for(ml(e,n,i),a(e[r],d)>0&&ml(e,n,r);h<p;){for(ml(e,h,p),h++,p--;a(e[h],d)<0;)h++;for(;a(e[p],d)>0;)p--}0===a(e[n],d)?ml(e,n,p):ml(e,++p,r),p<=i&&(n=p+1),i<=p&&(r=p-1)}}(t,e,i||0,n||t.length-1,r||gl)}function ml(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function gl(t,e){return t<e?-1:t>e?1:0}function yl(t,e){const i=t.length;if(i<=1)return[t];const n=[];let r,a;for(let e=0;e<i;e++){const i=I(t[e]);0!==i&&(t[e].area=Math.abs(i),void 0===a&&(a=i<0),a===i<0?(r&&n.push(r),r=[t[e]]):r.push(t[e]))}if(r&&n.push(r),e>1)for(let t=0;t<n.length;t++)n[t].length<=e||(fl(n[t],e,1,n[t].length-1,vl),n[t]=n[t].slice(0,e));return n}function vl(t,e){return e.area-t.area}function _l(t,e,i){const n=i.patternDependencies;let r=!1;for(const i of e){const e=i.paint.get(t+"-pattern");e.isConstant()||(r=!0);const a=e.constantOr(null);a&&(r=!0,n[a.to]=!0,n[a.from]=!0)}return r}function bl(t,e,i,n,r){const a=r.patternDependencies;for(const o of e){const e=o.paint.get(t+"-pattern").value;if("constant"!==e.kind){let t=e.evaluate({zoom:n-1},i,{},r.availableImages),s=e.evaluate({zoom:n},i,{},r.availableImages),l=e.evaluate({zoom:n+1},i,{},r.availableImages);t=t&&t.name?t.name:t,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,a[t]=!0,a[s]=!0,a[l]=!0,i.patterns[o.id]={min:t,mid:s,max:l}}}return i}js.deviation=function(t,e,i,n){var r=e&&e.length,a=Math.abs(pl(t,0,r?e[0]*i:t.length,i));if(r)for(var o=0,s=e.length;o<s;o++)a-=Math.abs(pl(t,e[o]*i,o<s-1?e[o+1]*i:t.length,i));var l=0;for(o=0;o<n.length;o+=3){var c=n[o]*i,u=n[o+1]*i,d=n[o+2]*i;l+=Math.abs((t[c]-t[d])*(t[u+1]-t[c+1])-(t[c]-t[u])*(t[d+1]-t[c+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},js.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var a=0;a<t[r].length;a++)for(var o=0;o<e;o++)i.vertices.push(t[r][a][o]);r>0&&i.holes.push(n+=t[r-1].length)}return i},Ns.default=Bs;class xl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _a,this.indexArray=new Pa,this.indexArray2=new Fa,this.programConfigurations=new wo(t.layers,t.zoom),this.segments=new Po,this.segments2=new Po,this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id)}populate(t,e,i){this.hasPattern=_l("fill",this.layers,e);const n=this.layers[0].layout.get("fill-sort-key"),r=[];for(const{feature:a,id:o,index:s,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Yo(a,t);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),c,i))continue;const u=n?n.evaluate(c,{},i,e.availableImages):void 0,d={id:o,properties:a.properties,type:a.type,sourceLayerIndex:l,index:s,geometry:t?c.geometry:zo(a),patterns:{},sortKey:u};r.push(d)}n&&r.sort((t,e)=>t.sortKey-e.sortKey);for(const n of r){const{geometry:r,index:a,sourceLayerIndex:o}=n;if(this.hasPattern){const t=bl("fill",this.layers,n,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(n,r,a,i,{});e.featureIndex.insert(t[a].feature,r,a,o,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}addFeatures(t,e,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Hs),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,e,i,n,r){for(const t of yl(e,500)){let e=0;for(const i of t)e+=i.length;const i=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=i.vertexLength,r=[],a=[];for(const e of t){if(0===e.length)continue;e!==t[0]&&a.push(r.length/2);const i=this.segments2.prepareSegment(e.length,this.layoutVertexArray,this.indexArray2),n=i.vertexLength;this.layoutVertexArray.emplaceBack(e[0].x,e[0].y),this.indexArray2.emplaceBack(n+e.length-1,n),r.push(e[0].x),r.push(e[0].y);for(let t=1;t<e.length;t++)this.layoutVertexArray.emplaceBack(e[t].x,e[t].y),this.indexArray2.emplaceBack(n+t-1,n+t),r.push(e[t].x),r.push(e[t].y);i.vertexLength+=e.length,i.primitiveLength+=e.length}const o=Ns(r,a);for(let t=0;t<o.length;t+=3)this.indexArray.emplaceBack(n+o[t],n+o[t+1],n+o[t+2]);i.vertexLength+=e,i.primitiveLength+=o.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}}Qn("FillBucket",xl,{omit:["layers","patternFeatures"]});const wl=new ha({"fill-sort-key":new la(Ft.layout_fill["fill-sort-key"])});var kl={paint:new ha({"fill-antialias":new sa(Ft.paint_fill["fill-antialias"]),"fill-opacity":new la(Ft.paint_fill["fill-opacity"]),"fill-color":new la(Ft.paint_fill["fill-color"]),"fill-outline-color":new la(Ft.paint_fill["fill-outline-color"]),"fill-translate":new sa(Ft.paint_fill["fill-translate"]),"fill-translate-anchor":new sa(Ft.paint_fill["fill-translate-anchor"]),"fill-pattern":new ca(Ft.paint_fill["fill-pattern"])}),layout:wl};const Sl=ya([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Tl=ya([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:Ml}=Sl;var Cl=Dl;function Dl(t,e,i,n,r){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=r,t.readFields(Ll,this,e)}function Ll(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function Al(t){for(var e,i,n=0,r=0,a=t.length,o=a-1;r<a;o=r++)n+=((i=t[o]).x-(e=t[r]).x)*(e.y+i.y);return n}Dl.types=["Unknown","Point","LineString","Polygon"],Dl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,a=0,o=0,s=0,l=[];t.pos<i;){if(a<=0){var c=t.readVarint();n=7&c,a=c>>3}if(a--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&l.push(e),e=[]),e.push(new r(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&l.push(e),l},Dl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,a=0,o=1/0,s=-1/0,l=1/0,c=-1/0;t.pos<e;){if(n<=0){var u=t.readVarint();i=7&u,n=u>>3}if(n--,1===i||2===i)(r+=t.readSVarint())<o&&(o=r),r>s&&(s=r),(a+=t.readSVarint())<l&&(l=a),a>c&&(c=a);else if(7!==i)throw new Error("unknown command "+i)}return[o,l,s,c]},Dl.prototype.toGeoJSON=function(t,e,i){var n,r,a=this.extent*Math.pow(2,i),o=this.extent*t,s=this.extent*e,l=this.loadGeometry(),c=Dl.types[this.type];function u(t){for(var e=0;e<t.length;e++){var i=t[e];t[e]=[360*(i.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(n=0;n<l.length;n++)d[n]=l[n][0];u(l=d);break;case 2:for(n=0;n<l.length;n++)u(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var i,n,r=[],a=0;a<e;a++){var o=Al(t[a]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(i&&r.push(i),i=[t[a]]):i.push(t[a]))}return i&&r.push(i),r}(l),n=0;n<l.length;n++)for(r=0;r<l[n].length;r++)u(l[n][r])}1===l.length?l=l[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var El=Pl;function Pl(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Il,this,e),this.length=this._features.length}function Il(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(i))}function Ol(t,e,i){if(3===t){var n=new El(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}Pl.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Cl(this._pbf,e,this.extent,this._keys,this._values)};var Rl={VectorTile:function(t,e){this.layers=t.readFields(Ol,{},e)},VectorTileFeature:Cl,VectorTileLayer:El};const zl=Rl.VectorTileFeature.types,Yl=Math.pow(2,13);function Fl(t,e,i,n,r,a,o,s){t.emplaceBack((e<<1)+o,(i<<1)+a,(Math.floor(n*Yl)<<1)+r,Math.round(s))}class Hl{constructor(){this.acc=new r(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new r(t.x,t.y),this.max=new r(t.x,t.y))}append(t,e){this.currentPolyCount.edges++,this.acc._add(t);let i=!!this.borders;const n=this.min,r=this.max;t.x<n.x?(n.x=t.x,i=!0):t.x>r.x&&(r.x=t.x,i=!0),t.y<n.y?(n.y=t.y,i=!0):t.y>r.y&&(r.y=t.y,i=!0),((0===t.x||t.x===Io)&&t.x===e.x)!=((0===t.y||t.y===Io)&&t.y===e.y)&&this.processBorderOverlap(t,e),i&&this.checkBorderIntersection(t,e)}checkBorderIntersection(t,e){e.x<0!=t.x<0&&this.addBorderIntersection(0,ei(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>Io!=t.x>Io&&this.addBorderIntersection(1,ei(e.y,t.y,(Io-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,ei(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>Io!=t.y>Io&&this.addBorderIntersection(3,ei(e.x,t.x,(Io-e.y)/(t.y-e.y)))}addBorderIntersection(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const i=this.borders[t];e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e)}processBorderOverlap(t,e){if(t.x===e.x){if(t.y===e.y)return;const i=0===t.x?0:1;this.addBorderIntersection(i,e.y),this.addBorderIntersection(i,t.y)}else{const i=0===t.y?2:3;this.addBorderIntersection(i,e.x),this.addBorderIntersection(i,t.x)}}centroid(){const t=this.polyCount.reduce((t,e)=>t+e.edges,0);return 0!==t?this.acc.div(t)._round():new r(0,0)}span(){return new r(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((t,e)=>t+ +(e[0]!==Number.MAX_VALUE),0)}}class Nl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ba,this.centroidVertexArray=new Ka,this.indexArray=new Pa,this.programConfigurations=new wo(t.layers,t.zoom),this.segments=new Po,this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id),this.enableTerrain=t.enableTerrain}populate(t,e,i){this.features=[],this.hasPattern=_l("fill-extrusion",this.layers,e),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(t){const e=Math.exp(Math.PI*(1-t.y/(1<<t.z)*2));return 80150034*e/(e*e+1)/Io/(1<<t.z)}(i);for(const{feature:n,id:r,index:a,sourceLayerIndex:o}of t){const t=this.layers[0]._featureFilter.needGeometry,s=Yo(n,t);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),s,i))continue;const l={id:r,sourceLayerIndex:o,index:a,geometry:t?s.geometry:zo(n),properties:n.properties,type:n.type,patterns:{}},c=this.layoutVertexArray.length;this.hasPattern?this.features.push(bl("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,l.geometry,a,i,{}),e.featureIndex.insert(n,l.geometry,a,o,this.index,c)}this.sortBorders()}addFeatures(t,e,i){for(const t of this.features){const{geometry:n}=t;this.addFeature(t,n,t.index,e,i)}this.sortBorders()}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ml),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,Tl.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,i,n,r){const a=this.enableTerrain?new Hl:null;for(const i of yl(e,500)){let e=0,n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===i.length||(o=i[0]).every(t=>t.x<=0)||o.every(t=>t.x>=Io)||o.every(t=>t.y<=0)||o.every(t=>t.y>=Io))continue;for(let t=0;t<i.length;t++){const r=i[t];if(0===r.length)continue;e+=r.length;let o=0;a&&a.startRing(r[0]);for(let t=0;t<r.length;t++){const e=r[t];if(t>=1){const i=r[t-1];if(!Bl(e,i)){a&&a.append(e,i),n.vertexLength+4>Po.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const t=e.sub(i)._perp(),r=t.x/(Math.abs(t.x)+Math.abs(t.y)),s=t.y>0?1:0,l=i.dist(e);o+l>32768&&(o=0),Fl(this.layoutVertexArray,e.x,e.y,r,s,0,0,o),Fl(this.layoutVertexArray,e.x,e.y,r,s,0,1,o),o+=l,Fl(this.layoutVertexArray,i.x,i.y,r,s,0,0,o),Fl(this.layoutVertexArray,i.x,i.y,r,s,0,1,o);const c=n.vertexLength;this.indexArray.emplaceBack(c,c+2,c+1),this.indexArray.emplaceBack(c+1,c+2,c+3),n.vertexLength+=4,n.primitiveLength+=2}}}}if(n.vertexLength+e>Po.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray)),"Polygon"!==zl[t.type])continue;const r=[],s=[],l=n.vertexLength;for(let t=0;t<i.length;t++){const e=i[t];if(0!==e.length){e!==i[0]&&s.push(r.length/2);for(let t=0;t<e.length;t++){const i=e[t];Fl(this.layoutVertexArray,i.x,i.y,0,0,1,1,0),r.push(i.x),r.push(i.y),a&&a.currentPolyCount.top++}}}const c=Ns(r,s);for(let t=0;t<c.length;t+=3)this.indexArray.emplaceBack(l+c[t],l+c[t+2],l+c[t+1]);n.primitiveLength+=c.length/3,n.vertexLength+=e}var o;if(a&&a.polyCount.length>0){if(a.borders){a.vertexArrayOffset=this.centroidVertexArray.length;const t=a.borders,e=this.featuresOnBorder.push(a)-1;for(let i=0;i<4;i++)t[i][0]!==Number.MAX_VALUE&&this.borders[i].push(e)}this.encodeCentroid(a.borders?void 0:a.centroid(),a)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort((e,i)=>this.featuresOnBorder[e].borders[t][0]-this.featuresOnBorder[i].borders[t][0])}encodeCentroid(t,e,i=!0){let n,r;if(t)if(0!==t.y){const i=e.span()._mult(this.tileToMeter);n=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(i.x/10)),r=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(i.y/10))}else n=Math.ceil(7*(t.x+450)),r=0;else n=0,r=+i;let a=i?this.centroidVertexArray.length:e.vertexArrayOffset;for(const t of e.polyCount){i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*t.edges+t.top);for(let e=0;e<2*t.edges;e++)this.centroidVertexArray.emplace(a++,0,r),this.centroidVertexArray.emplace(a++,n,r);for(let e=0;e<t.top;e++)this.centroidVertexArray.emplace(a++,n,r)}}}function Bl(t,e){return t.x===e.x&&(t.x<0||t.x>Io)||t.y===e.y&&(t.y<0||t.y>Io)}Qn("FillExtrusionBucket",Nl,{omit:["layers","features"]}),Qn("PartMetadata",Hl);var jl={paint:new ha({"fill-extrusion-opacity":new sa(Ft["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new la(Ft["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new sa(Ft["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new sa(Ft["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ca(Ft["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new la(Ft["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new la(Ft["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new sa(Ft["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Vl(t,e){return t.x*e.x+t.y*e.y}function Wl(t,e){if(1===t.length){let i=0;const n=e[i++];let r;for(;!r||n.equals(r);)if(r=e[i++],!r)return 1/0;for(;i<e.length;i++){const a=e[i],o=t[0],s=r.sub(n),l=a.sub(n),c=o.sub(n),u=Vl(s,s),d=Vl(s,l),h=Vl(l,l),p=Vl(c,s),f=Vl(c,l),m=u*h-d*d,g=(h*p-d*f)/m,y=(u*f-d*p)/m,v=n.z*(1-g-y)+r.z*g+a.z*y;if(isFinite(v))return v}return 1/0}{let t=1/0;for(const i of e)t=Math.min(t,i.z);return t}}function Ul(t){const e=new r(t[0],t[1]);return e.z=t[2],e}function $l(t,e,i,n,r,a,o,s){const l=o*r.getElevationAt(t,e,!0,!0),c=0!==a[0],u=c?0===a[1]?o*(a[0]/7-450):o*function(t,e,i){const n=Math.floor(e[0]/8),r=Math.floor(e[1]/8),a=10*(e[0]-8*n),o=10*(e[1]-8*r),s=t.getElevationAt(n,r,!0,!0),l=t.getMeterToDEM(i),c=Math.floor(.5*(a*l-1)),u=Math.floor(.5*(o*l-1)),d=t.tileCoordToPixel(n,r),h=2*c+1,p=2*u+1,f=function(t,e,i,n,r){return[t.getElevationAtPixel(e,i,!0),t.getElevationAtPixel(e+r,i,!0),t.getElevationAtPixel(e,i+r,!0),t.getElevationAtPixel(e+n,i+r,!0)]}(t,d.x-c,d.y-u,h,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),y=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),v=Math.min(.25,.5*l*(m+g)/h),_=Math.min(.25,.5*l*y/p);return s+Math.max(v*a,_*o)}(r,a,s):l;return{base:l+(0===i)?-1:i,top:c?Math.max(u+n,l+i+2):l+n}}const ql=ya([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Gl}=ql,Xl=ya([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Zl}=Xl,Jl=Rl.VectorTileFeature.types,Kl=Math.cos(Math.PI/180*37.5);class Ql{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(t=>{this.gradients[t.id]={}}),this.layoutVertexArray=new xa,this.layoutVertexArray2=new wa,this.indexArray=new Pa,this.programConfigurations=new wo(t.layers,t.zoom),this.segments=new Po,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id)}populate(t,e,i){this.hasPattern=_l("line",this.layers,e);const n=this.layers[0].layout.get("line-sort-key"),r=[];for(const{feature:e,id:a,index:o,sourceLayerIndex:s}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Yo(e,t);if(!this.layers[0]._featureFilter.filter(new Kr(this.zoom),l,i))continue;const c=n?n.evaluate(l,{},i):void 0,u={id:a,properties:e.properties,type:e.type,sourceLayerIndex:s,index:o,geometry:t?l.geometry:zo(e),patterns:{},sortKey:c};r.push(u)}n&&r.sort((t,e)=>t.sortKey-e.sortKey);const{lineAtlas:a,featureIndex:o}=e,s=this.addConstantDashes(a);for(const n of r){const{geometry:r,index:l,sourceLayerIndex:c}=n;if(s&&this.addFeatureDashes(n,a),this.hasPattern){const t=bl("line",this.layers,n,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(n,r,l,i,a.positions);o.insert(t[l].feature,r,l,c,this.index)}}addConstantDashes(t){let e=!1;for(const i of this.layers){const n=i.paint.get("line-dasharray").value,r=i.layout.get("line-cap").value;if("constant"!==n.kind||"constant"!==r.kind)e=!0;else{const e=r.value,i=n.value;if(!i)continue;t.addDash(i.from,e),t.addDash(i.to,e),i.other&&t.addDash(i.other,e)}}return e}addFeatureDashes(t,e){const i=this.zoom;for(const n of this.layers){const r=n.paint.get("line-dasharray").value,a=n.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===a.kind)continue;let o,s,l,c,u,d;if("constant"===r.kind){const t=r.value;if(!t)continue;o=t.other||t.to,s=t.to,l=t.from}else o=r.evaluate({zoom:i-1},t),s=r.evaluate({zoom:i},t),l=r.evaluate({zoom:i+1},t);"constant"===a.kind?c=u=d=a.value:(c=a.evaluate({zoom:i-1},t),u=a.evaluate({zoom:i},t),d=a.evaluate({zoom:i+1},t)),e.addDash(o,c),e.addDash(s,u),e.addDash(l,d);const h=e.getKey(o,c),p=e.getKey(s,u),f=e.getKey(l,d);t.patterns[n.id]={min:h,mid:p,max:f}}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}addFeatures(t,e,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Zl)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Gl),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,i,n,r){const a=this.layers[0].layout,o=a.get("line-join").evaluate(t,{}),s=a.get("line-cap").evaluate(t,{}),l=a.get("line-miter-limit"),c=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const i of e)this.addLine(i,t,o,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}addLine(t,e,i,n,r,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const o="Polygon"===Jl[e.type];let s=t.length;for(;s>=2&&t[s-1].equals(t[s-2]);)s--;let l=0;for(;l<s-1&&t[l].equals(t[l+1]);)l++;if(s<(o?3:2))return;"bevel"===i&&(r=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let d,h,p,f,m;this.e1=this.e2=-1,o&&(d=t[s-2],m=t[l].sub(d)._unit()._perp());for(let e=l;e<s;e++){if(p=e===s-1?o?t[l+1]:void 0:t[e+1],p&&t[e].equals(p))continue;m&&(f=m),d&&(h=d),d=t[e],m=p?p.sub(d)._unit()._perp():f,f=f||m;let g=f.add(m);0===g.x&&0===g.y||g._unit();const y=f.x*m.x+f.y*m.y,v=g.x*m.x+g.y*m.y,_=0!==v?1/v:1/0,b=2*Math.sqrt(2-2*v),x=v<Kl&&h&&p,w=f.x*m.y-f.y*m.x>0;if(x&&e>l){const t=d.dist(h);if(t>2*c){const e=d.sub(d.sub(h)._mult(c/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,f,0,0,u),h=e}}const k=h&&p;let S=k?i:o?"butt":n;if(k&&"round"===S&&(_<a?S="miter":_<=2&&(S="fakeround")),"miter"===S&&_>r&&(S="bevel"),"bevel"===S&&(_>2&&(S="flipbevel"),_<r&&(S="miter")),h&&this.updateDistance(h,d),"miter"===S)g._mult(_),this.addCurrentVertex(d,g,0,0,u);else if("flipbevel"===S){if(_>100)g=m.mult(-1);else{const t=_*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(t*(w?-1:1))}this.addCurrentVertex(d,g,0,0,u),this.addCurrentVertex(d,g.mult(-1),0,0,u)}else if("bevel"===S||"fakeround"===S){const t=-Math.sqrt(_*_-1),e=w?t:0,i=w?0:t;if(h&&this.addCurrentVertex(d,f,e,i,u),"fakeround"===S){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let i=e/t;if(.5!==i){const t=i-.5;i+=i*t*(i-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*t*t+(.848013+y*(.215638*y-1.06021)))}const n=m.sub(f)._mult(i)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(d,n.x,n.y,!1,w,0,u)}}p&&this.addCurrentVertex(d,m,-e,-i,u)}else if("butt"===S)this.addCurrentVertex(d,g,0,0,u);else if("square"===S){const t=h?1:-1;h||this.addCurrentVertex(d,g,t,t,u),this.addCurrentVertex(d,g,0,0,u),h&&this.addCurrentVertex(d,g,t,t,u)}else"round"===S&&(h&&(this.addCurrentVertex(d,f,0,0,u),this.addCurrentVertex(d,f,1,1,u,!0)),p&&(this.addCurrentVertex(d,m,-1,-1,u,!0),this.addCurrentVertex(d,m,0,0,u)));if(x&&e<s-1){const t=d.dist(p);if(t>2*c){const e=d.add(p.sub(d)._mult(c/t)._round());this.updateDistance(d,e),this.addCurrentVertex(e,m,0,0,u),d=e}}}}addCurrentVertex(t,e,i,n,r,a=!1){const o=e.y*n-e.x,s=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*i,e.y-e.x*i,a,!1,i,r),this.addHalfVertex(t,o,s,a,!0,-n,r)}addHalfVertex({x:t,y:e},i,n,r,a,o,s){this.layoutVertexArray.emplaceBack((t<<1)+(r?1:0),(e<<1)+(a?1:0),Math.round(63*i)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),a?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance()}}Qn("LineBucket",Ql,{omit:["layers","patternFeatures"]});const tc=new ha({"line-cap":new la(Ft.layout_line["line-cap"]),"line-join":new la(Ft.layout_line["line-join"]),"line-miter-limit":new sa(Ft.layout_line["line-miter-limit"]),"line-round-limit":new sa(Ft.layout_line["line-round-limit"]),"line-sort-key":new la(Ft.layout_line["line-sort-key"])});var ec={paint:new ha({"line-opacity":new la(Ft.paint_line["line-opacity"]),"line-color":new la(Ft.paint_line["line-color"]),"line-translate":new sa(Ft.paint_line["line-translate"]),"line-translate-anchor":new sa(Ft.paint_line["line-translate-anchor"]),"line-width":new la(Ft.paint_line["line-width"]),"line-gap-width":new la(Ft.paint_line["line-gap-width"]),"line-offset":new la(Ft.paint_line["line-offset"]),"line-blur":new la(Ft.paint_line["line-blur"]),"line-dasharray":new ca(Ft.paint_line["line-dasharray"]),"line-pattern":new ca(Ft.paint_line["line-pattern"]),"line-gradient":new da(Ft.paint_line["line-gradient"])}),layout:tc};const ic=new class extends la{possiblyEvaluate(t,e){return e=new Kr(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,i,n){return e=_({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,i,n)}}(ec.paint.properties["line-width"].specification);function nc(t,e){return e>0?e+2*t:t}ic.useIntegerZoom=!0;const rc=ya([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ac=ya([{name:"a_projected_pos",components:3,type:"Float32"}],4);ya([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const oc=ya([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),sc=ya([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ya([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const lc=ya([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),cc=ya([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ya([{name:"triangle",components:3,type:"Uint16"}]),ya([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ya([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ya([{type:"Float32",name:"offsetX"}]),ya([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const uc=128;function dc(t,e){const{expression:i}=e;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new Kr(t+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:e,interpolationType:n}=i;let r=0;for(;r<e.length&&e[r]<=t;)r++;r=Math.max(0,r-1);let a=r;for(;a<e.length&&e[a]<t+1;)a++;a=Math.min(e.length-1,a);const o=e[r],s=e[a];return"composite"===i.kind?{kind:"composite",minZoom:o,maxZoom:s,interpolationType:n}:{kind:"camera",minZoom:o,maxZoom:s,minSize:i.evaluate(new Kr(o)),maxSize:i.evaluate(new Kr(s)),interpolationType:n}}}function hc(t,{uSize:e,uSizeT:i},{lowerSize:n,upperSize:r}){return"source"===t.kind?n/uc:"composite"===t.kind?ei(n/uc,r/uc,i):e}function pc(t,e){let i=0,n=0;if("constant"===t.kind)n=t.layoutSize;else if("source"!==t.kind){const{interpolationType:r,minZoom:a,maxZoom:o}=t,s=r?m(gi.interpolationFactor(r,e,a,o),0,1):0;"camera"===t.kind?n=ei(t.minSize,t.maxSize,s):i=s}return{uSizeT:i,uSize:n}}var fc=Object.freeze({__proto__:null,getSizeData:dc,evaluateSizeForFeature:hc,evaluateSizeForZoom:pc,SIZE_PACK_FACTOR:uc});function mc(t,e,i){return t.sections.forEach(t=>{t.text=function(t,e,i){const n=e.layout.get("text-transform").evaluate(i,{});return"uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),Jr.applyArabicShaping&&(t=Jr.applyArabicShaping(t)),t}(t.text,e,i)}),t}const gc={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function yc(t){return""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t}function vc(t){return""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t||""===t}var _c=function(t,e,i,n,r){var a,o,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=i?r-1:0,h=i?-1:1,p=t[e+d];for(d+=h,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+t[e+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+t[e+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},bc=function(t,e,i,n,r,a){var o,s,l,c=8*a-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(e*l-1)*Math.pow(2,r),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;t[i+p]=255&s,p+=f,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;t[i+p]=255&o,p+=f,o/=256,c-=8);t[i+p-f]|=128*m},xc=wc;function wc(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}wc.Varint=0,wc.Fixed64=1,wc.Bytes=2,wc.Fixed32=5;var kc=4294967296,Sc=1/kc,Tc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Mc(t){return t.type===wc.Bytes?t.readVarint()+t.pos:t.pos+1}function Cc(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Dc(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=t;r--)i.buf[r+n]=i.buf[r]}function Lc(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Ac(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Ec(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Pc(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function Ic(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Oc(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function Rc(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function zc(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function Yc(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Fc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Hc(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function Nc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Bc(t,e,i){e.glyphs=[],1===t&&i.readMessage(jc,e)}function jc(t,e,i){if(3===t){const{id:t,bitmap:n,width:r,height:a,left:o,top:s,advance:l}=i.readMessage(Vc,{});e.glyphs.push({id:t,bitmap:new Is({width:r+6,height:a+6},n),metrics:{width:r,height:a,left:o,top:s,advance:l}})}else 4===t?e.ascender=i.readSVarint():5===t&&(e.descender=i.readSVarint())}function Vc(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function Wc(t){let e=0,i=0;for(const n of t)e+=n.w*n.h,i=Math.max(i,n.w);t.sort((t,e)=>e.h-t.h);const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}];let r=0,a=0;for(const e of t)for(let t=n.length-1;t>=0;t--){const i=n[t];if(!(e.w>i.w||e.h>i.h)){if(e.x=i.x,e.y=i.y,a=Math.max(a,e.y+e.h),r=Math.max(r,e.x+e.w),e.w===i.w&&e.h===i.h){const e=n.pop();t<n.length&&(n[t]=e)}else e.h===i.h?(i.x+=e.w,i.w-=e.w):e.w===i.w?(i.y+=e.h,i.h-=e.h):(n.push({x:i.x+e.w,y:i.y,w:i.w-e.w,h:e.h}),i.y+=e.h,i.h-=e.h);break}}return{w:r,h:a,fill:e/(r*a)||0}}wc.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,a=this.pos;this.type=7&n,t(r,e,this),this.pos===a&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Fc(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Nc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Fc(this.buf,this.pos)+Fc(this.buf,this.pos+4)*kc;return this.pos+=8,t},readSFixed64:function(){var t=Fc(this.buf,this.pos)+Nc(this.buf,this.pos+4)*kc;return this.pos+=8,t},readFloat:function(){var t=_c(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=_c(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,r,a=i.buf;if(n=(112&(r=a[i.pos++]))>>4,r<128)return Cc(t,n,e);if(n|=(127&(r=a[i.pos++]))<<3,r<128)return Cc(t,n,e);if(n|=(127&(r=a[i.pos++]))<<10,r<128)return Cc(t,n,e);if(n|=(127&(r=a[i.pos++]))<<17,r<128)return Cc(t,n,e);if(n|=(127&(r=a[i.pos++]))<<24,r<128)return Cc(t,n,e);if(n|=(1&(r=a[i.pos++]))<<31,r<128)return Cc(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Tc?function(t,e,i){return Tc.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){for(var n="",r=e;r<i;){var a,o,s,l=t[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>i)break;1===u?l<128&&(c=l):2===u?128==(192&(a=t[r+1]))&&(c=(31&l)<<6|63&a)<=127&&(c=null):3===u?(o=t[r+2],128==(192&(a=t[r+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&a)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(o=t[r+2],s=t[r+3],128==(192&(a=t[r+1]))&&128==(192&o)&&128==(192&s)&&((c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),r+=u}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==wc.Bytes)return t.push(this.readVarint(e));var i=Mc(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==wc.Bytes)return t.push(this.readSVarint());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==wc.Bytes)return t.push(this.readBoolean());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==wc.Bytes)return t.push(this.readFloat());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==wc.Bytes)return t.push(this.readDouble());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==wc.Bytes)return t.push(this.readFixed32());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==wc.Bytes)return t.push(this.readSFixed32());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==wc.Bytes)return t.push(this.readFixed64());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==wc.Bytes)return t.push(this.readSFixed64());var e=Mc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===wc.Varint)for(;this.buf[this.pos++]>127;);else if(e===wc.Bytes)this.pos=this.readVarint()+this.pos;else if(e===wc.Fixed32)this.pos+=4;else{if(e!==wc.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Hc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Hc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Hc(this.buf,-1&t,this.pos),Hc(this.buf,Math.floor(t*Sc),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Hc(this.buf,-1&t,this.pos),Hc(this.buf,Math.floor(t*Sc),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,i.buf[i.pos]=127&(t>>>=7)}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,r,a=0;a<e.length;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){n>56319||a+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):r=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(t[i++]=239,t[i++]=191,t[i++]=189,r=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Dc(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),bc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),bc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&Dc(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,wc.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Lc,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Ac,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Ic,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Ec,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Pc,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Oc,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Rc,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,zc,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Yc,e)},writeBytesField:function(t,e){this.writeTag(t,wc.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,wc.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,wc.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,wc.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,wc.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,wc.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,wc.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,wc.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,wc.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,wc.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};class Uc{constructor(t,{pixelRatio:e,version:i,stretchX:n,stretchY:r,content:a}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=r,this.content=a,this.version=i}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class $c{constructor(t,e){const i={},n={};this.haveRenderCallbacks=[];const r=[];this.addImages(t,i,r),this.addImages(e,n,r);const{w:a,h:o}=Wc(r),s=new Os({width:a||1,height:o||1});for(const e in t){const n=t[e],r=i[e].paddedRect;Os.copy(n.data,s,{x:0,y:0},{x:r.x+1,y:r.y+1},n.data)}for(const t in e){const i=e[t],r=n[t].paddedRect,a=r.x+1,o=r.y+1,l=i.data.width,c=i.data.height;Os.copy(i.data,s,{x:0,y:0},{x:a,y:o},i.data),Os.copy(i.data,s,{x:0,y:c-1},{x:a,y:o-1},{width:l,height:1}),Os.copy(i.data,s,{x:0,y:0},{x:a,y:o+c},{width:l,height:1}),Os.copy(i.data,s,{x:l-1,y:0},{x:a-1,y:o},{width:1,height:c}),Os.copy(i.data,s,{x:0,y:0},{x:a+l,y:o},{width:1,height:c})}this.image=s,this.iconPositions=i,this.patternPositions=n}addImages(t,e,i){for(const n in t){const r=t[n],a={x:0,y:0,w:r.data.width+2,h:r.data.height+2};i.push(a),e[n]=new Uc(a,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(t,e){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const i in t.updatedImages)this.patchUpdatedImage(this.iconPositions[i],t.getImage(i),e),this.patchUpdatedImage(this.patternPositions[i],t.getImage(i),e)}patchUpdatedImage(t,e,i){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,r]=t.tl;i.update(e.data,void 0,{x:n,y:r})}}Qn("ImagePosition",Uc),Qn("ImageAtlas",$c);const qc={horizontal:1,vertical:2,horizontalOnly:3};class Gc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,e){const i=new Gc;return i.scale=t||1,i.fontStack=e,i}static forImage(t){const e=new Gc;return e.imageName=t,e}}class Xc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,e){const i=new Xc;for(let n=0;n<t.sections.length;n++){const r=t.sections[n];r.image?i.addImageSection(r):i.addTextSection(r,e)}return i}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(t,e){let i="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n+1)||null,a=t.charCodeAt(n-1)||null;i+=!e&&(r&&zr(r)&&!gc[t[n+1]]||a&&zr(a)&&!gc[t[n-1]])||!gc[t[n]]?t[n]:gc[t[n]]}return i}(this.text,t)}trim(){let t=0;for(let e=0;e<this.text.length&&Jc[this.text.charCodeAt(e)];e++)t++;let e=this.text.length;for(let i=this.text.length-1;i>=0&&i>=t&&Jc[this.text.charCodeAt(i)];i--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e)}substring(t,e){const i=new Xc;return i.text=this.text.substring(t,e),i.sectionIndex=this.sectionIndex.slice(t,e),i.sections=this.sections,i}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,e)=>Math.max(t,this.sections[e].scale),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(Gc.forText(t.scale,t.fontStack||e));const i=this.sections.length-1;for(let e=0;e<t.text.length;++e)this.sectionIndex.push(i)}addImageSection(t){const e=t.image?t.image.name:"";if(0===e.length)return void E("Can't add FormattedSection with an empty image.");const i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(Gc.forImage(e)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Zc(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m){const g=Xc.fromFeature(t,r);let y;d===qc.vertical&&g.verticalizePunctuation(h);const{processBidirectionalText:v,processStyledBidirectionalText:_}=Jr;if(v&&1===g.sections.length){y=[];const t=v(g.toString(),nu(g,c,a,e,n,p,f));for(const e of t){const t=new Xc;t.text=e,t.sections=g.sections;for(let i=0;i<e.length;i++)t.sectionIndex.push(0);y.push(t)}}else if(_){y=[];const t=_(g.text,g.sectionIndex,nu(g,c,a,e,n,p,f));for(const e of t){const t=new Xc;t.text=e[0],t.sectionIndex=e[1],t.sections=g.sections,y.push(t)}}else y=function(t,e){const i=[],n=t.text;let r=0;for(const n of e)i.push(t.substring(r,n)),r=n;return r<n.length&&i.push(t.substring(r,n.length)),i}(g,nu(g,c,a,e,n,p,f));const b=[],x={positionedLines:b,text:g.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(t,e,i,n,r,a,o,s,l,c,u,d){let h=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const t of r){const i=t.getSections();for(const t of i){if(t.imageName)continue;const i=e[t.fontStack];if(i&&(g=void 0!==i.ascender&&void 0!==i.descender,!g))break}if(!g)break}let y=0;for(const o of r){o.trim();const r=o.getMaxScale(),s=24*(r-1),_={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=_;const b=_.positionedGlyphs;let x=0;if(!o.length()){p+=a,++y;continue}let w=0,k=0;for(let a=0;a<o.length();a++){const s=o.getSection(a),f=o.getSectionIndex(a),m=o.getCharCode(a);let y=s.scale,_=null,S=null,T=null,M=24,C=0;const D=!(l===qc.horizontal||!u&&!Rr(m)||u&&(Jc[m]||(v=m,ar(v)||or(v)||sr(v)||Mr(v)||Ar(v))));if(s.imageName){const e=n[s.imageName];if(!e)continue;T=s.imageName,t.iconsInText=t.iconsInText||!0,S=e.paddedRect;const i=e.displaySize;y=24*y/d,_={width:i[0],height:i[1],left:1,top:-3,advance:D?i[1]:i[0],localGlyph:!1},C=g?-_.height*y:24*r-17-i[1]*y,M=_.advance;const a=(D?i[0]:i[1])*y-24*r;a>0&&a>x&&(x=a)}else{const t=i[s.fontStack];if(!t)continue;t[m]&&(S=t[m]);const n=e[s.fontStack];if(!n)continue;const a=n.glyphs[m];if(!a)continue;if(_=a.metrics,M=8203!==m?24:0,g){const t=void 0!==n.ascender?Math.abs(n.ascender):0,e=void 0!==n.descender?Math.abs(n.descender):0,i=(t+e)*y;w<i&&(w=i,k=(t-e)/2*y),C=-t*y}else C=24*(r-y)-17}D?(t.verticalizable=!0,b.push({glyph:m,imageName:T,x:h,y:p+C,vertical:D,scale:y,localGlyph:_.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:_,rect:S}),h+=M*y+c):(b.push({glyph:m,imageName:T,x:h,y:p+C,vertical:D,scale:y,localGlyph:_.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:_,rect:S}),h+=_.advance*y+c)}0!==b.length&&(f=Math.max(h-c,f),g?au(b,m,x,k,a*r/2):au(b,m,x,0,a/2)),h=0;const S=a*r+x;_.lineOffset=Math.max(x,s),p+=S,++y}var v;const _=p,{horizontalAlign:b,verticalAlign:x}=ru(o);(function(t,e,i,n,r,a){const o=(e-i)*r,s=-a*n;for(const e of t)for(const t of e.positionedGlyphs)t.x+=o,t.y+=s})(t.positionedLines,m,b,x,f,_),t.top+=-x*_,t.bottom=t.top+_,t.left+=-b*f,t.right=t.left+f,t.hasBaseline=g}(x,e,i,n,y,o,s,l,d,c,h,m),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return!1;return!0}(b)&&x}const Jc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Kc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Qc(t,e,i,n,r,a){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*24/a+r:0}{const n=i[e.fontStack],a=n&&n.glyphs[t];return a?a.metrics.advance*e.scale+r:0}}function tu(t,e,i,n){const r=Math.pow(t-e,2);return n?t<e?r/2:2*r:r+Math.abs(i)*i}function eu(t,e,i){let n=0;return 10===t&&(n-=1e4),i&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function iu(t,e,i,n,r,a){let o=null,s=tu(e,i,r,a);for(const t of n){const n=tu(e-t.x,i,r,a)+t.badness;n<=s&&(o=t,s=n)}return{index:t,x:e,priorBreak:o,badness:s}}function nu(t,e,i,n,r,a,o){if("point"!==a)return[];if(!t)return[];const s=[],l=function(t,e,i,n,r,a){let o=0;for(let i=0;i<t.length();i++){const s=t.getSection(i);o+=Qc(t.getCharCode(i),s,n,r,e,a)}return o/Math.max(1,Math.ceil(o/i))}(t,e,i,n,r,o),c=t.text.indexOf("")>=0;let u=0;for(let i=0;i<t.length();i++){const a=t.getSection(i),h=t.getCharCode(i);if(Jc[h]||(u+=Qc(h,a,n,r,e,o)),i<t.length()-1){const e=!((d=h)<11904||!(mr(d)||fr(d)||Dr(d)||Tr(d)||_r(d)||lr(d)||gr(d)||dr(d)||br(d)||xr(d)||vr(d)||Er(d)||hr(d)||ur(d)||cr(d)||yr(d)||pr(d)||Cr(d)||kr(d)||wr(d)));(Kc[h]||e||a.imageName)&&s.push(iu(i+1,u,l,s,eu(h,t.getCharCode(i+1),e&&c),!1))}}var d;return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(iu(t.length(),u,l,s,0,!0))}function ru(t){let e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function au(t,e,i,n,r){if(!(e||i||n||r))return;const a=t.length-1,o=t[a],s=(o.x+o.metrics.advance*o.scale)*e;for(let e=0;e<=a;e++)t[e].x-=s,t[e].y+=i+n+r}function ou(t,e,i){const{horizontalAlign:n,verticalAlign:r}=ru(i),a=e[0]-t.displaySize[0]*n,o=e[1]-t.displaySize[1]*r;return{image:t,top:o,bottom:o+t.displaySize[1],left:a,right:a+t.displaySize[0]}}function su(t,e,i,n,r,a){const o=t.image;let s;if(o.content){const t=o.content,e=o.pixelRatio||1;s=[t[0]/e,t[1]/e,o.displaySize[0]-t[2]/e,o.displaySize[1]-t[3]/e]}const l=e.left*a,c=e.right*a;let u,d,h,p;"width"===i||"both"===i?(p=r[0]+l-n[3],d=r[0]+c+n[1]):(p=r[0]+(l+c-o.displaySize[0])/2,d=p+o.displaySize[0]);const f=e.top*a,m=e.bottom*a;return"height"===i||"both"===i?(u=r[1]+f-n[0],h=r[1]+m+n[2]):(u=r[1]+(f+m-o.displaySize[1])/2,h=u+o.displaySize[1]),{image:o,top:u,right:d,bottom:h,left:p,collisionPadding:s}}class lu extends r{constructor(t,e,i,n){super(t,e),this.angle=i,void 0!==n&&(this.segment=n)}clone(){return new lu(this.x,this.y,this.angle,this.segment)}}function cu(t,e,i,n,r){if(void 0===e.segment)return!0;let a=e,o=e.segment+1,s=0;for(;s>-i/2;){if(o--,o<0)return!1;s-=t[o].dist(a),a=t[o]}s+=t[o].dist(t[o+1]),o++;const l=[];let c=0;for(;s<i/2;){const e=t[o],i=t[o+1];if(!i)return!1;let a=t[o-1].angleTo(e)-e.angleTo(i);for(a=Math.abs((a+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:a}),c+=a;s-l[0].distance>n;)c-=l.shift().angleDelta;if(c>r)return!1;o++,s+=e.dist(i)}return!0}function uu(t){let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function du(t,e,i){return t?.6*e*i:0}function hu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function pu(t,e,i,n,r,a){const o=du(i,r,a),s=hu(i,n)*a;let l=0;const c=uu(t)/2;for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1],a=n.dist(r);if(l+a>c){const u=(c-l)/a,d=ei(n.x,r.x,u),h=ei(n.y,r.y,u),p=new lu(d,h,r.angleTo(n),i);return!o||cu(t,p,s,o,e)?p:void 0}l+=a}}function fu(t,e,i,n,r,a,o,s,l){const c=du(n,a,o),u=hu(n,r),d=u*o,h=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-d<e/4&&(e=d+e/4),function t(e,i,n,r,a,o,s,l,c){const u=o/2,d=uu(e);let h=0,p=i-n,f=[];for(let t=0;t<e.length-1;t++){const i=e[t],s=e[t+1],l=i.dist(s),m=s.angleTo(i);for(;p+n<h+l;){p+=n;const g=(p-h)/l,y=ei(i.x,s.x,g),v=ei(i.y,s.y,g);if(y>=0&&y<c&&v>=0&&v<c&&p-u>=0&&p+u<=d){const i=new lu(y,v,m,t);i._round(),r&&!cu(e,i,o,r,a)||f.push(i)}}h+=l}return l||f.length||s||(f=t(e,h/2,n,r,a,o,s,!0,c)),f}(t,h?e/2*s%e:(u/2+2*a)*o*s%e,e,c,i,d,h,!1,l)}function mu(t,e,i,n,a){const o=[];for(let s=0;s<t.length;s++){const l=t[s];let c;for(let t=0;t<l.length-1;t++){let s=l[t],u=l[t+1];s.x<e&&u.x<e||(s.x<e?s=new r(e,s.y+(e-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x<e&&(u=new r(e,s.y+(e-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y<i&&u.y<i||(s.y<i?s=new r(s.x+(i-s.y)/(u.y-s.y)*(u.x-s.x),i)._round():u.y<i&&(u=new r(s.x+(i-s.y)/(u.y-s.y)*(u.x-s.x),i)._round()),s.x>=n&&u.x>=n||(s.x>=n?s=new r(n,s.y+(n-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x>=n&&(u=new r(n,s.y+(n-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y>=a&&u.y>=a||(s.y>=a?s=new r(s.x+(a-s.y)/(u.y-s.y)*(u.x-s.x),a)._round():u.y>=a&&(u=new r(s.x+(a-s.y)/(u.y-s.y)*(u.x-s.x),a)._round()),c&&s.equals(c[c.length-1])||(c=[s],o.push(c)),c.push(u)))))}}return o}Qn("Anchor",lu);var gu=_u,yu=_u,vu=1e20;function _u(t,e,i,n,r,a){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=r||"sans-serif",this.fontWeight=a||"normal",this.radius=i||8;var o=this.size=this.fontSize+2*this.buffer,s=o+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function bu(t,e,i,n,r,a){for(var o=0;o<e;o++)xu(t,o,e,i,n,r,a);for(var s=0;s<i;s++)xu(t,s*e,1,e,n,r,a)}function xu(t,e,i,n,r,a,o){var s,l,c,u;for(a[0]=0,o[0]=-vu,o[1]=vu,s=0;s<n;s++)r[s]=t[e+s*i];for(s=1,l=0,c=0;s<n;s++){do{c=(r[s]-r[u=a[l]]+s*s-u*u)/(s-u)/2}while(c<=o[l]&&--l>-1);a[++l]=s,o[l]=c,o[l+1]=vu}for(s=0,l=0;s<n;s++){for(;o[l+1]<s;)l++;t[e+s*i]=r[u=a[l]]+(s-u)*(s-u)}}_u.prototype._draw=function(t,e){var i,n,r,a,o,s,l,c,u,d=this.ctx.measureText(t),h=d.width,p=2*this.buffer;e&&this.useMetrics?(o=Math.floor(d.actualBoundingBoxAscent),c=this.buffer+Math.ceil(d.actualBoundingBoxAscent),s=this.buffer,l=this.buffer,i=(n=Math.min(this.size,Math.ceil(d.actualBoundingBoxRight-d.actualBoundingBoxLeft)))+p,r=(a=Math.min(this.size-s,Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)))+p,this.ctx.textBaseline="alphabetic"):(i=n=this.size,r=a=this.size,o=19*this.fontSize/24,s=l=0,c=this.middle,this.ctx.textBaseline="middle"),n&&a&&(this.ctx.clearRect(l,s,n,a),this.ctx.fillText(t,this.buffer,c),u=this.ctx.getImageData(l,s,n,a));var f=new Uint8ClampedArray(i*r);return function(t,e,i,n,r,a,o){a.fill(vu,0,e*i),o.fill(0,0,e*i);for(var s=(e-n)/2,l=0;l<r;l++)for(var c=0;c<n;c++){var u=(l+s)*e+c+s,d=t.data[4*(l*n+c)+3]/255;if(1===d)a[u]=0,o[u]=vu;else if(0===d)a[u]=vu,o[u]=0;else{var h=Math.max(0,.5-d),p=Math.max(0,d-.5);a[u]=h*h,o[u]=p*p}}}(u,i,r,n,a,this.gridOuter,this.gridInner),bu(this.gridOuter,i,r,this.f,this.v,this.z),bu(this.gridInner,i,r,this.f,this.v,this.z),function(t,e,i,n,r,a,o){for(var s=0;s<e*i;s++){var l=Math.sqrt(n[s])-Math.sqrt(r[s]);t[s]=Math.round(255-255*(l/a+o))}}(f,i,r,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:f,metrics:{width:n,height:a,sdfWidth:i,sdfHeight:r,top:o,left:0,advance:h}}},_u.prototype.draw=function(t){return this._draw(t,!1).data},_u.prototype.drawWithMetrics=function(t){return this._draw(t,!0)},gu.default=yu;const wu={none:0,ideographs:1,all:2};class ku{constructor(t,e,i){this.requestManager=t,this.localGlyphMode=e,this.localFontFamily=i,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,e){const i=[];for(const e in t)for(const n of t[e])i.push({stack:e,id:n});y(i,({stack:t,id:e},i)=>{let n=this.entries[t];n||(n=this.entries[t]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let r=n.glyphs[e];if(void 0!==r)return void i(null,{stack:t,id:e,glyph:r});if(r=this._tinySDF(n,t,e),r)return n.glyphs[e]=r,void i(null,{stack:t,id:e,glyph:r});const a=Math.floor(e/256);if(256*a>65535)return void i(new Error("glyphs > 65535 not supported"));if(n.ranges[a])return void i(null,{stack:t,id:e,glyph:r});let o=n.requests[a];o||(o=n.requests[a]=[],ku.loadGlyphRange(t,a,this.url,this.requestManager,(t,e)=>{if(e){n.ascender=e.ascender,n.descender=e.descender;for(const t in e.glyphs)this._doesCharSupportLocalGlyph(+t)||(n.glyphs[+t]=e.glyphs[+t]);n.ranges[a]=!0}for(const i of o)i(t,e);delete n.requests[a]})),o.push((n,r)=>{n?i(n):r&&i(null,{stack:t,id:e,glyph:r.glyphs[e]||null})})},(t,i)=>{if(t)e(t);else if(i){const t={};for(const{stack:e,id:n,glyph:r}of i)void 0===t[e]&&(t[e]={}),void 0===t[e].glyphs&&(t[e].glyphs={}),t[e].glyphs[n]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},t[e].ascender=this.entries[e].ascender,t[e].descender=this.entries[e].descender;e(null,t)}})}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==wu.none&&(this.localGlyphMode===wu.all?!!this.localFontFamily:!!this.localFontFamily&&(xr(t)||Sr(t)||hr(t)||pr(t))||dr(t))}_tinySDF(t,e,i){const n=this.localFontFamily;if(!n)return;if(!this._doesCharSupportLocalGlyph(i))return;let r=t.tinySDF;if(!r){let i="400";/bold/i.test(e)?i="900":/medium/i.test(e)?i="500":/light/i.test(e)&&(i="200"),r=t.tinySDF=new ku.TinySDF(48,6,16,.25,n,i)}if(this.localGlyphs[r.fontWeight][i])return this.localGlyphs[r.fontWeight][i];const{data:a,metrics:o}=r.drawWithMetrics(String.fromCharCode(i)),{sdfWidth:s,sdfHeight:l,width:c,height:u,left:d,top:h,advance:p}=o;return this.localGlyphs[r.fontWeight][i]={id:i,bitmap:new Is({width:s,height:l},a),metrics:{width:c/2,height:u/2,left:d/2,top:h/2-27,advance:p/2,localGlyph:!0}}}}function Su(t,e,i,n){const a=[],o=t.image,s=o.pixelRatio,l=o.paddedRect.w-2,c=o.paddedRect.h-2,u=t.right-t.left,d=t.bottom-t.top,h=o.stretchX||[[0,l]],p=o.stretchY||[[0,c]],f=(t,e)=>t+e[1]-e[0],m=h.reduce(f,0),g=p.reduce(f,0),y=l-m,v=c-g;let _=0,b=m,x=0,w=g,k=0,S=y,T=0,M=v;if(o.content&&n){const t=o.content;_=Tu(h,0,t[0]),x=Tu(p,0,t[1]),b=Tu(h,t[0],t[2]),w=Tu(p,t[1],t[3]),k=t[0]-_,T=t[1]-x,S=t[2]-t[0]-b,M=t[3]-t[1]-w}const C=(n,a,l,c)=>{const h=Cu(n.stretch-_,b,u,t.left),p=Du(n.fixed-k,S,n.stretch,m),f=Cu(a.stretch-x,w,d,t.top),y=Du(a.fixed-T,M,a.stretch,g),v=Cu(l.stretch-_,b,u,t.left),C=Du(l.fixed-k,S,l.stretch,m),D=Cu(c.stretch-x,w,d,t.top),L=Du(c.fixed-T,M,c.stretch,g),A=new r(h,f),E=new r(v,f),P=new r(v,D),I=new r(h,D),O=new r(p/s,y/s),R=new r(C/s,L/s),z=e*Math.PI/180;if(z){const t=Math.sin(z),e=Math.cos(z),i=[e,-t,t,e];A._matMult(i),E._matMult(i),I._matMult(i),P._matMult(i)}const Y=n.stretch+n.fixed,F=a.stretch+a.fixed;return{tl:A,tr:E,bl:I,br:P,tex:{x:o.paddedRect.x+1+Y,y:o.paddedRect.y+1+F,w:l.stretch+l.fixed-Y,h:c.stretch+c.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:O,pixelOffsetBR:R,minFontScaleX:S/s/u,minFontScaleY:M/s/d,isSDF:i}};if(n&&(o.stretchX||o.stretchY)){const t=Mu(h,y,m),e=Mu(p,v,g);for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1];for(let t=0;t<e.length-1;t++)a.push(C(n,e[t],r,e[t+1]))}}else a.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return a}function Tu(t,e,i){let n=0;for(const r of t)n+=Math.max(e,Math.min(i,r[1]))-Math.max(e,Math.min(i,r[0]));return n}function Mu(t,e,i){const n=[{fixed:-1,stretch:0}];for(const[e,i]of t){const t=n[n.length-1];n.push({fixed:e-t.stretch,stretch:t.stretch}),n.push({fixed:e-t.stretch,stretch:t.stretch+(i-e)})}return n.push({fixed:e+1,stretch:i}),n}function Cu(t,e,i,n){return t/e*i+n}function Du(t,e,i,n){return t-e*i/n}function Lu(t,e,i,n){const r=e+t.positionedLines[n].lineOffset;return 0===n?i+r/2:i+(r+(e+t.positionedLines[n-1].lineOffset))/2}ku.loadGlyphRange=function(t,e,i,n,r){const a=256*e,o=a+255,s=n.transformRequest(n.normalizeGlyphsURL(i).replace("{fontstack}",t).replace("{range}",`${a}-${o}`),xt.Glyphs);Tt(s,(t,e)=>{if(t)r(t);else if(e){const t={},i=function(t){return new xc(t).readFields(Bc,{})}(e);for(const e of i.glyphs)t[e.id]=e;r(null,{glyphs:t,ascender:i.ascender,descender:i.descender})}})},ku.TinySDF=gu;class Au{constructor(t=[],e=Eu){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:i}=this,n=e[t];for(;t>0;){const r=t-1>>1,a=e[r];if(i(n,a)>=0)break;e[t]=a,t=r}e[t]=n}_down(t){const{data:e,compare:i}=this,n=this.length>>1,r=e[t];for(;t<n;){let n=1+(t<<1),a=e[n];const o=n+1;if(o<this.length&&i(e[o],a)<0&&(n=o,a=e[o]),i(a,r)>=0)break;e[t]=a,t=n}e[t]=r}}function Eu(t,e){return t<e?-1:t>e?1:0}function Pu(t,e=1,i=!1){let n=1/0,a=1/0,o=-1/0,s=-1/0;const l=t[0];for(let t=0;t<l.length;t++){const e=l[t];(!t||e.x<n)&&(n=e.x),(!t||e.y<a)&&(a=e.y),(!t||e.x>o)&&(o=e.x),(!t||e.y>s)&&(s=e.y)}const c=Math.min(o-n,s-a);let u=c/2;const d=new Au([],Iu);if(0===c)return new r(n,a);for(let e=n;e<o;e+=c)for(let i=a;i<s;i+=c)d.push(new Ou(e+u,i+u,u,t));let h=function(t){let e=0,i=0,n=0;const r=t[0];for(let t=0,a=r.length,o=a-1;t<a;o=t++){const a=r[t],s=r[o],l=a.x*s.y-s.x*a.y;i+=(a.x+s.x)*l,n+=(a.y+s.y)*l,e+=3*l}return new Ou(i/e,n/e,0,t)}(t),p=d.length;for(;d.length;){const n=d.pop();(n.d>h.d||!h.d)&&(h=n,i&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,p)),n.max-h.d<=e||(u=n.h/2,d.push(new Ou(n.p.x-u,n.p.y-u,u,t)),d.push(new Ou(n.p.x+u,n.p.y-u,u,t)),d.push(new Ou(n.p.x-u,n.p.y+u,u,t)),d.push(new Ou(n.p.x+u,n.p.y+u,u,t)),p+=4)}return i&&(console.log("num probes: "+p),console.log("best distance: "+h.d)),h.p}function Iu(t,e){return e.max-t.max}function Ou(t,e,i,n){this.p=new r(t,e),this.h=i,this.d=function(t,e){let i=!1,n=1/0;for(let r=0;r<e.length;r++){const a=e[r];for(let e=0,r=a.length,o=r-1;e<r;o=e++){const r=a[e],s=a[o];r.y>t.y!=s.y>t.y&&t.x<(s.x-r.x)*(t.y-r.y)/(s.y-r.y)+r.x&&(i=!i),n=Math.min(n,qo(t,r,s))}}return(i?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}const Ru=Number.POSITIVE_INFINITY,zu=Math.sqrt(2);function Yu(t,e){return e[1]!==Ru?function(t,e,i){let n=0,r=0;switch(e=Math.abs(e),i=Math.abs(i),t){case"top-right":case"top-left":case"top":r=i-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-i}switch(t){case"top-right":case"bottom-right":case"right":n=-e;break;case"top-left":case"bottom-left":case"left":n=e}return[n,r]}(t,e[0],e[1]):function(t,e){let i=0,n=0;e<0&&(e=0);const r=e/zu;switch(t){case"top-right":case"top-left":n=r-7;break;case"bottom-right":case"bottom-left":n=7-r;break;case"bottom":n=7-e;break;case"top":n=e-7}switch(t){case"top-right":case"bottom-right":i=-r;break;case"top-left":case"bottom-left":i=r;break;case"left":i=e;break;case"right":i=-e}return[i,n]}(t,e[0])}function Fu(t,e,i,n,r,a,o,s){t.createArrays(),t.tilePixelRatio=Io/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const l=t.layers[0].layout,c=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){const{minZoom:e,maxZoom:i}=t.textSizeData;u.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Kr(e),o),c["text-size"].possiblyEvaluate(new Kr(i),o)]}if("composite"===t.iconSizeData.kind){const{minZoom:e,maxZoom:i}=t.iconSizeData;u.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Kr(e),o),c["icon-size"].possiblyEvaluate(new Kr(i),o)]}u.layoutTextSize=c["text-size"].possiblyEvaluate(new Kr(s+1),o),u.layoutIconSize=c["icon-size"].possiblyEvaluate(new Kr(s+1),o),u.textMaxSize=c["text-size"].possiblyEvaluate(new Kr(18),o);const d="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),h=l.get("text-size");for(const a of t.features){const s=l.get("text-font").evaluate(a,{},o).join(","),c=h.evaluate(a,{},o),p=u.layoutTextSize.evaluate(a,{},o),f=(u.layoutIconSize.evaluate(a,{},o),{horizontal:{},vertical:void 0}),m=a.text;let g,y=[0,0];if(m){const n=m.toString(),u=24*l.get("text-letter-spacing").evaluate(a,{},o),h=24*l.get("text-line-height").evaluate(a,{},o),g=Ir(n)?u:0,v=l.get("text-anchor").evaluate(a,{},o),_=l.get("text-variable-anchor");if(!_){const t=l.get("text-radial-offset").evaluate(a,{},o);y=t?Yu(v,[24*t,Ru]):l.get("text-offset").evaluate(a,{},o).map(t=>24*t)}let b=d?"center":l.get("text-justify").evaluate(a,{},o);const x=l.get("symbol-placement"),w="point"===x,k="point"===x?24*l.get("text-max-width").evaluate(a,{},o):0,S=a=>{t.allowVerticalPlacement&&Pr(n)&&(f.vertical=Zc(m,e,i,r,s,k,h,v,a,g,y,qc.vertical,!0,x,p,c))};if(!d&&_){const t="auto"===b?_.map(t=>Hu(t)):[b];let n=!1;for(let a=0;a<t.length;a++){const o=t[a];if(!f.horizontal[o])if(n)f.horizontal[o]=f.horizontal[0];else{const t=Zc(m,e,i,r,s,k,h,"center",o,g,y,qc.horizontal,!1,x,p,c);t&&(f.horizontal[o]=t,n=1===t.positionedLines.length)}}S("left")}else{if("auto"===b&&(b=Hu(v)),w||l.get("text-writing-mode").indexOf("horizontal")>=0||!Pr(n)){const t=Zc(m,e,i,r,s,k,h,v,b,g,y,qc.horizontal,!1,x,p,c);t&&(f.horizontal[b]=t)}S("point"===x?"left":b)}}let v=!1;if(a.icon&&a.icon.name){const e=n[a.icon.name];e&&(g=ou(r[a.icon.name],l.get("icon-offset").evaluate(a,{},o),l.get("icon-anchor").evaluate(a,{},o)),v=e.sdf,void 0===t.sdfIcons?t.sdfIcons=e.sdf:t.sdfIcons!==e.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}const _=Vu(f.horizontal)||f.vertical;t.iconsInText||(t.iconsInText=!!_&&_.iconsInText),(_||g)&&Nu(t,a,f,g,n,u,p,0,y,v,o)}a&&t.generateCollisionDebugBuffers(s,t.collisionBoxArray)}function Hu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Nu(t,e,i,n,r,a,o,s,l,c,d){let h=a.textMaxSize.evaluate(e,{},d);void 0===h&&(h=o);const p=t.layers[0].layout,f=p.get("icon-offset").evaluate(e,{},d),m=Vu(i.horizontal)||i.vertical,g=o/24,y=t.tilePixelRatio*h/24,v=t.tilePixelRatio*p.get("symbol-spacing"),_=p.get("text-padding")*t.tilePixelRatio,b=p.get("icon-padding")*t.tilePixelRatio,x=u(p.get("text-max-angle")),w="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),k="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),S=p.get("symbol-placement"),T=v/2,M=p.get("icon-text-fit");let C;n&&"none"!==M&&(t.allowVerticalPlacement&&i.vertical&&(C=su(n,i.vertical,M,p.get("icon-text-fit-padding"),f,g)),m&&(n=su(n,m,M,p.get("icon-text-fit-padding"),f,g)));const D=(s,u)=>{u.x<0||u.x>=Io||u.y<0||u.y>=Io||function(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k){const S=t.addToLineVertexArray(e,i);let T,M,C,D,L,A,P,I=0,O=0,R=0,z=0,Y=-1,F=-1;const H={};let N=no(""),B=0,j=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?[B,j]=s.layout.get("text-offset").evaluate(_,{},w).map(t=>24*t):(B=24*s.layout.get("text-radial-offset").evaluate(_,{},w),j=Ru),t.allowVerticalPlacement&&n.vertical){const t=n.vertical;if(p)A=Uu(t),o&&(P=Uu(o));else{const i=s.layout.get("text-rotate").evaluate(_,{},w)+90;C=Wu(l,e,c,u,d,t,h,i,f),o&&(D=Wu(l,e,c,u,d,o,g,i))}}if(r){const i=s.layout.get("icon-rotate").evaluate(_,{},w),n="none"!==s.layout.get("icon-text-fit"),a=Su(r,i,x,n),h=o?Su(o,i,x,n):void 0;M=Wu(l,e,c,u,d,r,g,i),I=4*a.length;const p=t.iconSizeData;let f=null;"source"===p.kind?(f=[uc*s.layout.get("icon-size").evaluate(_,{},w)],f[0]>Bu&&E(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===p.kind&&(f=[uc*b.compositeIconSizes[0].evaluate(_,{},w),uc*b.compositeIconSizes[1].evaluate(_,{},w)],(f[0]>Bu||f[1]>Bu)&&E(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),t.addSymbols(t.icon,a,f,v,y,_,!1,e,S.lineStartIndex,S.lineLength,-1,w),Y=t.icon.placedSymbolArray.length-1,h&&(O=4*h.length,t.addSymbols(t.icon,h,f,v,y,_,qc.vertical,e,S.lineStartIndex,S.lineLength,-1,w),F=t.icon.placedSymbolArray.length-1)}for(const i in n.horizontal){const r=n.horizontal[i];T||(N=no(r.text),p?L=Uu(r):T=Wu(l,e,c,u,d,r,h,s.layout.get("text-rotate").evaluate(_,{},w),f));const o=1===r.positionedLines.length;if(R+=ju(t,e,r,a,s,p,_,f,S,n.vertical?qc.horizontal:qc.horizontalOnly,o?Object.keys(n.horizontal):[i],H,Y,b,w),o)break}n.vertical&&(z+=ju(t,e,n.vertical,a,s,p,_,f,S,qc.vertical,["vertical"],H,F,b,w));let V=-1;const W=(t,e)=>t?Math.max(t,e):e;V=W(L,V),V=W(A,V),V=W(P,V);const U=V>-1?1:0;U&&(V*=k/24),t.glyphOffsetArray.length>=td.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,_.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,H.right>=0?H.right:-1,H.center>=0?H.center:-1,H.left>=0?H.left:-1,H.vertical>=0?H.vertical:-1,Y,F,N,void 0!==T?T:t.collisionBoxArray.length,void 0!==T?T+1:t.collisionBoxArray.length,void 0!==C?C:t.collisionBoxArray.length,void 0!==C?C+1:t.collisionBoxArray.length,void 0!==M?M:t.collisionBoxArray.length,void 0!==M?M+1:t.collisionBoxArray.length,D||t.collisionBoxArray.length,D?D+1:t.collisionBoxArray.length,c,R,z,I,O,U,0,B,j,V)}(t,u,s,i,n,r,C,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,_,w,l,0,b,k,f,e,a,c,d,o)};if("line"===S)for(const r of mu(e.geometry,0,0,Io,Io)){const e=fu(r,v,x,i.vertical||m,n,24,y,t.overscaling,Io);for(const i of e){const e=m;e&&$u(t,e.text,T,i)||D(r,i)}}else if("line-center"===S){for(const t of e.geometry)if(t.length>1){const e=pu(t,x,i.vertical||m,n,24,y);e&&D(t,e)}}else if("Polygon"===e.type)for(const t of yl(e.geometry,0)){const e=Pu(t,16);D(t[0],new lu(e.x,e.y,0))}else if("LineString"===e.type)for(const t of e.geometry)D(t,new lu(t[0].x,t[0].y,0));else if("Point"===e.type)for(const t of e.geometry)for(const e of t)D([e],new lu(e.x,e.y,0))}const Bu=32640;function ju(t,e,i,n,a,o,s,l,c,u,d,h,p,f,m){const g=function(t,e,i,n,a,o,s,l){const c=[];if(0===e.positionedLines.length)return c;const u=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,d=function(t){const e=t[0],i=t[1],n=e*i;return n>0?[e,-i]:n<0?[-e,i]:0===e?[i,e]:[i,-e]}(i);let h=Math.abs(e.top-e.bottom);for(const t of e.positionedLines)h-=t.lineOffset;const p=e.positionedLines.length,f=h/p;let m=e.top-i[1];for(let t=0;t<p;++t){const n=e.positionedLines[t];m=Lu(e,f,m,t);for(const t of n.positionedGlyphs){if(!t.rect)continue;const n=t.rect||{};let o=4,h=!0,p=1,f=0;const g=(a||l)&&t.vertical,y=t.metrics.advance*t.scale/2,v=t.metrics,_=t.rect;if(null===_)continue;if(l&&e.verticalizable&&(f=t.imageName?y-t.metrics.width*t.scale/2:0),t.imageName){const e=s[t.imageName];if(!e)continue;h=e.sdf,p=e.pixelRatio,o=1/p}const b=a?[t.x+y,t.y]:[0,0];let x=[0,0],w=[0,0],k=!1;a||(g?(w=[t.x+y+d[0],t.y+d[1]-f],k=!0):x=[t.x+y+i[0],t.y+i[1]-f]);const S=_.w*t.scale/(p*(t.localGlyph?2:1)),T=_.h*t.scale/(p*(t.localGlyph?2:1));let M,C,D,L;if(g){const e=t.y-m,i=new r(-y,y-e),n=-Math.PI/2,a=new r(...w);M=new r(-y+x[0],x[1]),M._rotateAround(n,i)._add(a),M.x+=-e+y,M.y-=(v.left-o)*t.scale;const s=t.imageName?v.advance*t.scale:24*t.scale,l=String.fromCharCode(t.glyph);yc(l)?M.x+=(1-o)*t.scale:vc(l)?M.x+=s-v.height*t.scale+(-o-1)*t.scale:M.x+=t.imageName||v.width+2*o===_.w&&v.height+2*o===_.h?(s-T)/2:(s-(v.height+2*o)*t.scale)/2,C=new r(M.x,M.y-S),D=new r(M.x+T,M.y),L=new r(M.x+T,M.y-S)}else{const e=(v.left-o)*t.scale-y+x[0],i=(-v.top-o)*t.scale+x[1],n=e+S,a=i+T;M=new r(e,i),C=new r(n,i),D=new r(e,a),L=new r(n,a)}if(u){let t;t=a?new r(0,0):k?new r(d[0],d[1]):new r(i[0],i[1]),M._rotateAround(u,t),C._rotateAround(u,t),D._rotateAround(u,t),L._rotateAround(u,t)}const A=new r(0,0),E=new r(0,0);c.push({tl:M,tr:C,bl:D,br:L,tex:n,writingMode:e.writingMode,glyphOffset:b,sectionIndex:t.sectionIndex,isSDF:h,pixelOffsetTL:A,pixelOffsetBR:E,minFontScaleX:0,minFontScaleY:0})}}return c}(0,i,l,a,o,s,n,t.allowVerticalPlacement),y=t.textSizeData;let v=null;"source"===y.kind?(v=[uc*a.layout.get("text-size").evaluate(s,{},m)],v[0]>Bu&&E(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===y.kind&&(v=[uc*f.compositeTextSizes[0].evaluate(s,{},m),uc*f.compositeTextSizes[1].evaluate(s,{},m)],(v[0]>Bu||v[1]>Bu)&&E(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),t.addSymbols(t.text,g,v,l,o,s,u,e,c.lineStartIndex,c.lineLength,p,m);for(const e of d)h[e]=t.text.placedSymbolArray.length-1;return 4*g.length}function Vu(t){for(const e in t)return t[e];return null}function Wu(t,e,i,n,a,o,s,l,c){let d=o.top,h=o.bottom,p=o.left,f=o.right;const m=o.collisionPadding;if(m&&(p-=m[0],d-=m[1],f+=m[2],h+=m[3]),l){const t=new r(p,d),e=new r(f,d),i=new r(p,h),n=new r(f,h),a=u(l);let o=new r(0,0);c&&(o=new r(c[0],c[1])),t._rotateAround(a,o),e._rotateAround(a,o),i._rotateAround(a,o),n._rotateAround(a,o),p=Math.min(t.x,e.x,i.x,n.x),f=Math.max(t.x,e.x,i.x,n.x),d=Math.min(t.y,e.y,i.y,n.y),h=Math.max(t.y,e.y,i.y,n.y)}return t.emplaceBack(e.x,e.y,p,d,f,h,s,i,n,a),t.length-1}function Uu(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function $u(t,e,i,n){const r=t.compareText;if(e in r){const t=r[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<i)return!0}else r[e]=[];return r[e].push(n),!1}const qu=Rl.VectorTileFeature.types,Gu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Xu(t,e,i,n,r,a,o,s,l,c,u,d,h){const p=s?Math.min(Bu,Math.round(s[0])):0,f=s?Math.min(Bu,Math.round(s[1])):0;t.emplaceBack(e,i,Math.round(32*n),Math.round(32*r),a,o,(p<<1)+(l?1:0),f,16*c,16*u,256*d,256*h)}function Zu(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function Ju(t){for(const e of t.sections)if(Hr(e.text))return!0;return!1}class Ku{constructor(t){this.layoutVertexArray=new Ta,this.indexArray=new Pa,this.programConfigurations=t,this.segments=new Po,this.dynamicLayoutVertexArray=new Ma,this.opacityVertexArray=new Ca,this.placedSymbolArray=new Wa}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,i,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,rc.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,ac.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Gu,!0),this.opacityVertexBuffer.itemSize=1),(i||n)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Qn("SymbolBuffers",Ku);class Qu{constructor(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new Po,this.collisionVertexArray=new Ea,this.collisionVertexArrayExt=new Ma}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,oc.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,sc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Qn("CollisionBuffers",Qu);class td{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=os([]),this.placementViewportMatrix=os([]);const e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=dc(this.zoom,e["text-size"]),this.iconSizeData=dc(this.zoom,e["icon-size"]);const i=this.layers[0].layout,n=i.get("symbol-sort-key"),r=i.get("symbol-z-order");this.canOverlap=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=i.get("text-writing-mode").map(t=>qc[t]),this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id),this.sourceID=t.sourceID}createArrays(){this.text=new Ku(new wo(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new Ku(new wo(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new qa,this.lineVertexArray=new Ga,this.symbolInstances=new $a}calculateGlyphDependencies(t,e,i,n,r){for(let i=0;i<t.length;i++)if(e[t.charCodeAt(i)]=!0,n&&r){const n=gc[t.charAt(i)];n&&(e[n.charCodeAt(0)]=!0)}}populate(t,e,i){const n=this.layers[0],r=n.layout,a=r.get("text-font"),o=r.get("text-field"),s=r.get("icon-image"),l=("constant"!==o.value.kind||o.value.value instanceof pe&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,u=r.get("symbol-sort-key");if(this.features=[],!l&&!c)return;const d=e.iconDependencies,h=e.glyphDependencies,p=e.availableImages,f=new Kr(this.zoom);for(const{feature:e,id:o,index:s,sourceLayerIndex:m}of t){const t=n._featureFilter.needGeometry,g=Yo(e,t);if(!n._featureFilter.filter(f,g,i))continue;let y,v;if(t||(g.geometry=zo(e)),l){const t=n.getValueAndResolveTokens("text-field",g,i,p),e=pe.factory(t);Ju(e)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Xr()||this.hasRTLText&&Jr.isParsed())&&(y=mc(e,n,g))}if(c){const t=n.getValueAndResolveTokens("icon-image",g,i,p);v=t instanceof fe?t:fe.fromString(t)}if(!y&&!v)continue;const _=this.sortFeaturesByKey?u.evaluate(g,{},i):void 0;if(this.features.push({id:o,text:y,icon:v,index:s,sourceLayerIndex:m,geometry:g.geometry,properties:e.properties,type:qu[e.type],sortKey:_}),v&&(d[v.name]=!0),y){const t=a.evaluate(g,{},i).join(","),e="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(qc.vertical)>=0;for(const i of y.sections)if(i.image)d[i.image.name]=!0;else{const n=Pr(y.toString()),r=i.fontStack||t,a=h[r]=h[r]||{};this.calculateGlyphDependencies(i.text,a,e,this.allowVerticalPlacement,n)}}}"line"===r.get("symbol-placement")&&(this.features=function(t){const e={},i={},n=[];let r=0;function a(e){n.push(t[e]),r++}function o(t,e,r){const a=i[t];return delete i[t],i[e]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(r[0]),a}function s(t,i,r){const a=e[i];return delete e[i],e[t]=a,n[a].geometry[0].shift(),n[a].geometry[0]=r[0].concat(n[a].geometry[0]),a}function l(t,e,i){const n=i?e[0][e[0].length-1]:e[0][0];return`${t}:${n.x}:${n.y}`}for(let c=0;c<t.length;c++){const u=t[c],d=u.geometry,h=u.text?u.text.toString():null;if(!h){a(c);continue}const p=l(h,d),f=l(h,d,!0);if(p in i&&f in e&&i[p]!==e[f]){const t=s(p,f,d),r=o(p,f,n[t].geometry);delete e[p],delete i[f],i[l(h,n[r].geometry,!0)]=r,n[t].geometry=null}else p in i?o(p,f,d):f in e?s(p,f,d):(a(c),e[p]=r-1,i[f]=r-1)}return n.filter(t=>t.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((t,e)=>t.sortKey-e.sortKey)}update(t,e,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,e){const i=this.lineVertexArray.length;if(void 0!==t.segment){let i=t.dist(e[t.segment+1]),n=t.dist(e[t.segment]);const r={};for(let n=t.segment+1;n<e.length;n++)r[n]={x:e[n].x,y:e[n].y,tileUnitDistanceFromAnchor:i},n<e.length-1&&(i+=e[n+1].dist(e[n]));for(let i=t.segment||0;i>=0;i--)r[i]={x:e[i].x,y:e[i].y,tileUnitDistanceFromAnchor:n},i>0&&(n+=e[i-1].dist(e[i]));for(let t=0;t<e.length;t++){const e=r[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}addSymbols(t,e,i,n,r,a,o,s,l,c,u,d){const h=t.indexArray,p=t.layoutVertexArray,f=t.segments.prepareSegment(4*e.length,p,h,this.canOverlap?a.sortKey:void 0),m=this.glyphOffsetArray.length,g=f.vertexLength,y=this.allowVerticalPlacement&&o===qc.vertical?Math.PI/2:0,v=a.text&&a.text.sections;for(let n=0;n<e.length;n++){const{tl:r,tr:o,bl:l,br:c,tex:u,pixelOffsetTL:m,pixelOffsetBR:g,minFontScaleX:_,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:k}=e[n],S=f.vertexLength,T=x[1];Xu(p,s.x,s.y,r.x,T+r.y,u.x,u.y,i,w,m.x,m.y,_,b),Xu(p,s.x,s.y,o.x,T+o.y,u.x+u.w,u.y,i,w,g.x,m.y,_,b),Xu(p,s.x,s.y,l.x,T+l.y,u.x,u.y+u.h,i,w,m.x,g.y,_,b),Xu(p,s.x,s.y,c.x,T+c.y,u.x+u.w,u.y+u.h,i,w,g.x,g.y,_,b),Zu(t.dynamicLayoutVertexArray,s,y),h.emplaceBack(S,S+1,S+2),h.emplaceBack(S+1,S+2,S+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),n!==e.length-1&&k===e[n+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,a,a.index,{},d,v&&v[k])}t.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,l,c,s.segment,i?i[0]:0,i?i[1]:0,n[0],n[1],o,0,!1,0,u,0)}_commitLayoutVertex(t,e,i,n,r){t.emplaceBack(e.x,e.y,i,n,Math.round(r.x),Math.round(r.y))}_addCollisionDebugVertices(t,e,i,n,a){const o=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),s=o.vertexLength,l=a.anchorX,c=a.anchorY;for(let t=0;t<4;t++)i.collisionVertexArray.emplaceBack(0,0,0,0);i.collisionVertexArrayExt.emplaceBack(e,-t.padding,-t.padding),i.collisionVertexArrayExt.emplaceBack(e,t.padding,-t.padding),i.collisionVertexArrayExt.emplaceBack(e,t.padding,t.padding),i.collisionVertexArrayExt.emplaceBack(e,-t.padding,t.padding),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x1,t.y1)),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x2,t.y1)),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x2,t.y2)),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x1,t.y2)),o.vertexLength+=4;const u=i.indexArray;u.emplaceBack(s,s+1),u.emplaceBack(s+1,s+2),u.emplaceBack(s+2,s+3),u.emplaceBack(s+3,s),o.primitiveLength+=4}_addTextDebugCollisionBoxes(t,e,i,n,r,a){for(let o=n;o<r;o++){const n=i.get(o),r=this.getSymbolInstanceTextSize(t,a,e,o);this._addCollisionDebugVertices(n,r,this.textCollisionBox,n.anchorPoint,a)}}_addIconDebugCollisionBoxes(t,e,i,n,r,a){for(let o=n;o<r;o++){const n=i.get(o),r=this.getSymbolInstanceIconSize(t,e,o);this._addCollisionDebugVertices(n,r,this.iconCollisionBox,n.anchorPoint,a)}}generateCollisionDebugBuffers(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Qu(La,lc.members,Fa),this.iconCollisionBox=new Qu(La,lc.members,Fa);const i=pc(this.iconSizeData,t),n=pc(this.textSizeData,t);for(let r=0;r<this.symbolInstances.length;r++){const a=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(n,t,e,a.textBoxStartIndex,a.textBoxEndIndex,a),this._addTextDebugCollisionBoxes(n,t,e,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._addIconDebugCollisionBoxes(i,t,e,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._addIconDebugCollisionBoxes(i,t,e,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a)}}getSymbolInstanceTextSize(t,e,i,n){const r=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:n),a=hc(this.textSizeData,t,r)/24;return this.tilePixelRatio*a}getSymbolInstanceIconSize(t,e,i){const n=this.icon.placedSymbolArray.get(i),r=hc(this.iconSizeData,t,n);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(t,e,i){t.emplaceBack(e,-i,-i),t.emplaceBack(e,i,-i),t.emplaceBack(e,i,i),t.emplaceBack(e,-i,i)}_updateTextDebugCollisionBoxes(t,e,i,n,r,a){for(let o=n;o<r;o++){const n=i.get(o),r=this.getSymbolInstanceTextSize(t,a,e,o);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,n.padding)}}_updateIconDebugCollisionBoxes(t,e,i,n,r){for(let a=n;a<r;a++){const n=i.get(a),r=this.getSymbolInstanceIconSize(t,e,a);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,n.padding)}}updateCollisionDebugBuffers(t,e){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const i=pc(this.iconSizeData,t),n=pc(this.textSizeData,t);for(let r=0;r<this.symbolInstances.length;r++){const a=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(n,t,e,a.textBoxStartIndex,a.textBoxEndIndex,a),this._updateTextDebugCollisionBoxes(n,t,e,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._updateIconDebugCollisionBoxes(i,t,e,a.iconBoxStartIndex,a.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(i,t,e,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,e,i,n,r,a,o,s,l){const c={};for(let n=e;n<i;n++){const e=t.get(n);c.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.textFeatureIndex=e.featureIndex;break}for(let e=n;e<r;e++){const i=t.get(e);c.verticalTextBox={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,padding:i.padding,anchorPointX:i.anchorPointX,anchorPointY:i.anchorPointY},c.verticalTextFeatureIndex=i.featureIndex;break}for(let e=a;e<o;e++){const i=t.get(e);c.iconBox={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,padding:i.padding,anchorPointX:i.anchorPointX,anchorPointY:i.anchorPointY},c.iconFeatureIndex=i.featureIndex;break}for(let e=s;e<l;e++){const i=t.get(e);c.verticalIconBox={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,padding:i.padding,anchorPointX:i.anchorPointX,anchorPointY:i.anchorPointY},c.verticalIconFeatureIndex=i.featureIndex;break}return c}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const i=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const i=t.placedSymbolArray.get(e),n=i.vertexStartIndex+4*i.numGlyphs;for(let e=i.vertexStartIndex;e<n;e+=4)t.indexArray.emplaceBack(e,e+1,e+2),t.indexArray.emplaceBack(e+1,e+2,e+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),i=Math.cos(t),n=[],r=[],a=[];for(let t=0;t<this.symbolInstances.length;++t){a.push(t);const o=this.symbolInstances.get(t);n.push(0|Math.round(e*o.anchorX+i*o.anchorY)),r.push(o.featureIndex)}return a.sort((t,e)=>n[t]-n[e]||r[e]-r[t]),a}addToSortKeyRanges(t,e){const i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===e?i.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach((t,e,i)=>{t>=0&&i.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t)}),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Qn("SymbolBucket",td,{omit:["layers","collisionBoxArray","features","compareText"]}),td.MAX_GLYPHS=65535,td.addDynamicAttributes=Zu;const ed=new ha({"symbol-placement":new sa(Ft.layout_symbol["symbol-placement"]),"symbol-spacing":new sa(Ft.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new sa(Ft.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new la(Ft.layout_symbol["symbol-sort-key"]),"symbol-z-order":new sa(Ft.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new sa(Ft.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new sa(Ft.layout_symbol["icon-ignore-placement"]),"icon-optional":new sa(Ft.layout_symbol["icon-optional"]),"icon-rotation-alignment":new sa(Ft.layout_symbol["icon-rotation-alignment"]),"icon-size":new la(Ft.layout_symbol["icon-size"]),"icon-text-fit":new sa(Ft.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new sa(Ft.layout_symbol["icon-text-fit-padding"]),"icon-image":new la(Ft.layout_symbol["icon-image"]),"icon-rotate":new la(Ft.layout_symbol["icon-rotate"]),"icon-padding":new sa(Ft.layout_symbol["icon-padding"]),"icon-keep-upright":new sa(Ft.layout_symbol["icon-keep-upright"]),"icon-offset":new la(Ft.layout_symbol["icon-offset"]),"icon-anchor":new la(Ft.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new sa(Ft.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new sa(Ft.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new sa(Ft.layout_symbol["text-rotation-alignment"]),"text-field":new la(Ft.layout_symbol["text-field"]),"text-font":new la(Ft.layout_symbol["text-font"]),"text-size":new la(Ft.layout_symbol["text-size"]),"text-max-width":new la(Ft.layout_symbol["text-max-width"]),"text-line-height":new la(Ft.layout_symbol["text-line-height"]),"text-letter-spacing":new la(Ft.layout_symbol["text-letter-spacing"]),"text-justify":new la(Ft.layout_symbol["text-justify"]),"text-radial-offset":new la(Ft.layout_symbol["text-radial-offset"]),"text-variable-anchor":new sa(Ft.layout_symbol["text-variable-anchor"]),"text-anchor":new la(Ft.layout_symbol["text-anchor"]),"text-max-angle":new sa(Ft.layout_symbol["text-max-angle"]),"text-writing-mode":new sa(Ft.layout_symbol["text-writing-mode"]),"text-rotate":new la(Ft.layout_symbol["text-rotate"]),"text-padding":new sa(Ft.layout_symbol["text-padding"]),"text-keep-upright":new sa(Ft.layout_symbol["text-keep-upright"]),"text-transform":new la(Ft.layout_symbol["text-transform"]),"text-offset":new la(Ft.layout_symbol["text-offset"]),"text-allow-overlap":new sa(Ft.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new sa(Ft.layout_symbol["text-ignore-placement"]),"text-optional":new sa(Ft.layout_symbol["text-optional"])});var id={paint:new ha({"icon-opacity":new la(Ft.paint_symbol["icon-opacity"]),"icon-color":new la(Ft.paint_symbol["icon-color"]),"icon-halo-color":new la(Ft.paint_symbol["icon-halo-color"]),"icon-halo-width":new la(Ft.paint_symbol["icon-halo-width"]),"icon-halo-blur":new la(Ft.paint_symbol["icon-halo-blur"]),"icon-translate":new sa(Ft.paint_symbol["icon-translate"]),"icon-translate-anchor":new sa(Ft.paint_symbol["icon-translate-anchor"]),"text-opacity":new la(Ft.paint_symbol["text-opacity"]),"text-color":new la(Ft.paint_symbol["text-color"],{runtimeType:Zt,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new la(Ft.paint_symbol["text-halo-color"]),"text-halo-width":new la(Ft.paint_symbol["text-halo-width"]),"text-halo-blur":new la(Ft.paint_symbol["text-halo-blur"]),"text-translate":new sa(Ft.paint_symbol["text-translate"]),"text-translate-anchor":new sa(Ft.paint_symbol["text-translate-anchor"])}),layout:ed};class nd{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:$t,this.defaultValue=t}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Qn("FormatSectionOverride",nd,{omit:["defaultValue"]});class rd extends Lo{constructor(t){super(t,id)}recalculate(t,e){super.recalculate(t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const i=this.layout.get("text-writing-mode");if(i){const t=[];for(const e of i)t.indexOf(e)<0&&t.push(e);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,e,i,n){const r=this.layout.get(t).evaluate(e,{},i,n),a=this._unevaluatedLayout._values[t];return a.isDataDriven()||nn(a.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,(e,i)=>i in t?String(t[i]):"")}(e.properties,r)}createBucket(t){return new td(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of id.paint.overridableProperties){if(!rd.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),i=new nd(e),n=new en(i,e.property.specification);let r=null;r="constant"===e.value.kind||"source"===e.value.kind?new an("source",n):new on("composite",n,e.value.zoomStops,e.value._interpolationType),this.paint._values[t]=new aa(e.property,r,e.parameters)}}_handleOverridablePaintPropertyUpdate(t,e,i){return!(!this.layout||e.isDataDriven()||i.isDataDriven())&&rd.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const i=t.get("text-field"),n=id.paint.properties[e];let r=!1;const a=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(r=!0)};if("constant"===i.value.kind&&i.value.value instanceof pe)a(i.value.value.sections);else if("source"===i.value.kind){const t=e=>{r||(e instanceof _e&&ye(e.value)===te?a(e.value.sections):e instanceof ke?a(e.sections):e.eachChild(t))},e=i.value;e._styleExpression&&t(e._styleExpression.expression)}return r}getProgramConfiguration(t){return new xo(this,t)}}var ad={paint:new ha({"background-color":new sa(Ft.paint_background["background-color"]),"background-pattern":new ua(Ft.paint_background["background-pattern"]),"background-opacity":new sa(Ft.paint_background["background-opacity"])})},od={paint:new ha({"raster-opacity":new sa(Ft.paint_raster["raster-opacity"]),"raster-hue-rotate":new sa(Ft.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new sa(Ft.paint_raster["raster-brightness-min"]),"raster-brightness-max":new sa(Ft.paint_raster["raster-brightness-max"]),"raster-saturation":new sa(Ft.paint_raster["raster-saturation"]),"raster-contrast":new sa(Ft.paint_raster["raster-contrast"]),"raster-resampling":new sa(Ft.paint_raster["raster-resampling"]),"raster-fade-duration":new sa(Ft.paint_raster["raster-fade-duration"])})};class sd extends Lo{constructor(t){super(t,{}),this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var ld={paint:new ha({"sky-type":new sa(Ft.paint_sky["sky-type"]),"sky-atmosphere-sun":new sa(Ft.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new sa(Ft.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new sa(Ft.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new sa(Ft.paint_sky["sky-gradient-radius"]),"sky-gradient":new da(Ft.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new sa(Ft.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new sa(Ft.paint_sky["sky-atmosphere-color"]),"sky-opacity":new sa(Ft.paint_sky["sky-opacity"])})};function cd(t,e,i){const n=ds(0,0,1),r=ks(ws());return function(t,e,i){i*=.5;var n=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(i),l=Math.cos(i);t[0]=n*l-a*s,t[1]=r*l+o*s,t[2]=a*l+n*s,t[3]=o*l-r*s}(r,r,i?-u(t)+Math.PI:u(t)),Ss(r,r,-u(e)),gs(n,n,r),ms(n,n)}const ud={circle:class extends Lo{constructor(t){super(t,ns)}createBucket(t){return new Ho(t)}queryRadius(t){const e=t;return Ko("circle-radius",this,e)+Ko("circle-stroke-width",this,e)+Qo(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,i,n,r,a,o,s){const l="map"===this.paint.get("circle-pitch-alignment");if(l&&t.queryGeometry.isAboveHorizon)return!1;const c=es(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,t.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i),d=l?u*t.pixelToTileUnitsFactor:u;for(const e of n)for(const i of e){const e=i.add(c),n=s&&a.elevation?a.elevation.exaggeration()*s.getElevationAt(e.x,e.y,!0):0,r=l?e:Ts(e,n,o),u=l?t.tilespaceRays.map(t=>Ds(t,n)):t.queryGeometry.screenGeometry;let h=d;const p=xs([],[i.x,i.y,n,1],o);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?h*=p[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(h*=a.cameraToCenterDistance/p[3]),Bo(u,r,h))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(t){return new xo(this,t)}},heatmap:class extends Lo{createBucket(t){return new Ls(t)}constructor(t){super(t,Rs),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=zs({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(t){return new xo(this,t)}},hillshade:class extends Lo{constructor(t){super(t,Ys)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(t){return new xo(this,t)}},fill:class extends Lo{constructor(t){super(t,kl)}getProgramIds(){const t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),i=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(t){return new xo(this,t)}recalculate(t,e){super.recalculate(t,e);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new xl(t)}queryRadius(){return Qo(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,i,n,r,a){return!t.queryGeometry.isAboveHorizon&&jo(ts(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,t.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends Lo{constructor(t){super(t,jl)}createBucket(t){return new Nl(t)}queryRadius(){return Qo(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(t){return new xo(this,t)}queryIntersectsFeature(t,e,i,n,a,o,s,l,c){const u=es(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),d=this.paint.get("fill-extrusion-height").evaluate(e,i),h=this.paint.get("fill-extrusion-base").evaluate(e,i),p=[0,0],f=l&&o.elevation,m=o.elevation?o.elevation.exaggeration():1;if(f){const e=t.tile.getBucket(this).centroidVertexArray,i=c+1;if(i<e.length){const t=e.get(i);p[0]=t.a_centroid_pos0,p[1]=t.a_centroid_pos1}}if(0===p[0]&&1===p[1])return!1;const g=function(t,e,i,n,a,o,s,l,c){return o?function(t,e,i,n,r,a,o,s,l){const c=[],u=[],d=[0,0,0,1];for(const h of t){const t=[],p=[];for(const c of h){const u=c.x+n.x,h=c.y+n.y,f=$l(u,h,e,i,a,o,s,l);d[0]=u,d[1]=h,d[2]=f.base,d[3]=1,xs(d,d,r),d[3]=Math.max(d[3],1e-5);const m=Ul([d[0]/d[3],d[1]/d[3],d[2]/d[3]]);d[0]=u,d[1]=h,d[2]=f.top,d[3]=1,xs(d,d,r),d[3]=Math.max(d[3],1e-5);const g=Ul([d[0]/d[3],d[1]/d[3],d[2]/d[3]]);t.push(m),p.push(g)}c.push(t),u.push(p)}return[c,u]}(t,e,i,n,a,o,s,l,c):function(t,e,i,n,a){const o=[],s=[],l=a[8]*e,c=a[9]*e,u=a[10]*e,d=a[11]*e,h=a[8]*i,p=a[9]*i,f=a[10]*i,m=a[11]*i;for(const e of t){const t=[],i=[];for(const o of e){const e=o.x+n.x,s=o.y+n.y,g=a[0]*e+a[4]*s+a[12],y=a[1]*e+a[5]*s+a[13],v=a[2]*e+a[6]*s+a[14],_=a[3]*e+a[7]*s+a[15],b=g+l,x=y+c,w=v+u,k=Math.max(_+d,1e-5),S=g+h,T=y+p,M=v+f,C=Math.max(_+m,1e-5),D=new r(b/k,x/k);D.z=w/k,t.push(D);const L=new r(S/C,T/C);L.z=M/C,i.push(L)}o.push(t),s.push(i)}return[o,s]}(t,e,i,n,a)}(n,h,d,u,s,f?l:null,p,m,o.center.lat),y=t.queryGeometry;return function(t,e,i){let n=1/0;jo(i,e)&&(n=Wl(i,e[0]));for(let r=0;r<e.length;r++){const a=e[r],o=t[r];for(let t=0;t<a.length-1;t++){const e=a[t],r=[e,a[t+1],o[t+1],o[t],e];No(i,r)&&(n=Math.min(n,Wl(i,r)))}}return n!==1/0&&n}(g[0],g[1],y.isPointQuery()?y.screenBounds:y.screenGeometry)}},line:class extends Lo{constructor(t){super(t,ec),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof ti,this.gradientVersion=(this.gradientVersion+1)%s}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=ic.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Ql(t)}getProgramIds(){const t=this.paint.get("line-dasharray"),e=this.paint.get("line-pattern").constantOr(1),i=this.paint.get("line-gradient");return[e?"linePattern":t?"lineSDF":i?"lineGradient":"line"]}getProgramConfiguration(t){return new xo(this,t)}queryRadius(t){const e=t,i=nc(Ko("line-width",this,e),Ko("line-gap-width",this,e)),n=Ko("line-offset",this,e);return i/2+Math.abs(n)+Qo(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,i,n,a,o){if(t.queryGeometry.isAboveHorizon)return!1;const s=ts(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),l=t.pixelToTileUnitsFactor/2*nc(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),c=this.paint.get("line-offset").evaluate(e,i);return c&&(n=function(t,e){const i=[],n=new r(0,0);for(let r=0;r<t.length;r++){const a=t[r],o=[];for(let t=0;t<a.length;t++){const i=a[t-1],r=a[t],s=a[t+1],l=0===t?n:r.sub(i)._unit()._perp(),c=t===a.length-1?n:s.sub(r)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),o.push(u._mult(e)._add(r))}i.push(o)}return i}(n,c*t.pixelToTileUnitsFactor)),function(t,e,i){for(let n=0;n<e.length;n++){const r=e[n];if(t.length>=3)for(let e=0;e<r.length;e++)if(Xo(t,r[e]))return!0;if(Vo(t,r,i))return!0}return!1}(s,n,l)}isTileClipped(){return!0}},symbol:rd,background:class extends Lo{constructor(t){super(t,ad)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Lo{constructor(t){super(t,od)}getProgramIds(){return["raster"]}},sky:class extends Lo{constructor(t){super(t,ld),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"sky-gradient"===t?this._updateColorRamp():"sky-atmosphere-sun"!==t&&"sky-atmosphere-halo-color"!==t&&"sky-atmosphere-color"!==t&&"sky-atmosphere-sun-intensity"!==t||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=zs({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}}getCenter(t,e){const i=this.paint.get("sky-type");if("atmosphere"===i){const i=this.paint.get("sky-atmosphere-sun"),n=!i,r=t.style.light,a=r.properties.get("position");return n&&"viewport"===r.properties.get("anchor")&&E("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?cd(a.azimuthal,90-a.polar,e):cd(i[0],90-i[1],e)}if("gradient"===i){const t=this.paint.get("sky-gradient-center");return cd(t[0],90-t[1],e)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const t=this.paint.get("sky-type");return"atmosphere"===t?["skyboxCapture","skybox"]:"gradient"===t?["skyboxGradient"]:null}}},{HTMLImageElement:dd,HTMLCanvasElement:hd,HTMLVideoElement:pd,ImageData:fd,ImageBitmap:md}=o;class gd{constructor(t,e,i,n){this.context=t,this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)}update(t,e,i){const{width:n,height:r}=t,a=!(this.size&&this.size[0]===n&&this.size[1]===r||i),{context:o}=this,{gl:s}=o;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),a)this.size=[n,r],t instanceof dd||t instanceof hd||t instanceof pd||t instanceof fd||md&&t instanceof md?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,n,r,0,this.format,s.UNSIGNED_BYTE,t.data);else{const{x:e,y:a}=i||{x:0,y:0};t instanceof dd||t instanceof hd||t instanceof pd||t instanceof fd||md&&t instanceof md?s.texSubImage2D(s.TEXTURE_2D,0,e,a,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,e,a,n,r,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)}bind(t,e,i){const{context:n}=this,{gl:r}=n;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class yd{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof _d?new _d(t.lng,t.lat):_d.convert(t),this}setSouthWest(t){return this._sw=t instanceof _d?new _d(t.lng,t.lat):_d.convert(t),this}extend(t){const e=this._sw,i=this._ne;let n,r;if(t instanceof _d)n=t,r=t;else{if(!(t instanceof yd))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(yd.convert(t)):this.extend(_d.convert(t)):this;if(n=t._sw,r=t._ne,!n||!r)return this}return e||i?(e.lng=Math.min(n.lng,e.lng),e.lat=Math.min(n.lat,e.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new _d(n.lng,n.lat),this._ne=new _d(r.lng,r.lat)),this}getCenter(){return new _d((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new _d(this.getWest(),this.getNorth())}getSouthEast(){return new _d(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:e,lat:i}=_d.convert(t);let n=this._sw.lng<=e&&e<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=e&&e>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&n}static convert(t){return!t||t instanceof yd?t:new yd(t)}}const vd=6371008.8;class _d{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new _d(g(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,i=this.lat*e,n=t.lat*e,r=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return vd*Math.acos(Math.min(r,1))}toBounds(t=0){const e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new yd(new _d(this.lng-i,this.lat-e),new _d(this.lng+i,this.lat+e))}static convert(t){if(t instanceof _d)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new _d(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new _d(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const bd=2*Math.PI*vd;function xd(t){return bd*Math.cos(t*Math.PI/180)}function wd(t){return(180+t)/360}function kd(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Sd(t,e){return t/xd(e)}function Td(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function Md(t,e){return t*xd(Td(e))}class Cd{constructor(t,e,i=0){this.x=+t,this.y=+e,this.z=+i}static fromLngLat(t,e=0){const i=_d.convert(t);return new Cd(wd(i.lng),kd(i.lat),Sd(e,i.lat))}toLngLat(){return new _d(360*this.x-180,Td(this.y))}toAltitude(){return Md(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/bd*(t=Td(this.y),1/Math.cos(t*Math.PI/180));var t}}class Dd{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.image=new Is({width:t,height:e}),this.positions={},this.uploaded=!1}getDash(t,e){const i=this.getKey(t,e);return this.positions[i]}trim(){const t=this.width,e=this.height=k(this.nextRow);this.image.resize({width:t,height:e})}getKey(t,e){return t.join(",")+e}getDashRanges(t,e,i){const n=[];let r=t.length%2==1?-t[t.length-1]*i:0,a=t[0]*i,o=!0;n.push({left:r,right:a,isDash:o,zeroLength:0===t[0]});let s=t[0];for(let e=1;e<t.length;e++){o=!o;const l=t[e];r=s*i,s+=l,a=s*i,n.push({left:r,right:a,isDash:o,zeroLength:0===l})}return n}addRoundDash(t,e,i){const n=e/2;for(let e=-i;e<=i;e++){const r=this.width*(this.nextRow+i+e);let a=0,o=t[a];for(let s=0;s<this.width;s++){s/o.right>1&&(o=t[++a]);const l=Math.abs(s-o.left),c=Math.abs(s-o.right),u=Math.min(l,c);let d;const h=e/i*(n+1);if(o.isDash){const t=n-Math.abs(h);d=Math.sqrt(u*u+t*t)}else d=n-Math.sqrt(u*u+h*h);this.image.data[r+s]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(t,e){for(let e=t.length-1;e>=0;--e){const i=t[e],n=t[e+1];i.zeroLength?t.splice(e,1):n&&n.isDash===i.isDash&&(n.left=i.left,t.splice(e,1))}const i=t[0],n=t[t.length-1];i.isDash===n.isDash&&(i.left=n.left-this.width,n.right=i.right+this.width);const r=this.width*this.nextRow;let a=0,o=t[a];for(let i=0;i<this.width;i++){i/o.right>1&&(o=t[++a]);const n=Math.abs(i-o.left),s=Math.abs(i-o.right),l=Math.min(n,s);this.image.data[r+i]=Math.max(0,Math.min(255,(o.isDash?l:-l)+e+128))}}addDash(t,e){const i=this.getKey(t,e);if(this.positions[i])return this.positions[i];const n="round"===e,r=n?7:0,a=2*r+1;if(this.nextRow+a>this.height)return E("LineAtlas out of space"),null;0===t.length&&t.push(1);let o=0;for(let e=0;e<t.length;e++)t[e]<0&&(E("Negative value is found in line dasharray, replacing values with 0"),t[e]=0),o+=t[e];if(0!==o){const i=this.width/o,a=this.getDashRanges(t,this.width,i);n?this.addRoundDash(a,i,r):this.addRegularDash(a,"square"===e?.5*i:0)}const s=this.nextRow+r;this.nextRow+=a;const l={tl:[s,r],br:[o,0]};return this.positions[i]=l,l}}Qn("LineAtlas",Dd);class Ld{constructor(t){this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Ad=o.performance;function Ed(t){const e=t?t.url.toString():void 0;return Ad.getEntriesByName(e)}class Pd{constructor(){this.tasks={},this.taskQueue=[],T(["process"],this),this.invoker=new Ld(this.process),this.nextId=0}add(t,e){const i=this.nextId++,n=function({type:t,isSymbolTile:e,zoom:i}){return i=i||0,"message"===t?0:"maybePrepare"!==t||e?"parseTile"!==t||e?"parseTile"===t&&e?300-i:"maybePrepare"===t&&e?400-i:500:200-i:100-i}(e);if(0===n){O();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[i]={fn:t,metadata:e,priority:n,id:i},this.taskQueue.push(i),this.invoker.trigger(),{cancel:()=>{delete this.tasks[i]}}}process(){O();try{if(this.taskQueue=this.taskQueue.filter(t=>!!this.tasks[t]),!this.taskQueue.length)return;const t=this.pick();if(null===t)return;const e=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!e)return;e.fn()}finally{}}pick(){let t=null,e=1/0;for(let i=0;i<this.taskQueue.length;i++){const n=this.tasks[this.taskQueue[i]];n.priority<e&&(e=n.priority,t=i)}if(null===t)return null;const i=this.taskQueue[t];return this.taskQueue.splice(t,1),i}remove(){this.invoker.remove()}}function Id(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class Od{constructor(t,e,i){this.z=t,this.x=e,this.y=i,this.key=Yd(0,t,t,e,i)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e){const i=(r=this.y,a=this.z,o=Id(256*(n=this.x),256*(r=Math.pow(2,a)-r-1),a),s=Id(256*(n+1),256*(r+1),a),o[0]+","+o[1]+","+s[0]+","+s[1]);var n,r,a,o,s;const l=function(t,e,i){let n,r="";for(let a=t;a>0;a--)n=1<<a-1,r+=(e&n?1:0)+(i&n?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",i)}getTilePoint(t){const e=Math.pow(2,this.z);return new r((t.x*e-this.x)*Io,(t.y*e-this.y)*Io)}getTileVec3(t){const e=Math.pow(2,this.z);return ds((t.x*e-this.x)*Io,(t.y*e-this.y)*Io,Md(t.z,t.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class Rd{constructor(t,e){this.wrap=t,this.canonical=e,this.key=Yd(t,e.z,e.z,e.x,e.y)}}class zd{constructor(t,e,i,n,r){this.overscaledZ=t,this.wrap=e,this.canonical=new Od(i,+n,+r),this.key=0===e&&t===i?this.canonical.key:Yd(e,t,i,n,r)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const e=this.canonical.z-t;return t>this.canonical.z?new zd(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new zd(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e=!0){if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return Yd(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);{const i=this.canonical.z-t;return Yd(this.wrap*+e,t,t,this.canonical.x>>i,this.canonical.y>>i)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return[new zd(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,i=2*this.canonical.x,n=2*this.canonical.y;return[new zd(e,this.wrap,e,i,n),new zd(e,this.wrap,e,i+1,n),new zd(e,this.wrap,e,i,n+1),new zd(e,this.wrap,e,i+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new zd(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new zd(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Rd(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new Cd(t.x-this.wrap,t.y))}getTileVec3(t){return this.canonical.getTileVec3(new Cd(t.x-this.wrap,t.y,t.z))}}function Yd(t,e,i,n,r){const a=1<<Math.min(i,22);let o=a*(r%a)+n%a;return t&&i<22&&(o+=a*a*((t<0?-2*t-1:2*t)%(1<<2*(22-i)))),16*(32*o+i)+(e-i)}Qn("CanonicalTileID",Od),Qn("OverscaledTileID",zd,{omit:["projMatrix"]});class Fd{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}class Hd{constructor(t,e,i,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=n,this.properties=t.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}}var Nd=ya([{name:"a_pos",type:"Int16",components:2}]);class Bd{constructor(t,e,i){this.tileID=t,this.uid=x(),this.uses=0,this.tileSize=e,this.tileZoom=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const e=t+this.timeAdded;e<j.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(t,e,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){const i={};if(!e)return i;for(const n of t){const t=n.layerIds.map(t=>e.getLayer(t)).filter(Boolean);if(0!==t.length){n.layers=t,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(e=>t.filter(t=>t.id===e)[0]));for(const e of t)i[e.id]=n}}return i}(t.buckets,e.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const e=this.buckets[t];if(e instanceof td){if(this.hasSymbolBuckets=!0,!i)break;e.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const e=this.buckets[t];if(e instanceof td&&e.hasRTLText){this.hasRTLText=!0,Jr.isLoading()||Jr.isLoaded()||"deferred"!==Xr()||Zr();break}}this.queryPadding=0;for(const t in this.buckets){const i=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(t).queryRadius(i))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new ja}unloadVectorData(){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(t){return this.buckets[t.id]}upload(t){for(const e in this.buckets){const i=this.buckets[e];i.uploadPending()&&i.upload(t)}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new gd(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new gd(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new gd(t,this.lineAtlas.image,e.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,e,i,n,r,a,o,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:o,transform:a,params:r},t,e,i):{}}querySourceFeatures(t,e){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const n=i.loadVTLayers(),r=e?e.sourceLayer:"",a=n._geojsonTileLayer||n[r];if(!a)return;const o=yn(e&&e.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let e=0;e<a.length;e++){const n=a.feature(e);if(o.needGeometry){const t=Yo(n,!0);if(!o.filter(new Kr(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!o.filter(new Kr(this.tileID.overscaledZ),n))continue;const d=i.getId(n,r),h=new Hd(n,s,l,c,d);h.tile=u,t.push(h)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const e=this.expirationTime;if(t.cacheControl){const e=R(t.cacheControl);e["max-age"]&&(this.expirationTime=Date.now()+1e3*e["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const t=Date.now();let i=!1;if(this.expirationTime>t)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{const n=this.expirationTime-e;n?this.expirationTime=t+Math.max(n,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length)return;const i=this.latestFeatureIndex.loadVTLayers();for(const n in this.buckets){if(!e.style.hasLayer(n))continue;const r=this.buckets[n],a=r.layers[0].sourceLayer||"_geojsonTileLayer",o=i[a],s=t[a];if(!o||!s||0===Object.keys(s).length)continue;r.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=e&&e.style&&e.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<j.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=j.now()+t}setDependencies(t,e){const i={};for(const t of e)i[t]=!0;this.dependencies[t]=i}hasDependency(t,e){for(const i of t){const t=this.dependencies[i];if(t)for(const i of e)if(t[i])return!0}return!1}clearQueryDebugViz(){}}class jd{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,e,i){const n=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},_(this.stateChanges[t][n],i),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==n&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][n]){this.deletedStates[t][n]={};for(const e in this.state[t][n])i[e]||(this.deletedStates[t][n][e]=null)}else for(const e in i)this.deletedStates[t]&&this.deletedStates[t][n]&&null===this.deletedStates[t][n][e]&&delete this.deletedStates[t][n][e]}removeFeatureState(t,e,i){if(null===this.deletedStates[t])return;const n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},i&&void 0!==e)null!==this.deletedStates[t][n]&&(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][i]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][n])for(i in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][i]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null}getState(t,e){const i=String(e),n=_({},(this.state[t]||{})[i],(this.stateChanges[t]||{})[i]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const i=this.deletedStates[t][e];if(null===i)return{};for(const t in i)delete n[t]}return n}initializeTileState(t,e){t.setFeatureState(this.state,e)}coalesceChanges(t,e){const i={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const e={};for(const i in this.stateChanges[t])this.state[t][i]||(this.state[t][i]={}),_(this.state[t][i],this.stateChanges[t][i]),e[i]=this.state[t][i];i[t]=e}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const e={};if(null===this.deletedStates[t])for(const i in this.state[t])e[i]={},this.state[t][i]={};else for(const i in this.deletedStates[t]){if(null===this.deletedStates[t][i])this.state[t][i]={};else for(const e of Object.keys(this.deletedStates[t][i]))delete this.state[t][i][e];e[i]=this.state[t][i]}i[t]=i[t]||{},_(i[t],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const n in t)t[n].setFeatureState(i,e)}}class Vd{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,e){const i=this.toIdx(t,e);return{min:this.minimums[i],max:this.maximums[i]}}isLeaf(t,e){return this.leaves[this.toIdx(t,e)]}toIdx(t,e){return e*this.size+t}}function Wd(t,e,i,n){let r=0,a=Number.MAX_VALUE;for(let o=0;o<3;o++)if(Math.abs(n[o])<1e-15){if(i[o]<t[o]||i[o]>e[o])return null}else{const s=1/n[o];let l=(t[o]-i[o])*s,c=(e[o]-i[o])*s;if(l>c){const t=l;l=c,c=t}if(l>r&&(r=l),c<a&&(a=c),r>a)return null}return r}function Ud(t,e,i,n,r,a,o,s,l,c,u){const d=n-t,h=r-e,p=a-i,f=o-t,m=s-e,g=l-i,y=u[1]*g-u[2]*m,v=u[2]*f-u[0]*g,_=u[0]*m-u[1]*f,b=d*y+h*v+p*_;if(Math.abs(b)<1e-15)return null;const x=1/b,w=c[0]-t,k=c[1]-e,S=c[2]-i,T=(w*y+k*v+S*_)*x;if(T<0||T>1)return null;const M=k*p-S*h,C=S*d-w*p,D=w*h-k*d,L=(u[0]*M+u[1]*C+u[2]*D)*x;return L<0||T+L>1?null:(f*M+m*C+g*D)*x}function $d(t,e,i){return(t-e)/(i-e)}function qd(t,e,i,n,r,a,o,s,l){const c=1<<i,u=a-n,d=o-r,h=(t+1)/c*u+n,p=(e+0)/c*d+r,f=(e+1)/c*d+r;s[0]=(t+0)/c*u+n,s[1]=p,l[0]=h,l[1]=f}class Gd{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const e=function(t){const e=Math.ceil(Math.log2(t.dim/8)),i=[];let n=Math.ceil(Math.pow(2,e));const r=1/n,a=(t,e,i,n,r)=>{const a=n?1:0,o=(t+1)*i-a,s=e*i,l=(e+1)*i-a;r[0]=t*i,r[1]=s,r[2]=o,r[3]=l};let o=new Vd(n);const s=[];for(let e=0;e<n*n;e++){a(e%n,Math.floor(e/n),r,!1,s);const i=Zd(s[0],s[1],t),l=Zd(s[2],s[1],t),c=Zd(s[2],s[3],t),u=Zd(s[0],s[3],t);o.minimums.push(Math.min(i,l,c,u)),o.maximums.push(Math.max(i,l,c,u)),o.leaves.push(1)}for(i.push(o),n/=2;n>=1;n/=2){const t=i[i.length-1];o=new Vd(n);for(let e=0;e<n*n;e++){a(e%n,Math.floor(e/n),2,!0,s);const i=t.getElevation(s[0],s[1]),r=t.getElevation(s[2],s[1]),l=t.getElevation(s[2],s[3]),c=t.getElevation(s[0],s[3]),u=t.isLeaf(s[0],s[1]),d=t.isLeaf(s[2],s[1]),h=t.isLeaf(s[2],s[3]),p=t.isLeaf(s[0],s[3]),f=Math.min(i.min,r.min,l.min,c.min),m=Math.max(i.max,r.max,l.max,c.max),g=u&&d&&h&&p;o.maximums.push(m),o.minimums.push(f),o.leaves.push(m-f<=5&&g?1:0)}i.push(o)}return i}(this.dem),i=e.length-1,n=e[i];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(e,0,0,i,0)}raycastRoot(t,e,i,n,r,a,o=1){return Wd([t,e,-100],[i,n,this.maximums[0]*o],r,a)}raycast(t,e,i,n,r,a,o=1){if(!this.nodeCount)return null;const s=this.raycastRoot(t,e,i,n,r,a,o);if(null==s)return null;const l=[],c=[],u=[],d=[],h=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;h.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=h.pop();if(this.leaves[s]){qd(f,m,g,t,e,i,n,u,d);const s=1<<g,l=(f+0)/s,c=(f+1)/s,h=(m+0)/s,y=(m+1)/s,v=Zd(l,h,this.dem)*o,_=Zd(c,h,this.dem)*o,b=Zd(c,y,this.dem)*o,x=Zd(l,y,this.dem)*o,w=Ud(u[0],u[1],v,d[0],u[1],_,d[0],d[1],b,r,a),k=Ud(d[0],d[1],b,u[0],d[1],x,u[0],u[1],v,r,a),S=Math.min(null!==w?w:Number.MAX_VALUE,null!==k?k:Number.MAX_VALUE);if(S!==Number.MAX_VALUE)return S;{const t=fs([],r,a,p);if(Xd(v,_,x,b,$d(t[0],u[0],d[0]),$d(t[1],u[1],d[1]))>=t[2])return p}continue}let y=0;for(let h=0;h<this._siblingOffset.length;h++){qd((f<<1)+this._siblingOffset[h][0],(m<<1)+this._siblingOffset[h][1],g+1,t,e,i,n,u,d),u[2]=-100,d[2]=this.maximums[this.childOffsets[s]+h]*o;const p=Wd(u,d,r,a);if(null!=p){const t=p;l[h]=t;let e=!1;for(let i=0;i<y&&!e;i++)t>=l[c[i]]&&(c.splice(i,0,h),e=!0);e||(c[y]=h),y++}}for(let t=0;t<y;t++){const e=c[t];h.push({idx:this.childOffsets[s]+e,t:l[e],nodex:(f<<1)+this._siblingOffset[e][0],nodey:(m<<1)+this._siblingOffset[e][1],depth:g+1})}}return null}_addNode(t,e,i){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(i),this.childOffsets.push(0),this.nodeCount++}_construct(t,e,i,n,r){if(1===t[n].isLeaf(e,i))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const a=n-1,o=t[a];let s,l=0;for(let t=0;t<this._siblingOffset.length;t++){const n=2*e+this._siblingOffset[t][0],r=2*i+this._siblingOffset[t][1],a=o.getElevation(n,r),c=o.isLeaf(n,r),u=this._addNode(a.min,a.max,c);c&&(l|=1<<t),s||(s=u)}for(let n=0;n<this._siblingOffset.length;n++)l&1<<n||this._construct(t,2*e+this._siblingOffset[n][0],2*i+this._siblingOffset[n][1],a,s+n)}}function Xd(t,e,i,n,r,a){return ei(ei(t,i,a),ei(e,n,a),r)}function Zd(t,e,i){const n=i.dim,r=m(t*n-.5,0,n-1),a=m(e*n-.5,0,n-1),o=Math.floor(r),s=Math.floor(a),l=Math.min(o+1,n-1),c=Math.min(s+1,n-1);return Xd(i.get(o,s),i.get(l,s),i.get(o,c),i.get(l,c),r-o,a-s)}const Jd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Kd{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,e,i,n=!1,r=!1){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(i&&"mapbox"!==i&&"terrarium"!==i)return E(`"${i}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=e.height;const a=this.dim=e.height-2;if(this.data=new Uint32Array(e.data.buffer),this.encoding=i||"mapbox",this.borderReady=n,!n){for(let t=0;t<a;t++)this.data[this._idx(-1,t)]=this.data[this._idx(0,t)],this.data[this._idx(a,t)]=this.data[this._idx(a-1,t)],this.data[this._idx(t,-1)]=this.data[this._idx(t,0)],this.data[this._idx(t,a)]=this.data[this._idx(t,a-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(a,-1)]=this.data[this._idx(a-1,0)],this.data[this._idx(-1,a)]=this.data[this._idx(0,a-1)],this.data[this._idx(a,a)]=this.data[this._idx(a-1,a-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Gd(this)}get(t,e,i=!1){const n=new Uint8Array(this.data.buffer);i&&(t=m(t,-1,this.dim),e=m(e,-1,this.dim));const r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}static getUnpackVector(t){return Jd[t]}get unpackVector(){return Jd[this.encoding]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)}_unpackMapbox(t,e,i){return(256*t*256+256*e+i)/10-1e4}_unpackTerrarium(t,e,i){return 256*t+e+i/256-32768}static pack(t,e){const i=[0,0,0,0],n=Kd.getUnpackVector(e);let r=Math.floor((t+n[3])/n[2]);return i[2]=r%256,r=Math.floor(r/256),i[1]=r%256,r=Math.floor(r/256),i[0]=r,i}getPixels(){return new Os({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,e,i){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let n=e*this.dim,r=e*this.dim+this.dim,a=i*this.dim,o=i*this.dim+this.dim;switch(e){case-1:n=r-1;break;case 1:r=n+1}switch(i){case-1:a=o-1;break;case 1:o=a+1}const s=-e*this.dim,l=-i*this.dim;for(let e=a;e<o;e++)for(let i=n;i<r;i++)this.data[this._idx(i,e)]=t.data[this._idx(i+s,e+l)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}Qn("DEMData",Kd),Qn("DemMinMaxQuadTree",Gd,{omit:["dem"]});class Qd{constructor(t,e){this.max=t,this.onRemove=e,this.reset()}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,i){const n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const r={value:e,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout(()=>{this.remove(t,r)},i)),this.data[n].push(r),this.order.push(n),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const i=t.wrapped().key,n=void 0===e?0:this.data[i].indexOf(e),r=this.data[i][n];return this.data[i].splice(n,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}filter(t){const e=[];for(const i in this.data)for(const n of this.data[i])t(n.value)||e.push(n);for(const t of e)this.remove(t.value.tileID,t)}}class th{constructor(t,e,i){this.func=t,this.mask=e,this.range=i}}th.ReadOnly=!1,th.ReadWrite=!0,th.disabled=new th(519,th.ReadOnly,[0,1]);class eh{constructor(t,e,i,n,r,a){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=r,this.pass=a}}eh.disabled=new eh({func:519,mask:0},0,0,7680,7680,7680);class ih{constructor(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i}}ih.Replace=[1,0],ih.disabled=new ih(ih.Replace,ue.transparent,[!1,!1,!1,!1]),ih.unblended=new ih(ih.Replace,ue.transparent,[!0,!0,!0,!0]),ih.alphaBlended=new ih([1,771],ue.transparent,[!0,!0,!0,!0]);class nh{constructor(t,e,i){this.enable=t,this.mode=e,this.frontFace=i}}nh.disabled=new nh(!1,1029,2305),nh.backCCW=new nh(!0,1029,2305),nh.backCW=new nh(!0,1029,2304),nh.frontCW=new nh(!0,1028,2304),nh.frontCCW=new nh(!0,1028,2305);class rh extends Yt{constructor(t,e,i){super(),this.id=t,this._onlySymbols=i,e.on("data",t=>{"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),e.on("error",()=>{this._sourceErrored=!0}),this._source=e,this._tiles={},this._cache=new Qd(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new jd}onAdd(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const t in this._tiles){const e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,e){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,e)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,()=>{})}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,()=>{})}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const e in this._tiles){const i=this._tiles[e];i.upload(t),i.prepare(this.map.style.imageManager)}}getIds(){return v(this._tiles).map(t=>t.tileID).sort(ah).map(t=>t.key)}getRenderableIds(t){const e=[];for(const i in this._tiles)this._isIdRenderable(+i,t)&&e.push(this._tiles[i]);return t?e.sort((t,e)=>{const i=t.tileID,n=e.tileID,a=new r(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),o=new r(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-n.overscaledZ||o.y-a.y||o.x-a.x}).map(t=>t.tileID.key):e.map(t=>t.tileID).sort(ah).map(t=>t.key)}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(+t,"reloading")}}_reloadTile(t,e){const i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))}_tileLoaded(t,e,i,n){if(n)return t.state="errored",void(404!==n.status?this._source.fire(new zt(n,{tile:t})):this.update(this.transform));t.timeAdded=j.now(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new Rt("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const e=this.getRenderableIds();for(let n=0;n<e.length;n++){const r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){const e=this.getTileByID(r);i(t,e),i(e,t)}}function i(t,e){if(!t.dem||t.dem.borderReady)return;t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0;let i=e.tileID.canonical.x-t.tileID.canonical.x;const n=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),a=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[a]&&(t.neighboringTiles[a].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,i,n){for(const r in this._tiles){let a=this._tiles[r];if(n[r]||!a.hasData()||a.tileID.overscaledZ<=e||a.tileID.overscaledZ>i)continue;let o=a.tileID;for(;a&&a.tileID.overscaledZ>e+1;){const t=a.tileID.scaledTo(a.tileID.overscaledZ-1);a=this._tiles[t.key],a&&a.hasData()&&(o=t)}let s=o;for(;s.overscaledZ>e;)if(s=s.scaledTo(s.overscaledZ-1),t[s.key]){n[o.key]=o;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const i=this._loadedParentTiles[t.key];return i&&i.tileID.overscaledZ>=e?i:null}for(let i=t.overscaledZ-1;i>=e;i--){const e=t.scaledTo(i),n=this._getLoadedTile(e);if(n)return n}}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,e){e=e||this._source.tileSize;const i=Math.ceil(t.width/e)+1,n=Math.ceil(t.height/e)+1,r=Math.floor(i*n*5),a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(a)}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const i in this._tiles){const n=this._tiles[i];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+e),t[n.tileID.key]=n}this._tiles=t;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t])}}update(t,e,i){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!i)return;let n;this.updateCacheSize(t,e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(t=>new zd(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)):(n=t.coveringTiles({tileSize:e||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!i,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter(t=>this._source.hasTile(t)))):n=[];const r=this._updateRetainedTiles(n);if(oh(this._source.type)&&0!==n.length){const t={},e={},i=Object.keys(r);for(const n of i){const i=r[n],a=this._tiles[n];if(!a||a.fadeEndTime&&a.fadeEndTime<=j.now())continue;const o=this.findLoadedParent(i,Math.max(i.overscaledZ-rh.maxOverzooming,this._source.minzoom));o&&(this._addTile(o.tileID),t[o.tileID.key]=o.tileID),e[n]=i}const a=n[n.length-1].overscaledZ;for(const t in this._tiles){const i=this._tiles[t];if(r[t]||!i.hasData())continue;let n=i.tileID;for(;n.overscaledZ>a;){n=n.scaledTo(n.overscaledZ-1);const a=this._tiles[n.key];if(a&&a.hasData()&&e[n.key]){r[t]=i.tileID;break}}}for(const e in t)r[e]||(this._coveredTiles[e]=!0,r[e]=t[e])}for(const t in r)this._tiles[t].clearFadeHold();const a=function(t,e){const i=[];for(const n in t)n in e||i.push(n);return i}(this._tiles,r);for(const t of a){const e=this._tiles[t];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+t)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const e={};if(0===t.length)return e;const i={},n=t[t.length-1].overscaledZ,r=t[0].overscaledZ,a=Math.max(r-rh.maxOverzooming,this._source.minzoom),o=Math.max(r+rh.maxUnderzooming,this._source.minzoom),s={};for(const i of t){const t=this._addTile(i);e[i.key]=i,t.hasData()||n<this._source.maxzoom&&(s[i.key]=i)}this._retainLoadedChildren(s,n,o,e);for(const n of t){let t=this._tiles[n.key];if(t.hasData())continue;if(n.canonical.z>=this._source.maxzoom){const t=n.children(this._source.maxzoom)[0],i=this.getTile(t);if(i&&i.hasData()){e[t.key]=t;continue}}else{const t=n.children(this._source.maxzoom);if(e[t[0].key]&&e[t[1].key]&&e[t[2].key]&&e[t[3].key])continue}let r=t.wasRequested();for(let o=n.overscaledZ-1;o>=a;--o){const a=n.scaledTo(o);if(i[a.key])break;if(i[a.key]=!0,t=this.getTile(a),!t&&r&&(t=this._addTile(a)),t&&(e[a.key]=a,r=t.wasRequested(),t.hasData()))break}}return e}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let i,n=this._tiles[t].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){i=this._loadedParentTiles[n.key];break}e.push(n.key);const t=n.scaledTo(n.overscaledZ-1);if(i=this._getLoadedTile(t),i)break;n=t}for(const t of e)this._loadedParentTiles[t]=i}}_addTile(t){let e=this._tiles[t.key];if(e)return e;e=this._cache.getAndRemove(t),e&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));const i=Boolean(e);return i||(e=new Bd(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,i||this._source.fire(new Rt("dataloading",{tile:e,coord:e.tileID,dataType:"source"})),e):null}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout(()=>{this._reloadTile(t,"expired"),delete this._timers[t]},i))}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._cache.reset()}tilesIn(t,e,i){const n=[],r=this.transform;if(!r)return n;for(const a in this._tiles){const o=this._tiles[a];if(i&&o.clearQueryDebugViz(),o.holdingForFade())continue;const s=t.containsTile(o,r,e);s&&n.push(s)}return n}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map(t=>this._tiles[t].tileID);for(const t of e)t.projMatrix=this.transform.calculateProjMatrix(t.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return!0;if(oh(this._source.type))for(const t in this._tiles){const e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=j.now())return!0}return!1}setFeatureState(t,e,i){this._state.updateState(t=t||"_geojsonTileLayer",e,i)}removeFeatureState(t,e,i){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,i)}getFeatureState(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)}setDependencies(t,e,i){const n=this._tiles[t];n&&n.setDependencies(e,i)}reloadTilesForDependencies(t,e){for(const i in this._tiles)this._tiles[i].hasDependency(t,e)&&this._reloadTile(+i,"reloading");this._cache.filter(i=>!i.hasDependency(t,e))}}function ah(t,e){const i=Math.abs(2*t.wrap)-+(t.wrap<0),n=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||n-i||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function oh(t){return"raster"===t||"image"===t||"video"===t}rh.maxOverzooming=10,rh.maxUnderzooming=3;class sh{constructor(t,e,i){this._demTile=t,this._dem=this._demTile.dem,this._scale=e,this._offset=i}static create(t,e,i){const n=i||t.findDEMTileFor(e);if(!n||!n.dem)return;const r=n.dem,a=n.tileID,o=1<<e.canonical.z-a.canonical.z;return new sh(n,n.tileSize/Io/o,[(e.canonical.x/o-a.canonical.x)*r.dim,(e.canonical.y/o-a.canonical.y)*r.dim])}tileCoordToPixel(t,e){const i=e*this._scale+this._offset[1],n=Math.floor(t*this._scale+this._offset[0]),a=Math.floor(i);return new r(n,a)}getElevationAt(t,e,i,n){const r=t*this._scale+this._offset[0],a=e*this._scale+this._offset[1],o=Math.floor(r),s=Math.floor(a),l=this._dem;return n=!!n,i?ei(ei(l.get(o,s,n),l.get(o,s+1,n),a-s),ei(l.get(o+1,s,n),l.get(o+1,s+1,n),a-s),r-o):l.get(o,s,n)}getElevationAtPixel(t,e,i){return this._dem.get(t,e,!!i)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*Sd(1,t)*this._dem.stride}}class lh{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Gn(Io,16,0),this.featureIndexArray=new Za,this.promoteId=e}insert(t,e,i,n,r,a=0){const o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,r,a);const s=this.grid;for(let t=0;t<e.length;t++){const i=e[t],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<i.length;t++){const e=i[t];n[0]=Math.min(n[0],e.x),n[1]=Math.min(n[1],e.y),n[2]=Math.max(n[2],e.x),n[3]=Math.max(n[3],e.y)}n[0]<Io&&n[1]<Io&&n[2]>=0&&n[3]>=0&&s.insert(o,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Rl.VectorTile(new xc(this.rawTileData)).layers,this.sourceLayerCoder=new Fd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,e,i,n){this.loadVTLayers();const r=t.params||{},a=yn(r.filter),o=t.tileResult,s=t.transform,l=o.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(t,e,i,n)=>Zo(o.bufferedTilespaceGeometry,t,e,i,n));c.sort(uh);let u=null;s.elevation&&c.length>0&&(u=sh.create(s.elevation,this.tileID));const d={};let h;for(let s=0;s<c.length;s++){const l=c[s];if(l===h)continue;h=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(d,p,a,r.layers,r.availableImages,e,i,n,(e,i,n,r=0)=>(f||(f=zo(e)),i.queryIntersectsFeature(o,e,n,f,this.z,t.transform,t.pixelPosMatrix,u,r)))}return d}loadMatchingFeature(t,e,i,n,r,a,o,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:d,layoutVertexArrayOffset:h}=e,p=this.bucketLayerIDs[u];if(n&&!function(t,e){for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1}(n,p))return;const f=this.sourceLayerCoder.decode(d),m=this.vtLayers[f].feature(c);if(i.needGeometry){const t=Yo(m,!0);if(!i.filter(new Kr(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!i.filter(new Kr(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let e=0;e<p.length;e++){const i=p[e];if(n&&n.indexOf(i)<0)continue;const u=a[i];if(!u)continue;let d={};void 0!==g&&s&&(d=s.getState(u.sourceLayer||"_geojsonTileLayer",g));const f=_({},o[i]);f.paint=ch(f.paint,u.paint,m,d,r),f.layout=ch(f.layout,u.layout,m,d,r);const y=!l||l(m,u,d,h);if(!y)continue;const v=new Hd(m,this.z,this.x,this.y,g);v.layer=f;let b=t[i];void 0===b&&(b=t[i]=[]),b.push({featureIndex:c,feature:v,intersectionZ:y})}}lookupSymbolFeatures(t,e,i,n,r,a,o,s){const l={};this.loadVTLayers();const c=yn(r);for(const r of t)this.loadMatchingFeature(l,{bucketIndex:i,sourceLayerIndex:n,featureIndex:r,layoutVertexArrayOffset:0},c,a,o,s,e);return l}hasLayer(t){for(const e of this.bucketLayerIDs)for(const i of e)if(t===i)return!0;return!1}getId(t,e){let i=t.id;return this.promoteId&&(i=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]],"boolean"==typeof i&&(i=Number(i))),i}}function ch(t,e,i,n,r){return C(t,(t,a)=>{const o=e instanceof oa?e.get(a):null;return o&&o.evaluate?o.evaluate(i,n,r):o})}function uh(t,e){return e-t}Qn("FeatureIndex",lh,{omit:["rawTileData","sourceLayerCoder"]});class dh{constructor(t){const e={},i=[];for(const n in t){const r=t[n],a=e[n]={};for(const t in r.glyphs){const e=r.glyphs[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const n=e.metrics.localGlyph?2:1,o={x:0,y:0,w:e.bitmap.width+2*n,h:e.bitmap.height+2*n};i.push(o),a[t]=o}}const{w:n,h:r}=Wc(i),a=new Is({width:n||1,height:r||1});for(const i in t){const n=t[i];for(const t in n.glyphs){const r=n.glyphs[+t];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const o=e[i][t],s=r.metrics.localGlyph?2:1;Is.copy(r.bitmap,a,{x:0,y:0},{x:o.x+s,y:o.y+s},r.bitmap)}}this.image=a,this.positions=e}}Qn("GlyphAtlas",dh);class hh{constructor(t){this.tileID=new zd(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile}parse(t,e,i,n,r){this.status="parsing",this.data=t,this.collisionBoxArray=new ja;const a=new Fd(Object.keys(t.layers).sort()),o=new lh(this.tileID,this.promoteId);o.bucketLayerIDs=[];const s={},l=new Dd(256,256),c={featureIndex:o,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:i},u=e.familiesBySource[this.source];for(const e in u){const n=t.layers[e];if(!n)continue;let r=!1,l=!1;for(const t of u[e])"symbol"===t[0].type?r=!0:l=!0;if(!0===this.isSymbolTile&&!r)continue;if(!1===this.isSymbolTile&&!l)continue;1===n.version&&E(`Vector tile source "${this.source}" layer "${e}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const d=a.encode(e),h=[];for(let t=0;t<n.length;t++){const i=n.feature(t),r=o.getId(i,e);h.push({feature:i,id:r,index:t,sourceLayerIndex:d})}for(const t of u[e]){const e=t[0];void 0!==this.isSymbolTile&&"symbol"===e.type!==this.isSymbolTile||e.minzoom&&this.zoom<Math.floor(e.minzoom)||e.maxzoom&&this.zoom>=e.maxzoom||"none"!==e.visibility&&(ph(t,this.zoom,i),(s[e.id]=e.createBucket({index:o.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:d,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(h,c,this.tileID.canonical),o.bucketLayerIDs.push(t.map(t=>t.id)))}}let d,h,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=C(c.glyphDependencies,t=>Object.keys(t).map(Number));Object.keys(g).length?n.send("getGlyphs",{uid:this.uid,stacks:g},(t,e)=>{d||(d=t,h=e,b.call(this))},void 0,!1,m):h={};const y=Object.keys(c.iconDependencies);y.length?n.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},(t,e)=>{d||(d=t,p=e,b.call(this))},void 0,!1,m):p={};const _=Object.keys(c.patternDependencies);function b(){if(d)return r(d);if(h&&p&&f){const t=new dh(h),e=new $c(p,f);for(const n in s){const r=s[n];r instanceof td?(ph(r.layers,this.zoom,i),Fu(r,h,t.positions,p,e.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):r.hasPattern&&(r instanceof Ql||r instanceof xl||r instanceof Nl)&&(ph(r.layers,this.zoom,i),r.addFeatures(c,this.tileID.canonical,e.patternPositions))}this.status="done",r(null,{buckets:v(s).filter(t=>!t.isEmpty()),featureIndex:o,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:l,imageAtlas:e,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?t.positions:null})}}_.length?n.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"patterns"},(t,e)=>{d||(d=t,f=e,b.call(this))},void 0,!1,m):f={},b.call(this)}}function ph(t,e,i){const n=new Kr(e);for(const e of t)e.recalculate(n,i)}class fh{constructor(t){this.entries={},this.scheduler=t}request(t,e,i,n){const r=this.entries[t]=this.entries[t]||{callbacks:[]};if(r.result){const[t,i]=r.result;return this.scheduler?this.scheduler.add(()=>{n(t,i)},e):n(t,i),()=>{}}return r.callbacks.push(n),r.cancel||(r.cancel=i((i,n)=>{r.result=[i,n];for(const t of r.callbacks)this.scheduler?this.scheduler.add(()=>{t(i,n)},e):t(i,n);setTimeout(()=>delete this.entries[t],3e3)})),()=>{r.result||(r.callbacks=r.callbacks.filter(t=>t!==n),r.callbacks.length||(r.cancel(),delete this.entries[t]))}}}function mh(t,e,i){const n=JSON.stringify(t.request);return t.data&&(this.deduped.entries[n]={result:[null,t.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},e=>{const n=Tt(t.request,(t,n,r,a)=>{t?e(t):n&&e(null,{vectorTile:i?void 0:new Rl.VectorTile(new xc(n)),rawData:n,cacheControl:r,expires:a})});return()=>{n.cancel(),e()}},e)}t.ARRAY_TYPE=rs,t.AUTH_ERR_MSG=K,t.Actor=class{constructor(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.cancelCallbacks={},T(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?t:o,this.scheduler=new Pd}send(t,e,i,n,r=!1,a){const o=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=a,this.callbacks[o]=i);const s=N(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:t,hasCallback:!!i,targetMapId:n,mustQueue:r,sourceMapId:this.mapId,data:ir(e,s)},s),{cancel:()=>{i&&delete this.callbacks[o],this.target.postMessage({id:o,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(t){const e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const t=this.cancelCallbacks[i];delete this.cancelCallbacks[i],t&&t.cancel()}else if(e.mustQueue||O()){const t=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,e),t&&t.metadata||{type:"message"})}else this.processTask(i,e)}processTask(t,e){if("<response>"===e.type){const i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(nr(e.error)):i(null,nr(e.data)))}else{const i=N(this.globalScope)?void 0:[],n=e.hasCallback?(e,n)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:"<response>",sourceMapId:this.mapId,error:e?ir(e):null,data:ir(n,i)},i)}:t=>{},r=nr(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,r,n);else if(this.parent.getWorkerSource){const t=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,t[0],r.source)[t[1]](r,n)}else n(new Error("Could not find function "+e.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},t.CanonicalTileID=Od,t.Color=ue,t.ColorMode=ih,t.CullFaceMode=nh,t.DEMData=Kd,t.DataConstantProperty=sa,t.DedupedRequest=fh,t.DepthMode=th,t.EXTENT=Io,t.Elevation=class{getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,i=!0){null==e&&(e=null);const n=this._source();if(!n)return e;if(t.y<0||t.y>1)return e;const r=n.getSource().maxzoom,a=1<<r,o=Math.floor(t.x),s=t.x-o,l=new zd(r,o,r,Math.floor(s*a),Math.floor(t.y*a)),c=this.findDEMTileFor(l);if(!c||!c.dem)return e;const u=c.dem,d=1<<c.tileID.canonical.z,h=(s*d-c.tileID.canonical.x)*u.dim,p=(t.y*d-c.tileID.canonical.y)*u.dim,f=Math.floor(h),m=Math.floor(p);return(i?this.exaggeration():1)*ei(ei(u.get(f,m),u.get(f,m+1),p-m),ei(u.get(f+1,m),u.get(f+1,m+1),p-m),h-f)}getAtTileOffset(t,e,i){const n=1<<t.canonical.z;return this.getAtPointOrZero(new Cd(t.wrap+(t.canonical.x+e/Io)/n,(t.canonical.y+i/Io)/n))}getForTilePoints(t,e,i,n){const r=sh.create(this,t,n);return!!r&&(e.forEach(t=>{t[2]=this.exaggeration()*r.getElevationAt(t[0],t[1],i)}),!0)}getMinMaxForTile(t){const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const i=e.dem.tree,n=e.tileID,r=1<<t.canonical.z-n.canonical.z;let a=t.canonical.x/r-n.canonical.x,o=t.canonical.y/r-n.canonical.y,s=0;for(let e=0;e<t.canonical.z-n.canonical.z&&!i.leaves[s];e++){a*=2,o*=2;const t=2*Math.floor(o)+Math.floor(a);s=i.childOffsets[s]+t,a%=1,o%=1}return{min:this.exaggeration()*i.minimums[s],max:this.exaggeration()*i.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(t,e,i){throw new Error("Pure virtual method called.")}pointCoordinate(t){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(t){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},t.ErrorEvent=zt,t.EvaluationParameters=Kr,t.Event=Rt,t.Evented=Yt,t.GlyphManager=ku,t.ImagePosition=Uc,t.LineAtlas=Dd,t.LngLat=_d,t.LngLatBounds=yd,t.LocalGlyphMode=wu,t.MAX_SAFE_INTEGER=s,t.MercatorCoordinate=Cd,t.ONE_EM=24,t.OverscaledTileID=zd,t.Properties=ha,t.RGBAImage=Os,t.RequestManager=class{constructor(t,e,i){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!i,this._createSkuToken()}_createSkuToken(){const t=function(){let t="";for(let e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",J,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!Q(t))return t;const i=it(t);return i.path="/styles/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!Q(t))return t;const i=it(t);return i.path="/fonts/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)}normalizeSourceURL(t,e){if(!Q(t))return t;const i=it(t);return i.path=`/v4/${i.authority}.json`,i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||e)}normalizeSpriteURL(t,e,i,n){const r=it(t);return Q(t)?(r.path=`/styles/v1${r.path}/sprite${e}${i}`,this._makeAPIURL(r,this._customAccessToken||n)):(r.path+=`${e}${i}`,nt(r))}normalizeTileURL(t,e,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!Q(t))return t;const n=it(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||i&&"raster"!==n.authority&&512===i?"@2x":""}${U.supported?".webp":"$1"}`),"raster"===n.authority?n.path=`/${W.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${W.TILE_URL_VERSION}${n.path}`);const r=this._customAccessToken||function(t){for(const e of t){const t=e.match(/^access_token=(.*)$/);if(t)return t[1]}return null}(n.params)||W.ACCESS_TOKEN;return W.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)}canonicalizeTileURL(t,e){const i=it(t);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return t;let n="mapbox://";i.path.match(/^\/raster\/v1\//)?n+="raster/"+i.path.replace(`/${W.RASTER_URL_PREFIX}/`,""):n+="tiles/"+i.path.replace(`/${W.TILE_URL_VERSION}/`,"");let r=i.params;return e&&(r=r.filter(t=>!t.match(/^access_token=/))),r.length&&(n+="?"+r.join("&")),n}canonicalizeTileset(t,e){const i=!!e&&Q(e),n=[];for(const e of t.tiles||[])tt(e)?n.push(this.canonicalizeTileURL(e,i)):n.push(e);return n}_makeAPIURL(t,e){const i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=it(W.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"http"===t.protocol){const e=t.params.indexOf("secure");e>=0&&t.params.splice(e,1)}if("/"!==n.path&&(t.path=`${n.path}${t.path}`),!W.REQUIRE_ACCESS_TOKEN)return nt(t);if(e=e||W.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error("An API access token is required to use Mapbox GL. "+i);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+i)}return t.params=t.params.filter(t=>-1===t.indexOf("access_token")),t.params.push("access_token="+(e||"")),nt(t)}},t.ResourceType=xt,t.SegmentVector=Po,t.SourceCache=rh,t.StencilMode=eh,t.StructArrayLayout1ui2=Ha,t.StructArrayLayout2f1f2i16=Aa,t.StructArrayLayout2i4=_a,t.StructArrayLayout2ui4=Fa,t.StructArrayLayout3f12=Ma,t.StructArrayLayout3ui6=Pa,t.StructArrayLayout4i8=ba,t.Texture=gd,t.Tile=Bd,t.Transitionable=ea,t.Uniform1f=co,t.Uniform1i=class extends lo{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))}},t.Uniform2f=class extends lo{constructor(t,e){super(t,e),this.current=[0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))}},t.Uniform3f=class extends lo{constructor(t,e){super(t,e),this.current=[0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))}},t.Uniform4f=uo,t.UniformColor=ho,t.UniformMatrix3f=class extends lo{constructor(t,e){super(t,e),this.current=fo}set(t){for(let e=0;e<9;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix3fv(this.location,!1,t);break}}},t.UniformMatrix4f=class extends lo{constructor(t,e){super(t,e),this.current=po}set(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(let e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}},t.UnwrappedTileID=Rd,t.ValidationError=Ht,t.VectorTileWorkerSource=class extends Yt{constructor(t,e,i,n,r){super(),this.actor=t,this.layerIndex=e,this.availableImages=i,this.loadVectorData=r||mh,this.loading={},this.loaded={},this.deduped=new fh(t.scheduler),this.isSpriteLoaded=n,this.scheduler=t.scheduler}loadTile(t,e){const i=t.uid,n=t&&t.request,r=n&&n.collectResourceTiming,a=this.loading[i]=new hh(t);a.abort=this.loadVectorData(t,(o,s)=>{const l=!this.loading[i];if(delete this.loading[i],l||o||!s)return a.status="done",l||(this.loaded[i]=a),e(o);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),a.vectorTile=s.vectorTile||new Rl.VectorTile(new xc(c));const d=()=>{a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,(t,i)=>{if(t||!i)return e(t);const a={};if(r){const t=Ed(n);t.length>0&&(a.resourceTiming=JSON.parse(JSON.stringify(t)))}e(null,_({rawTileData:c.slice(0)},i,u,a))})};this.isSpriteLoaded?d():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(d,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):d()}),this.loaded=this.loaded||{},this.loaded[i]=a})}reloadTile(t,e){const i=this.loaded,n=t.uid,r=this;if(i&&i[n]){const a=i[n];a.showCollisionBoxes=t.showCollisionBoxes,a.enableTerrain=!!t.enableTerrain;const o=(t,i)=>{const n=a.reloadCallback;n&&(delete a.reloadCallback,a.parse(a.vectorTile,r.layerIndex,this.availableImages,r.actor,n)),e(t,i)};"parsing"===a.status?a.reloadCallback=o:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,o):o())}}abortTile(t,e){const i=t.uid,n=this.loading[i];n&&(n.abort&&n.abort(),delete this.loading[i]),e()}removeTile(t,e){const i=this.loaded,n=t.uid;i&&i[n]&&delete i[n],e()}},t.WritingMode=qc,t.ZoomHistory=rr,t.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},t.addDynamicAttributes=Zu,t.altitudeFromMercatorZ=Md,t.asyncAll=y,t.bezier=p,t.bindAll=T,t.bufferConvexPolygon=function(t,e){const i=[];for(let n=0;n<t.length;n++){const r=g(n-1,-1,t.length-1),a=g(n+1,-1,t.length-1),o=t[n],s=t[a],l=t[r].sub(o).unit(),c=s.sub(o).unit(),u=c.angleWithSep(l.x,l.y),d=l.add(c).unit().mult(-1*e/Math.sin(u/2));i.push(o.add(d))}return i},t.cacheEntryPossiblyAdded=function(t){bt++,bt>yt&&(t.getActor().send("enforceCacheSizeLimit",gt),bt=0)},t.clamp=m,t.clearTileCache=function(t){const e=o.caches.delete(pt);t&&e.catch(t).then(()=>t())},t.clipLine=mu,t.clone=function(t){var e=new rs(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.clone$1=function(t){var e=new rs(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$2=L,t.collisionCircleLayout=cc,t.config=W,t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.create=cs,t.create$1=function(){var t=new rs(16);return rs!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$2=as,t.createExpression=rn,t.createFilter=yn,t.createLayout=ya,t.createStyleLayer=function(t){return"custom"===t.type?new sd(t):new ud[t.type](t)},t.cross=function(t,e,i){var n=e[0],r=e[1],a=e[2],o=i[0],s=i[1],l=i[2];return t[0]=r*l-a*s,t[1]=a*o-n*l,t[2]=n*s-r*o,t},t.degToRad=u,t.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=f,t.easeCubicInOut=h,t.emitValidationErrors=qn,t.endsWith=M,t.enforceCacheSizeLimit=function(t){vt(),ft&&ft.then(e=>{e.keys().then(i=>{for(let n=0;n<i.length-t;n++)e.delete(i[n])})})},t.evaluateSizeForFeature=hc,t.evaluateSizeForZoom=pc,t.evaluateVariableOffset=Yu,t.evented=Gr,t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.exported=j,t.exported$1=U,t.extend=_,t.filterObject=D,t.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},t.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=i+i,s=n+n,l=r+r,c=i*o,u=n*o,d=n*s,h=r*o,p=r*s,f=r*l,m=a*o,g=a*s,y=a*l;return t[0]=1-d-f,t[1]=u+y,t[2]=h-g,t[3]=0,t[4]=u-y,t[5]=1-c-f,t[6]=p+m,t[7]=0,t[8]=h+g,t[9]=p-m,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return d[e]},t.getAABBPointSquareDist=function(t,e,i){let n=0;for(let r=0;r<2;++r){const a=i?i[r]:0;t[r]>a&&(n+=(t[r]-a)*(t[r]-a)),e[r]<a&&(n+=(a-e[r])*(a-e[r]))}return n},t.getAnchorAlignment=ru,t.getAnchorJustification=Hu,t.getBounds=function(t){let e=1/0,i=1/0,n=-1/0,a=-1/0;for(const r of t)e=Math.min(e,r.x),i=Math.min(i,r.y),n=Math.max(n,r.x),a=Math.max(a,r.y);return{min:new r(e,i),max:new r(n,a)}},t.getImage=Pt,t.getJSON=function(t,e){return St(_(t,{type:"json"}),e)},t.getMapSessionAPI=dt,t.getPerformanceMeasurement=Ed,t.getRTLTextPluginStatus=Xr,t.getReferrer=kt,t.getVideo=function(t,e){const i=o.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let e=0;e<t.length;e++){const n=o.document.createElement("source");Dt(t[e])||(i.crossOrigin="Anonymous"),n.src=t[e],i.appendChild(n)}return{cancel:()=>{}}},t.identity=os,t.identity$1=ks,t.invert=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=i*s-n*o,_=i*l-r*o,b=i*c-a*o,x=n*l-r*s,w=n*c-a*s,k=r*c-a*l,S=u*m-d*f,T=u*g-h*f,M=u*y-p*f,C=d*g-h*m,D=d*y-p*m,L=h*y-p*g,A=v*L-_*D+b*C+x*M-w*T+k*S;return A?(t[0]=(s*L-l*D+c*C)*(A=1/A),t[1]=(r*D-n*L-a*C)*A,t[2]=(m*k-g*w+y*x)*A,t[3]=(h*w-d*k-p*x)*A,t[4]=(l*M-o*L-c*T)*A,t[5]=(i*L-r*M+a*T)*A,t[6]=(g*b-f*k-y*_)*A,t[7]=(u*k-h*b+p*_)*A,t[8]=(o*D-s*M+c*S)*A,t[9]=(n*M-i*D-a*S)*A,t[10]=(f*w-m*b+y*v)*A,t[11]=(d*b-u*w-p*v)*A,t[12]=(s*T-o*C-l*S)*A,t[13]=(i*C-n*T+r*S)*A,t[14]=(m*_-f*x-g*v)*A,t[15]=(u*x-d*_+h*v)*A,t):null},t.isMapAuthenticated=function(t){return ht.has(t)},t.isMapboxURL=Q,t.latFromMercatorY=Td,t.len=bs,t.length=us,t.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},t.loadVectorTile=mh,t.makeRequest=St,t.mercatorXfromLng=wd,t.mercatorYfromLat=kd,t.mercatorZfromAltitude=Sd,t.mul=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},t.mul$1=ls,t.mul$2=_s,t.multiply=ss,t.multiply$1=ps,t.nextPowerOfTwo=k,t.normalize=ms,t.normalize$1=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=i*i+n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=i*o,t[1]=n*o,t[2]=r*o,t[3]=a*o,t},t.number=ei,t.ortho=function(t,e,i,n,r,a,o){var s=1/(e-i),l=1/(n-r),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*s,t[13]=(r+n)*l,t[14]=(o+a)*c,t[15]=1,t},t.pbf=xc,t.perspective=function(t,e,i,n,r){var a,o=1/Math.tan(e/2);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+n)*(a=1/(n-r)),t[14]=2*r*n*a):(t[10]=-1,t[14]=-2*n),t},t.pick=function(t,e){const i={};for(let n=0;n<e.length;n++){const r=e[n];r in t&&(i[r]=t[r])}return i},t.plugin=Jr,t.pointGeometry=r,t.polygonIntersectsBox=Zo,t.polygonIntersectsPolygon=No,t.polygonizeBounds=function(t,e,i=0,n=!0){const a=new r(i,i),o=t.sub(a),s=e.add(a),l=[o,new r(s.x,o.y),s,new r(o.x,s.y)];return n&&l.push(o),l},t.posAttributes=Nd,t.postMapLoadEvent=ct,t.postTurnstileEvent=st,t.potpack=Wc,t.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.radToDeg=function(t){return t*c},t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.registerForPluginStateChange=function(t){return t({pluginStatus:Wr,pluginURL:Ur}),Gr.on("pluginStateChange",t),t},t.removeAuthState=function(t){ht.delete(t)},t.renderColorRamp=zs,t.rotateX=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*r+c*n,t[5]=o*r+u*n,t[6]=s*r+d*n,t[7]=l*r+h*n,t[8]=c*r-a*n,t[9]=u*r-o*n,t[10]=d*r-s*n,t[11]=h*r-l*n,t},t.rotateX$1=Ss,t.rotateY=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r-c*n,t[1]=o*r-u*n,t[2]=s*r-d*n,t[3]=l*r-h*n,t[8]=a*n+c*r,t[9]=o*n+u*r,t[10]=s*n+d*r,t[11]=l*n+h*r,t},t.rotateZ=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r+c*n,t[1]=o*r+u*n,t[2]=s*r+d*n,t[3]=l*r+h*n,t[4]=c*r-a*n,t[5]=u*r-o*n,t[6]=d*r-s*n,t[7]=h*r-l*n,t},t.rotateZ$1=function(t,e,i){i*=.5;var n=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+r*s,t[1]=r*l-n*s,t[2]=a*l+o*s,t[3]=o*l-a*s,t},t.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},t.scale$1=function(t,e,i){var n=i[0],r=i[1],a=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$2=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},t.scaleAndAdd=fs,t.setCacheLimits=function(t,e){gt=t,yt=e},t.setRTLTextPlugin=function(t,e,i=!1){if(Wr===Nr||Wr===Br||Wr===jr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ur=j.resolveURL(t),Wr=Nr,Vr=e,qr(),i||Zr()},t.smoothstep=function(t,e,i){return(i=m((i-t)/(e-t),0,1))*i*(3-2*i)},t.spec=Ft,t.storeAuthState=function(t,e){e?ht.add(t):ht.delete(t)},t.sub=vs,t.subtract=hs,t.symbolSize=fc,t.transformMat3=function(t,e,i){var n=e[0],r=e[1],a=e[2];return t[0]=n*i[0]+r*i[3]+a*i[6],t[1]=n*i[1]+r*i[4]+a*i[7],t[2]=n*i[2]+r*i[5]+a*i[8],t},t.transformMat4=xs,t.transformMat4$1=function(t,e,i){var n=e[0],r=e[1],a=e[2],o=i[3]*n+i[7]*r+i[11]*a+i[15];return t[0]=(i[0]*n+i[4]*r+i[8]*a+i[12])/(o=o||1),t[1]=(i[1]*n+i[5]*r+i[9]*a+i[13])/o,t[2]=(i[2]*n+i[6]*r+i[10]*a+i[14])/o,t},t.transformQuat=gs,t.translate=function(t,e,i){var n,r,a,o,s,l,c,u,d,h,p,f,m=i[0],g=i[1],y=i[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],p=e[10],f=e[11],t[0]=n=e[0],t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=h,t[10]=p,t[11]=f,t[12]=n*m+s*g+d*y+e[12],t[13]=r*m+l*g+h*y+e[13],t[14]=a*m+c*g+p*y+e[14],t[15]=o*m+u*g+f*y+e[15]),t},t.triggerPluginCompletionEvent=$r,t.uniqueId=x,t.validateCustomStyleLayer=function(t){const e=[],i=t.id;return void 0===i&&e.push({message:`layers.${i}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${i}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},t.validateFog=Wn,t.validateLight=Vn,t.validateStyle=jn,t.values=v,t.vectorTile=Rl,t.version=e,t.warnOnce=E,t.window=o,t.wrap=g})),n(0,(function(t){function e(t){const i=typeof t;if("number"===i||"boolean"===i||"string"===i||null==t)return JSON.stringify(t);if(Array.isArray(t)){let i="[";for(const n of t)i+=e(n)+",";return i+"]"}const n=Object.keys(t).sort();let r="{";for(let i=0;i<n.length;i++)r+=`${JSON.stringify(n[i])}:${e(t[n[i]])},`;return r+"}"}function i(i){let n="";for(const r of t.refProperties)n+="/"+e(i[r]);return n}class n{constructor(t){this.keyCache={},t&&this.replace(t)}replace(t){this._layerConfigs={},this._layers={},this.update(t,[])}update(e,n){for(const i of e){this._layerConfigs[i.id]=i;const e=this._layers[i.id]=t.createStyleLayer(i);e._featureFilter=t.createFilter(e.filter),this.keyCache[i.id]&&delete this.keyCache[i.id]}for(const t of n)delete this.keyCache[t],delete this._layerConfigs[t],delete this._layers[t];this.familiesBySource={};const r=function(t,e){const n={};for(let r=0;r<t.length;r++){const a=e&&e[t[r].id]||i(t[r]);e&&(e[t[r].id]=a);let o=n[a];o||(o=n[a]=[]),o.push(t[r])}const r=[];for(const t in n)r.push(n[t]);return r}(t.values(this._layerConfigs),this.keyCache);for(const t of r){const e=t.map(t=>this._layers[t.id]),i=e[0];if("none"===i.visibility)continue;const n=i.source||"";let r=this.familiesBySource[n];r||(r=this.familiesBySource[n]={});const a=i.sourceLayer||"_geojsonTileLayer";let o=r[a];o||(o=r[a]=[]),o.push(e)}}}const{ImageBitmap:r}=t.window;class a{loadTile(e,i){const{uid:n,encoding:a,rawImageData:o,padding:s,buildQuadTree:l}=e,c=r&&o instanceof r?this.getImageData(o,s):o;i(null,new t.DEMData(n,c,a,s<1,l))}getImageData(e,i){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const n=this.offscreenCanvasContext.getImageData(-i,-i,e.width+2*i,e.height+2*i);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)}}var o=function t(e,i){var n,r=e&&e.type;if("FeatureCollection"===r)for(n=0;n<e.features.length;n++)t(e.features[n],i);else if("GeometryCollection"===r)for(n=0;n<e.geometries.length;n++)t(e.geometries[n],i);else if("Feature"===r)t(e.geometry,i);else if("Polygon"===r)s(e.coordinates,i);else if("MultiPolygon"===r)for(n=0;n<e.coordinates.length;n++)s(e.coordinates[n],i);return e};function s(t,e){if(0!==t.length){l(t[0],e);for(var i=1;i<t.length;i++)l(t[i],!e)}}function l(t,e){for(var i=0,n=0,r=t.length,a=r-1;n<r;a=n++)i+=(t[n][0]-t[a][0])*(t[a][1]+t[n][1]);i>=0!=!!e&&t.reverse()}const c=t.vectorTile.VectorTileFeature.prototype.toGeoJSON;class u{constructor(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}loadGeometry(){if(1===this._feature.type){const e=[];for(const i of this._feature.geometry)e.push([new t.pointGeometry(i[0],i[1])]);return e}{const e=[];for(const i of this._feature.geometry){const n=[];for(const e of i)n.push(new t.pointGeometry(e[0],e[1]));e.push(n)}return e}}toGeoJSON(t,e,i){return c.call(this,t,e,i)}}class d{constructor(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e}feature(t){return new u(this._features[t])}}var h=t.vectorTile.VectorTileFeature,p=f;function f(t,e){this.options=e||{},this.features=t,this.length=t.length}function m(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}f.prototype.feature=function(t){return new m(this.features[t],this.options.extent)},m.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var i=0;i<e.length;i++){for(var n=e[i],r=[],a=0;a<n.length;a++)r.push(new t.pointGeometry(n[a][0],n[a][1]));this.geometry.push(r)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,r=-1/0,a=0;a<t.length;a++)for(var o=t[a],s=0;s<o.length;s++){var l=o[s];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},m.prototype.toGeoJSON=h.prototype.toGeoJSON;var g=v,y=p;function v(e){var i=new t.pbf;return function(t,e){for(var i in t.layers)e.writeMessage(3,_,t.layers[i])}(e,i),i.finish()}function _(t,e){var i;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)n.feature=t.feature(i),e.writeMessage(2,b,n);var r=n.keys;for(i=0;i<r.length;i++)e.writeStringField(3,r[i]);var a=n.values;for(i=0;i<a.length;i++)e.writeMessage(4,T,a[i])}function b(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,x,t),e.writeVarintField(3,i.type),e.writeMessage(4,S,i)}function x(t,e){var i=t.feature,n=t.keys,r=t.values,a=t.keycache,o=t.valuecache;for(var s in i.properties){var l=a[s];void 0===l&&(n.push(s),a[s]=l=n.length-1),e.writeVarint(l);var c=i.properties[s],u=typeof c;"string"!==u&&"boolean"!==u&&"number"!==u&&(c=JSON.stringify(c));var d=u+":"+c,h=o[d];void 0===h&&(r.push(c),o[d]=h=r.length-1),e.writeVarint(h)}}function w(t,e){return(e<<3)+(7&t)}function k(t){return t<<1^t>>31}function S(t,e){for(var i=t.loadGeometry(),n=t.type,r=0,a=0,o=i.length,s=0;s<o;s++){var l=i[s],c=1;1===n&&(c=l.length),e.writeVarint(w(1,c));for(var u=3===n?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==n&&e.writeVarint(w(2,u-1));var h=l[d].x-r,p=l[d].y-a;e.writeVarint(k(h)),e.writeVarint(k(p)),r+=h,a+=p}3===n&&e.writeVarint(w(7,1))}}function T(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function M(t,e,i,n,r,a){if(r-n<=i)return;const o=n+r>>1;(function t(e,i,n,r,a,o){for(;a>r;){if(a-r>600){const s=a-r+1,l=n-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);t(e,i,n,Math.max(r,Math.floor(n-l*u/s+d)),Math.min(a,Math.floor(n+(s-l)*u/s+d)),o)}const s=i[2*n+o];let l=r,c=a;for(C(e,i,r,n),i[2*a+o]>s&&C(e,i,r,a);l<c;){for(C(e,i,l,c),l++,c--;i[2*l+o]<s;)l++;for(;i[2*c+o]>s;)c--}i[2*r+o]===s?C(e,i,r,c):(c++,C(e,i,c,a)),c<=n&&(r=c+1),n<=c&&(a=c-1)}})(t,e,o,n,r,a%2),M(t,e,i,n,o-1,a+1),M(t,e,i,o+1,r,a+1)}function C(t,e,i,n){D(t,i,n),D(e,2*i,2*n),D(e,2*i+1,2*n+1)}function D(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}function L(t,e,i,n){const r=t-i,a=e-n;return r*r+a*a}g.fromVectorTileJs=v,g.fromGeojsonVt=function(t,e){e=e||{};var i={};for(var n in t)i[n]=new p(t[n].features,e),i[n].name=n,i[n].version=e.version,i[n].extent=e.extent;return v({layers:i})},g.GeoJSONWrapper=y;const A=t=>t[0],E=t=>t[1];class P{constructor(t,e=A,i=E,n=64,r=Float64Array){this.nodeSize=n,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(t.length),s=this.coords=new r(2*t.length);for(let n=0;n<t.length;n++)o[n]=n,s[2*n]=e(t[n]),s[2*n+1]=i(t[n]);M(o,s,n,0,o.length-1,0)}range(t,e,i,n){return function(t,e,i,n,r,a,o){const s=[0,t.length-1,0],l=[];let c,u;for(;s.length;){const d=s.pop(),h=s.pop(),p=s.pop();if(h-p<=o){for(let o=p;o<=h;o++)c=e[2*o],u=e[2*o+1],c>=i&&c<=r&&u>=n&&u<=a&&l.push(t[o]);continue}const f=Math.floor((p+h)/2);c=e[2*f],u=e[2*f+1],c>=i&&c<=r&&u>=n&&u<=a&&l.push(t[f]);const m=(d+1)%2;(0===d?i<=c:n<=u)&&(s.push(p),s.push(f-1),s.push(m)),(0===d?r>=c:a>=u)&&(s.push(f+1),s.push(h),s.push(m))}return l}(this.ids,this.coords,t,e,i,n,this.nodeSize)}within(t,e,i){return function(t,e,i,n,r,a){const o=[0,t.length-1,0],s=[],l=r*r;for(;o.length;){const c=o.pop(),u=o.pop(),d=o.pop();if(u-d<=a){for(let r=d;r<=u;r++)L(e[2*r],e[2*r+1],i,n)<=l&&s.push(t[r]);continue}const h=Math.floor((d+u)/2),p=e[2*h],f=e[2*h+1];L(p,f,i,n)<=l&&s.push(t[h]);const m=(c+1)%2;(0===c?i-r<=p:n-r<=f)&&(o.push(d),o.push(h-1),o.push(m)),(0===c?i+r>=p:n+r>=f)&&(o.push(h+1),o.push(u),o.push(m))}return s}(this.ids,this.coords,t,e,i,this.nodeSize)}}const I={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},O=Math.fround||(R=new Float32Array(1),t=>(R[0]=+t,R[0]));var R;class z{constructor(t){this.options=W(Object.create(I),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:i,maxZoom:n,nodeSize:r}=this.options;e&&console.time("total time");const a=`prepare ${t.length} points`;e&&console.time(a),this.points=t;let o=[];for(let e=0;e<t.length;e++)t[e].geometry&&o.push(F(t[e],e));this.trees[n+1]=new P(o,U,$,r,Float32Array),e&&console.timeEnd(a);for(let t=n;t>=i;t--){const i=+Date.now();o=this._cluster(o,t),this.trees[t]=new P(o,U,$,r,Float32Array),e&&console.log("z%d: %d clusters in %dms",t,o.length,+Date.now()-i)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let i=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let r=180===t[2]?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)i=-180,r=180;else if(i>r){const t=this.getClusters([i,n,180,a],e),o=this.getClusters([-180,n,r,a],e);return t.concat(o)}const o=this.trees[this._limitZoom(e)],s=o.range(B(i),j(a),B(r),j(n)),l=[];for(const t of s){const e=o.points[t];l.push(e.numPoints?H(e):this.points[e.index])}return l}getChildren(t){const e=this._getOriginId(t),i=this._getOriginZoom(t),n="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(n);const a=r.points[e];if(!a)throw new Error(n);const o=this.options.radius/(this.options.extent*Math.pow(2,i-1)),s=r.within(a.x,a.y,o),l=[];for(const e of s){const i=r.points[e];i.parentId===t&&l.push(i.numPoints?H(i):this.points[i.index])}if(0===l.length)throw new Error(n);return l}getLeaves(t,e,i){const n=[];return this._appendLeaves(n,t,e=e||10,i=i||0,0),n}getTile(t,e,i){const n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),{extent:a,radius:o}=this.options,s=o/a,l=(i-s)/r,c=(i+1+s)/r,u={features:[]};return this._addTileFeatures(n.range((e-s)/r,l,(e+1+s)/r,c),n.points,e,i,r,u),0===e&&this._addTileFeatures(n.range(1-s/r,l,1,c),n.points,r,i,r,u),e===r-1&&this._addTileFeatures(n.range(0,l,s/r,c),n.points,-1,i,r,u),u.features.length?u:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e}_appendLeaves(t,e,i,n,r){const a=this.getChildren(e);for(const e of a){const a=e.properties;if(a&&a.cluster?r+a.point_count<=n?r+=a.point_count:r=this._appendLeaves(t,a.cluster_id,i,n,r):r<n?r++:t.push(e),t.length===i)break}return r}_addTileFeatures(t,e,i,n,r,a){for(const o of t){const t=e[o],s=t.numPoints;let l,c,u;if(s)l=N(t),c=t.x,u=t.y;else{const e=this.points[t.index];l=e.properties,c=B(e.geometry.coordinates[0]),u=j(e.geometry.coordinates[1])}const d={type:1,geometry:[[Math.round(this.options.extent*(c*r-i)),Math.round(this.options.extent*(u*r-n))]],tags:l};let h;s?h=t.id:this.options.generateId?h=t.index:this.points[t.index].id&&(h=this.points[t.index].id),void 0!==h&&(d.id=h),a.features.push(d)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,e){const i=[],{radius:n,extent:r,reduce:a,minPoints:o}=this.options,s=n/(r*Math.pow(2,e));for(let n=0;n<t.length;n++){const r=t[n];if(r.zoom<=e)continue;r.zoom=e;const l=this.trees[e+1],c=l.within(r.x,r.y,s),u=r.numPoints||1;let d=u;for(const t of c){const i=l.points[t];i.zoom>e&&(d+=i.numPoints||1)}if(d>=o){let t=r.x*u,o=r.y*u,s=a&&u>1?this._map(r,!0):null;const h=(n<<5)+(e+1)+this.points.length;for(const i of c){const n=l.points[i];if(n.zoom<=e)continue;n.zoom=e;const c=n.numPoints||1;t+=n.x*c,o+=n.y*c,n.parentId=h,a&&(s||(s=this._map(r,!0)),a(s,this._map(n)))}r.parentId=h,i.push(Y(t/d,o/d,h,d,s))}else if(i.push(r),d>1)for(const t of c){const n=l.points[t];n.zoom<=e||(n.zoom=e,i.push(n))}}return i}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?W({},t.properties):t.properties;const i=this.points[t.index].properties,n=this.options.map(i);return e&&n===i?W({},n):n}}function Y(t,e,i,n,r){return{x:O(t),y:O(e),zoom:1/0,id:i,parentId:-1,numPoints:n,properties:r}}function F(t,e){const[i,n]=t.geometry.coordinates;return{x:O(B(i)),y:O(j(n)),zoom:1/0,index:e,parentId:-1}}function H(t){return{type:"Feature",id:t.id,properties:N(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),V(t.y)]}};var e}function N(t){const e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return W(W({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function B(t){return t/360+.5}function j(t){const e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function V(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function W(t,e){for(const i in e)t[i]=e[i];return t}function U(t){return t.x}function $(t){return t.y}function q(t,e,i,n,r,a){var o=r-i,s=a-n;if(0!==o||0!==s){var l=((t-i)*o+(e-n)*s)/(o*o+s*s);l>1?(i=r,n=a):l>0&&(i+=o*l,n+=s*l)}return(o=t-i)*o+(s=e-n)*s}function G(t,e,i,n){var r={id:void 0===t?null:t,type:e,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)X(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<e.length;n++)X(t,e[n]);else if("MultiPolygon"===i)for(n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)X(t,e[n][r])}(r),r}function X(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function Z(t,e,i,n){if(e.geometry){var r=e.geometry.coordinates,a=e.geometry.type,o=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),s=[],l=e.id;if(i.promoteId?l=e.properties[i.promoteId]:i.generateId&&(l=n||0),"Point"===a)J(r,s);else if("MultiPoint"===a)for(var c=0;c<r.length;c++)J(r[c],s);else if("LineString"===a)K(r,s,o,!1);else if("MultiLineString"===a){if(i.lineMetrics){for(c=0;c<r.length;c++)K(r[c],s=[],o,!1),t.push(G(l,"LineString",s,e.properties));return}Q(r,s,o,!1)}else if("Polygon"===a)Q(r,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(c=0;c<e.geometry.geometries.length;c++)Z(t,{id:l,geometry:e.geometry.geometries[c],properties:e.properties},i,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];Q(r[c],u,o,!0),s.push(u)}}t.push(G(l,a,s,e.properties))}}function J(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function K(t,e,i,n){for(var r,a,o=0,s=0;s<t.length;s++){var l=tt(t[s][0]),c=et(t[s][1]);e.push(l),e.push(c),e.push(0),s>0&&(o+=n?(r*c-l*a)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-a,2))),r=l,a=c}var u=e.length-3;e[2]=1,function t(e,i,n,r){for(var a,o=r,s=n-i>>1,l=n-i,c=e[i],u=e[i+1],d=e[n],h=e[n+1],p=i+3;p<n;p+=3){var f=q(e[p],e[p+1],c,u,d,h);if(f>o)a=p,o=f;else if(f===o){var m=Math.abs(p-s);m<l&&(a=p,l=m)}}o>r&&(a-i>3&&t(e,i,a,r),e[a+2]=o,n-a>3&&t(e,a,n,r))}(e,0,u,i),e[u+2]=1,e.size=Math.abs(o),e.start=0,e.end=e.size}function Q(t,e,i,n){for(var r=0;r<t.length;r++){var a=[];K(t[r],a,i,n),e.push(a)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function it(t,e,i,n,r,a,o,s){if(n/=e,a>=(i/=e)&&o<n)return t;if(o<i||a>=n)return null;for(var l=[],c=0;c<t.length;c++){var u=t[c],d=u.geometry,h=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=i&&f<n)l.push(u);else if(!(f<i||p>=n)){var m=[];if("Point"===h||"MultiPoint"===h)nt(d,m,i,n,r);else if("LineString"===h)rt(d,m,i,n,r,!1,s.lineMetrics);else if("MultiLineString"===h)ot(d,m,i,n,r,!1);else if("Polygon"===h)ot(d,m,i,n,r,!0);else if("MultiPolygon"===h)for(var g=0;g<d.length;g++){var y=[];ot(d[g],y,i,n,r,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(g=0;g<m.length;g++)l.push(G(u.id,h,m[g],u.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(G(u.id,h,m,u.tags))}}}return l.length?l:null}function nt(t,e,i,n,r){for(var a=0;a<t.length;a+=3){var o=t[a+r];o>=i&&o<=n&&(e.push(t[a]),e.push(t[a+1]),e.push(t[a+2]))}}function rt(t,e,i,n,r,a,o){for(var s,l,c=at(t),u=0===r?lt:ct,d=t.start,h=0;h<t.length-3;h+=3){var p=t[h],f=t[h+1],m=t[h+2],g=t[h+3],y=t[h+4],v=0===r?p:f,_=0===r?g:y,b=!1;o&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),v<i?_>i&&(l=u(c,p,f,g,y,i),o&&(c.start=d+s*l)):v>n?_<n&&(l=u(c,p,f,g,y,n),o&&(c.start=d+s*l)):st(c,p,f,m),_<i&&v>=i&&(l=u(c,p,f,g,y,i),b=!0),_>n&&v<=n&&(l=u(c,p,f,g,y,n),b=!0),!a&&b&&(o&&(c.end=d+s*l),e.push(c),c=at(t)),o&&(d+=s)}var x=t.length-3;p=t[x],f=t[x+1],m=t[x+2],(v=0===r?p:f)>=i&&v<=n&&st(c,p,f,m),x=c.length-3,a&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&st(c,c[0],c[1],c[2]),c.length&&e.push(c)}function at(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ot(t,e,i,n,r,a){for(var o=0;o<t.length;o++)rt(t[o],e,i,n,r,a,!1)}function st(t,e,i,n){t.push(e),t.push(i),t.push(n)}function lt(t,e,i,n,r,a){var o=(a-e)/(n-e);return t.push(a),t.push(i+(r-i)*o),t.push(1),o}function ct(t,e,i,n,r,a){var o=(a-i)/(r-i);return t.push(e+(n-e)*o),t.push(a),t.push(1),o}function ut(t,e){for(var i=[],n=0;n<t.length;n++){var r,a=t[n],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)r=dt(a.geometry,e);else if("MultiLineString"===o||"Polygon"===o){r=[];for(var s=0;s<a.geometry.length;s++)r.push(dt(a.geometry[s],e))}else if("MultiPolygon"===o)for(r=[],s=0;s<a.geometry.length;s++){for(var l=[],c=0;c<a.geometry[s].length;c++)l.push(dt(a.geometry[s][c],e));r.push(l)}i.push(G(a.id,o,r,a.tags))}return i}function dt(t,e){var i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(var n=0;n<t.length;n+=3)i.push(t[n]+e,t[n+1],t[n+2]);return i}function ht(t,e){if(t.transformed)return t;var i,n,r,a=1<<t.z,o=t.x,s=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n<c.length;n+=2)l.geometry.push(pt(c[n],c[n+1],e,a,o,s));else for(n=0;n<c.length;n++){var d=[];for(r=0;r<c[n].length;r+=2)d.push(pt(c[n][r],c[n][r+1],e,a,o,s));l.geometry.push(d)}}return t.transformed=!0,t}function pt(t,e,i,n,r,a){return[Math.round(i*(t*n-r)),Math.round(i*(e*n-a))]}function ft(t,e,i,n,r){for(var a=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){o.numFeatures++,mt(o,t[s],a,r);var l=t[s].minX,c=t[s].minY,u=t[s].maxX,d=t[s].maxY;l<o.minX&&(o.minX=l),c<o.minY&&(o.minY=c),u>o.maxX&&(o.maxX=u),d>o.maxY&&(o.maxY=d)}return o}function mt(t,e,i,n){var r=e.geometry,a=e.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<r.length;s+=3)o.push(r[s]),o.push(r[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===a)gt(o,r,t,i,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<r.length;s++)gt(o,r[s],t,i,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<r.length;l++){var c=r[l];for(s=0;s<c.length;s++)gt(o,c[s],t,i,!0,0===s)}if(o.length){var u=e.tags||null;if("LineString"===a&&n.lineMetrics){for(var d in u={},e.tags)u[d]=e.tags[d];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var h={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:u};null!==e.id&&(h.id=e.id),t.features.push(h)}}function gt(t,e,i,n,r,a){var o=n*n;if(n>0&&e.size<(r?o:n))i.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===n||e[l+2]>o)&&(i.numSimplified++,s.push(e[l]),s.push(e[l+1])),i.numPoints++;r&&function(t,e){for(var i=0,n=0,r=t.length,a=r-2;n<r;a=n,n+=2)i+=(t[n]-t[a])*(t[n+1]+t[a+1]);if(i>0===e)for(n=0,r=t.length;n<r/2;n+=2){var o=t[n],s=t[n+1];t[n]=t[r-2-n],t[n+1]=t[r-1-n],t[r-2-n]=o,t[r-1-n]=s}}(s,a),t.push(s)}}function yt(t,e){var i=(e=this.options=function(t,e){for(var i in e)t[i]=e[i];return t}(Object.create(this.options),e)).debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)Z(i,t.features[n],e,n);else Z(i,"Feature"===t.type?t:{geometry:t},e);return i}(t,e);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(t,e){var i=e.buffer/e.extent,n=t,r=it(t,1,-1-i,i,0,-1,2,e),a=it(t,1,1-i,2+i,0,-1,2,e);return(r||a)&&(n=it(t,1,-i,1+i,0,-1,2,e)||[],r&&(n=ut(r,1).concat(n)),a&&(n=n.concat(ut(a,-1)))),n}(n,e)).length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vt(t,e,i){return 32*((1<<t)*i+e)+t}function _t(t,e){const i=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);const n=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!n)return e(null,null);const r=new d(n.features);let a=g(r);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:r,rawData:a.buffer})}yt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},yt.prototype.splitTile=function(t,e,i,n,r,a,o){for(var s=[t,e,i,n],l=this.options,c=l.debug;s.length;){n=s.pop(),i=s.pop(),e=s.pop(),t=s.pop();var u=1<<e,d=vt(e,i,n),h=this.tiles[d];if(!h&&(c>1&&console.time("creation"),h=this.tiles[d]=ft(t,e,i,n,l),this.tileCoords.push({z:e,x:i,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=t,r){if(e===l.maxZoom||e===r)continue;var f=1<<r-e;if(i!==Math.floor(a/f)||n!==Math.floor(o/f))continue}else if(e===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==t.length){c>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,k=.5+x,S=1+x;m=g=y=v=null,_=it(t,u,i-x,i+k,0,h.minX,h.maxX,l),b=it(t,u,i+w,i+S,0,h.minX,h.maxX,l),t=null,_&&(m=it(_,u,n-x,n+k,1,h.minY,h.maxY,l),g=it(_,u,n+w,n+S,1,h.minY,h.maxY,l),_=null),b&&(y=it(b,u,n-x,n+k,1,h.minY,h.maxY,l),v=it(b,u,n+w,n+S,1,h.minY,h.maxY,l),b=null),c>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*i,2*n),s.push(g||[],e+1,2*i,2*n+1),s.push(y||[],e+1,2*i+1,2*n),s.push(v||[],e+1,2*i+1,2*n+1)}}},yt.prototype.getTile=function(t,e,i){var n=this.options,r=n.extent,a=n.debug;if(t<0||t>24)return null;var o=1<<t,s=vt(t,e=(e%o+o)%o,i);if(this.tiles[s])return ht(this.tiles[s],r);a>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var l,c=t,u=e,d=i;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[vt(c,u,d)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",c,u,d),a>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,t,e,i),a>1&&console.timeEnd("drilling down"),this.tiles[s]?ht(this.tiles[s],r):null):null};class bt extends t.VectorTileWorkerSource{constructor(t,e,i,n,r){super(t,e,i,n,_t),r&&(this.loadGeoJSON=r)}loadData(e,i){const n=e&&e.request,r=n&&n.collectResourceTiming;this.loadGeoJSON(e,(a,s)=>{if(a||!s)return i(a);if("object"!=typeof s)return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));{o(s,!0);try{if(e.filter){const i=t.createExpression(e.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===i.result)throw new Error(i.value.map(t=>`${t.key}: ${t.message}`).join(", "));const n=s.features.filter(t=>i.value.evaluate({zoom:0},t));s={type:"FeatureCollection",features:n}}this._geoJSONIndex=e.cluster?new z(function({superclusterOptions:e,clusterProperties:i}){if(!i||!e)return e;const n={},r={},a={accumulated:null,zoom:0},o={properties:null},s=Object.keys(i);for(const e of s){const[a,o]=i[e],s=t.createExpression(o),l=t.createExpression("string"==typeof a?[a,["accumulated"],["get",e]]:a);n[e]=s.value,r[e]=l.value}return e.map=t=>{o.properties=t;const e={};for(const t of s)e[t]=n[t].evaluate(a,o);return e},e.reduce=(t,e)=>{o.properties=e;for(const e of s)a.accumulated=t[e],t[e]=r[e].evaluate(a,o)},e}(e)).load(s.features):function(t,e){return new yt(t,e)}(s,e.geojsonVtOptions)}catch(a){return i(a)}this.loaded={};const l={};if(r){const i=t.getPerformanceMeasurement(n);i&&(l.resourceTiming={},l.resourceTiming[e.source]=JSON.parse(JSON.stringify(i)))}i(null,l)}})}reloadTile(t,e){const i=this.loaded;return i&&i[t.uid]?super.reloadTile(t,e):this.loadTile(t,e)}loadGeoJSON(e,i){if(e.request)t.getJSON(e.request,i);else{if("string"!=typeof e.data)return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));try{return i(null,JSON.parse(e.data))}catch(t){return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}}getClusterChildren(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}}getClusterLeaves(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}}}class xt{constructor(e){this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:t.VectorTileWorkerSource,geojson:bt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(t,e)=>{if(this.workerSourceTypes[t])throw new Error(`Worker source with name "${t}" already registered.`);this.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=e=>{if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}}checkIfReady(t,e,i){i()}setReferrer(t,e){this.referrer=e}spriteLoaded(e,i){this.isSpriteLoaded=i;for(const n in this.workerSources[e]){const r=this.workerSources[e][n];for(const e in r)r[e]instanceof t.VectorTileWorkerSource&&(r[e].isSpriteLoaded=i,r[e].fire(new t.Event("isSpriteLoaded")))}}setImages(t,e,i){this.availableImages[t]=e;for(const i in this.workerSources[t]){const n=this.workerSources[t][i];for(const t in n)n[t].availableImages=e}i()}enableTerrain(t,e,i){this.terrain=e,i()}setLayers(t,e,i){this.getLayerIndex(t).replace(e),i()}updateLayers(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()}loadTile(e,i,n){const r=this.enableTerrain?t.extend({enableTerrain:this.terrain},i):i;this.getWorkerSource(e,i.type,i.source).loadTile(r,n)}loadDEMTile(e,i,n){const r=this.enableTerrain?t.extend({buildQuadTree:this.terrain},i):i;this.getDEMWorkerSource(e,i.source).loadTile(r,n)}reloadTile(e,i,n){const r=this.enableTerrain?t.extend({enableTerrain:this.terrain},i):i;this.getWorkerSource(e,i.type,i.source).reloadTile(r,n)}abortTile(t,e,i){this.getWorkerSource(t,e.type,e.source).abortTile(e,i)}removeTile(t,e,i){this.getWorkerSource(t,e.type,e.source).removeTile(e,i)}removeSource(t,e,i){if(!this.workerSources[t]||!this.workerSources[t][e.type]||!this.workerSources[t][e.type][e.source])return;const n=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==n.removeSource?n.removeSource(e,i):i()}loadWorkerSource(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t.toString())}}syncRTLPluginState(e,i,n){try{t.plugin.setState(i);const e=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=e){this.self.importScripts(e);const i=t.plugin.isParsed();n(i?void 0:new Error("RTL Text Plugin failed to import scripts from "+e),i)}}catch(t){n(t.toString())}}getAvailableImages(t){let e=this.availableImages[t];return e||(e=[]),e}getLayerIndex(t){let e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new n),e}getWorkerSource(t,e,i){return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][i]||(this.workerSources[t][e][i]=new this.workerSourceTypes[e]({send:(e,i,n,r,a,o)=>{this.actor.send(e,i,n,t,a,o)},scheduler:this.actor.scheduler},this.getLayerIndex(t),this.getAvailableImages(t),this.isSpriteLoaded)),this.workerSources[t][e][i]}getDEMWorkerSource(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new a),this.demWorkerSources[t][e]}enforceCacheSizeLimit(e,i){t.enforceCacheSizeLimit(i)}getWorkerPerformanceMetrics(t,e,i){i(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xt(self)),xt})),n(0,(function(t){var e=i;function i(t){return!function(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(n),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var i=e.getImageData(0,0,1,1);return i&&i.width===t.width}()?(void 0===n[e=t&&t.failIfMajorPerformanceCaveat]&&(n[e]=function(t){var e,n=function(t){var e=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}(t);if(!n)return!1;try{e=n.createShader(n.VERTEX_SHADER)}catch(t){return!1}return!(!e||n.isContextLost())&&(n.shaderSource(e,"void main() {}"),n.compileShader(e),!0===n.getShaderParameter(e,n.COMPILE_STATUS))}(e)),n[e]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var e}(t)}var n={};function r(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!r(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!r(t[i],e[i]))return!1;return!0}return t===e}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const a={create:function(e,i,n){const r=t.window.document.createElement(e);return void 0!==i&&(r.className=i),n&&n.appendChild(r),r},createNS:function(e,i){return t.window.document.createElementNS(e,i)}},o=t.window.document&&t.window.document.documentElement.style,s=o&&void 0!==o.userSelect?"userSelect":"WebkitUserSelect";let l;a.disableDrag=function(){o&&s&&(l=o[s],o[s]="none")},a.enableDrag=function(){o&&s&&(o[s]=l)},a.setTransform=function(t,e){t.style.transform=e};let c=!1;try{const e=Object.defineProperty({},"passive",{get(){c=!0}});t.window.addEventListener("test",e,e),t.window.removeEventListener("test",e,e)}catch(t){c=!1}a.addEventListener=function(t,e,i,n={}){t.addEventListener(e,i,"passive"in n&&c?n:n.capture)},a.removeEventListener=function(t,e,i,n={}){t.removeEventListener(e,i,"passive"in n&&c?n:n.capture)};const u=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};function d(e,i,n){const r=e.offsetWidth===i.width?1:e.offsetWidth/i.width;return new t.pointGeometry((n.clientX-i.left)*r,(n.clientY-i.top)*r)}a.suppressClick=function(){t.window.addEventListener("click",u,!0),t.window.setTimeout(()=>{t.window.removeEventListener("click",u,!0)},0)},a.mousePos=function(t,e){const i=t.getBoundingClientRect();return d(t,i,e)},a.touchPos=function(t,e){const i=t.getBoundingClientRect(),n=[];for(let r=0;r<e.length;r++)n.push(d(t,i,e[r]));return n},a.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},a.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};class h{constructor(t,e){this.pos=t,this.dir=e}intersectsPlane(e,i,n){const r=t.dot(i,this.dir);if(Math.abs(r)<1e-6)return!1;const a=t.dot(t.sub(t.create(),e,this.pos),i)/r,o=t.scaleAndAdd(t.create(),this.pos,this.dir,a);return t.copy(n,o),!0}}class p{constructor(t,e){this.points=t,this.planes=e}static fromInvProjectionMatrix(e,i,n){const r=Math.pow(2,n),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>{const a=t.transformMat4([],n,e),o=1/a[3]/i*r;return t.mul(a,a,[o,o,1/a[3],o])}),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const i=t.sub([],a[e[0]],a[e[1]]),n=t.sub([],a[e[2]],a[e[1]]),r=t.normalize([],t.cross([],i,n)),o=-t.dot(r,a[e[1]]);return r.concat(o)});return new p(a,o)}}class f{constructor(e,i){this.min=e,this.max=i,this.center=t.scale([],t.add([],this.min,this.max),.5)}quadrant(e){const i=[e%2==0,e<2],n=t.clone(this.min),r=t.clone(this.max);for(let t=0;t<i.length;t++)n[t]=i[t]?this.min[t]:this.center[t],r[t]=i[t]?this.center[t]:this.max[t];return r[2]=this.max[2],new f(n,r)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}intersects(e){const i=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let r=0;r<e.planes.length;r++){const a=e.planes[r];let o=0;for(let e=0;e<i.length;e++)o+=t.dot$1(a,i[e])>=0;if(0===o)return 0;o!==i.length&&(n=!1)}if(n)return 2;for(let t=0;t<3;t++){let i=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const a=e.points[r][t]-this.min[t];i=Math.min(i,a),n=Math.max(n,a)}if(n<0||i>this.max[t]-this.min[t])return 0}return 1}}function m(t){const{userImage:e}=t;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}class g extends t.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:t,callback:e}of this.requestors)this._notify(t,e);this.requestors=[]}}getImage(t){return this.images[t]}addImage(t,e){this._validate(t,e)&&(this.images[t]=e)}_validate(e,i){let n=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "stretchX" value`))),n=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "stretchY" value`))),n=!1),this._validateContent(i.content,i)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "content" value`))),n=!1),n}_validateStretch(t,e){if(!t)return!0;let i=0;for(const n of t){if(n[0]<i||n[1]<n[0]||e<n[1])return!1;i=n[1]}return!0}_validateContent(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))}updateImage(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0}removeImage(t){const e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t,e){let i=!0;if(!this.isLoaded())for(const e of t)this.images[e]||(i=!1);this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})}_notify(e,i){const n={};for(const i of e){this.images[i]||this.fire(new t.Event("styleimagemissing",{id:i}));const e=this.images[i];e?n[i]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.warnOnce(`Image "${i}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}i(null,n)}getPixelSize(){const{width:t,height:e}=this.atlasImage;return{width:t,height:e}}getPattern(e){const i=this.patterns[e],n=this.getImage(e);if(!n)return null;if(i&&i.position.version===n.version)return i.position;if(i)i.position.version=n.version;else{const i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new t.ImagePosition(i,n);this.patterns[e]={bin:i,position:r}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:i,h:n}=t.potpack(e),r=this.atlasImage;r.resize({width:i||1,height:n||1});for(const e in this.patterns){const{bin:i}=this.patterns[e],n=i.x+1,a=i.y+1,o=this.images[e].data,s=o.width,l=o.height;t.RGBAImage.copy(o,r,{x:0,y:0},{x:n,y:a},{width:s,height:l}),t.RGBAImage.copy(o,r,{x:0,y:l-1},{x:n,y:a-1},{width:s,height:1}),t.RGBAImage.copy(o,r,{x:0,y:0},{x:n,y:a+l},{width:s,height:1}),t.RGBAImage.copy(o,r,{x:s-1,y:0},{x:n-1,y:a},{width:1,height:l}),t.RGBAImage.copy(o,r,{x:0,y:0},{x:n+s,y:a},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const e of t){if(this.callbackDispatchedThisFrame[e])continue;this.callbackDispatchedThisFrame[e]=!0;const t=this.images[e];m(t)&&this.updateImage(e,t)}}}const y=new t.Properties({anchor:new t.DataConstantProperty(t.spec.light.anchor),position:new class{constructor(){this.specification=t.spec.light.position}possiblyEvaluate(e,i){return function([e,i,n]){const r=t.degToRad(i+90),a=t.degToRad(n);return{x:e*Math.cos(r)*Math.sin(a),y:e*Math.sin(r)*Math.sin(a),z:e*Math.cos(a),azimuthal:i,polar:n}}(e.expression.evaluate(i))}interpolate(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n),azimuthal:t.number(e.azimuthal,i.azimuthal,n),polar:t.number(e.polar,i.polar,n)}}},color:new t.DataConstantProperty(t.spec.light.color),intensity:new t.DataConstantProperty(t.spec.light.intensity)}),v="-transition";class _ extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(y),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,i={}){if(!this._validate(t.validateLight,e,i))for(const i in e){const n=e[i];t.endsWith(i,v)?this._transitionable.setTransition(i.slice(0,-v.length),n):this._transitionable.setValue(i,n)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,i,n){return(!n||!1!==n.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}const b=new t.Properties({source:new t.DataConstantProperty(t.spec.terrain.source),exaggeration:new t.DataConstantProperty(t.spec.terrain.exaggeration)}),x="-transition";class w extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(b),this.set(e),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(e){for(const i in e){const n=e[i];t.endsWith(i,x)?this._transitionable.setTransition(i.slice(0,-x.length),n):this._transitionable.setValue(i,n)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}}function k(e,i,n,r){const a=t.smoothstep(45,65,n),[o,s]=S(e,r),l=t.length(i);let c=1-Math.min(1,Math.exp((l-o)/(s-o)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*a*e.alpha}function S(t,e){const i=.5/Math.tan(.5*e);return[t.range[0]+i,t.range[1]+i]}const T=new t.Properties({range:new t.DataConstantProperty(t.spec.fog.range),color:new t.DataConstantProperty(t.spec.fog.color),"horizon-blend":new t.DataConstantProperty(t.spec.fog["horizon-blend"])}),M="-transition";class C extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(T),this.set(e),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(e,i={}){if(!this._validate(t.validateFog,e,i))for(const i in e){const n=e[i];t.endsWith(i,M)?this._transitionable.setTransition(i.slice(0,-M.length),n):this._transitionable.setValue(i,n)}}getOpacity(e){const i=this.properties&&this.properties.get("color")||1;return t.smoothstep(45,65,e)*i.a}getOpacityAtLatLng(e,i){return function(e,i,n){const r=t.MercatorCoordinate.fromLngLat(i),a=n.elevation?n.elevation.getAtPointOrZero(r):0,o=[r.x,r.y,a];return t.transformMat4$1(o,o,n.mercatorFogMatrix),k(e,o,n.pitch,n._fov)}(this.state,e,i)}getFovAdjustedRange(t){return S(this.state,t)}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,i,n){return(!n||!1!==n.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}class D{constructor(e,i){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=t.uniqueId();const n=this.workerPool.acquire(this.id);for(let t=0;t<n.length;t++){const e=new D.Actor(n[t],i,this.id);e.name="Worker "+t,this.actors.push(e)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(e,i,n){t.asyncAll(this.actors,(t,n)=>{t.send(e,i,n)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(t=>{t.remove()}),this.actors=[],this.workerPool.release(this.id)}}function L(e,i,n){return i*(t.EXTENT/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}D.Actor=t.Actor;class A{constructor(t,e,i,n){this.screenBounds=t,this.cameraPoint=e,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(t=>n.pointCoordinate3D(t)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(e,i){let n,r;if(e instanceof t.pointGeometry||"number"==typeof e[0]){const a=t.pointGeometry.convert(e);n=[t.pointGeometry.convert(e)],r=i.isPointAboveHorizon(a)}else{const a=t.pointGeometry.convert(e[0]),o=t.pointGeometry.convert(e[1]);n=[a,o],r=t.polygonizeBounds(a,o).every(t=>i.isPointAboveHorizon(t))}return new A(n,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(e){return t.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}bufferedCameraGeometry(e){const i=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new t.pointGeometry(1,1)):this.screenBounds[1],r=t.polygonizeBounds(i,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<n.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),t.bufferConvexPolygon(r,e)}containsTile(e,i,n){const r=e.queryPadding+1,a=n?this._bufferedCameraMercator(r,i).map(t=>e.tileID.getTilePoint(t)):this._bufferedScreenMercator(r,i).map(t=>e.tileID.getTilePoint(t)),o=this.screenGeometryMercator.map(t=>e.tileID.getTileVec3(t)),s=o.map(e=>new t.pointGeometry(e[0],e[1])),l=i.getFreeCameraOptions().position||new t.MercatorCoordinate(0,0,0),c=e.tileID.getTileVec3(l),u=o.map(e=>{const i=t.sub(e,e,c);return t.normalize(i,i),new h(c,i)}),d=L(e,1,i.zoom);if(t.polygonIntersectsBox(a,0,0,t.EXTENT,t.EXTENT))return{queryGeometry:this,tilespaceGeometry:s,tilespaceRays:u,bufferedTilespaceGeometry:a,bufferedTilespaceBounds:(p=t.getBounds(a),p.min.x=t.clamp(p.min.x,0,t.EXTENT),p.min.y=t.clamp(p.min.y,0,t.EXTENT),p.max.x=t.clamp(p.max.x,0,t.EXTENT),p.max.y=t.clamp(p.max.y,0,t.EXTENT),p),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:d};var p}_bufferedScreenMercator(t,e){const i=E(t);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{const n=this.bufferedScreenGeometry(t).map(t=>e.pointCoordinate3D(t));return this._screenRaycastCache[i]=n,n}}_bufferedCameraMercator(t,e){const i=E(t);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{const n=this.bufferedCameraGeometry(t).map(t=>e.pointCoordinate3D(t));return this._cameraRaycastCache[i]=n,n}}}function E(t){return 100*t|0}function P(e,i,n){const r=function(r,a){if(r)return n(r);if(a){const r=t.pick(t.extend(a,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(r.vectorLayers=a.vector_layers,r.vectorLayerIds=r.vectorLayers.map(t=>t.id)),r.tiles=i.canonicalizeTileset(r,e.url),n(null,r)}};return e.url?t.getJSON(i.transformRequest(i.normalizeSourceURL(e.url),t.ResourceType.Source),r):t.exported.frame(()=>r(null,e))}class I{constructor(e,i,n){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=i||0,this.maxzoom=n||24}validateBounds(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(e){const i=Math.pow(2,e.z),n=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*i),a=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*i),o=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*i);return e.x>=n&&e.x<a&&e.y>=r&&e.y<o}}class O{constructor(t,e,i){this.context=t;const n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const R={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class z{constructor(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;const r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,e){for(let i=0;i<this.attributes.length;i++){const n=e.attributes[this.attributes[i].name];void 0!==n&&t.enableVertexAttribArray(n)}}setVertexAttribPointers(t,e,i){for(let n=0;n<this.attributes.length;n++){const r=this.attributes[n],a=e.attributes[r.name];void 0!==a&&t.vertexAttribPointer(a,r.components,t[R[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Y{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class F extends Y{getDefault(){return t.Color.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class H extends Y{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class N extends Y{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class B extends Y{getDefault(){return[!0,!0,!0,!0]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class j extends Y{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class V extends Y{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class W extends Y{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class U extends Y{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class $ extends Y{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}}class q extends Y{getDefault(){return[0,1]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class G extends Y{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}}class X extends Y{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class Z extends Y{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}}class J extends Y{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class K extends Y{getDefault(){return t.Color.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class Q extends Y{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class tt extends Y{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}}class et extends Y{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class it extends Y{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class nt extends Y{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class rt extends Y{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class at extends Y{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class ot extends Y{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class st extends Y{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class lt extends Y{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class ct extends Y{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class ut extends Y{getDefault(){return null}set(t){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class dt extends Y{constructor(t){super(t),this.vao=t.extVertexArrayObject}getDefault(){return null}set(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)}}class ht extends Y{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class pt extends Y{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class ft extends Y{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class mt extends Y{constructor(t,e){super(t),this.context=t,this.parent=e}getDefault(){return null}}class gt extends mt{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class yt extends mt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,this.attachment(),e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class vt extends yt{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class _t{constructor(t,e,i,n){this.context=t,this.width=e,this.height=i;const r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new gt(t,r),n&&(this.depthAttachment=new yt(t,r))}destroy(){const t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){const e=this.depthAttachment.get();e&&t.deleteRenderbuffer(e)}t.deleteFramebuffer(this.framebuffer)}}class bt{constructor(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new F(this),this.clearDepth=new H(this),this.clearStencil=new N(this),this.colorMask=new B(this),this.depthMask=new j(this),this.stencilMask=new V(this),this.stencilFunc=new W(this),this.stencilOp=new U(this),this.stencilTest=new $(this),this.depthRange=new q(this),this.depthTest=new G(this),this.depthFunc=new X(this),this.blend=new Z(this),this.blendFunc=new J(this),this.blendColor=new K(this),this.blendEquation=new Q(this),this.cullFace=new tt(this),this.cullFaceSide=new et(this),this.frontFace=new it(this),this.program=new nt(this),this.activeTexture=new rt(this),this.viewport=new at(this),this.bindFramebuffer=new ot(this),this.bindRenderbuffer=new st(this),this.bindTexture=new lt(this),this.bindVertexBuffer=new ct(this),this.bindElementBuffer=new ut(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new dt(this),this.pixelStoreUnpack=new ht(this),this.pixelStoreUnpackPremultiplyAlpha=new pt(this),this.pixelStoreUnpackFlipY=new ft(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,e){return new O(this,t,e)}createVertexBuffer(t,e,i){return new z(this,t,e,i)}createRenderbuffer(t,e,i){const n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),r}createFramebuffer(t,e,i){return new _t(this,t,e,i)}clear({color:t,depth:e,stencil:i}){const n=this.gl;let r=0;t&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==e&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(e),this.depthMask.set(!0)),void 0!==i&&(r|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),n.clear(r)}setCullFace(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(e){r(e.blendFunction,t.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class xt extends t.Evented{constructor(e,i,n,r){super(),this.id=e,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},i),t.extend(this,t.pick(i,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,(e,i)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):i&&(t.extend(this,i),i.bounds&&(this.tileBounds=new I(i.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(i.tiles),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return t.extend({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(e,i){const n=t.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),(n,r,a,o)=>{if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:a,expires:o});const n=this.map.painter.context,s=n.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.Texture(n,r,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(this.dispatcher),i(null)}})}abortTile(t,e){t.request&&(t.request.cancel(),delete t.request),e()}unloadTile(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()}hasTransition(){return!1}}let wt;var kt=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class St extends t.Evented{constructor(t,e,i,n){super(),this.id=t,this.dispatcher=i,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=e}load(e,i){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(n,r)=>{this._loaded=!0,n?this.fire(new t.ErrorEvent(n)):r&&(this.image=t.exported.getImageData(r),e&&(this.coordinates=e),i&&i(),this._finishLoading())})}loaded(){return this._loaded}updateImage(t){return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}setCoordinates(e){this.coordinates=e;const i=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){let i=1/0,n=1/0,r=-1/0,a=-1/0;for(const t of e)i=Math.min(i,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x),a=Math.max(a,t.y);const o=Math.max(r-i,a-n),s=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),l=Math.pow(2,s);return new t.CanonicalTileID(s,Math.floor((i+r)/2*l),Math.floor((n+a)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z;const n=i.map(t=>this.tileID.getTilePoint(t)._round());return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,i=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,kt.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}loadTile(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Tt={vector:class extends t.Evented{constructor(e,i,n,r){if(super(),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(i,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new t.DedupedRequest}load(){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,(e,i)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):i&&(t.extend(this,i),i.bounds&&(this.tileBounds=new I(i.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(i.tiles,this.map._requestManager._customAccessToken),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}onAdd(t){this.map=t,this.load()}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t();const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles();this.load()}setTiles(t){return this.setSourceProperty(()=>{this._options.tiles=t}),this}setUrl(t){return this.setSourceProperty(()=>{this.url=t,this._options.url=t}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return t.extend({},this._options)}loadTile(e,i){const n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(n,t.ResourceType.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state)"loading"===e.state?e.reloadCallback=i:e.request=e.actor.send("reloadTile",r,a.bind(this));else if(e.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send("loadTile",r,a.bind(this),void 0,!0);else{const i=t.loadVectorTile.call({deduped:this._deduped},r,(t,i)=>{t||!i?a.call(this,t):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},e.actor&&e.actor.send("loadTile",r,a.bind(this),void 0,!0))},!0);e.request={cancel:i}}function a(n,r){return delete e.request,e.aborted?i(null):n&&404!==n.status?i(n):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id})}unloadTile(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:xt,"raster-dem":class extends xt{constructor(e,i,n,r){super(e,i,n,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}loadTile(e,i){const n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(t,n){t&&(e.state="errored",i(t)),n&&(e.dem=n,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state="loaded",i(null))}e.request=t.getImage(this.map._requestManager.transformRequest(n,t.ResourceType.Tile),function(n,a,o,s){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(a){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:o,expires:s});const i=t.window.ImageBitmap&&a instanceof t.window.ImageBitmap&&(null==wt&&(wt=t.window.OffscreenCanvas&&new t.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof t.window.createImageBitmap),wt),n=1-(a.width-t.prevPowerOfTwo(a.width))/2;n<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));const l=i?a:t.exported.getImageData(a,n),c={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:n};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(e){const i=e.canonical,n=Math.pow(2,i.z),r=(i.x-1+n)%n,a=0===i.x?e.wrap-1:e.wrap,o=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,a,i.z,r,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,o,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,a,i.z,r,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,o,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,a,i.z,r,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,o,i.y+1).key]={backfilled:!1}),l}unloadTile(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded"}},geojson:class extends t.Evented{constructor(e,i,n,r){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(r),this._data=i.data,this._options=t.extend({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*a,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}onAdd(t){this.map=t,this.setData(this._data)}setData(t){return this._data=t,this._updateWorkerData(),this}getClusterExpansionZoom(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this}getClusterChildren(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this}getClusterLeaves(t,e,i,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},n),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new t.Event("dataloading",{dataType:"source"})),this._loaded=!1;const e=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(e.request=this.map._requestManager.transformRequest(t.exported.resolveURL(i),t.ResourceType.Source),e.request.collectResourceTiming=this._collectResourceTiming):e.data=JSON.stringify(i),this._pendingLoad=this.actor.send(this.type+".loadData",e,(e,i)=>{if(this._loaded=!0,this._pendingLoad=null,e)this.fire(new t.ErrorEvent(e));else{const e={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(e.resourceTiming=i.resourceTiming[this.id]),this.fire(new t.Event("data",e)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(e,i){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(n,{type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(t,r)=>(delete e.request,e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(r,this.map.painter,"reloadTile"===n),i(null))),void 0,"loadTile"===n)}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0}unloadTile(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return t.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends St{constructor(t,e,i,n){super(t,e,i,n),this.roundZoom=!0,this.type="video",this.options=e}load(){this._loaded=!1;const e=this.options;this.urls=[];for(const i of e.urls)this.urls.push(this.map._requestManager.transformRequest(i,t.ResourceType.Source).url);t.getVideo(this.urls,(e,i)=>{this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):i&&(this.video=i,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,i=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,kt.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:St,canvas:class extends St{constructor(e,i,n,r){super(e,i,n,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some(t=>!Array.isArray(t)||2!==t.length||t.some(t=>"number"!=typeof t))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context,n=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,kt.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(i,this.canvas,n.RGBA,{premultiply:!0});for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const t of[this.canvas.width,this.canvas.height])if(isNaN(t)||t<=0)return!0;return!1}}},Mt=function(e,i,n,r){const a=new Tt[i.type](e,i,n,r);if(a.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${a.id}`);return t.bindAll(["load","abort","unload","serialize","prepare"],a),a};function Ct(e,i){const n=t.identity([]);return t.scale$1(n,n,[.5*e.width,.5*-e.height,1]),t.translate(n,n,[1,-1,0]),t.multiply(n,n,e.calculateProjMatrix(i.toUnwrapped()))}function Dt(t,e,i,n,r,a,o,s=!1){const l=t.tilesIn(n,o,s);l.sort(At);const c=[];for(const n of l)c.push({wrappedTileID:n.tile.tileID.wrapped().key,queryResults:n.tile.queryRenderedFeatures(e,i,t._state,n,r,a,Ct(t.transform,n.tile.tileID),s)});const u=function(t){const e={},i={};for(const n of t){const t=n.queryResults,r=n.wrappedTileID,a=i[r]=i[r]||{};for(const i in t){const n=t[i],r=a[i]=a[i]||{},o=e[i]=e[i]||[];for(const t of n)r[t.featureIndex]||(r[t.featureIndex]=!0,o.push(t))}}return e}(c);for(const e in u)u[e].forEach(e=>{const i=e.feature,n=t.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=n});return u}function Lt(t,e){const i=t.getRenderableIds().map(e=>t.getTileByID(e)),n=[],r={};for(let t=0;t<i.length;t++){const a=i[t],o=a.tileID.canonical.key;r[o]||(r[o]=!0,a.querySourceFeatures(n,e))}return n}function At(t,e){const i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}function Et(){return null!=qr.workerClass?new qr.workerClass:new t.window.Worker(qr.workerUrl)}const Pt="mapboxgl_preloaded_worker_pool";class It{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<It.workerCount;)this.workers.push(new Et);return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach(t=>{t.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Pt]}numActive(){return Object.keys(this.active).length}}let Ot;function Rt(){return Ot||(Ot=new It),Ot}function zt(e,i){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return t.refProperties.forEach(t=>{t in i&&(n[t]=i[t])}),n}function Yt(t){t=t.slice();const e=Object.create(null);for(let i=0;i<t.length;i++)e[t[i].id]=t[i];for(let i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=zt(t[i],e[t[i].ref]));return t}It.workerCount=2;const Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function Ht(t,e,i){i.push({command:Ft.addSource,args:[t,e[t]]})}function Nt(t,e,i){e.push({command:Ft.removeSource,args:[t]}),i[t]=!0}function Bt(t,e,i,n){Nt(t,i,n),Ht(t,e,i)}function jt(t,e,i){let n;for(n in t[i])if(t[i].hasOwnProperty(n)&&"data"!==n&&!r(t[i][n],e[i][n]))return!1;for(n in e[i])if(e[i].hasOwnProperty(n)&&"data"!==n&&!r(t[i][n],e[i][n]))return!1;return!0}function Vt(t,e,i,n,a,o){let s;for(s in e=e||{},t=t||{})t.hasOwnProperty(s)&&(r(t[s],e[s])||i.push({command:o,args:[n,s,e[s],a]}));for(s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(r(t[s],e[s])||i.push({command:o,args:[n,s,e[s],a]}))}function Wt(t){return t.id}function Ut(t,e){return t[e.id]=e,t}class $t{constructor(t,e){this.reset(t,e)}reset(t,e){this.points=t||[],this._distances=[0];for(let t=1;t<this.points.length;t++)this._distances[t]=this._distances[t-1]+this.points[t].dist(this.points[t-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);let i=1,n=this._distances[i];const r=e*this.paddedLength+this.padding;for(;n<r&&i<this._distances.length;)n=this._distances[++i];const a=i-1,o=this._distances[a],s=n-o,l=s>0?(r-o)/s:0;return this.points[a].mult(1-l).add(this.points[i].mult(l))}}class qt{constructor(t,e,i){const n=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(let t=0;t<this.xCellCount*this.yCellCount;t++)n.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)}insertCircle(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)}_insertBoxCell(t,e,i,n,r,a){this.boxCells[r].push(a)}_insertCircleCell(t,e,i,n,r,a){this.circleCells[r].push(a)}_query(t,e,i,n,r,a){if(i<0||t>this.width||n<0||e>this.height)return!r&&[];const o=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n){if(r)return!0;for(let t=0;t<this.boxKeys.length;t++)o.push({key:this.boxKeys[t],x1:this.bboxes[4*t],y1:this.bboxes[4*t+1],x2:this.bboxes[4*t+2],y2:this.bboxes[4*t+3]});for(let t=0;t<this.circleKeys.length;t++){const e=this.circles[3*t],i=this.circles[3*t+1],n=this.circles[3*t+2];o.push({key:this.circleKeys[t],x1:e-n,y1:i-n,x2:e+n,y2:i+n})}return a?o.filter(a):o}return this._forEachCell(t,e,i,n,this._queryCell,o,{hitTest:r,seenUids:{box:{},circle:{}}},a),r?o.length>0:o}_queryCircle(t,e,i,n,r){const a=t-i,o=t+i,s=e-i,l=e+i;if(o<0||a>this.width||l<0||s>this.height)return!n&&[];const c=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,c,{hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}},r),n?c.length>0:c}query(t,e,i,n,r){return this._query(t,e,i,n,!1,r)}hitTest(t,e,i,n,r){return this._query(t,e,i,n,!0,r)}hitTestCircle(t,e,i,n){return this._queryCircle(t,e,i,!0,n)}_queryCell(t,e,i,n,r,a,o,s){const l=o.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(t<=r[c+2]&&e<=r[c+3]&&i>=r[c+0]&&n>=r[c+1]&&(!s||s(this.boxKeys[u]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],t,e,i,n)&&(!s||s(this.circleKeys[c]))){if(o.hitTest)return a.push(!0),!0;{const t=r[u],e=r[u+1],i=r[u+2];a.push({key:this.circleKeys[c],x1:t-i,y1:e-i,x2:t+i,y2:e+i})}}}}}_queryCellCircle(t,e,i,n,r,a,o,s){const l=o.circle,c=o.seenUids,u=this.boxCells[r];if(null!==u){const t=this.bboxes;for(const e of u)if(!c.box[e]){c.box[e]=!0;const i=4*e;if(this._circleAndRectCollide(l.x,l.y,l.radius,t[i+0],t[i+1],t[i+2],t[i+3])&&(!s||s(this.boxKeys[e])))return a.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const t=this.circles;for(const e of d)if(!c.circle[e]){c.circle[e]=!0;const i=3*e;if(this._circlesCollide(t[i],t[i+1],t[i+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[e])))return a.push(!0),!0}}}_forEachCell(t,e,i,n,r,a,o,s){const l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),u=this._convertToXCellCoord(i),d=this._convertToYCellCoord(n);for(let h=l;h<=u;h++)for(let l=c;l<=d;l++)if(r.call(this,t,e,i,n,this.xCellCount*l+h,a,o,s))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,e,i,n,r,a){const o=n-t,s=r-e,l=i+a;return l*l>o*o+s*s}_circleAndRectCollide(t,e,i,n,r,a,o){const s=(a-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;const c=(o-r)/2,u=Math.abs(e-(r+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;const d=l-s,h=u-c;return d*d+h*h<=i*i}}const Gt=Math.tan(85*Math.PI/180);function Xt(e,i,n,r,a){const o=t.create$1();return i?(t.scale$1(o,o,[1/a,1/a,1]),n||t.rotateZ(o,o,r.angle)):t.multiply(o,r.labelPlaneMatrix,e),o}function Zt(e,i,n,r,a){if(i){const i=t.clone$1(e);return t.scale$1(i,i,[a,a,1]),n||t.rotateZ(i,i,-r.angle),i}return r.glCoordMatrix}function Jt(e,i,n=0){const r=[e.x,e.y,n,1];n?t.transformMat4(r,r,i):le(r,r,i);const a=r[3];return{point:new t.pointGeometry(r[0]/a,r[1]/a),signedDistanceFromCamera:a}}function Kt(t,e){return Math.min(.5+t/e*.5,1.5)}function Qt(t,e){const i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function te(e,i,n,r,a,o,s,l,c){const u=r?e.textSizeData:e.iconSizeData,d=t.evaluateSizeForZoom(u,n.transform.zoom),h=[256/n.width*2+1,256/n.height*2+1],p=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();const f=e.lineVertexArray,m=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=n.transform.width/n.transform.height;let y=!1;for(let r=0;r<m.length;r++){const v=m.get(r);if(v.writingMode!==t.WritingMode.vertical||y||0!==r&&m.get(r-1).writingMode===t.WritingMode.horizontal||(y=!0),v.hidden||v.writingMode===t.WritingMode.vertical&&!y){se(v.numGlyphs,p);continue}y=!1;const _=c?c({x:v.anchorX,y:v.anchorY}):0,b=[v.anchorX,v.anchorY,_,1];if(t.transformMat4(b,b,i),!Qt(b,h)){se(v.numGlyphs,p);continue}const x=Kt(n.transform.cameraToCenterDistance,b[3]),w=t.evaluateSizeForFeature(u,d,v),k=s?w/x:w*x,S=new t.pointGeometry(v.anchorX,v.anchorY),T=Jt(S,a,_);if(T.signedDistanceFromCamera<=0){se(v.numGlyphs,p);continue}const M=T.point;let C={};const D=s?null:c,L=ne(v,k,!1,l,i,a,o,e.glyphOffsetArray,f,p,M,S,C,g,D);y=L.useVertical,D&&L.needsFlipping&&(C={}),(L.notEnoughRoom||y||L.needsFlipping&&ne(v,k,!0,l,i,a,o,e.glyphOffsetArray,f,p,M,S,C,g,D).notEnoughRoom)&&se(v.numGlyphs,p)}r?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function ee(t,e,i,n,r,a,o,s,l,c,u,d,h){const p=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,g=e.getoffsetX(s.glyphStartIndex),y=e.getoffsetX(p-1),v=ae(t*g,i,n,r,a,o,s.segment,f,m,l,c,u,d,h,!0);if(!v)return null;const _=ae(t*y,i,n,r,a,o,s.segment,f,m,l,c,u,d,h,!0);return _?{first:v,last:_}:null}function ie(e,i,n,r){return e.writingMode===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*r?{useVertical:!0}:e.writingMode===t.WritingMode.vertical?i.y<n.y?{needsFlipping:!0}:null:0!==e.flipState&&function(t,e,i){const n=(e.x-t.x)*i;return 0===n||Math.abs((e.y-t.y)/n)>Gt}(i,n,r)?1===e.flipState?{needsFlipping:!0}:null:i.x>n.x?{needsFlipping:!0}:null}function ne(e,i,n,r,a,o,s,l,c,u,d,h,p,f,m){const g=i/24,y=e.lineOffsetX*g,v=e.lineOffsetY*g;let _;if(e.numGlyphs>1){const t=e.glyphStartIndex+e.numGlyphs,i=e.lineStartIndex,a=e.lineStartIndex+e.lineLength,u=ee(g,l,y,v,n,d,h,e,c,o,p,m);if(!u)return{notEnoughRoom:!0};const b=Jt(u.first.point,s).point,x=Jt(u.last.point,s).point;if(r&&!n){const t=ie(e,b,x,f);if(e.flipState=t&&t.needsFlipping?1:2,t)return t}_=[u.first];for(let r=e.glyphStartIndex+1;r<t-1;r++)_.push(ae(g*l.getoffsetX(r),y,v,n,d,h,e.segment,i,a,c,o,p,m));_.push(u.last)}else{if(r&&!n){const i=Jt(h,a).point,n=e.lineStartIndex+e.segment+1,r=new t.pointGeometry(c.getx(n),c.gety(n)),o=Jt(r,a),s=ie(e,i,o.signedDistanceFromCamera>0?o.point:re(h,r,i,1,a),f);if(e.flipState=s&&s.needsFlipping?1:2,s)return s}const i=ae(g*l.getoffsetX(e.glyphStartIndex),y,v,n,d,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,o,p,m);if(!i)return{notEnoughRoom:!0};_=[i]}for(const e of _)t.addDynamicAttributes(u,e.point,e.angle);return{}}function re(t,e,i,n,r,a){const o=t.add(t.sub(e)._unit()),s=Jt(o,r,a?a(o):0).point,l=i.sub(s);return i.add(l._mult(n/l.mag()))}function ae(e,i,n,r,a,o,s,l,c,u,d,h,p,f,m){const g=r?e-i:e+i;let y=g>0?1:-1,v=0;r&&(y*=-1,v=Math.PI),y<0&&(v+=Math.PI);let _=y>0?l+s:l+s+1,b=a,x=a,w=0,k=0;const S=Math.abs(g),T=[],M=[];let C=o;const D=()=>{const e=_-y;return 0===w?o:new t.pointGeometry(u.getx(e),u.gety(e))},L=()=>re(D(),C,x,S-w+1,d,p);for(;w+k<=S;){if(_+=y,_<l||_>=c)return null;if(x=b,T.push(b),f&&M.push(C||D()),b=h[_],void 0===b){C=new t.pointGeometry(u.getx(_),u.gety(_));const e=Jt(C,d,p?p(C):0);b=e.signedDistanceFromCamera>0?h[_]=e.point:L()}else C=null;w+=k,k=x.dist(b)}m&&p&&(C=C||new t.pointGeometry(u.getx(_),u.gety(_)),h[_]=b=void 0===h[_]?b:L(),k=x.dist(b));const A=(S-w)/k,E=b.sub(x),P=E.mult(A)._add(x);n&&P._add(E._unit()._perp()._mult(n*y));const I=v+Math.atan2(b.y-x.y,b.x-x.x);return T.push(P),f&&(C=C||new t.pointGeometry(u.getx(_),u.gety(_)),M.push(function(e,i,n){const r=1-n;return new t.pointGeometry(e.x*r+i.x*n,e.y*r+i.y*n)}(M.length>0?M[M.length-1]:C,C,A))),{point:P,angle:I,path:T,tilePath:M}}const oe=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(t,e){for(let i=0;i<t;i++){const t=e.length;e.resize(t+4),e.float32.set(oe,3*t)}}function le(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t[3]=i[3]*n+i[7]*r+i[15],t}const ce=100;class ue{constructor(t,e,i=new qt(t.width+200,t.height+200,25),n=new qt(t.width+200,t.height+200,25)){this.transform=t,this.grid=i,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+ce,this.screenBottomBoundary=t.height+ce,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.fogState=e}placeCollisionBox(t,e,i,n,r,a,o){const s=this.projectAndGetPerspectiveRatio(a,e.anchorPointX,e.anchorPointY,e.elevation,e.tileID),l=r*s.perspectiveRatio,c=(e.x1*t+i.x-e.padding)*l+s.point.x,u=(e.y1*t+i.y-e.padding)*l+s.point.y,d=(e.x2*t+i.x+e.padding)*l+s.point.x,h=(e.y2*t+i.y+e.padding)*l+s.point.y,p=s.perspectiveRatio<=.55||s.aboveHorizon;return!this.isInsideGrid(c,u,d,h)||!n&&this.grid.hitTest(c,u,d,h,o)||p?{box:[],offscreen:!1}:{box:[c,u,d,h],offscreen:this.isOffscreen(c,u,d,h)}}placeCollisionCircles(e,i,n,r,a,o,s,l,c,u,d,h,p,f){const m=[],g=this.transform.elevation,y=g?t=>g.getAtTileOffset(f,t.x,t.y):t=>0,v=new t.pointGeometry(i.anchorX,i.anchorY),_=y(v),b=this.projectAndGetPerspectiveRatio(o,v.x,v.y,_,f),{perspectiveRatio:x}=b,w=(u?a/x:a*x)/t.ONE_EM,k=Jt(v,s,_).point,S=b.signedDistanceFromCamera>0?ee(w,r,i.lineOffsetX*w,i.lineOffsetY*w,!1,k,v,i,n,s,{},g&&!u?y:null,u&&!!g):null;let T=!1,M=!1,C=!0;if(S&&!b.aboveHorizon){const i=.5*h*x+p,n=new t.pointGeometry(-100,-100),r=new t.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),a=new $t,o=S.first,s=S.last;let u=[];for(let t=o.path.length-1;t>=1;t--)u.push(o.path[t]);for(let t=1;t<s.path.length;t++)u.push(s.path[t]);const f=2.5*i;if(l){const t=u.map(g?(t,e)=>{const i=y(e<o.path.length-1?o.tilePath[o.path.length-1-e]:s.tilePath[e-o.path.length+2]);return Jt(t,l,i)}:t=>Jt(t,l));u=t.some(t=>t.signedDistanceFromCamera<=0)?[]:t.map(t=>t.point)}let v=[];if(u.length>0){const e=u[0].clone(),i=u[0].clone();for(let t=1;t<u.length;t++)e.x=Math.min(e.x,u[t].x),e.y=Math.min(e.y,u[t].y),i.x=Math.max(i.x,u[t].x),i.y=Math.max(i.y,u[t].y);v=e.x>=n.x&&i.x<=r.x&&e.y>=n.y&&i.y<=r.y?[u]:i.x<n.x||e.x>r.x||i.y<n.y||e.y>r.y?[]:t.clipLine([u],n.x,n.y,r.x,r.y)}for(const t of v){a.reset(t,.25*i);let n=0;n=a.length<=.5*i?1:Math.ceil(a.paddedLength/f)+1;for(let t=0;t<n;t++){const r=t/Math.max(n-1,1),o=a.lerp(r),s=o.x+ce,l=o.y+ce;m.push(s,l,i,0);const u=s-i,h=l-i,p=s+i,f=l+i;if(C=C&&this.isOffscreen(u,h,p,f),M=M||this.isInsideGrid(u,h,p,f),!e&&this.grid.hitTestCircle(s,l,i,d)&&(T=!0,!c))return{circles:[],offscreen:!1,collisionDetected:T}}}}return{circles:!c&&T||!M?[]:m,offscreen:C,collisionDetected:T}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const i=[];let n=1/0,r=1/0,a=-1/0,o=-1/0;for(const s of e){const e=new t.pointGeometry(s.x+ce,s.y+ce);n=Math.min(n,e.x),r=Math.min(r,e.y),a=Math.max(a,e.x),o=Math.max(o,e.y),i.push(e)}const s=this.grid.query(n,r,a,o).concat(this.ignoredGrid.query(n,r,a,o)),l={},c={};for(const e of s){const n=e.key;if(void 0===l[n.bucketInstanceId]&&(l[n.bucketInstanceId]={}),l[n.bucketInstanceId][n.featureIndex])continue;const r=[new t.pointGeometry(e.x1,e.y1),new t.pointGeometry(e.x2,e.y1),new t.pointGeometry(e.x2,e.y2),new t.pointGeometry(e.x1,e.y2)];t.polygonIntersectsPolygon(i,r)&&(l[n.bucketInstanceId][n.featureIndex]=!0,void 0===c[n.bucketInstanceId]&&(c[n.bucketInstanceId]=[]),c[n.bucketInstanceId].push(n.featureIndex))}return c}insertCollisionBox(t,e,i,n,r){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:n,collisionGroupID:r},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,e,i,n,r){const a=e?this.ignoredGrid:this.grid,o={bucketInstanceId:i,featureIndex:n,collisionGroupID:r};for(let e=0;e<t.length;e+=4)a.insertCircle(o,t[e],t[e+1],t[e+2])}projectAndGetPerspectiveRatio(e,i,n,r,a){const o=[i,n,r||0,1];let s=!1;if(r||this.transform.pitch>0){t.transformMat4(o,o,e);let l=!1;this.fogState&&a&&(l=function(e,i,n,r,a,o){const s=o.calculateFogTileMatrix(a),l=[i,n,r];return t.transformMat4$1(l,l,s),k(e,l,o.pitch,o._fov)}(this.fogState,i,n,r||0,a.toUnwrapped(),this.transform)>.9),s=o[2]>o[3]||l}else le(o,o,e);return{point:new t.pointGeometry((o[0]/o[3]+1)/2*this.transform.width+ce,(-o[1]/o[3]+1)/2*this.transform.height+ce),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/o[3]*.5,1.5),signedDistanceFromCamera:o[3],aboveHorizon:s}}isOffscreen(t,e,i,n){return i<ce||t>=this.screenRightBoundary||n<ce||e>this.screenBottomBoundary}isInsideGrid(t,e,i,n){return i>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary}getViewportMatrix(){const e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e}}class de{constructor(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i}isHidden(){return 0===this.opacity&&!this.placed}}class he{constructor(t,e,i,n,r){this.text=new de(t?t.text:null,e,i,r),this.icon=new de(t?t.icon:null,e,n,r)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class pe{constructor(t,e,i){this.text=t,this.icon=e,this.skipFade=i}}class fe{constructor(){this.invProjMatrix=t.create$1(),this.viewportMatrix=t.create$1(),this.circles=[]}}class me{constructor(t,e,i,n,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=r}}class ge{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:t=>t.collisionGroupID===e}}return this.collisionGroups[t]}}function ye(e,i,n,r,a){const{horizontalAlign:o,verticalAlign:s}=t.getAnchorAlignment(e),l=-(o-.5)*i,c=-(s-.5)*n,u=t.evaluateVariableOffset(e,r);return new t.pointGeometry(l+u[0]*a,c+u[1]*a)}function ve(e,i,n,r,a){const o=new t.pointGeometry(e,i);return n&&o._rotate(r?a:-a),o}class _e{constructor(t,e,i,n,r){this.transform=t.clone(),this.collisionIndex=new ue(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ge(i),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(e,i,n,r){const a=n.getBucket(i),o=n.latestFeatureIndex;if(!a||!o||i.id!==a.layerIds[0])return;const s=n.collisionBoxArray,l=a.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/t.EXTENT,d=this.transform.calculateProjMatrix(n.tileID.toUnwrapped()),h="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),f=L(n,1,this.transform.zoom),m=Xt(d,h,p,this.transform,f);let g=null;if(h){const e=Zt(d,h,p,this.transform,f);g=t.multiply([],this.transform.labelPlaneMatrix,e)}this.retainedQueryData[a.bucketInstanceId]=new me(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,n.tileID);const y={bucket:a,layout:l,posMatrix:d,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:c,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:t.evaluateSizeForZoom(a.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(r)for(const t of a.sortKeyRanges){const{sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r}=t;e.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r,parameters:y})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:y})}attemptAnchorPlacement(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y){const v=[d.textOffset0,d.textOffset1],_=ye(t,i,n,v,r),b=this.collisionIndex.placeCollisionBox(r,e,ve(_.x,_.y,a,o,this.transform.angle),u,s,l,c.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(p.getSymbolInstanceIconSize(y,this.transform.zoom,h),m,ve(_.x,_.y,a,o,this.transform.angle),u,s,l,c.predicate).box.length)&&b.box.length>0){let e;return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(e=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:v,width:i,height:n,anchor:t,textScale:r,prevAnchor:e},this.markUsedJustification(p,t,d,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,d),this.placedOrientations[d.crossTileID]=f),{shift:_,placedGlyphBoxes:b}}}placeLayerBucketPart(e,i,n){const{bucket:r,layout:a,posMatrix:o,textLabelPlaneMatrix:s,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:h,partiallyEvaluatedIconSize:p,collisionGroup:f}=e.parameters,m=a.get("text-optional"),g=a.get("icon-optional"),y=a.get("text-allow-overlap"),v=a.get("icon-allow-overlap"),_="map"===a.get("text-rotation-alignment"),b="map"===a.get("text-pitch-alignment"),x="none"!==a.get("icon-text-fit"),w="viewport-y"===a.get("symbol-z-order"),k=y&&(v||!r.hasIconData()||g),S=v&&(y||!r.hasTextData()||m);!r.collisionArrays&&d&&r.deserializeCollisionBoxes(d),n&&r.updateCollisionDebugBuffers(this.transform.zoom,d);const T=(e,d,w)=>{if(i[e.crossTileID])return;if(u)return void(this.placements[e.crossTileID]=new pe(!1,!1,!1));let T=!1,M=!1,C=!0,D=null,L={box:null,offscreen:null},A={box:null,offscreen:null},E=null,P=null,I=null,O=0,R=0,z=0;w.textFeatureIndex?O=w.textFeatureIndex:e.useRuntimeCollisionCircles&&(O=e.featureIndex),w.verticalTextFeatureIndex&&(R=w.verticalTextFeatureIndex);const Y=t=>{t.tileID=this.retainedQueryData[r.bucketInstanceId].tileID,(this.transform.elevation||t.elevation)&&(t.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[r.bucketInstanceId].tileID,t.anchorPointX,t.anchorPointY):0)},F=w.textBox;if(F){Y(F);const i=i=>{let n=t.WritingMode.horizontal;if(r.allowVerticalPlacement&&!i&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,n=t,this.markUsedOrientation(r,n,e))}return n},n=(i,n)=>{if(r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&w.verticalTextBox){for(const e of r.writingModes)if(e===t.WritingMode.vertical?(L=n(),A=L):L=i(),L&&L.box&&L.box.length)break}else L=i()};if(a.get("text-variable-anchor")){let s=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[e.crossTileID]){const t=this.prevPlacement.variableOffsets[e.crossTileID];s.indexOf(t.anchor)>0&&(s=s.filter(e=>e!==t.anchor),s.unshift(t.anchor))}const l=(t,i,n)=>{const a=r.getSymbolInstanceTextSize(h,e,this.transform.zoom,d),l=(t.x2-t.x1)*a+2*t.padding,u=(t.y2-t.y1)*a+2*t.padding,m=x&&!v?i:null;m&&Y(m);let g={box:[],offscreen:!1};const w=y?2*s.length:s.length;for(let i=0;i<w;++i){const y=this.attemptAnchorPlacement(s[i%s.length],t,l,u,a,_,b,c,o,f,i>=s.length,e,d,r,n,m,h,p);if(y&&(g=y.placedGlyphBoxes,g&&g.box&&g.box.length)){T=!0,D=y.shift;break}}return g};n(()=>l(F,w.iconBox,t.WritingMode.horizontal),()=>{const i=w.verticalTextBox;return i&&Y(i),r.allowVerticalPlacement&&!(L&&L.box&&L.box.length)&&e.numVerticalGlyphVertices>0&&i?l(i,w.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}}),L&&(T=L.box,C=L.offscreen);const u=i(L&&L.box);if(!T&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(r,t.anchor,e,u))}}else{const a=(i,n)=>{const a=r.getSymbolInstanceTextSize(h,e,this.transform.zoom,d),s=this.collisionIndex.placeCollisionBox(a,i,new t.pointGeometry(0,0),y,c,o,f.predicate);return s&&s.box&&s.box.length&&(this.markUsedOrientation(r,n,e),this.placedOrientations[e.crossTileID]=n),s};n(()=>a(F,t.WritingMode.horizontal),()=>{const i=w.verticalTextBox;return r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&i?(Y(i),a(i,t.WritingMode.vertical)):{box:null,offscreen:null}}),i(L&&L.box&&L.box.length)}}if(E=L,T=E&&E.box&&E.box.length>0,C=E&&E.offscreen,e.useRuntimeCollisionCircles){const i=r.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex),c=t.evaluateSizeForFeature(r.textSizeData,h,i),u=a.get("text-padding");P=this.collisionIndex.placeCollisionCircles(y,i,r.lineVertexArray,r.glyphOffsetArray,c,o,s,l,n,b,f.predicate,e.collisionCircleDiameter,u,this.retainedQueryData[r.bucketInstanceId].tileID),T=y||P.circles.length>0&&!P.collisionDetected,C=C&&P.offscreen}if(w.iconFeatureIndex&&(z=w.iconFeatureIndex),w.iconBox){const e=e=>{Y(e);const i=x&&D?ve(D.x,D.y,_,b,this.transform.angle):new t.pointGeometry(0,0),n=r.getSymbolInstanceIconSize(p,this.transform.zoom,d);return this.collisionIndex.placeCollisionBox(n,e,i,v,c,o,f.predicate)};A&&A.box&&A.box.length&&w.verticalIconBox?(I=e(w.verticalIconBox),M=I.box.length>0):(I=e(w.iconBox),M=I.box.length>0),C=C&&I.offscreen}const H=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,N=g||0===e.numIconVertices;if(H||N?N?H||(M=M&&T):T=M&&T:M=T=M&&T,T&&E&&E.box&&this.collisionIndex.insertCollisionBox(E.box,a.get("text-ignore-placement"),r.bucketInstanceId,A&&A.box&&R?R:O,f.ID),M&&I&&this.collisionIndex.insertCollisionBox(I.box,a.get("icon-ignore-placement"),r.bucketInstanceId,z,f.ID),P&&(T&&this.collisionIndex.insertCollisionCircles(P.circles,a.get("text-ignore-placement"),r.bucketInstanceId,O,f.ID),n)){const t=r.bucketInstanceId;let e=this.collisionCircleArrays[t];void 0===e&&(e=this.collisionCircleArrays[t]=new fe);for(let t=0;t<P.circles.length;t+=4)e.circles.push(P.circles[t+0]),e.circles.push(P.circles[t+1]),e.circles.push(P.circles[t+2]),e.circles.push(P.collisionDetected?1:0)}this.placements[e.crossTileID]=new pe(T||k,M||S,C||r.justReloaded),i[e.crossTileID]=!0};if(w){const t=r.getSortedSymbolIndexes(this.transform.angle);for(let e=t.length-1;e>=0;--e){const i=t[e];T(r.symbolInstances.get(i),i,r.collisionArrays[i])}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)T(r.symbolInstances.get(t),t,r.collisionArrays[t]);if(n&&r.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[r.bucketInstanceId];t.invert(e.invProjMatrix,o),e.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}markUsedJustification(e,i,n,r){let a;a=r===t.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(i)];const o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const t of o)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=a>=0&&t!==a?0:n.crossTileID)}markUsedOrientation(e,i,n){const r=i===t.WritingMode.horizontal||i===t.WritingMode.horizontalOnly?i:0,a=i===t.WritingMode.vertical?i:0,o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const t of o)e.text.placedSymbolArray.get(t).placedOrientation=r;n.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=a)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const e=this.prevPlacement;let i=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;const n=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},a=e?e.variableOffsets:{},o=e?e.placedOrientations:{};for(const t in this.placements){const e=this.placements[t],a=r[t];a?(this.opacities[t]=new he(a,n,e.text,e.icon),i=i||e.text!==a.text.placed||e.icon!==a.icon.placed):(this.opacities[t]=new he(null,n,e.text,e.icon,e.skipFade),i=i||e.text||e.icon)}for(const t in r){const e=r[t];if(!this.opacities[t]){const r=new he(e,n,!1,!1);r.isHidden()||(this.opacities[t]=r,i=i||e.text.placed||e.icon.placed)}}for(const t in a)this.variableOffsets[t]||!this.opacities[t]||this.opacities[t].isHidden()||(this.variableOffsets[t]=a[t]);for(const t in o)this.placedOrientations[t]||!this.opacities[t]||this.opacities[t].isHidden()||(this.placedOrientations[t]=o[t]);i?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)}updateLayerOpacities(t,e){const i={};for(const n of e){const e=n.getBucket(t);e&&n.latestFeatureIndex&&t.id===e.layerIds[0]&&this.updateBucketOpacities(e,i,n.collisionBoxArray)}}updateBucketOpacities(e,i,n){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0].layout,a=new he(null,0,!1,!1,!0),o=r.get("text-allow-overlap"),s=r.get("icon-allow-overlap"),l=r.get("text-variable-anchor"),c="map"===r.get("text-rotation-alignment"),u="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),h=new he(null,0,o&&(s||!e.hasIconData()||r.get("icon-optional")),s&&(o||!e.hasTextData()||r.get("text-optional")),!0);!e.collisionArrays&&n&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(n);const p=(t,e,i)=>{for(let n=0;n<e/4;n++)t.opacityVertexArray.emplaceBack(i)};for(let n=0;n<e.symbolInstances.length;n++){const r=e.symbolInstances.get(n),{numHorizontalGlyphVertices:o,numVerticalGlyphVertices:s,crossTileID:f}=r;let m=this.opacities[f];i[f]?m=a:m||(m=h,this.opacities[f]=m),i[f]=!0;const g=r.numIconVertices>0,y=this.placedOrientations[r.crossTileID],v=y===t.WritingMode.vertical,_=y===t.WritingMode.horizontal||y===t.WritingMode.horizontalOnly;if(o>0||s>0){const t=De(m.text);p(e.text,o,v?Le:t),p(e.text,s,_?Le:t);const i=m.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach(t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=i||v?1:0)}),r.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=i||_?1:0);const n=this.variableOffsets[r.crossTileID];n&&this.markUsedJustification(e,n.anchor,r,y);const a=this.placedOrientations[r.crossTileID];a&&(this.markUsedJustification(e,"left",r,a),this.markUsedOrientation(e,a,r))}if(g){const t=De(m.icon);r.placedIconSymbolIndex>=0&&(p(e.icon,r.numIconVertices,v?Le:t),e.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=m.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(p(e.icon,r.numVerticalIconVertices,_?Le:t),e.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const i=e.collisionArrays[n];if(i){let n=new t.pointGeometry(0,0);if(i.textBox||i.verticalTextBox){let t=!0;if(l){const e=this.variableOffsets[f];e?(n=ye(e.anchor,e.width,e.height,e.textOffset,e.textScale),c&&n._rotate(u?this.transform.angle:-this.transform.angle)):t=!1}i.textBox&&be(e.textCollisionBox.collisionVertexArray,m.text.placed,!t||v,n.x,n.y),i.verticalTextBox&&be(e.textCollisionBox.collisionVertexArray,m.text.placed,!t||_,n.x,n.y)}const r=Boolean(!_&&i.verticalIconBox);i.iconBox&&be(e.iconCollisionBox.collisionVertexArray,m.icon.placed,r,d?n.x:0,d?n.y:0),i.verticalIconBox&&be(e.iconCollisionBox.collisionVertexArray,m.icon.placed,!r,d?n.x:0,d?n.y:0)}}}if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}symbolFadeChange(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,e){const i=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*i>t}setStale(){this.stale=!0}}function be(t,e,i,n,r){t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0)}const xe=Math.pow(2,25),we=Math.pow(2,24),ke=Math.pow(2,17),Se=Math.pow(2,16),Te=Math.pow(2,9),Me=Math.pow(2,8),Ce=Math.pow(2,1);function De(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;const e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*xe+e*we+i*ke+e*Se+i*Te+e*Me+i*Ce+e}const Le=0;class Ae{constructor(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,e,i,n,r){const a=this._bucketParts;for(;this._currentTileIndex<t.length;)if(e.getBucketParts(a,n,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((t,e)=>t.sortKey-e.sortKey));this._currentPartIndex<a.length;)if(e.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,r())return!0;return!1}}class Ee{constructor(t,e,i,n,r,a,o,s){this.placement=new _e(t,r,a,o,s),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1}isDone(){return this._done}continuePlacement(e,i,n){const r=t.exported.now(),a=()=>{const e=t.exported.now()-r;return!this._forceFullPlacement&&e>2};for(;this._currentPlacementIndex>=0;){const t=i[e[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===t.type&&(!t.minzoom||t.minzoom<=r)&&(!t.maxzoom||t.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Ae(t)),this._inProgressLayer.continuePlacement(n[t.source],this.placement,this._showCollisionBoxes,t,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const Pe=512/t.EXTENT/2;class Ie{constructor(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let i=0;i<e.length;i++){const n=e.get(i),r=n.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,t)})}}getScaledCoordinates(e,i){const n=Pe/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*t.EXTENT+e.anchorX)*n),y:Math.floor((i.canonical.y*t.EXTENT+e.anchorY)*n)}}findMatches(t,e,i){const n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z);for(let r=0;r<t.length;r++){const a=t.get(r);if(a.crossTileID)continue;const o=this.indexedSymbolInstances[a.key];if(!o)continue;const s=this.getScaledCoordinates(a,e);for(const t of o)if(Math.abs(t.coord.x-s.x)<=n&&Math.abs(t.coord.y-s.y)<=n&&!i[t.crossTileID]){i[t.crossTileID]=!0,a.crossTileID=t.crossTileID;break}}}}class Oe{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Re{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const e=Math.round((t-this.lng)/360);if(0!==e)for(const t in this.indexes){const i=this.indexes[t],n={};for(const t in i){const r=i[t];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),n[r.tileID.key]=r}this.indexes[t]=n}this.lng=t}addBucket(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let t=0;t<e.symbolInstances.length;t++)e.symbolInstances.get(t).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const n=this.usedCrossTileIDs[t.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>t.overscaledZ)for(const i in r){const a=r[i];a.tileID.isChildOf(t)&&a.findMatches(e.symbolInstances,t,n)}else{const a=r[t.scaledTo(Number(i)).key];a&&a.findMatches(e.symbolInstances,t,n)}}for(let t=0;t<e.symbolInstances.length;t++){const r=e.symbolInstances.get(t);r.crossTileID||(r.crossTileID=i.generate(),n[r.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Ie(t,e.symbolInstances,e.bucketInstanceId),!0}removeBucketCrossTileIDs(t,e){for(const i in e.indexedSymbolInstances)for(const n of e.indexedSymbolInstances[i])delete this.usedCrossTileIDs[t][n.crossTileID]}removeStaleBuckets(t){let e=!1;for(const i in this.indexes){const n=this.indexes[i];for(const r in n)t[n[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[r]),delete n[r],e=!0)}return e}}class ze{constructor(){this.layerIndexes={},this.crossTileIDs=new Oe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,e,i){let n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new Re);let r=!1;const a={};n.handleWrapJump(i);for(const i of e){const e=i.getBucket(t);e&&t.id===e.layerIds[0]&&(e.bucketInstanceId||(e.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(i.tileID,e,this.crossTileIDs)&&(r=!0),a[e.bucketInstanceId]=!0)}return n.removeStaleBuckets(a)&&(r=!0),r}pruneUnusedLayers(t){const e={};t.forEach(t=>{e[t]=!0});for(const t in this.layerIndexes)e[t]||delete this.layerIndexes[t]}}const Ye=(e,i)=>t.emitValidationErrors(e,i&&i.filter(t=>"source.canvas"!==t.identifier)),Fe=t.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),He=t.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),Ne=function(){const e={},i=t.spec.$version;for(const n in t.spec.$root){const r=t.spec.$root[n];if(r.required){let t=null;t="version"===n?i:"array"===r.type?[]:{},null!=t&&(e[n]=t)}}return e}(),Be={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class je extends t.Evented{constructor(e,i={}){super(),this.map=e,this.dispatcher=new D(Rt(),this),this.imageManager=new g,this.imageManager.setEventedParent(this),this.glyphManager=new t.GlyphManager(e._requestManager,i.localFontFamily?t.LocalGlyphMode.all:i.localIdeographFontFamily?t.LocalGlyphMode.ideographs:t.LocalGlyphMode.none,i.localFontFamily||i.localIdeographFontFamily),this.lineAtlas=new t.LineAtlas(256,512),this.crossTileSymbolIndex=new ze,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());const n=this;this._rtlTextPluginCallback=je.registerForPluginStateChange(e=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(e,i)=>{if(t.triggerPluginCompletionEvent(e),i&&i.every(t=>t))for(const t in n._sourceCaches){const e=n._sourceCaches[t],i=e.getSource().type;"vector"!==i&&"geojson"!==i||e.reload()}})}),this.on("data",t=>{if("source"!==t.dataType||"metadata"!==t.sourceDataType)return;const e=this.getSource(t.sourceId);if(e&&e.vectorLayerIds)for(const t in this._layers){const i=this._layers[t];i.source===e.id&&this._validateLayer(i)}})}loadURL(e,i={}){this.fire(new t.Event("dataloading",{dataType:"style"}));const n="boolean"==typeof i.validate?i.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,i.accessToken);const r=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,(e,i)=>{this._request=null,e?this.fire(new t.ErrorEvent(e)):i&&this._load(i,n)})}loadJSON(e,i={}){this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.exported.frame(()=>{this._request=null,this._load(e,!1!==i.validate)})}loadEmpty(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ne,!1)}_updateLayerCount(t,e){const i=e?1:-1;t.is3D()&&(this._num3DLayers+=i),"circle"===t.type&&(this._numCircleLayers+=i),"symbol"===t.type&&(this._numSymbolLayers+=i)}_load(e,i){if(i&&Ye(this,t.validateStyle(e)))return;this._loaded=!0,this.stylesheet=e;for(const t in e.sources)this.addSource(t,e.sources[t],{validate:!1});this._changed=!1,e.sprite?this._loadSprite(e.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(e.glyphs);const n=Yt(this.stylesheet.layers);this._order=n.map(t=>t.id),this._layers={},this._serializedLayers={};for(let e of n)e=t.createStyleLayer(e),e.setEventedParent(this,{layer:{id:e.id}}),this._layers[e.id]=e,this._serializedLayers[e.id]=e.serialize(),this._updateLayerCount(e,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new _(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}_loadSprite(e){this._spriteRequest=function(e,i,n){let r,a,o;const s=t.exported.devicePixelRatio>1?"@2x":"";let l=t.getJSON(i.transformRequest(i.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(t,e)=>{l=null,o||(o=t,r=e,u())}),c=t.getImage(i.transformRequest(i.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(t,e)=>{c=null,o||(o=t,a=e,u())});function u(){if(o)n(o);else if(r&&a){const e=t.exported.getImageData(a),i={};for(const n in r){const{width:a,height:o,x:s,y:l,sdf:c,pixelRatio:u,stretchX:d,stretchY:h,content:p}=r[n],f=new t.RGBAImage({width:a,height:o});t.RGBAImage.copy(e,f,{x:s,y:l},{x:0,y:0},{width:a,height:o}),i[n]={data:f,pixelRatio:u,sdf:c,stretchX:d,stretchY:h,content:p}}n(null,i)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(e,this.map._requestManager,(e,i)=>{if(this._spriteRequest=null,e)this.fire(new t.ErrorEvent(e));else if(i)for(const t in i)this.imageManager.addImage(t,i[t]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new t.Event("data",{dataType:"style"}))})}_validateLayer(e){const i=this.getSource(e.source);if(!i)return;const n=e.sourceLayer;n&&("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${i.id}" as specified by style layer "${e.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const t in this._sourceCaches)if(!this._sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(t){const e=[];for(const i of t){const t=this._layers[i];"custom"!==t.type&&e.push(t.serialize())}return e}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const t in this._sourceCaches)if(this._sourceCaches[t].hasTransition())return!0;for(const t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(t){return!!this.terrain&&Be[t.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(e){if(!this._loaded)return;const i=this._changed;if(this._changed){const t=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(t.length||i.length)&&this._updateWorkerLayers(t,i);for(const t in this._updatedSources){const e=this._updatedSources[t];"reload"===e?this._reloadSource(t):"clear"===e&&this._clearSource(t)}this._updateTilesForChangedImages();for(const t in this._updatedPaintProps)this._layers[t].updateTransitions(e);this.light.updateTransitions(e),this.fog&&this.fog.updateTransitions(e),this._resetUpdates()}const n={};for(const t in this._sourceCaches){const e=this._sourceCaches[t];n[t]=e.used,e.used=!1}for(const t of this._order){const i=this._layers[t];if(i.recalculate(e,this._availableImages),!i.isHidden(e.zoom)){const t=this._getLayerSourceCache(i);t&&(t.used=!0)}const n=this.map.painter;if(n){const t=i.getProgramIds();if(!t)continue;const r=i.getProgramConfiguration(e.zoom);for(const e of t)n.useProgram(e,r)}}for(const e in n){const i=this._sourceCaches[e];n[e]!==i.used&&i.getSource().fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:i.getSource().id}))}this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.fog&&this.fog.recalculate(e),this.z=e.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new t.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const e in this._sourceCaches)this._sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateWorkerLayers(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(e){if(this._checkLoaded(),Ye(this,t.validateStyle(e)))return!1;(e=t.clone$2(e)).layers=Yt(e.layers);const i=function(t,e){if(!t)return[{command:Ft.setStyle,args:[e]}];let i=[];try{if(!r(t.version,e.version))return[{command:Ft.setStyle,args:[e]}];r(t.center,e.center)||i.push({command:Ft.setCenter,args:[e.center]}),r(t.zoom,e.zoom)||i.push({command:Ft.setZoom,args:[e.zoom]}),r(t.bearing,e.bearing)||i.push({command:Ft.setBearing,args:[e.bearing]}),r(t.pitch,e.pitch)||i.push({command:Ft.setPitch,args:[e.pitch]}),r(t.sprite,e.sprite)||i.push({command:Ft.setSprite,args:[e.sprite]}),r(t.glyphs,e.glyphs)||i.push({command:Ft.setGlyphs,args:[e.glyphs]}),r(t.transition,e.transition)||i.push({command:Ft.setTransition,args:[e.transition]}),r(t.light,e.light)||i.push({command:Ft.setLight,args:[e.light]}),r(t.fog,e.fog)||i.push({command:Ft.setFog,args:[e.fog]});const n={},a=[];!function(t,e,i,n){let a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&(e.hasOwnProperty(a)||Nt(a,i,n));for(a in e)e.hasOwnProperty(a)&&(t.hasOwnProperty(a)?r(t[a],e[a])||("geojson"===t[a].type&&"geojson"===e[a].type&&jt(t,e,a)?i.push({command:Ft.setGeoJSONSourceData,args:[a,e[a].data]}):Bt(a,e,i,n)):Ht(a,e,i))}(t.sources,e.sources,a,n);const o=[];t.layers&&t.layers.forEach(t=>{n[t.source]?i.push({command:Ft.removeLayer,args:[t.id]}):o.push(t)});let s=t.terrain;s&&n[s.source]&&(i.push({command:Ft.setTerrain,args:[void 0]}),s=void 0),i=i.concat(a),r(s,e.terrain)||i.push({command:Ft.setTerrain,args:[e.terrain]}),function(t,e,i){e=e||[];const n=(t=t||[]).map(Wt),a=e.map(Wt),o=t.reduce(Ut,{}),s=e.reduce(Ut,{}),l=n.slice(),c=Object.create(null);let u,d,h,p,f,m,g;for(u=0,d=0;u<n.length;u++)h=n[u],s.hasOwnProperty(h)?d++:(i.push({command:Ft.removeLayer,args:[h]}),l.splice(l.indexOf(h,d),1));for(u=0,d=0;u<a.length;u++)h=a[a.length-1-u],l[l.length-1-u]!==h&&(o.hasOwnProperty(h)?(i.push({command:Ft.removeLayer,args:[h]}),l.splice(l.lastIndexOf(h,l.length-d),1)):d++,m=l[l.length-u],i.push({command:Ft.addLayer,args:[s[h],m]}),l.splice(l.length-u,0,h),c[h]=!0);for(u=0;u<a.length;u++)if(h=a[u],p=o[h],f=s[h],!c[h]&&!r(p,f))if(r(p.source,f.source)&&r(p["source-layer"],f["source-layer"])&&r(p.type,f.type)){for(g in Vt(p.layout,f.layout,i,h,null,Ft.setLayoutProperty),Vt(p.paint,f.paint,i,h,null,Ft.setPaintProperty),r(p.filter,f.filter)||i.push({command:Ft.setFilter,args:[h,f.filter]}),r(p.minzoom,f.minzoom)&&r(p.maxzoom,f.maxzoom)||i.push({command:Ft.setLayerZoomRange,args:[h,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Vt(p[g],f[g],i,h,g.slice(6),Ft.setPaintProperty):r(p[g],f[g])||i.push({command:Ft.setLayerProperty,args:[h,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Vt(p[g],f[g],i,h,g.slice(6),Ft.setPaintProperty):r(p[g],f[g])||i.push({command:Ft.setLayerProperty,args:[h,g,f[g]]}))}else i.push({command:Ft.removeLayer,args:[h]}),m=l[l.lastIndexOf(h)+1],i.push({command:Ft.addLayer,args:[f,m]})}(o,e.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:Ft.setStyle,args:[e]}]}return i}(this.serialize(),e).filter(t=>!(t.command in He));if(0===i.length)return!1;const n=i.filter(t=>!(t.command in Fe));if(n.length>0)throw new Error(`Unimplemented: ${n.map(t=>t.command).join(", ")}.`);return i.forEach(t=>{"setTransition"!==t.command&&this[t.command].apply(this,t.args)}),this.stylesheet=e,!0}addImage(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this._afterImageUpdated(e)}updateImage(t,e){this.imageManager.updateImage(t,e)}getImage(t){return this.imageManager.getImage(t)}removeImage(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,i,n={}){if(this._checkLoaded(),void 0!==this.getSource(e))throw new Error("There is already a source with this ID");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,i,null,n))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Mt(e,i,this.dispatcher,this);r.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:r.serialize(),sourceId:e}));const a=i=>{const n=(i?"symbol:":"other:")+e,a=this._sourceCaches[n]=new t.SourceCache(n,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[e]=a,a.style=this,a.onAdd(this.map)};a(!1),"vector"!==i.type&&"geojson"!==i.type||a(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(e){this._checkLoaded();const i=this.getSource(e);if(void 0===i)throw new Error("There is no source with this ID");for(const i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error(`Source "${e}" cannot be removed while layer "${i}" is using it.`)));if(this.terrain&&this.terrain.get().source===e)return this.fire(new t.ErrorEvent(new Error(`Source "${e}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(e);for(const e of n)delete this._sourceCaches[e.id],delete this._updatedSources[e.id],e.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e.getSource().id})),e.setEventedParent(null),e.clearTiles();delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,e){this._checkLoaded(),this.getSource(t).setData(e),this._changed=!0}getSource(t){const e=this._getSourceCache(t);return e&&e.getSource()}addLayer(e,i,n={}){this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let a;if("custom"===e.type){if(Ye(this,t.validateCustomStyleLayer(e)))return;a=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=t.clone$2(e),e=t.extend(e,{source:r})),this._validate(t.validateStyle.layer,"layers."+r,e,{arrayIndex:-1},n))return;a=t.createStyleLayer(e),this._validateLayer(a),a.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[a.id]=a.serialize(),this._updateLayerCount(a,!0)}const o=i?this._order.indexOf(i):this._order.length;if(i&&-1===o)return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`)));this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=a;const s=this._getLayerSourceCache(a);if(this._removedLayers[r]&&a.source&&s&&"custom"!==a.type){const t=this._removedLayers[r];delete this._removedLayers[r],t.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",s.pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(e,i){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===i)return;const n=this._order.indexOf(e);this._order.splice(n,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new t.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(e){this._checkLoaded();const i=this._layers[e];if(!i)return void this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),this._updateLayerCount(i,!1);const n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(t){return this._layers[t]}hasLayer(t){return t in this._layers}hasLayerType(t){for(const e in this._layers)if(this._layers[e].type===t)return!0;return!1}setLayerZoomRange(e,i,n){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===i&&r.maxzoom===n||(null!=i&&(r.minzoom=i),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(e,i,n={}){this._checkLoaded();const a=this.getLayer(e);if(a){if(!r(a.filter,i))return null==i?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(t.validateStyle.filter,`layers.${a.id}.filter`,i,null,n)||(a.filter=t.clone$2(i),this._updateLayer(a)))}else this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be filtered.`)))}getFilter(e){return t.clone$2(this.getLayer(e).filter)}setLayoutProperty(e,i,n,a={}){this._checkLoaded();const o=this.getLayer(e);o?r(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n,a),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(e,i){const n=this.getLayer(e);if(n)return n.getLayoutProperty(i);this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style.`)))}setPaintProperty(e,i,n,a={}){this._checkLoaded();const o=this.getLayer(e);o?r(o.getPaintProperty(i),n)||(o.setPaintProperty(i,n,a)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(t,e){return this.getLayer(t).getPaintProperty(e)}setFeatureState(e,i){this._checkLoaded();const n=e.source,r=e.sourceLayer,a=this.getSource(n);if(void 0===a)return void this.fire(new t.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const o=a.type;if("geojson"===o&&r)return void this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===o&&!r)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(n);for(const t of s)t.setFeatureState(r,e.id,i)}removeFeatureState(e,i){this._checkLoaded();const n=e.source,r=this.getSource(n);if(void 0===r)return void this.fire(new t.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const a=r.type,o="vector"===a?e.sourceLayer:void 0;if("vector"===a&&!o)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(i&&"string"!=typeof e.id&&"number"!=typeof e.id)return void this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(n);for(const t of s)t.removeFeatureState(o,e.id,i)}getFeatureState(e){this._checkLoaded();const i=e.source,n=e.sourceLayer,r=this.getSource(i);if(void 0!==r){if("vector"!==r.type||n)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(i)[0].getFeatureState(n,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const e={};for(const t in this._sourceCaches){const i=this._sourceCaches[t].getSource();e[i.id]||(e[i.id]=i.serialize())}return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e,layers:this._serializeLayers(this._order)},t=>void 0!==t)}_updateLayer(t){this._updatedLayers[t.id]=!0;const e=this._getLayerSourceCache(t);t.source&&!this._updatedSources[t.source]&&e&&"raster"!==e.getSource().type&&(this._updatedSources[t.source]="reload",e.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(t){const e=t=>"fill-extrusion"===this._layers[t].type,i={},n=[];for(let r=this._order.length-1;r>=0;r--){const a=this._order[r];if(e(a)){i[a]=r;for(const e of t){const t=e[a];if(t)for(const e of t)n.push(e)}}}n.sort((t,e)=>e.intersectionZ-t.intersectionZ);const r=[];for(let a=this._order.length-1;a>=0;a--){const o=this._order[a];if(e(o))for(let t=n.length-1;t>=0;t--){const e=n[t].feature;if(i[e.layer.id]<a)break;r.push(e),n.pop()}else for(const e of t){const t=e[o];if(t)for(const e of t)r.push(e.feature)}}return r}queryRenderedFeatures(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const e of i.layers){const i=this._layers[e];if(!i)return this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0}}const a=[];i.availableImages=this._availableImages;const o=i&&i.layers?i.layers.some(t=>{const e=this.getLayer(t);return e&&e.is3D()}):this.has3DLayers(),s=A.createFromScreenPoints(e,n);for(const t in this._sourceCaches){const e=this._sourceCaches[t].getSource().id;i.layers&&!r[e]||a.push(Dt(this._sourceCaches[t],this._layers,this._serializedLayers,s,i,n,o,!!this.map._showQueryGeometry))}return this.placement&&a.push(function(t,e,i,n,r,a,o){const s={},l=a.queryRenderedSymbols(n),c=[];for(const t of Object.keys(l).map(Number))c.push(o[t]);c.sort(At);for(const i of c){const n=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],e,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,t);for(const t in n){const e=s[t]=s[t]||[],r=n[t];r.sort((t,e)=>{const n=i.featureSortOrder;if(n){const i=n.indexOf(t.featureIndex);return n.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex});for(const t of r)e.push(t)}}for(const e in s)s[e].forEach(n=>{const r=n.feature,a=i(t[e]).getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=a});return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a)}querySourceFeatures(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter,null,i);const n=this._getSourceCaches(e);let r=[];for(const t of n)r=r.concat(Lt(t,i));return r}addSourceType(t,e,i){return je.getSourceType(t)?i(new Error(`A source type called "${t}" already exists.`)):(je.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const n=this.light.getLight();let a=!1;for(const t in e)if(!r(e[t],n[t])){a=!0;break}if(!a)return;const o={now:t.exported.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(o)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(e){if(this._checkLoaded(),!e)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof e.source){const i="terrain-dem-src";this.addSource(i,e.source),e=t.clone$2(e),e=t.extend(e,{source:i})}if(!this._validate(t.validateStyle.terrain,"terrain",e)){if(this.terrain){const i=this.terrain,n=i.get();for(const a in e)if(!r(e[a],n[a])){i.set(e),this.stylesheet.terrain=e;const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n);break}}else this._createTerrain(e);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(e){const i=this.fog=new C(e);this.stylesheet.fog=e;const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const t of this.map._markers)t._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog,n=i.get();for(const a in e)if(!r(e[a],n[a])){i.set(e),this.stylesheet.fog=e;const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n);break}}else this._createFog(e);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const t=this._order.filter(t=>this.isLayerDraped(this._layers[t])),e=this._order.filter(t=>!this.isLayerDraped(this._layers[t]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...t),this._drapedFirstOrder.push(...e)}_createTerrain(e){const i=this.terrain=new w(e);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}_force3DLayerUpdate(){for(const t in this._layers){const e=this._layers[t];"fill-extrusion"===e.type&&this._updateLayer(e)}}_validate(e,i,n,r,a={}){return(!a||!1!==a.validate)&&Ye(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this._sourceCaches)this._sourceCaches[t].clearTiles(),this._sourceCaches[t].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(t){const e=this._getSourceCaches(t);for(const t of e)t.clearTiles()}_reloadSource(t){const e=this._getSourceCaches(t);for(const t of e)t.resume(),t.reload()}_updateSources(t){for(const e in this._sourceCaches)this._sourceCaches[e].update(t)}_generateCollisionBoxes(){for(const t in this._sourceCaches){const e=this._sourceCaches[t];e.resume(),e.reload()}}_updatePlacement(e,i,n,r,a=!1){let o=!1,s=!1;const l={};for(const t of this._order){const i=this._layers[t];if("symbol"!==i.type)continue;if(!l[i.source]){const t=this._getLayerSourceCache(i);if(!t)continue;l[i.source]=t.getRenderableIds(!0).map(e=>t.getTileByID(e)).sort((t,e)=>e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(i,l[i.source],e.center.lng);o=o||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),a=a||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new t.Event("neworder")),(a||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.exported.now(),e.zoom))&&(this.pauseablePlacement=new Ee(e,this._order,a,i,n,r,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.exported.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(const t of this._order){const e=this._layers[t];"symbol"===e.type&&this.placement.updateLayerOpacities(e,l[e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.exported.now())}_releaseSymbolFadeTiles(){for(const t in this._sourceCaches)this._sourceCaches[t].releaseSymbolFadeTiles()}getImages(t,e,i){this.imageManager.getImages(e.icons,i),this._updateTilesForChangedImages();const n=t=>{t&&t.setDependencies(e.tileID.key,e.type,e.icons)};n(this._otherSourceCaches[e.source]),n(this._symbolSourceCaches[e.source])}getGlyphs(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)}getResource(e,i,n){return t.makeRequest(i,n)}_getSourceCache(t){return this._otherSourceCaches[t]}_getLayerSourceCache(t){return"symbol"===t.type?this._symbolSourceCaches[t.source]:this._otherSourceCaches[t.source]}_getSourceCaches(t){const e=[];return this._otherSourceCaches[t]&&e.push(this._otherSourceCaches[t]),this._symbolSourceCaches[t]&&e.push(this._symbolSourceCaches[t]),e}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}je.getSourceType=function(t){return Tt[t]},je.setSourceType=function(t,e){Tt[t]=e},je.registerForPluginStateChange=t.registerForPluginStateChange;var Ve="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",We="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Ue={},$e={};Ue=Ze("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),$e=Ze("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const qe=Ze("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),Ge=Ve;var Xe={background:Ze("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Ze("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Ze("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Ze("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ze("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Ze("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ze("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Ze("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Ze("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Ze("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Ze("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Ze("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Ze("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Ze("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);gl_Position=u_matrix*vec4(pos,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Ze("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);\n#else\nvec3 p=vec3(pos_nx.xy,z);gl_Position=u_matrix*vec4(p,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Ze("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ze("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Ze("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineGradient:Ze("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Ze("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineSDF:Ze("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);v_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Ze("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Ze("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:Ze("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Ze("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:Ze("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:Ze("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Ze("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",We),skyboxGradient:Ze("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",We),skyboxCapture:Ze("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function Ze(t,e,i){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,a=e.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),o=t.match(r),s=e.match(r),l=Ve.match(r);let c=s?s.concat(o):o;i||(Ue.staticUniforms&&(c=Ue.staticUniforms.concat(c)),$e.staticUniforms&&(c=$e.staticUniforms.concat(c))),c&&(c=c.concat(l));const u={};return{fragmentSource:t=t.replace(n,(t,e,i,n,r)=>(u[r]=!0,"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = u_${r};\n#endif\n`)),vertexSource:e=e.replace(n,(t,e,i,n,r)=>{const a="float"===n?"vec2":"vec4",o=r.match(/color/)?"color":a;return u[r]?"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${a} a_${r};\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===o?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = unpack_mix_${o}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${a} a_${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===o?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = unpack_mix_${o}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`}),staticAttributes:a,staticUniforms:c}}class Je{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,e,i,n,r,a,o,s){this.context=t;let l=this.boundPaintVertexBuffers.length!==n.length;for(let t=0;!l&&t<n.length;t++)this.boundPaintVertexBuffers[t]!==n[t]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===i&&!l&&this.boundIndexBuffer===r&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),o&&o.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind()):this.freshBind(e,i,n,r,a,o,s)}freshBind(t,e,i,n,r,a,o){let s;const l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=c.currentNumAttributes||0;for(let t=l;t<s;t++)u.disableVertexAttribArray(t)}e.enableAttributes(u,t);for(const e of i)e.enableAttributes(u,t);a&&a.enableAttributes(u,t),o&&o.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,r);for(const e of i)e.bind(),e.setVertexAttribPointers(u,t,r);a&&(a.bind(),a.setVertexAttribPointers(u,t,r)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,t,r)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Ke(e,i){const n=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new t.MercatorCoordinate(0,r/n).toLngLat().lat,new t.MercatorCoordinate(0,(r+1)/n).toLngLat().lat]}function Qe(e,i,n,r,a,o,s){const l=e.context,c=l.gl,u=n.fbo;if(!u)return;e.prepareDrawTile(i);const d=e.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const h=((t,e,i,n)=>{const r=i.paint.get("hillshade-shadow-color"),a=i.paint.get("hillshade-highlight-color"),o=i.paint.get("hillshade-accent-color");let s=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);const l=!t.options.moving;return{u_matrix:n||t.transform.calculateProjMatrix(e.tileID.toUnwrapped(),l),u_image:0,u_latrange:Ke(0,e.tileID),u_light:[i.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:a,u_accent:o}})(e,n,r,e.terrain?i.projMatrix:null);e.prepareDrawProgram(l,d,i.toUnwrapped()),d.draw(l,c.TRIANGLES,a,o,s,t.CullFaceMode.disabled,h,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function ti(e,i,n){if(!i.needsDEMTextureUpload)return;const r=e.context,a=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(n.stride);const o=n.getPixels();i.demTexture?i.demTexture.update(o,{premultiply:!1}):i.demTexture=new t.Texture(r,o,a.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function ei(e,i,n,r,a,o){const s=e.context,l=s.gl;if(!i.dem)return;const c=i.dem;if(s.activeTexture.set(l.TEXTURE1),ti(e,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let d=i.fbo;if(!d){const e=new t.Texture(s,{width:u,height:u,data:null},l.RGBA);e.bind(l.LINEAR,l.CLAMP_TO_EDGE),d=i.fbo=s.createFramebuffer(u,u,!0),d.colorAttachment.set(e.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,u,u]),e.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,a,o,t.CullFaceMode.disabled,((e,i)=>{const n=i.stride,r=t.create$1();return t.ortho(r,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(r,r,[0,-t.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:e.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1}const ii=(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image0:new t.Uniform1i(e,i.u_image0),u_skirt_height:new t.Uniform1f(e,i.u_skirt_height)}),ni=(t,e)=>({u_matrix:t,u_image0:0,u_skirt_height:e}),ri=new class{constructor(){this.operations={}}newMorphing(t,e,i,n,r){if(t in this.operations){const e=this.operations[t];e.to.tileID.key!==i.tileID.key&&(e.queued=i)}else this.operations[t]={startTime:n,phase:0,duration:r,from:e,to:i,queued:null}}getMorphValuesForProxy(t){if(!(t in this.operations))return null;const e=this.operations[t];return{from:e.from,to:e.to,phase:e.phase}}update(t){for(const e in this.operations){const i=this.operations[e];for(i.phase=(t-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,t)){delete this.operations[e];break}}}_nextOp(t,e){return!!t.queued&&(t.from=t.to,t.to=t.queued,t.queued=null,t.phase=0,t.startTime=e,!0)}_validOp(t){return t.from.hasData()&&t.to.hasData()}},ai={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function oi(t,e){const i=1<<t.z;return!e&&(0===t.x||t.x===i-1)||0===t.y||t.y===i-1}const si=t=>({u_matrix:t});function li(e,i,n,r,a){if(a>0){const o=t.exported.now(),s=(o-e.timeAdded)/a,l=i?(o-i.timeAdded)/a:-1,c=n.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-u)>Math.abs(e.tileID.overscaledZ-u),h=d&&e.refreshedUponExpiration?1:t.clamp(d?s:1-l,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}class ci extends t.SourceCache{constructor(t){const e=Mt("proxy",{type:"geojson",maxzoom:t.transform.maxZoom},new D(Rt(),null),t.style);super("proxy",e,!1),e.setEventedParent(this),this.map=this.getSource().map=t,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(e,i,n){if(e.freezeTileCoverage)return;this.transform=e;const r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((i,n)=>{if(i[n.key]="",!this._tiles[n.key]){const i=new t.Tile(n,this._source.tileSize*n.overscaleFactor(),e.tileZoom);i.state="loaded",this._tiles[n.key]=i}return i},{});for(const t in this._tiles)t in r||(this.freeFBO(t),this._tiles[t].state="unloaded",delete this._tiles[t])}freeFBO(t){const e=this.proxyCachedFBO[t];if(void 0!==e){const i=Object.values(e);this.renderCachePool.push(...i),delete this.proxyCachedFBO[t]}}deallocRenderCache(){this.renderCache.forEach(t=>t.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ui extends t.OverscaledTileID{constructor(t,e,i){super(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y),this.proxyTileKey=e,this.projMatrix=i}}class di extends t.Elevation{constructor(e,i){super(),this.painter=e,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,r,a]=function(e){const i=new t.StructArrayLayout4i8,n=new t.StructArrayLayout3ui6,r=131;i.reserve(17161),n.reserve(33800);const a=t.EXTENT/128,o=t.EXTENT+a/2,s=o+a;for(let e=-a;e<s;e+=a)for(let n=-a;n<s;n+=a){const r=n<0||n>o||e<0||e>o?24575:0,a=t.clamp(Math.round(n),0,t.EXTENT),s=t.clamp(Math.round(e),0,t.EXTENT);i.emplaceBack(a+r,s,a,s)}const l=(t,e)=>{const i=e*r+t;n.emplaceBack(i+1,i,i+r),n.emplaceBack(i+r,i+r+1,i+1)};for(let t=1;t<129;t++)for(let e=1;e<129;e++)l(e,t);return[0,129].forEach(t=>{for(let e=0;e<130;e++)l(e,t),l(t,e)}),[i,n,32768]}(),o=e.context;this.gridBuffer=o.createVertexBuffer(n,kt.members),this.gridIndexBuffer=o.createIndexBuffer(r),this.gridSegments=t.SegmentVector.simpleSegment(0,0,n.length,r.length),this.gridNoSkirtSegments=t.SegmentVector.simpleSegment(0,0,n.length,a),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new ci(i.map),this.orthoMatrix=t.create$1(),t.ortho(this.orthoMatrix,0,t.EXTENT,0,t.EXTENT,0,1);const s=o.gl;this._overlapStencilMode=new t.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=e.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1}set style(t){t.on("data",this._onStyleDataEvent.bind(this)),t.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=t,this._checkRenderCacheEfficiency()}update(e,i,n){if(e&&e.terrain){this._style!==e&&(this.style=e),this.enabled=!0;const r=e.terrain.properties;this.sourceCache=e._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const a=()=>{this.sourceCache.used&&t.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const e=this.sourceCache.getSource().tileSize/128,n=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(i,e*n,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,a(),this._initializing=!0),a(),i.updateElevation(!n),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const e=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==e.efficiency&&t.warnOnce(`Terrain render cache efficiency is not optimal (${e.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${e.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(t){t.coord&&"source"===t.dataType?this._clearRenderCacheForTile(t.sourceCacheId,t.coord):"style"===t.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const t in this._style._sourceCaches)this._style._sourceCaches[t].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(t=>t.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const t=2*this.proxySourceCache.getSource().tileSize;return[t,t]}set useVertexMorphing(t){this._useVertexMorphing=t}updateTileBinding(e){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map(t=>{const e=i.getTileByID(t).tileID;return e.projMatrix=n.calculateProjMatrix(e.toUnwrapped()),e});!function(e,i){const n=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new t.pointGeometry(n.x,n.y);e.sort((e,i)=>{if(i.overscaledZ-e.overscaledZ)return i.overscaledZ-e.overscaledZ;const n=new t.pointGeometry(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),a=new t.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),o=r.mult(1<<e.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(n)-o.distSqr(a)})}(r,this.painter),this._previousZoom=n.zoom;const a=this.proxyToSource||{};this.proxyToSource={},r.forEach(t=>{this.proxyToSource[t.key]={}}),this.terrainTileForTile={};const o=this._style._sourceCaches;for(const t in o){const i=o[t];if(!i.used)continue;if(i!==this.sourceCache&&(this._findCoveringTileCache[i.id]={}),this._setupProxiedCoordsForOrtho(i,e[t],a),i.usedForTerrain)continue;const n=e[t];i.getSource().reparseOverscaled&&this._assignTerrainTiles(n)}this.proxiedCoords[i.id]=r.map(t=>new ui(t,t.key,this.orthoMatrix)),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(a),this.renderingToTexture=!1,this._updateTimestamp=t.exported.now();const s={};this._visibleDemTiles=[];for(const t of this.proxyCoords){const e=this.terrainTileForTile[t.key];if(!e)continue;const i=e.tileID.key;i in s||(this._visibleDemTiles.push(e),s[i]=i)}}_assignTerrainTiles(t){this._initializing||t.forEach(t=>{if(this.terrainTileForTile[t.key])return;const e=this._findTileCoveringTileID(t,this.sourceCache);e&&(this.terrainTileForTile[t.key]=e)})}_prepareDEMTextures(){const t=this.painter.context,e=t.gl;for(const i in this.terrainTileForTile){const n=this.terrainTileForTile[i],r=n.dem;!r||n.demTexture&&!n.needsDEMTextureUpload||(t.activeTexture.set(e.TEXTURE1),ti(this.painter,n,r))}}_prepareDemTileUniforms(t,e,i,n){if(!e||null==e.demTexture)return!1;const r=t.tileID.canonical,a=Math.pow(2,e.tileID.canonical.z-r.z),o=n||"";return i["u_dem_tl"+o]=[r.x*a%1,r.y*a%1],i["u_dem_scale"+o]=a,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let t=0;const e=this._visibleDemTiles.reduce((e,i)=>{if(!i.dem)return e;const n=i.dem.tree.minimums[0];return n>0&&t++,e+n},0);return t?e/t:0}_updateEmptyDEMTexture(){const e=this.painter.context,i=e.gl;e.activeTexture.set(i.TEXTURE2);const n=this._getLoadedAreaMinimum(),r={width:1,height:1,data:new Uint8Array(t.DEMData.pack(n,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let a=this._emptyDEMTexture;return a?a.update(r,{premultiply:!1}):a=this._emptyDEMTexture=new t.Texture(e,r,i.RGBA,{premultiply:!1}),a}setupElevationDraw(e,i,n){const r=this.painter.context,a=r.gl,o=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:t.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;o.u_dem_size=this.sourceCache.getSource().tileSize,o.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(n&&n.morphing&&this._useVertexMorphing){const t=n.morphing.srcDemTile,i=n.morphing.dstDemTile;u=n.morphing.phase,t&&i&&(this._prepareDemTileUniforms(e,t,o,"_prev")&&(c=t),this._prepareDemTileUniforms(e,i,o)&&(l=i))}if(c&&l?(r.activeTexture.set(a.TEXTURE2),l.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),r.activeTexture.set(a.TEXTURE4),c.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),o.u_dem_lerp=u):(l=this.terrainTileForTile[e.tileID.key],r.activeTexture.set(a.TEXTURE2),(this._prepareDemTileUniforms(e,l,o)?l.demTexture:this.emptyDEMTexture).bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST)),n&&n.useDepthForOcclusion&&(r.activeTexture.set(a.TEXTURE3),this._depthTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),o.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),n&&n.useMeterToDem&&l){const e=(1<<l.tileID.canonical.z)*t.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;o.u_meter_to_dem=e}n&&n.labelPlaneMatrixInv&&(o.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),i.setTerrainUniformValues(r,o)}renderToBackBuffer(e){const i=this.painter,n=this.painter.context;0!==e.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,i.width,i.height]),this.renderingToTexture=!1,function(e,i,n,r,a){const o=e.context,s=o.gl;let l,c;const u=e.options.showTerrainWireframe?2:0,d=(t,i)=>{if(c===t)return;const n=[ai[t]];i&&n.push(ai[u]),l=e.useProgram("terrainRaster",null,n),c=t},h=e.colorModeForRenderPass(),p=new t.DepthMode(s.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);ri.update(a);const f=e.transform,m=6*Math.pow(1.5,22-f.zoom)*i.exaggeration();(u?[!1,!0]:[!1]).forEach(u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[y,v]=u?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=n.getTile(c),x=t.StencilMode.disabled,w=i.prevTerrainTileForTile[c.key],k=i.terrainTileForTile[c.key];b=k,null!=(_=w)&&null!=b&&_.hasData()&&b.hasData()&&null!=_.demTexture&&null!=b.demTexture&&_.tileID.key!==b.tileID.key&&ri.newMorphing(c.key,w,k,a,250),o.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const S=ri.getMorphValuesForProxy(c.key),T=S?1:0;let M;S&&(M={morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:t.easeCubicInOut(S.phase)}});const C=ni(c.projMatrix,oi(c.canonical,f.renderWorldCopies)?m/10:m);d(T,u),i.setupElevationDraw(r,l,M),e.prepareDrawProgram(o,l,c.toUnwrapped()),l.draw(o,g,p,x,h,t.CullFaceMode.backCCW,C,"terrain_raster",i.gridBuffer,y,v)}var _,b})}(i,this,this.proxySourceCache,e,this._updateTimestamp),this.renderingToTexture=!0,e.splice(0,e.length))}renderBatch(e){if(0===this._drapedRenderBatches.length)return e+1;this.renderingToTexture=!0;const i=this.painter,n=this.painter.context,r=this.proxySourceCache,a=this.proxiedCoords[r.id],o=this._drapedRenderBatches.shift(),s=[],l=i.style.order;let c=0;for(const u of a){const a=r.getTileByID(u.proxyTileKey),d=r.proxyCachedFBO[u.key]?r.proxyCachedFBO[u.key][e]:void 0,h=void 0!==d?r.renderCache[d]:this.pool[c++],p=void 0!==d;if(a.texture=h.tex,p&&!h.dirty){s.push(a.tileID);continue}let f;n.bindFramebuffer.set(h.fb.framebuffer),this.renderedToTile=!1,h.dirty&&(n.clear({color:t.Color.transparent}),h.dirty=!1);for(let t=o.start;t<=o.end;++t){const e=i.style._layers[l[t]];if(e.isHidden(i.transform.zoom))continue;const r=i.style._getLayerSourceCache(e),a=r?this.proxyToSource[u.key][r.id]:[u];if(!a)continue;const o=a;n.viewport.set([0,0,h.fb.width,h.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(h,a,e,r),f=r?r.id:null),i.renderLayer(i,r,e,o)}this.renderedToTile?(h.dirty=!0,s.push(a.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,n.bindFramebuffer.set(null),n.viewport.set([0,0,i.width,i.height]),o.end+1}postRender(){}renderCacheEfficiency(t){const e=t.order.length;if(0===e)return{efficiency:100};let i,n=0,r=0,a=!1;for(let o=0;o<e;++o){const e=t._layers[t.order[o]];this._style.isLayerDraped(e)?(a&&++n,++r):a||(a=!0,i=e.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-n/r),firstUndrapedLayer:i}}getMinElevationBelowMSL(){let t=0;return this._visibleDemTiles.filter(t=>t.dem).forEach(e=>{t=Math.min(t,e.dem.tree.minimums[0])}),0===t?t:(t-30)*this._exaggeration}raycast(t,e,i){if(!this._visibleDemTiles)return null;const n=this._visibleDemTiles.filter(t=>t.dem).map(n=>{const r=n.tileID,a=Math.pow(2,r.overscaledZ),{x:o,y:s}=r.canonical,l=o/a,c=(o+1)/a,u=s/a,d=(s+1)/a;return{minx:l,miny:u,maxx:c,maxy:d,t:n.dem.tree.raycastRoot(l,u,c,d,t,e,i),tile:n}});n.sort((t,e)=>(null!==t.t?t.t:Number.MAX_VALUE)-(null!==e.t?e.t:Number.MAX_VALUE));for(const r of n){if(null==r.t)return null;const n=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,t,e,i);if(null!=n)return n}return null}_createFBO(){const e=this.painter.context,i=e.gl,n=this.drapeBufferSize;e.activeTexture.set(i.TEXTURE0);const r=new t.Texture(e,{width:n[0],height:n[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const a=e.createFramebuffer(n[0],n[1],!1);return a.colorAttachment.set(r.texture),a.depthAttachment=new vt(e,a.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=e.createRenderbuffer(e.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,a.depthAttachment.set(this._sharedDepthStencil),e.clear({stencil:0})):a.depthAttachment.set(this._sharedDepthStencil),e.extTextureFilterAnisotropic&&!e.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:a,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some(t=>{const e=this._style._layers[t],i=e.isHidden(this.painter.transform.zoom),n=e.getCrossfadeParameters(),r=!!n&&1!==n.t,a=e.hasTransition();return"custom"!==e.type&&!i&&(r||a)})}_clearRasterFadeFromRenderCache(){let t=!1;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e]._source instanceof xt){t=!0;break}if(t)for(let t=0;t<this._style.order.length;++t){const e=this._style._layers[this._style.order[t]],i=e.isHidden(this.painter.transform.zoom),n=this._style._getLayerSourceCache(e);if("raster"!==e.type||i||!n)continue;const r=e.paint.get("raster-fade-duration");for(const t of this.proxyCoords){const e=this.proxyToSource[t.key][n.id];if(e)for(const t of e){const e=li(n.getTile(t),n.findLoadedParent(t,0),n,this.painter.transform,r);(1!==e.opacity||0!==e.mix)&&this._clearRenderCacheForTile(n.id,t)}}}}_setupDrapedRenderBatches(){const t=this._style.order,e=t.length;if(0===e)return;const i=[];let n,r=0,a=this._style._layers[t[r]];for(;!this._style.isLayerDraped(a)&&a.isHidden(this.painter.transform.zoom)&&++r<e;)a=this._style._layers[t[r]];for(;r<e;++r){const e=this._style._layers[t[r]];e.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(e)?void 0===n&&(n=r):void 0!==n&&(i.push({start:n,end:r-1}),n=void 0))}void 0!==n&&i.push({start:n,end:r-1}),this._drapedRenderBatches=i}_setupRenderCache(t){const e=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,e.renderCache.length>e.renderCachePool.length){const t=Object.values(e.proxyCachedFBO);e.proxyCachedFBO={};for(let i=0;i<t.length;++i){const n=Object.values(t[i]);e.renderCachePool.push(...n)}}return}this._clearRasterFadeFromRenderCache();const i=this.proxyCoords,n=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const a=i[r];if(e.getTileByID(a.key),void 0!==e.proxyCachedFBO[a.key]){const i=t[a.key],r=this.proxyToSource[a.key];let o=0;for(const t in r){const e=r[t],a=i[t];if(!a||a.length!==e.length||e.some((e,i)=>e!==a[i]||n[t]&&n[t].hasOwnProperty(e.key))){o=-1;break}++o}for(const t in e.proxyCachedFBO[a.key])e.renderCache[e.proxyCachedFBO[a.key][t]].dirty=o<0||o!==Object.values(i).length}}const r=[...this._drapedRenderBatches];r.sort((t,e)=>e.end-e.start-(t.end-t.start));for(const t of r)for(const n of i){if(e.proxyCachedFBO[n.key])continue;let i=e.renderCachePool.pop();void 0===i&&e.renderCache.length<50&&(i=e.renderCache.length,e.renderCache.push(this._createFBO())),void 0!==i&&(e.proxyCachedFBO[n.key]={},e.proxyCachedFBO[n.key][t.start]=i,e.renderCache[i].dirty=!0)}this._tilesDirty={}}_setupStencil(t,e,i,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,a=r.gl;if(e.length<=1)return void(this._overlapStencilType=!1);let o;if(i.isTileClipped())o=e.length,this._overlapStencilMode.test={func:a.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(e[0].overscaledZ>e[e.length-1].overscaledZ))return void(this._overlapStencilType=!1);o=1,this._overlapStencilMode.test={func:a.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+o>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=o,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(e,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):t.StencilMode.disabled}_renderTileClippingMasks(e,i){const n=this.painter,r=this.painter.context,a=r.gl;n._tileClippingMaskIDs={},r.setColorMode(t.ColorMode.disabled),r.setDepthMode(t.DepthMode.disabled);const o=n.useProgram("clippingMask");for(const s of e){const e=n._tileClippingMaskIDs[s.key]=--i;o.draw(r,a.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:a.ALWAYS,mask:0},e,255,a.KEEP,a.KEEP,a.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,si(s.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(e){const i=this.painter.transform;if(e.x<0||e.x>i.width||e.y<0||e.y>i.height)return null;const n=[e.x,e.y,1,1];t.transformMat4(n,n,i.pixelMatrixInverse),t.scale$2(n,n,1/n[3]),n[0]/=i.worldSize,n[1]/=i.worldSize;const r=i._camera.position,a=t.mercatorZfromAltitude(1,i.center.lat),o=[r[0],r[1],r[2]/a,0],s=t.subtract([],n.slice(0,3),o);t.normalize(s,s);const l=this.raycast(o,s,this._exaggeration);return null!==l&&l?(t.scaleAndAdd(o,o,s,l),o[3]=o[2],o[2]*=a,o):null}drawDepth(){const e=this.painter,i=e.context,n=this.proxySourceCache,r=Math.ceil(e.width),a=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===a||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const e=i.gl,n=i.createFramebuffer(r,a,!0);i.activeTexture.set(e.TEXTURE0);const o=new t.Texture(i,{width:r,height:a,data:null},e.RGBA);o.bind(e.NEAREST,e.CLAMP_TO_EDGE),n.colorAttachment.set(o.texture);const s=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,a);n.depthAttachment.set(s),this._depthFBO=n,this._depthTexture=o}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,a]),function(e,i,n,r){const a=e.context,o=a.gl;a.clear({depth:1});const s=e.useProgram("terrainDepth"),l=new t.DepthMode(o.LESS,t.DepthMode.ReadWrite,e.depthRangeFor3D);for(const e of r){const r=n.getTile(e),c=ni(e.projMatrix,0);i.setupElevationDraw(r,s),s.draw(a,o.TRIANGLES,l,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.backCCW,c,"terrain_depth",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments)}}(e,this,n,this.proxyCoords)}_setupProxiedCoordsForOrtho(t,e,i){if(t.getSource()instanceof St)return this._setupProxiedCoordsForImageSource(t,e,i);this._findCoveringTileCache[t.id]=this._findCoveringTileCache[t.id]||{};const n=this.proxiedCoords[t.id]=[],r=this.proxyCoords;for(let e=0;e<r.length;e++){const a=r[e],o=this._findTileCoveringTileID(a,t);if(o){const e=this._createProxiedId(a,o,i[a.key]&&i[a.key][t.id]);n.push(e),this.proxyToSource[a.key][t.id]=[e]}}let a=!1;for(let r=0;r<e.length;r++){const o=t.getTile(e[r]);if(!o||!o.hasData())continue;const s=this._findTileCoveringTileID(o.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==o.tileID.canonical.z){const e=this.proxyToSource[s.tileID.key][t.id],r=this._createProxiedId(s.tileID,o,i[s.tileID.key]&&i[s.tileID.key][t.id]);e?e.splice(e.length-1,0,r):this.proxyToSource[s.tileID.key][t.id]=[r],n.push(r),a=!0}}this._sourceTilesOverlap[t.id]=a}_setupProxiedCoordsForImageSource(e,i,n){if(!e.getSource().loaded())return;const r=this.proxiedCoords[e.id]=[],a=this.proxyCoords,o=e.getSource(),s=new t.pointGeometry(o.tileID.x,o.tileID.y)._div(1<<o.tileID.z),l=o.coordinates.map(t.MercatorCoordinate.fromLngLat).reduce((t,e)=>(t.min.x=Math.min(t.min.x,e.x-s.x),t.min.y=Math.min(t.min.y,e.y-s.y),t.max.x=Math.max(t.max.x,e.x-s.x),t.max.y=Math.max(t.max.y,e.y-s.y),t),{min:new t.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new t.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(e,i)=>{const n=e.wrap+e.canonical.x/(1<<e.canonical.z),r=e.canonical.y/(1<<e.canonical.z),a=t.EXTENT/(1<<e.canonical.z),o=i.wrap+i.canonical.x/(1<<i.canonical.z),s=i.canonical.y/(1<<i.canonical.z);return n+a<o+l.min.x||n>o+l.max.x||r+a<s+l.min.y||r>s+l.max.y};for(let t=0;t<a.length;t++){const o=a[t];for(let t=0;t<i.length;t++){const a=e.getTile(i[t]);if(!a||!a.hasData())continue;if(c(o,a.tileID))continue;const s=this._createProxiedId(o,a,n[o.key]&&n[o.key][e.id]),l=this.proxyToSource[o.key][e.id];l?l.push(s):this.proxyToSource[o.key][e.id]=[s],r.push(s)}}}_createProxiedId(e,i,n){let r=this.orthoMatrix;if(n){const t=n.find(t=>t.key===i.tileID.key);if(t)return t}if(i.tileID.key!==e.key){const n=e.canonical.z-i.tileID.canonical.z;let a,o,s;r=t.create$1();const l=i.tileID.wrap-e.wrap<<e.overscaledZ;n>0?(a=t.EXTENT>>n,o=a*((i.tileID.canonical.x<<n)-e.canonical.x+l),s=a*((i.tileID.canonical.y<<n)-e.canonical.y)):(a=t.EXTENT<<-n,o=t.EXTENT*(i.tileID.canonical.x-(e.canonical.x+l<<-n)),s=t.EXTENT*(i.tileID.canonical.y-(e.canonical.y<<-n))),t.ortho(r,0,a,0,a,0,1),t.translate(r,r,[o,s,0])}return new ui(i.tileID,e.key,r)}_findTileCoveringTileID(e,i){let n=i.getTile(e);if(n&&n.hasData())return n;const r=this._findCoveringTileCache[i.id],a=r[e.key];if(n=a?i.getTileByID(a):null,n&&n.hasData()||null===a)return n;let o=n?n.tileID:e,s=o.overscaledZ;const l=i.getSource().minzoom,c=[];if(!a){const r=i.getSource().maxzoom;if(e.canonical.z>=r){const n=e.canonical.z-r;i.getSource().reparseOverscaled?(s=Math.max(e.canonical.z+2,i.transform.tileZoom),o=new t.OverscaledTileID(s,e.wrap,r,e.canonical.x>>n,e.canonical.y>>n)):0!==n&&(s=r,o=new t.OverscaledTileID(s,e.wrap,r,e.canonical.x>>n,e.canonical.y>>n))}o.key!==e.key&&(c.push(o.key),n=i.getTile(o))}const u=t=>{c.forEach(e=>{r[e]=t}),c.length=0};for(s-=1;s>=l&&(!n||!n.hasData());s--){n&&u(n.tileID.key);const t=o.calculateScaledKey(s);if(n=i.getTileByID(t),n&&n.hasData())break;const e=r[t];if(null===e)break;void 0===e?c.push(t):n=i.getTileByID(e)}return u(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(t){return this.enabled?this._findTileCoveringTileID(t,this.sourceCache):null}prepareDrawTile(t){this.renderedToTile=!0}_clearRenderCacheForTile(t,e){let i=this._tilesDirty[t];i||(i=this._tilesDirty[t]={}),i[e.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const e=function(e){let i,n,r;const a=new t.StructArrayLayout2ui4,o=131;for(n=1;n<129;n++){for(i=1;i<129;i++)r=n*o+i,a.emplaceBack(r,r+1),a.emplaceBack(r,r+o),a.emplaceBack(r+1,r+o),128===n&&a.emplaceBack(r+o,r+o+1);a.emplaceBack(r+1,r+1+o)}return a}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(e),this.wireframeSegments=t.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,e.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function hi(t){const e=[];for(let i=0;i<t.length;i++){if(null===t[i])continue;const n=t[i].split(" ");e.push(n.pop())}return e}class pi{static cacheKey(t,e,i){let n=`${t}${i?i.cacheKey:""}`;for(const t of e)n+="/"+t;return n}constructor(e,i,n,r,a,o){const s=e.gl;this.program=s.createProgram();const l=hi(n.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c),d=n.staticUniforms?hi(n.staticUniforms):[],h=r?r.getBinderUniforms():[],p=d.concat(h),f=[];for(const t of p)f.indexOf(t)<0&&f.push(t);let m=r?r.defines():[];m=m.concat(o.map(t=>"#define "+t));const g=m.concat(qe.fragmentSource,Ge,$e.fragmentSource,n.fragmentSource).join("\n"),y=m.concat(qe.vertexSource,Ge,$e.vertexSource,Ue.vertexSource,n.vertexSource).join("\n"),v=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(v,g),s.compileShader(v),s.attachShader(this.program,v);const _=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(_,y),s.compileShader(_),s.attachShader(this.program,_),this.attributes={};const b={};this.numAttributes=u.length;for(let t=0;t<this.numAttributes;t++)u[t]&&(s.bindAttribLocation(this.program,t,u[t]),this.attributes[u[t]]=t);s.linkProgram(this.program),s.deleteShader(_),s.deleteShader(v);for(let t=0;t<f.length;t++){const e=f[t];if(e&&!b[e]){const t=s.getUniformLocation(this.program,e);t&&(b[e]=t)}}this.fixedUniforms=a(e,b),this.binderUniforms=r?r.getUniforms(e,b):[],-1!==o.indexOf("TERRAIN")&&(this.terrainUniforms=((e,i)=>({u_dem:new t.Uniform1i(e,i.u_dem),u_dem_prev:new t.Uniform1i(e,i.u_dem_prev),u_dem_unpack:new t.Uniform4f(e,i.u_dem_unpack),u_dem_tl:new t.Uniform2f(e,i.u_dem_tl),u_dem_scale:new t.Uniform1f(e,i.u_dem_scale),u_dem_tl_prev:new t.Uniform2f(e,i.u_dem_tl_prev),u_dem_scale_prev:new t.Uniform1f(e,i.u_dem_scale_prev),u_dem_size:new t.Uniform1f(e,i.u_dem_size),u_dem_lerp:new t.Uniform1f(e,i.u_dem_lerp),u_exaggeration:new t.Uniform1f(e,i.u_exaggeration),u_depth:new t.Uniform1i(e,i.u_depth),u_depth_size_inv:new t.Uniform2f(e,i.u_depth_size_inv),u_meter_to_dem:new t.Uniform1f(e,i.u_meter_to_dem),u_label_plane_matrix_inv:new t.UniformMatrix4f(e,i.u_label_plane_matrix_inv)}))(e,b)),-1!==o.indexOf("FOG")&&(this.fogUniforms=((e,i)=>({u_fog_matrix:new t.UniformMatrix4f(e,i.u_fog_matrix),u_fog_range:new t.Uniform2f(e,i.u_fog_range),u_fog_color:new t.Uniform4f(e,i.u_fog_color),u_fog_horizon_blend:new t.Uniform1f(e,i.u_fog_horizon_blend),u_fog_temporal_offset:new t.Uniform1f(e,i.u_fog_temporal_offset)}))(e,b))}setTerrainUniformValues(t,e){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const t in e)i[t].set(e[t])}}setFogUniformValues(t,e){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const t in e)i[t].location&&i[t].set(e[t])}}draw(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m){const g=t.gl;if(this.failedToCreate)return;t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(n),t.setColorMode(r),t.setCullFace(a);for(const t in this.fixedUniforms)this.fixedUniforms[t].set(o[t]);p&&p.setUniforms(t,this.binderUniforms,d,{zoom:h});const y={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[e];for(const i of u.get()){const n=i.vaos||(i.vaos={});(n[s]||(n[s]=new Je)).bind(t,this,l,p?p.getPaintVertexBuffers():[],c,i.vertexOffset,f,m),g.drawElements(e,i.primitiveLength*y,g.UNSIGNED_SHORT,i.primitiveOffset*y*2)}}}function fi(t,e,i){const n=1/L(i,1,e.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,e.transform.tileZoom)/r,o=a*(i.tileID.canonical.x+i.tileID.wrap*r),s=a*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[n,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}const mi=(e,i,n,r)=>{const a=i.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],l=t.create$2();"viewport"===a.properties.get("anchor")&&(t.fromRotation(l,-i.transform.angle),t.transformMat3(s,s,l));const c=a.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:r}},gi=(e,i,n,r,a,o,s)=>t.extend(mi(e,i,n,r),fi(o,i,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8}),yi=t=>({u_matrix:t}),vi=(e,i,n,r)=>t.extend(yi(e),fi(n,i,r)),_i=(t,e)=>({u_matrix:t,u_world:e}),bi=(e,i,n,r,a)=>t.extend(vi(e,i,n,r),{u_world:a}),xi=(e,i,n,r)=>{const a=e.transform;let o;if("map"===r.paint.get("circle-pitch-alignment")){const t=L(n,1,a.zoom);o=[t,t]}else o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_matrix:e.translatePosMatrix(i.projMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_device_pixel_ratio:t.exported.devicePixelRatio,u_extrude_scale:o}},wi=t=>{const e=[];return"map"===t.paint.get("circle-pitch-alignment")&&e.push("PITCH_WITH_MAP"),"map"===t.paint.get("circle-pitch-scale")&&e.push("SCALE_WITH_MAP"),e},ki=(e,i,n)=>{const r=t.EXTENT/n.tileSize;return{u_matrix:e,u_camera_to_center_distance:i.cameraToCenterDistance,u_extrude_scale:[i.pixelsToGLUnits[0]/r,i.pixelsToGLUnits[1]/r]}},Si=(t,e,i=1)=>({u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:i}),Ti=(t,e,i,n)=>({u_matrix:t,u_extrude_scale:L(e,1,i),u_intensity:n}),Mi=(e,i,n,r)=>{const a=e.transform;return{u_matrix:Ei(e,i,n,r),u_ratio:1/L(i,1,a.zoom),u_device_pixel_ratio:t.exported.devicePixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Ci=(e,i,n,r,a)=>t.extend(Mi(e,i,n,r),{u_image:0,u_image_height:a}),Di=(e,i,n,r,a)=>{const o=e.transform,s=Ai(i,o);return{u_matrix:Ei(e,i,n,a),u_texsize:i.imageAtlasTexture.size,u_ratio:1/L(i,1,o.zoom),u_device_pixel_ratio:t.exported.devicePixelRatio,u_image:0,u_scale:[s,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Li=(e,i,n,r,a)=>{const o=Ai(i,e.transform);return t.extend(Mi(e,i,n,a),{u_texsize:i.lineAtlasTexture.size,u_scale:[o,r.fromScale,r.toScale],u_image:0,u_mix:r.t})};function Ai(t,e){return 1/L(t,1,e.tileZoom)}function Ei(t,e,i,n){return t.translatePosMatrix(n||e.tileID.projMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const Pi=(t,e,i,n,r)=>{return{u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(o=r.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Ii(r.paint.get("raster-hue-rotate"))};var a,o};function Ii(t){t*=Math.PI/180;const e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}const Oi=(t,e,i,n,r,a,o,s,l,c)=>{const u=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},Ri=(e,i,n,r,a,o,s,l,c,u,d)=>{const{cameraToCenterDistance:h,_pitch:p}=a.transform;return t.extend(Oi(e,i,n,r,a,o,s,l,c,u),{u_gamma_scale:r?h*Math.cos(a.terrain?0:p):1,u_device_pixel_ratio:t.exported.devicePixelRatio,u_is_halo:+d})},zi=(e,i,n,r,a,o,s,l,c,u)=>t.extend(Ri(e,i,n,r,a,o,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),Yi=(t,e,i)=>({u_matrix:t,u_opacity:e,u_color:i}),Fi=(e,i,n,r,a,o)=>t.extend(function(t,e,i,n){const r=i.imageManager.getPattern(t.from.toString()),a=i.imageManager.getPattern(t.to.toString()),{width:o,height:s}=i.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,i.transform.tileZoom)/l,u=c*(n.tileID.canonical.x+n.tileID.wrap*l),d=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[o,s],u_mix:e.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/L(n,1,i.transform.tileZoom),u_pixel_coord_upper:[u>>16,d>>16],u_pixel_coord_lower:[65535&u,65535&d]}}(r,o,n,a),{u_matrix:e,u_opacity:i}),Hi={fillExtrusion:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_opacity:new t.Uniform1f(e,i.u_opacity)}),fillExtrusionPattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,i.u_height_factor),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade),u_opacity:new t.Uniform1f(e,i.u_opacity)}),fill:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),fillPattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}),fillOutline:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world)}),fillOutlinePattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}),circle:(e,i)=>({u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),collisionBox:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale)}),collisionCircle:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,i.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,i.u_viewport_size)}),debug:(e,i)=>({u_color:new t.UniformColor(e,i.u_color),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_overlay:new t.Uniform1i(e,i.u_overlay),u_overlay_scale:new t.Uniform1f(e,i.u_overlay_scale)}),clippingMask:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),heatmap:(e,i)=>({u_extrude_scale:new t.Uniform1f(e,i.u_extrude_scale),u_intensity:new t.Uniform1f(e,i.u_intensity),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),heatmapTexture:(e,i)=>({u_image:new t.Uniform1i(e,i.u_image),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_opacity:new t.Uniform1f(e,i.u_opacity)}),hillshade:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_latrange:new t.Uniform2f(e,i.u_latrange),u_light:new t.Uniform2f(e,i.u_light),u_shadow:new t.UniformColor(e,i.u_shadow),u_highlight:new t.UniformColor(e,i.u_highlight),u_accent:new t.UniformColor(e,i.u_accent)}),hillshadePrepare:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_dimension:new t.Uniform2f(e,i.u_dimension),u_zoom:new t.Uniform1f(e,i.u_zoom),u_unpack:new t.Uniform4f(e,i.u_unpack)}),line:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels)}),lineGradient:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image),u_image_height:new t.Uniform1f(e,i.u_image_height)}),linePattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_image:new t.Uniform1i(e,i.u_image),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}),lineSDF:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image),u_scale:new t.Uniform3f(e,i.u_scale),u_mix:new t.Uniform1f(e,i.u_mix)}),raster:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_tl_parent:new t.Uniform2f(e,i.u_tl_parent),u_scale_parent:new t.Uniform1f(e,i.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,i.u_buffer_scale),u_fade_t:new t.Uniform1f(e,i.u_fade_t),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image0:new t.Uniform1i(e,i.u_image0),u_image1:new t.Uniform1i(e,i.u_image1),u_brightness_low:new t.Uniform1f(e,i.u_brightness_low),u_brightness_high:new t.Uniform1f(e,i.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,i.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,i.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,i.u_spin_weights)}),symbolIcon:(e,i)=>({u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture)}),symbolSDF:(e,i)=>({u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,i.u_is_halo)}),symbolTextAndIcon:(e,i)=>({u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texsize_icon:new t.Uniform2f(e,i.u_texsize_icon),u_texture:new t.Uniform1i(e,i.u_texture),u_texture_icon:new t.Uniform1i(e,i.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,i.u_is_halo)}),background:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_color:new t.UniformColor(e,i.u_color)}),backgroundPattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image:new t.Uniform1i(e,i.u_image),u_pattern_tl_a:new t.Uniform2f(e,i.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,i.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,i.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,i.u_pattern_br_b),u_texsize:new t.Uniform2f(e,i.u_texsize),u_mix:new t.Uniform1f(e,i.u_mix),u_pattern_size_a:new t.Uniform2f(e,i.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,i.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,i.u_scale_a),u_scale_b:new t.Uniform1f(e,i.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,i.u_tile_units_to_pixels)}),terrainRaster:ii,terrainDepth:ii,skybox:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_sun_direction:new t.Uniform3f(e,i.u_sun_direction),u_cubemap:new t.Uniform1i(e,i.u_cubemap),u_opacity:new t.Uniform1f(e,i.u_opacity),u_temporal_offset:new t.Uniform1f(e,i.u_temporal_offset)}),skyboxGradient:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_center_direction:new t.Uniform3f(e,i.u_center_direction),u_radius:new t.Uniform1f(e,i.u_radius),u_opacity:new t.Uniform1f(e,i.u_opacity),u_temporal_offset:new t.Uniform1f(e,i.u_temporal_offset)}),skyboxCapture:(e,i)=>({u_matrix_3f:new t.UniformMatrix3f(e,i.u_matrix_3f),u_sun_direction:new t.Uniform3f(e,i.u_sun_direction),u_sun_intensity:new t.Uniform1f(e,i.u_sun_intensity),u_color_tint_r:new t.Uniform4f(e,i.u_color_tint_r),u_color_tint_m:new t.Uniform4f(e,i.u_color_tint_m),u_luminance:new t.Uniform1f(e,i.u_luminance)})};let Ni;function Bi(e,i,n,r,a,o,s){const l=e.context,c=l.gl,u=e.useProgram("collisionBox"),d=[];let h=0,p=0;for(let f=0;f<r.length;f++){const m=r[f],g=i.getTile(m),y=g.getBucket(n);if(!y)continue;let v=m.projMatrix;0===a[0]&&0===a[1]||(v=e.translatePosMatrix(m.projMatrix,g,a,o));const _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){const i=t.create$1(),n=v;t.mul$1(i,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul$1(i,i,y.placementViewportMatrix),d.push({circleArray:b,circleOffset:p,transform:n,invTransform:i}),h+=b.length/4,p=h}_&&(e.terrain&&e.terrain.setupElevationDraw(g,u),u.draw(l,c.LINES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,ki(v,e.transform,g),n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,_.collisionVertexBuffer,_.collisionVertexBufferExt))}if(!s||!d.length)return;const f=e.useProgram("collisionCircle"),m=new t.StructArrayLayout2f1f2i16;m.resize(4*h),m._trim();let g=0;for(const t of d)for(let e=0;e<t.circleArray.length/4;e++){const i=4*e,n=t.circleArray[i+0],r=t.circleArray[i+1],a=t.circleArray[i+2],o=t.circleArray[i+3];m.emplace(g++,n,r,a,o,0),m.emplace(g++,n,r,a,o,1),m.emplace(g++,n,r,a,o,2),m.emplace(g++,n,r,a,o,3)}(!Ni||Ni.length<2*h)&&(Ni=function(e){const i=2*e,n=new t.StructArrayLayout3ui6;n.resize(i),n._trim();for(let t=0;t<i;t++){const e=6*t;n.uint16[e+0]=4*t+0,n.uint16[e+1]=4*t+1,n.uint16[e+2]=4*t+2,n.uint16[e+3]=4*t+2,n.uint16[e+4]=4*t+3,n.uint16[e+5]=4*t+0}return n}(h));const y=l.createIndexBuffer(Ni,!0),v=l.createVertexBuffer(m,t.collisionCircleLayout.members,!0);for(const i of d){const r={u_matrix:i.transform,u_inv_matrix:i.invTransform,u_camera_to_center_distance:(_=e.transform).cameraToCenterDistance,u_viewport_size:[_.width,_.height]};f.draw(l,c.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,r,n.id,v,y,t.SegmentVector.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,e.transform.zoom,null,null,null)}var _;v.destroy(),y.destroy()}const ji=t.identity(new Float32Array(16));function Vi(e,i,n,r,a,o){const{horizontalAlign:s,verticalAlign:l}=t.getAnchorAlignment(e),c=-(s-.5)*i,u=-(l-.5)*n,d=t.evaluateVariableOffset(e,r);return new t.pointGeometry((c/a+d[0])*o,(u/a+d[1])*o)}function Wi(e,i,n,r,a,o,s,l,c,u,d,h){const p=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,m=e.icon.dynamicLayoutVertexArray,g={};f.clear();for(let m=0;m<p.length;m++){const y=p.get(m),v=e.allowVerticalPlacement&&!y.placedOrientation,_=y.hidden||!y.crossTileID||v?null:r[y.crossTileID];if(_){const r=new t.pointGeometry(y.anchorX,y.anchorY),p=h(r),m=Jt(r,n?l:s,p),v=Kt(o.cameraToCenterDistance,m.signedDistanceFromCamera);let b=a.evaluateSizeForFeature(e.textSizeData,u,y)*v/t.ONE_EM;n&&(b*=e.tilePixelRatio/c);const{width:x,height:w,anchor:k,textOffset:S,textScale:T}=_,M=Vi(k,x,w,S,T,b),C=n?Jt(r.add(M),s,p).point:m.point.add(i?M.rotate(-o.angle):M),D=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0;for(let e=0;e<y.numGlyphs;e++)t.addDynamicAttributes(f,C,D);d&&y.associatedIconIndex>=0&&(g[y.associatedIconIndex]={shiftedAnchor:C,angle:D})}else se(y.numGlyphs,f)}if(d){m.clear();const i=e.icon.placedSymbolArray;for(let e=0;e<i.length;e++){const n=i.get(e);if(n.hidden)se(n.numGlyphs,m);else{const i=g[e];if(i)for(let e=0;e<n.numGlyphs;e++)t.addDynamicAttributes(m,i.shiftedAnchor,i.angle);else se(n.numGlyphs,m)}}e.icon.dynamicLayoutVertexBuffer.updateData(m)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function Ui(t,e,i){return i.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function $i(e,i,n,r,a,o,s,l,c,u,d,h){const p=e.context,f=p.gl,m=e.transform,g="map"===l,y="map"===c,v=g&&"point"!==n.layout.get("symbol-placement"),_=g&&!y&&!v,b=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let x=!1;const w=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),k=n.layout.get("text-variable-anchor"),S=[],T=e.terrain&&y?["PITCH_WITH_MAP_TERRAIN"]:null;for(const l of r){const r=i.getTile(l),c=r.getBucket(n);if(!c)continue;const d=a?c.text:c.icon;if(!d||!d.segments.get().length)continue;const h=d.programConfigurations.get(n.id),p=a||c.sdfIcons,w=a?c.textSizeData:c.iconSizeData,M=y||0!==m.pitch,C=e.useProgram(Ui(p,a,c),h,T),D=t.evaluateSizeForZoom(w,m.zoom);let A,E,P,I,O=[0,0],R=null;if(a){if(E=r.glyphAtlasTexture,P=f.LINEAR,A=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,R=r.imageAtlasTexture;const t="composite"===w.kind||"camera"===w.kind;I=M||e.options.rotating||e.options.zooming||t?f.LINEAR:f.NEAREST}}else{const t=1!==n.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;E=r.imageAtlasTexture,P=p||e.options.rotating||e.options.zooming||t||M?f.LINEAR:f.NEAREST,A=r.imageAtlasTexture.size}const z=L(r,1,e.transform.zoom),Y=Xt(l.projMatrix,y,g,e.transform,z),F=e.terrain&&y&&v?t.invert(new Float32Array(16),Y):ji,H=Zt(l.projMatrix,y,g,e.transform,z),N=k&&c.hasTextData(),B="none"!==n.layout.get("icon-text-fit")&&N&&c.hasIconData();if(v){const t=m.elevation;te(c,l.projMatrix,e,a,Y,H,y,u,t?e=>t.getAtTileOffset(l,e.x,e.y):null)}const j=e.translatePosMatrix(l.projMatrix,r,o,s),V=v||a&&k||B?ji:Y,W=e.translatePosMatrix(H,r,o,s,!0),U=p&&0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1);let $;$=p?c.iconsInText?zi(w.kind,D,_,y,e,j,V,W,A,O):Ri(w.kind,D,_,y,e,j,V,W,a,A,!0):Oi(w.kind,D,_,y,e,j,V,W,a,A);const q={program:C,buffers:d,uniformValues:$,atlasTexture:E,atlasTextureIcon:R,atlasInterpolation:P,atlasInterpolationIcon:I,isSDF:p,hasHalo:U,tile:r,labelPlaneMatrixInv:F};if(b&&c.canOverlap){x=!0;const e=d.segments.get();for(const i of e)S.push({segments:new t.SegmentVector([i]),sortKey:i.sortKey,state:q})}else S.push({segments:d.segments,sortKey:0,state:q})}x&&S.sort((t,e)=>t.sortKey-e.sortKey);for(const t of S){const i=t.state;if(e.terrain&&e.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,f.CLAMP_TO_EDGE),i.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,qi(i.buffers,t.segments,n,e,i.program,w,d,h,r)),r.u_is_halo=0}qi(i.buffers,t.segments,n,e,i.program,w,d,h,i.uniformValues)}}function qi(e,i,n,r,a,o,s,l,c){const u=r.context;a.draw(u,u.gl.TRIANGLES,o,s,l,t.CullFaceMode.disabled,c,n.id,e.layoutVertexBuffer,e.indexBuffer,i,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Gi(e,i,n,r,a,o,s){const l=e.context.gl,c=n.paint.get("fill-pattern"),u=c&&c.constantOr(1),d=n.getCrossfadeParameters();let h,p,f,m,g;s?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=l.LINES):(p=u?"fillPattern":"fill",h=l.TRIANGLES);for(const y of r){const r=i.getTile(y);if(u&&!r.patternsLoaded())continue;const v=r.getBucket(n);if(!v)continue;e.prepareDrawTile(y);const _=v.programConfigurations.get(n.id),b=e.useProgram(p,_);u&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),_.updatePaintBuffers(d));const x=c.constantOr(null);if(x&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[x.to.toString()],i=t.patternPositions[x.from.toString()];e&&i&&_.setConstantPatternPositions(e,i)}const w=e.translatePosMatrix(y.projMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(s){m=v.indexBuffer2,g=v.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];f="fillOutlinePattern"===p&&u?bi(w,e,d,r,t):_i(w,t)}else m=v.indexBuffer,g=v.segments,f=u?vi(w,e,d,r):yi(w);e.prepareDrawProgram(e.context,b,y.toUnwrapped()),b.draw(e.context,h,a,e.stencilModeForClipping(y),o,t.CullFaceMode.disabled,f,n.id,v.layoutVertexBuffer,m,g,n.paint,e.transform.zoom,_)}}function Xi(e,i,n,r,a,o,s){const l=e.context,c=l.gl,u=n.paint.get("fill-extrusion-pattern"),d=u.constantOr(1),h=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity");for(const f of r){const r=i.getTile(f),m=r.getBucket(n);if(!m)continue;const g=m.programConfigurations.get(n.id),y=e.useProgram(d?"fillExtrusionPattern":"fillExtrusion",g);if(e.terrain){const t=e.terrain;if(!m.enableTerrain)continue;if(t.setupElevationDraw(r,y,{useMeterToDem:!0}),Zi(l,i,f,m,n,t),!m.centroidVertexBuffer){const t=y.attributes.a_centroid_pos;void 0!==t&&c.vertexAttrib2f(t,0,0)}}d&&(e.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),g.updatePaintBuffers(h));const v=u.constantOr(null);if(v&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[v.to.toString()],i=t.patternPositions[v.from.toString()];e&&i&&g.setConstantPatternPositions(e,i)}const _=e.translatePosMatrix(f.projMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),x=d?gi(_,e,b,p,f,h,r):mi(_,e,b,p);e.prepareDrawProgram(l,y,f.toUnwrapped()),y.draw(l,l.gl.TRIANGLES,a,o,s,t.CullFaceMode.backCCW,x,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,e.transform.zoom,g,e.terrain?m.centroidVertexBuffer:null)}}function Zi(e,i,n,r,a,o){const s=[e=>{let i=e.canonical.x-1,n=e.wrap;return i<0&&(i=(1<<e.canonical.z)-1,n--),new t.OverscaledTileID(e.overscaledZ,n,e.canonical.z,i,e.canonical.y)},e=>{let i=e.canonical.x+1,n=e.wrap;return i===1<<e.canonical.z&&(i=0,n++),new t.OverscaledTileID(e.overscaledZ,n,e.canonical.z,i,e.canonical.y)},e=>new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1),e=>new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)],l=t=>{const e=i.getSource().maxzoom,n=t=>{const e=i.getTileByID(t);if(e&&e.hasData())return e.getBucket(a)};let r,o,s;return(t.overscaledZ===t.canonical.z||t.overscaledZ>=e)&&(r=n(t.key)),t.overscaledZ>=e&&(o=n(t.calculateScaledKey(t.overscaledZ+1))),t.overscaledZ>e&&(s=n(t.calculateScaledKey(t.overscaledZ-1))),r||o||s},c=[0,0,0],u=(e,i)=>(c[0]=Math.min(e.min.y,i.min.y),c[1]=Math.max(e.max.y,i.max.y),c[2]=t.EXTENT-i.min.x>e.max.x?i.min.x-t.EXTENT:e.max.x,c),d=(e,i)=>(c[0]=Math.min(e.min.x,i.min.x),c[1]=Math.max(e.max.x,i.max.x),c[2]=t.EXTENT-i.min.y>e.max.y?i.min.y-t.EXTENT:e.max.y,c),h=[(t,e)=>u(t,e),(t,e)=>u(e,t),(t,e)=>d(t,e),(t,e)=>d(e,t)],p=new t.pointGeometry(0,0);let f,m,g;const y=(e,i,r,a,s)=>{const l=[[a?r:e,a?e:r,0],[a?r:i,a?i:r,0]],c=s<0?t.EXTENT+s:s,u=[a?c:(e+i)/2,a?(e+i)/2:c,0];return 0===r&&s<0||0!==r&&s>0?o.getForTilePoints(g,[u],!0,m):l.push(u),o.getForTilePoints(n,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/o.exaggeration()};for(let e=0;e<4;e++){const i=r.borders[e];if(0===i.length&&(r.borderDone[e]=!0),r.borderDone[e])continue;const a=g=s[e](n),c=l(a);if(!c||!c.enableTerrain)continue;if(m=o.findDEMTileFor(a),!m||!m.dem)continue;if(!f){const t=o.findDEMTileFor(n);if(!t||!t.dem)return;f=t}const u=(e<2?1:5)-e,d=c.borders[u];let v=0;for(let n=0;n<i.length;n++){const a=r.featuresOnBorder[i[n]],o=a.borders[e];let s;for(;v<d.length&&(s=c.featuresOnBorder[d[v]],!(s.borders[u][1]>o[0]+3));)c.borderDone[u]||c.encodeCentroid(void 0,s,!1),v++;if(s&&v<d.length){const i=v;let n=0;for(;!(s.borders[u][0]>o[1]-3)&&(n++,++v!==d.length);)s=c.featuresOnBorder[d[v]];if(s=c.featuresOnBorder[d[i]],a.intersectsCount()>1||s.intersectsCount()>1||1!==n){1!==n&&(v=i),r.encodeCentroid(void 0,a,!1),c.borderDone[u]||c.encodeCentroid(void 0,s,!1);continue}const l=h[e](a,s),f=e%2?t.EXTENT-1:0;p.x=y(l[0],Math.min(t.EXTENT-1,l[1]),f,e<2,l[2]),p.y=0,r.encodeCentroid(p,a,!1),c.borderDone[u]||c.encodeCentroid(p,s,!1)}else r.encodeCentroid(void 0,a,!1)}r.borderDone[e]=r.needsCentroidUpdate=!0,c.borderDone[u]||(c.borderDone[u]=c.needsCentroidUpdate=!0)}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(e)}const Ji=new t.Color(1,0,0,1),Ki=new t.Color(0,1,0,1),Qi=new t.Color(0,0,1,1),tn=new t.Color(1,0,1,1),en=new t.Color(0,1,1,1);function nn(t,e,i,n){an(t,0,e+i/2,t.transform.width,i,n)}function rn(t,e,i,n){an(t,e-i/2,0,i,t.transform.height,n)}function an(e,i,n,r,a,o){const s=e.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*t.exported.devicePixelRatio,n*t.exported.devicePixelRatio,r*t.exported.devicePixelRatio,a*t.exported.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}function on(e,i,n){const r=e.context,a=r.gl,o=n.projMatrix,s=e.useProgram("debug"),l=i.getTileByID(n.key);e.terrain&&e.terrain.setupElevationDraw(l,s);const c=t.DepthMode.disabled,u=t.StencilMode.disabled,d=e.colorModeForRenderPass(),h="$debug";r.activeTexture.set(a.TEXTURE0),e.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(r,a.LINE_STRIP,c,u,d,t.CullFaceMode.disabled,Si(o,t.Color.red),h,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);const p=l.latestRawTileData,f=Math.floor((p&&p.byteLength||0)/1024),m=i.getTile(n).tileSize,g=512/Math.min(m,512)*(n.overscaledZ/e.transform.zoom)*.5;let y=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(y+=" => "+n.overscaledZ),function(t,e){t.initDebugOverlayCanvas();const i=t.debugOverlayCanvas,n=t.context.gl,r=t.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(e,5,5),r.strokeText(e,5,5),t.debugOverlayTexture.update(i),t.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(e,`${y} ${f}kb`),s.draw(r,a.TRIANGLES,c,u,t.ColorMode.alphaBlended,t.CullFaceMode.disabled,Si(o,t.Color.transparent,g),h,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}const sn=t.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ln}=sn;function cn(t,e,i,n){t.emplaceBack(e,i,n)}class un{constructor(e){this.vertexArray=new t.StructArrayLayout3f12,this.indices=new t.StructArrayLayout3ui6,cn(this.vertexArray,-1,-1,1),cn(this.vertexArray,1,-1,1),cn(this.vertexArray,-1,1,1),cn(this.vertexArray,1,1,1),cn(this.vertexArray,-1,-1,-1),cn(this.vertexArray,1,-1,-1),cn(this.vertexArray,-1,1,-1),cn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=e.createVertexBuffer(this.vertexArray,ln),this.indexBuffer=e.createIndexBuffer(this.indices),this.segment=t.SegmentVector.simpleSegment(0,0,36,12)}}function dn(e,i,n,r,a,o){const s=e.gl,l=i.paint.get("sky-atmosphere-color"),c=i.paint.get("sky-atmosphere-halo-color"),u=i.paint.get("sky-atmosphere-sun-intensity"),d=((t,e,i,n,r)=>({u_matrix_3f:t,u_sun_direction:e,u_sun_intensity:i,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(t.fromMat4([],r),a,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+o,i.skyboxTexture,0),n.draw(e,s.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.frontCW,d,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const hn={symbol:function(e,i,n,r,a){if("translucent"!==e.renderPass)return;const o=t.StencilMode.disabled,s=e.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(e,i,n,r,a,o,s){const l=i.transform,c="map"===a,u="map"===o;for(const a of e){const e=r.getTile(a),o=e.getBucket(n);if(!o||!o.text||!o.text.segments.get().length)continue;const d=t.evaluateSizeForZoom(o.textSizeData,l.zoom),h=L(e,1,i.transform.zoom),p=Xt(a.projMatrix,u,c,i.transform,h),f="none"!==n.layout.get("icon-text-fit")&&o.hasIconData();if(d){const i=Math.pow(2,l.zoom-e.tileID.overscaledZ),n=l.elevation;Wi(o,c,u,s,t.symbolSize,l,p,a.projMatrix,i,d,f,n?t=>n.getAtTileOffset(a,t.x,t.y):t=>0)}}}(r,e,n,i,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),a),0!==n.paint.get("icon-opacity").constantOr(1)&&$i(e,i,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,s),0!==n.paint.get("text-opacity").constantOr(1)&&$i(e,i,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,s),i.map.showCollisionBoxes&&(Bi(e,i,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Bi(e,i,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(e,i,n,r){if("translucent"!==e.renderPass)return;const a=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===a.constantOr(1)&&(0===o.constantOr(1)||0===s.constantOr(1)))return;const c=e.context,u=c.gl,d=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),h=t.StencilMode.disabled,p=e.colorModeForRenderPass(),f=[];for(let a=0;a<r.length;a++){const o=r[a],s=i.getTile(o),c=s.getBucket(n);if(!c)continue;const u=c.programConfigurations.get(n.id),d=wi(n),h={programConfiguration:u,program:e.useProgram("circle",u,d),layoutVertexBuffer:c.layoutVertexBuffer,indexBuffer:c.indexBuffer,uniformValues:xi(e,o,s,n),tile:s};if(l){const e=c.segments.get();for(const i of e)f.push({segments:new t.SegmentVector([i]),sortKey:i.sortKey,state:h})}else f.push({segments:c.segments,sortKey:0,state:h})}l&&f.sort((t,e)=>t.sortKey-e.sortKey);for(const i of f){const{programConfiguration:r,program:a,layoutVertexBuffer:o,indexBuffer:s,uniformValues:l,tile:f}=i.state,m=i.segments;e.terrain&&e.terrain.setupElevationDraw(f,a,{useDepthForOcclusion:!0}),e.prepareDrawProgram(c,a,f.tileID.toUnwrapped()),a.draw(c,u.TRIANGLES,d,h,p,t.CullFaceMode.disabled,l,n.id,o,s,m,n.paint,e.transform.zoom,r)}},heatmap:function(e,i,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){const a=e.context,o=a.gl,s=t.StencilMode.disabled,l=new t.ColorMode([o.ONE,o.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,i){const n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);let r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{const a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,i,n){const r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),n.colorAttachment.set(i)}(t,e,a,r)}}(a,e,n),a.clear({color:t.Color.transparent});for(let c=0;c<r.length;c++){const u=r[c];if(i.hasRenderableParent(u))continue;const d=i.getTile(u),h=d.getBucket(n);if(!h)continue;const p=h.programConfigurations.get(n.id),f=e.useProgram("heatmap",p),{zoom:m}=e.transform;e.terrain&&e.terrain.setupElevationDraw(d,f),e.prepareDrawProgram(a,f,u.toUnwrapped()),f.draw(a,o.TRIANGLES,t.DepthMode.disabled,s,l,t.CullFaceMode.disabled,Ti(u.projMatrix,d,m,n.paint.get("heatmap-intensity")),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,n.paint,e.transform.zoom,p)}a.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){const n=e.context,r=n.gl,a=i.heatmapFbo;if(!a)return;n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);let o=i.colorRampTexture;o||(o=i.colorRampTexture=new t.Texture(n,i.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,r.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,((t,e,i,n)=>({u_image:0,u_color_ramp:1,u_opacity:e.paint.get("heatmap-opacity")}))(0,i),i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom)}(e,n))},line:function(e,i,n,r){if("translucent"!==e.renderPass)return;const a=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0===a.constantOr(1)||0===o.constantOr(1))return;const s=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),l=e.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),u=c.constantOr(1),d=n.layout.get("line-cap"),h=n.paint.get("line-pattern"),p=h.constantOr(1),f=n.paint.get("line-gradient"),m=n.getCrossfadeParameters(),g=p?"linePattern":u?"lineSDF":f?"lineGradient":"line",y=e.context,v=y.gl;for(const a of r){const r=i.getTile(a);if(p&&!r.patternsLoaded())continue;const o=r.getBucket(n);if(!o)continue;e.prepareDrawTile(a);const _=o.programConfigurations.get(n.id),b=e.useProgram(g,_),x=h.constantOr(null);if(x&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[x.to.toString()],i=t.patternPositions[x.from.toString()];e&&i&&_.setConstantPatternPositions(e,i)}const w=c.constantOr(null),k=d.constantOr(null);if(!p&&w&&k&&r.lineAtlas){const t=r.lineAtlas,e=t.getDash(w.to,k),i=t.getDash(w.from,k);e&&i&&_.setConstantPatternPositions(e,i)}const S=e.terrain?a.projMatrix:null,T=p?Di(e,r,n,m,S):u?Li(e,r,n,m,S):f?Ci(e,r,n,S,o.lineClipsArray.length):Mi(e,r,n,S);if(p)y.activeTexture.set(v.TEXTURE0),r.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),_.updatePaintBuffers(m);else if(u)y.activeTexture.set(v.TEXTURE0),r.lineAtlasTexture.bind(v.LINEAR,v.REPEAT),_.updatePaintBuffers(m);else if(f){const r=o.gradients[n.id];let s=r.texture;if(n.gradientVersion!==r.version){let l=256;if(n.stepInterpolant){const n=i.getSource().maxzoom,r=a.canonical.z===n?Math.ceil(1<<e.transform.maxZoom-a.canonical.z):1;l=t.clamp(t.nextPowerOfTwo(o.maxLineLength/t.EXTENT*1024*r),256,y.maxTextureSize)}r.gradient=t.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new t.Texture(y,r.gradient,v.RGBA),r.version=n.gradientVersion,s=r.texture}y.activeTexture.set(v.TEXTURE0),s.bind(n.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}e.prepareDrawProgram(y,b,a.toUnwrapped()),b.draw(y,v.TRIANGLES,s,e.stencilModeForClipping(a),l,t.CullFaceMode.disabled,T,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,n.paint,e.transform.zoom,_,o.layoutVertexBuffer2)}},fill:function(e,i,n,r){const a=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0===o.constantOr(1))return;const s=e.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(t.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(e.renderPass===c){const a=e.depthModeForSublayer(1,"opaque"===e.renderPass?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly);Gi(e,i,n,r,a,s,!1)}if("translucent"===e.renderPass&&n.paint.get("fill-antialias")){const a=e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,t.DepthMode.ReadOnly);Gi(e,i,n,r,a,s,!0)}},"fill-extrusion":function(e,i,n,r){const a=n.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===e.renderPass){const o=new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);if(1!==a||n.paint.get("fill-extrusion-pattern").constantOr(1))Xi(e,i,n,r,o,t.StencilMode.disabled,t.ColorMode.disabled),Xi(e,i,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const a=e.colorModeForRenderPass();Xi(e,i,n,r,o,t.StencilMode.disabled,a)}}},hillshade:function(e,i,n,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const a=e.context,o=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),s=e.colorModeForRenderPass(),l=e.terrain&&e.terrain.renderingToTexture,[c,u]="translucent"!==e.renderPass||l?[{},r]:e.stencilConfigForOverlap(r);for(const r of u){const a=i.getTile(r);if(a.needsHillshadePrepare&&"offscreen"===e.renderPass)ei(e,a,n,o,t.StencilMode.disabled,s);else if("translucent"===e.renderPass){const t=l&&e.terrain?e.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];Qe(e,r,a,n,o,t,s)}}a.viewport.set([0,0,e.width,e.height])},raster:function(e,i,n,r,a,o){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const s=e.context,l=s.gl,c=i.getSource(),u=e.useProgram("raster"),d=e.colorModeForRenderPass(),h=e.terrain&&e.terrain.renderingToTexture,[p,f]=c instanceof St||h?[{},r]:e.stencilConfigForOverlap(r),m=f[f.length-1].overscaledZ,g=!e.options.moving;for(const r of f){const a=h?t.DepthMode.disabled:e.depthModeForSublayer(r.overscaledZ-m,1===n.paint.get("raster-opacity")?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly,l.LESS),f=r.toUnwrapped(),y=i.getTile(r);if(h&&(!y||!y.hasData()))continue;const v=h?r.projMatrix:e.transform.calculateProjMatrix(f,g),_=e.terrain&&h?e.terrain.stencilModeForRTTOverlap(r):p[r.overscaledZ],b=o?0:n.paint.get("raster-fade-duration");y.registerFadeDuration(b);const x=i.findLoadedParent(r,0),w=li(y,x,i,e.transform,b);let k,S;e.terrain&&e.terrain.prepareDrawTile(r);const T="nearest"===n.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),y.texture.bind(T,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),s.activeTexture.set(l.TEXTURE1),x?(x.texture.bind(T,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),k=Math.pow(2,x.tileID.overscaledZ-y.tileID.overscaledZ),S=[y.tileID.canonical.x*k%1,y.tileID.canonical.y*k%1]):y.texture.bind(T,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST);const M=Pi(v,S||[0,0],k||1,w,n);e.prepareDrawProgram(s,u,f),c instanceof St?u.draw(s,l.TRIANGLES,a,t.StencilMode.disabled,d,t.CullFaceMode.disabled,M,n.id,c.boundsBuffer,e.quadTriangleIndexBuffer,c.boundsSegments):u.draw(s,l.TRIANGLES,a,_,d,t.CullFaceMode.disabled,M,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,i,n,r){const a=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0===o)return;const s=e.context,l=s.gl,c=e.transform,u=c.tileSize,d=n.paint.get("background-pattern");if(e.isPatternMissing(d))return;const h=!d&&1===a.a&&1===o&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==h)return;const p=t.StencilMode.disabled,f=e.depthModeForSublayer(0,"opaque"===h?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly),m=e.colorModeForRenderPass(),g=e.useProgram(d?"backgroundPattern":"background"),y=r||c.coveringTiles({tileSize:u});d&&(s.activeTexture.set(l.TEXTURE0),e.imageManager.bind(e.context));const v=n.getCrossfadeParameters();for(const i of y){const c=i.toUnwrapped(),h=r?i.projMatrix:e.transform.calculateProjMatrix(c);e.prepareDrawTile(i);const y=d?Fi(h,o,e,d,{tileID:i,tileSize:u},v):Yi(h,o,a);e.prepareDrawProgram(s,g,c),g.draw(s,l.TRIANGLES,f,p,m,t.CullFaceMode.disabled,y,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},sky:function(e,i,n){const r=n.paint.get("sky-opacity");if(0===r)return;const a=e.context,o=n.paint.get("sky-type"),s=new t.DepthMode(a.gl.LEQUAL,t.DepthMode.ReadOnly,[0,1]),l=e.frameCounter/1e3%1;"atmosphere"===o?"offscreen"===e.renderPass?n.needsSkyboxCapture(e)&&(function(e,i,n,r){const a=e.context,o=a.gl;let s=i.skyboxFbo;if(!s){s=i.skyboxFbo=a.createFramebuffer(32,32,!1),i.skyboxGeometry=new un(a),i.skyboxTexture=a.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,i.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(let t=0;t<6;++t)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null)}a.bindFramebuffer.set(s.framebuffer),a.viewport.set([0,0,32,32]);const l=i.getCenter(e,!0),c=e.useProgram("skyboxCapture"),u=new Float64Array(16);t.identity(u),t.rotateY(u,u,.5*-Math.PI),dn(a,i,c,u,l,0),t.identity(u),t.rotateY(u,u,.5*Math.PI),dn(a,i,c,u,l,1),t.identity(u),t.rotateX(u,u,.5*-Math.PI),dn(a,i,c,u,l,2),t.identity(u),t.rotateX(u,u,.5*Math.PI),dn(a,i,c,u,l,3),t.identity(u),dn(a,i,c,u,l,4),t.identity(u),t.rotateY(u,u,Math.PI),dn(a,i,c,u,l,5),a.viewport.set([0,0,e.width,e.height])}(e,n),n.markSkyboxValid(e)):"sky"===e.renderPass&&function(e,i,n,r,a){const o=e.context,s=o.gl,l=e.transform,c=e.useProgram("skybox");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture);const u=((t,e,i,n,r)=>({u_matrix:t,u_sun_direction:e,u_cubemap:0,u_opacity:n,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(e,!1),0,r,a);e.prepareDrawProgram(o,c),c.draw(o,s.TRIANGLES,n,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,u,"skybox",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(e,n,s,r,l):"gradient"===o&&"sky"===e.renderPass&&function(e,i,n,r,a){const o=e.context,s=o.gl,l=e.transform,c=e.useProgram("skyboxGradient");i.skyboxGeometry||(i.skyboxGeometry=new un(o)),o.activeTexture.set(s.TEXTURE0);let u=i.colorRampTexture;u||(u=i.colorRampTexture=new t.Texture(o,i.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const d=((e,i,n,r,a)=>({u_matrix:e,u_color_ramp:0,u_center_direction:i,u_radius:t.degToRad(n),u_opacity:r,u_temporal_offset:a}))(l.skyboxMatrix,i.getCenter(e,!1),i.paint.get("sky-gradient-radius"),r,a);e.prepareDrawProgram(o,c),c.draw(o,s.TRIANGLES,n,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,d,"skyboxGradient",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(e,n,s,r,l)},debug:function(t,e,i){for(let n=0;n<i.length;n++)on(t,e,i[n])},custom:function(e,i,n){const r=e.context,a=n.implementation;if("offscreen"===e.renderPass){const t=a.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(a,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(t.StencilMode.disabled);const i="3d"===a.renderingMode?new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,t.DepthMode.ReadOnly);r.setDepthMode(i),a.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class pn{constructor(e,i){this.context=new bt(e),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=t.SourceCache.maxUnderzooming+t.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ze,this.gpuTimers={},this.frameCounter=0}updateTerrain(t,e){const i=!!t&&!!t.terrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new di(this,t));const n=this._terrain;this.transform.elevation=i?n:null,n.update(t,this.transform,e)}_updateFog(t){const e=t.fog;if(!e||e.getOpacity(this.transform.pitch)<1||e.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[i,n]=e.getFovAdjustedRange(this.transform._fov);if(i>n)return void(this.transform.fogCullDistSq=null);const r=i+.78*(n-i);this.transform.fogCullDistSq=r*r}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(e,i){if(this.width=e*t.exported.devicePixelRatio,this.height=i*t.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const t of this.style.order)this.style._layers[t].resize()}setup(){const e=this.context,i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(i,t.posAttributes.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);const n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(n,t.posAttributes.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);const r=new t.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(t.EXTENT,0,t.EXTENT,0),r.emplaceBack(0,t.EXTENT,0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(r,kt.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);const a=new t.StructArrayLayout2i4;a.emplaceBack(-1,-1),a.emplaceBack(1,-1),a.emplaceBack(-1,1),a.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(a,t.posAttributes.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);const o=new t.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(o);const s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA),this.identityMat=t.create$1();const l=this.context.gl;this.stencilClearMode=new t.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(t.window.performance.now())}clearStencil(){const e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(e,i.TRIANGLES,t.DepthMode.disabled,this.stencilClearMode,t.ColorMode.disabled,t.CullFaceMode.disabled,si(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,i,n){if(!(i&&this.currentStencilSource!==i.id&&e.isTileClipped()&&n&&n.length))return;this.currentStencilSource=i.id;const r=this.context,a=r.gl;this.nextStencilID+n.length>256&&this.clearStencil(),r.setColorMode(t.ColorMode.disabled),r.setDepthMode(t.DepthMode.disabled);const o=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of n){const i=this._tileClippingMaskIDs[e.key]=this.nextStencilID++;o.draw(r,a.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:a.ALWAYS,mask:0},i,255,a.KEEP,a.KEEP,a.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,si(e.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,i=this.context.gl;return new t.StencilMode({func:i.NOTEQUAL,mask:255},e,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const i=this.context.gl;return new t.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(e){const i=this.context.gl,n=e.sort((t,e)=>e.overscaledZ-t.overscaledZ),r=n[n.length-1].overscaledZ,a=n[0].overscaledZ-r+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();const e={};for(let n=0;n<a;n++)e[n+r]=new t.StencilMode({func:i.GEQUAL,mask:255},n+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=a,[e,n]}return[{[r]:t.StencilMode.disabled},n]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new t.ColorMode([e.CONSTANT_COLOR,e.ONE],new t.Color(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?t.ColorMode.unblended:t.ColorMode.alphaBlended}depthModeForSublayer(e,i,n){if(!this.opaquePassEnabledForLayer())return t.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new t.DepthMode(n||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.exported.now()),this.imageManager.beginFrame();const n=this.style.order,r=this.style._sourceCaches;for(const t in r){const e=r[t];e.used&&e.prepare(this.context)}const a={},o={},s={};for(const t in r){const e=r[t];a[t]=e.getVisibleCoordinates(),o[t]=a[t].slice().reverse(),s[t]=e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let t=0;t<n.length;t++)if(this.style._layers[n[t]].is3D()){this.opaquePassCutoff=t;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),!t.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const t of n){const i=this.style._layers[t],n=e._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=n?o[n.id]:void 0;("custom"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,n,i,r)}this.depthRangeFor3D=[0,1-(e.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let l=t.Color.transparent;if(this.style.fog&&(l=this.style.fog.properties.get("color")),this.context.clear({color:i.showOverdrawInspector?t.Color.black:l,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const t=this.style._layers[n[this.currentLayer]],i=e._getLayerSourceCache(t);if(t.isSky())continue;const r=i?o[i.id]:void 0;this._renderTileClippingMasks(t,i,r),this.renderLayer(this,i,t,r)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const t=this.style._layers[n[this.currentLayer]],i=e._getLayerSourceCache(t);t.isSky()&&this.renderLayer(this,i,t,i?o[i.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;){const t=this.style._layers[n[this.currentLayer]],i=e._getLayerSourceCache(t);if(t.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(t)){if(t.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=i?("symbol"===t.type?s:o)[i.id]:void 0;this._renderTileClippingMasks(t,i,i?a[i.id]:void 0),this.renderLayer(this,i,t,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let i=null;t.values(this.style._layers).forEach(t=>{const n=e._getLayerSourceCache(t);n&&!t.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<n.getSource().maxzoom)&&(i=n)}),i&&this.options.showTileBoundaries&&hn.debug(this,i,i.getVisibleCoordinates())}this.options.showPadding&&function(t){const e=t.transform.padding;nn(t,t.transform.height-(e.top||0),3,Ji),nn(t,e.bottom||0,3,Ki),rn(t,e.left||0,3,Qi),rn(t,t.transform.width-(e.right||0),3,tn);const i=t.transform.centerPoint;!function(t,e,i,n){an(t,e-1,i-10,2,20,n),an(t,e-10,i-1,20,2,n)}(t,i.x,t.transform.height-i.y,en)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%t.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.window.performance.now()),this.saveCanvasCopy())}renderLayer(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||"sky"===i.type||"custom"===i.type||n&&n.length)&&(this.id=i.id,this.gpuTimingStart(i),hn[i.type](t,e,i,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(t){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;let i=this.gpuTimers[t.id];i||(i=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),i.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,i.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}collectGpuTimers(){const t=this.gpuTimers;return this.gpuTimers={},t}queryGpuTimers(t){const e={};for(const i in t){const n=t[i],r=this.context.extTimerQuery,a=r.getQueryObjectEXT(n.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(n.query),e[i]=a}return e}translatePosMatrix(e,i,n,r,a){if(!n[0]&&!n[1])return e;const o=a?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){const t=Math.sin(o),e=Math.cos(o);n=[n[0]*e-n[1]*t,n[0]*t+n[1]*e]}const s=[a?n[0]:L(i,n[0],this.transform.zoom),a?n[1]:L(i,n[1],this.transform.zoom),0],l=new Float32Array(16);return t.translate(l,e,s),l}saveTileTexture(t){const e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const e=this._tileTextures[t];return e&&e.length>0?e.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const e=this.imageManager.getPattern(t.from.toString()),i=this.imageManager.getPattern(t.to.toString());return!e||!i}currentGlobalDefines(){const t=this.terrain&&this.terrain.renderingToTexture,e=this.style&&this.style.fog,i=[];return this.terrain&&!this.terrain.renderingToTexture&&i.push("TERRAIN"),e&&!t&&0!==e.getOpacity(this.transform.pitch)&&i.push("FOG"),t&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}useProgram(t,e,i){this.cache=this.cache||{};const n=i||[],r=this.currentGlobalDefines().concat(n),a=pi.cacheKey(t,r,e);return this.cache[a]||(this.cache[a]=new pi(this.context,t,Xe[t],e,Hi[t],r)),this.cache[a]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(t){this.terrain&&this.terrain.prepareDrawTile(t)}prepareDrawProgram(t,e,i){if(this.terrain&&this.terrain.renderingToTexture)return;const n=this.style.fog;if(n){const r=n.getOpacity(this.transform.pitch);0!==r&&e.setFogUniformValues(t,((t,e,i,n)=>{const r=e.properties.get("color"),a=t.frameCounter/1e3%1,o=[r.r/r.a,r.g/r.a,r.b/r.a,n];return{u_fog_matrix:i?t.transform.calculateFogTileMatrix(i):t.identityMat,u_fog_range:e.getFovAdjustedRange(t.transform._fov),u_fog_color:o,u_fog_horizon_blend:e.properties.get("horizon-blend"),u_fog_temporal_offset:a}})(this,n,i,r))}}setTileLoadedFlag(t){this.tileLoaded=t}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const t=this.context.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,t.drawingBufferWidth,t.drawingBufferHeight,0),e}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const t=this.style&&this.style.fog;return!!t&&0!==t.getOpacity(this.transform.pitch)}}class fn{constructor(t=0,e=0,i=0,n=0){if(isNaN(t)||t<0||isNaN(e)||e<0||isNaN(i)||i<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=i,this.right=n}interpolate(e,i,n){return null!=i.top&&null!=e.top&&(this.top=t.number(e.top,i.top,n)),null!=i.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,i.bottom,n)),null!=i.left&&null!=e.left&&(this.left=t.number(e.left,i.left,n)),null!=i.right&&null!=e.right&&(this.right=t.number(e.right,i.right,n)),this}getCenter(e,i){const n=t.clamp((this.left+e-this.right)/2,0,e),r=t.clamp((this.top+i-this.bottom)/2,0,i);return new t.pointGeometry(n,r)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new fn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function mn(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}function gn(t,e,i){t[4*e+0]=i[0],t[4*e+1]=i[1],t[4*e+2]=i[2],t[4*e+3]=i[3]}function yn(e,i){const n=mn(e,3);t.fromQuat(e,i),gn(e,3,n)}function vn(t,e){gn(t,3,[e[0],e[1],e[2],1])}function _n(e,i){const n=t.identity$1([]);return t.rotateZ$1(n,n,-i),t.rotateX$1(n,n,-e),n}function bn(e,i){const n=[e[0],e[1],0],r=[i[0],i[1],0];if(t.length(n)>=1e-15){const e=t.normalize([],n);t.scale(r,e,t.dot(r,e)),i[0]=r[0],i[1]=r[1]}const a=t.cross([],i,e);if(t.len(a)<1e-15)return null;const o=Math.atan2(-a[1],a[0]);return _n(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),o)}class xn{constructor(t,e){this.position=t,this.orientation=e}get position(){return this._position}set position(e){this._position=this._renderWorldCopies?function(e){if(!e)return;const i=Array.isArray(e)?new t.MercatorCoordinate(e[0],e[1],e[2]):e;return i.x=t.wrap(i.x,0,1),i}(e):e}lookAtPoint(e,i){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(e)):0,r=this.position,a=t.MercatorCoordinate.fromLngLat(e,n),o=[a.x-r.x,a.y-r.y,a.z-r.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=bn(o,i)}setPitchBearing(e,i){this.orientation=_n(t.degToRad(e),t.degToRad(-i))}}class wn{constructor(e,i){this._transform=t.identity([]),this._orientation=t.identity$1([]),i&&(this._orientation=i,yn(this._transform,this._orientation)),e&&vn(this._transform,e)}get mercatorPosition(){const e=this.position;return new t.MercatorCoordinate(e[0],e[1],e[2])}get position(){const t=mn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){vn(this._transform,t)}get orientation(){return this._orientation}set orientation(t){this._orientation=t,yn(this._transform,this._orientation)}getPitchBearing(){const t=this.forward(),e=this.right();return{bearing:Math.atan2(-e[1],e[0]),pitch:Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2])}}setPitchBearing(t,e){this._orientation=_n(t,e),yn(this._transform,this._orientation)}forward(){const t=mn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=mn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=mn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(e,i){const n=new Float64Array(16);return t.invert(n,this.getWorldToCamera(e,i)),n}getWorldToCameraPosition(e,i,n){const r=this.position;t.scale(r,r,-e);const a=new Float64Array(16);return t.fromScaling(a,[n,n,n]),t.translate(a,a,r),a[10]*=i,a}getWorldToCamera(e,i){const n=new Float64Array(16),r=new Float64Array(4),a=this.position;return t.conjugate(r,this._orientation),t.scale(a,a,-e),t.fromQuat(n,r),t.translate(n,n,a),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=i,n[9]*=i,n[10]*=i,n[11]*=i,n}getCameraToClipPerspective(e,i,n,r){const a=new Float64Array(16);return t.perspective(a,e,i,n,r),a}getDistanceToElevation(e){const i=0===e?0:t.mercatorZfromAltitude(e,this.position[1]),n=this.forward();return(i-this.position[2])/n[2]}clone(){return new wn([...this.position],[...this.orientation])}}class kn{constructor(e,i,n,r,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=e||0,this._maxZoom=i||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new fn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new wn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const t=new kn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t._elevation=this._elevation,t._centerAltitude=this._centerAltitude,t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t.cameraElevationReference=this.cameraElevationReference,t._center=this._center,t._setZoom(this.zoom),t._cameraZoom=this._cameraZoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._averageElevation=this._averageElevation,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._camera=this._camera.clone(),t._calcMatrices(),t.freezeTileCoverage=this.freezeTileCoverage,t}get elevation(){return this._elevation}set elevation(t){this._elevation!==t&&(this._elevation=t,t?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(t){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),t&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}get maxZoom(){return this._maxZoom}set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}get minPitch(){return this._minPitch}set minPitch(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}get maxPitch(){return this._maxPitch}set maxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const t=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(t))}get pixelsPerMeter(){return t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return t.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){const i=-t.wrap(e,-180,180)*Math.PI/180;var n;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=(n=new t.ARRAY_TYPE(4),t.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(t,e,i){var n=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(i),l=Math.cos(i);t[0]=n*l+a*s,t[1]=r*l+o*s,t[2]=n*-s+a*l,t[3]=r*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const i=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(t){this._averageElevation=t,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(t){const e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._setZoom(e),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(t){this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const e=this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(this.center),-1);return-1===e?(this._cameraZoom=null,!1):(this._centerAltitude=e,!0)}_updateCameraOnTerrain(){const e=this.cameraToCenterDistance/this.worldSize,i=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(i+e)}sampleAverageElevation(){if(!this._elevation)return 0;const e=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop();let r=0,a=0;for(let o=0;o<i.length;o++){const s=new t.pointGeometry(i[o][0]*this.width,n+i[o][1]*(this.height-n)),l=e.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,a+=c}return 0===a?NaN:r/a}get center(){return this._center}set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const e=this._cameraZoom,i=this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(this.center)),n=t.mercatorZfromAltitude(i,this.center.lat),r=this._mercatorZfromZoom(e),a=this._mercatorZfromZoom(this._maxZoom),o=Math.max(r-n,a);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}computeZoomRelativeTo(e){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));let n;n=e.z<this._camera.position[2]?[i.x,i.y,i.z]:[e.x,e.y,e.z];const r=t.length(t.sub([],this._camera.position,n));return t.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(e){if(!this.height)return;if(!e.position&&!e.orientation)return;this._updateCameraState();let i=!1;if(e.orientation&&!t.exactEquals(e.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(e.orientation)),e.position){const n=[e.position.x,e.position.y,e.position.z];t.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),i=!0)}i&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const e=this._camera.position,i=new xn;return i.position=new t.MercatorCoordinate(e[0],e[1],e[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this._renderWorldCopies,i}_setCameraOrientation(e){if(!t.length$1(e))return!1;t.normalize$1(e,e);const i=t.transformQuat([],[0,0,-1],e),n=t.transformQuat([],[0,-1,0],e);if(n[2]<0)return!1;const r=bn(i,n);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(e){const i=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;e[2]=t.clamp(e[2],r/n,r/i),this._camera.position=e}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,e,i){this._unmodified=!1,this._edgeInsets.interpolate(t,e,i),this._constrain(),this._calcMatrices()}coveringZoomLevel(t){const e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}getVisibleUnwrappedCoordinates(e){const i=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies){const n=this.pointCoordinate(new t.pointGeometry(0,0)),r=this.pointCoordinate(new t.pointGeometry(this.width,0)),a=this.pointCoordinate(new t.pointGeometry(this.width,this.height)),o=this.pointCoordinate(new t.pointGeometry(0,this.height)),s=Math.floor(Math.min(n.x,r.x,a.x,o.x)),l=Math.floor(Math.max(n.x,r.x,a.x,o.x)),c=1;for(let n=s-c;n<=l+c;n++)0!==n&&i.push(new t.UnwrappedTileID(n,e))}return i}coveringTiles(e){let i=this.coveringZoomLevel(e);const n=i,r=this.elevation&&!e.isTerrainDEM;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);const a=t.MercatorCoordinate.fromLngLat(this.center),o=1<<i,s=[o*a.x,o*a.y,0],l=p.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i),c=this.pointCoordinate(this.getCameraPoint()),u=o*t.mercatorZfromAltitude(1,this.center.lat),d=this._camera.position[2]/t.mercatorZfromAltitude(1,this.center.lat),h=[o*c.x,o*c.y,d],m=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),g=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?i:0,y=e.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,v=e.isTerrainDEM?-y:this._elevation?this._elevation.getMinElevationBelowMSL():0,_=t=>({aabb:new f([t*o,0,v],[(t+1)*o,o,y]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}),b=[],x=[],w=i,k=e.reparseOverscaled?n:i,S=t=>{if(!this._elevation||!t.tileID)return;const e=this._elevation.getMinMaxForTile(t.tileID),i=t.aabb;e?(i.min[2]=e.min,i.max[2]=e.max,i.center[2]=(i.min[2]+i.max[2])/2):(t.shouldSplit=C(t),t.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude))},T=t=>t*t,M=T((d-this._centerAltitude)*u),C=t=>{if(t.zoom<g)return!0;if(t.zoom===w)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const e=t.aabb.distanceX(h),i=t.aabb.distanceY(h);let n=M;r&&(n=T(t.aabb.distanceZ(h)*u));const a=e*e+i*i+n;return a<T((1<<w-t.zoom)*m*((t,e)=>{if(e*T(.707)<t)return 1;const i=Math.sqrt(e/t);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(n,M),a))};if(this._renderWorldCopies)for(let t=1;t<=3;t++)b.push(_(-t)),b.push(_(t));for(b.push(_(0));b.length>0;){const n=b.pop(),a=n.x,o=n.y;let c=n.fullyVisible;if(!c){const t=n.aabb.intersects(l);if(0===t)continue;c=2===t}if(n.zoom!==w&&C(n))for(let e=0;e<4;e++){const i=(a<<1)+e%2,s=(o<<1)+(e>>1),l={aabb:n.aabb.quadrant(e),zoom:n.zoom+1,x:i,y:s,wrap:n.wrap,fullyVisible:c,tileID:void 0,shouldSplit:void 0};r&&(l.tileID=new t.OverscaledTileID(n.zoom+1===w?k:n.zoom+1,n.wrap,n.zoom+1,i,s),S(l)),b.push(l)}else{const r=n.zoom===w?k:n.zoom;if(e.minzoom&&e.minzoom>r)continue;const l=s[0]-(.5+a+(n.wrap<<n.zoom))*(1<<i-n.zoom),c=s[1]-.5-o,u=n.tileID?n.tileID:new t.OverscaledTileID(r,n.wrap,n.zoom,a,o);x.push({tileID:u,distanceSq:l*l+c*c})}}if(this.fogCullDistSq){const e=this.fogCullDistSq;x.splice(0,x.length,...x.filter(i=>{const n=[0,0,0,1],a=[t.EXTENT,t.EXTENT,0,1],o=this.calculateFogTileMatrix(i.tileID.toUnwrapped());t.transformMat4(n,n,o),t.transformMat4(a,a,o);const s=t.getAABBPointSquareDist(n,a);if(0===s)return!0;let l=!1;const c=this.horizonLineFromTop();if(s>e&&0!==c){const e=this.calculateProjMatrix(i.tileID.toUnwrapped());let n;r&&this._elevation&&(n=this._elevation.getMinMaxForTile(i.tileID)),n||(n={min:v,max:y});const a=t.furthestTileCorner(this.bearing),o=[a[0]*t.EXTENT,a[1]*t.EXTENT,n.max];t.transformMat4$1(o,o,e),l=(1-o[1])*this.height*.5<c}return s<e||l}))}return x.sort((t,e)=>t.distanceSq-e.distanceSq).map(t=>t.tileID)}resize(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(t){return Math.pow(2,t)}scaleZoom(t){return Math.log(t)/Math.LN2}project(e){const i=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.pointGeometry(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(i)*this.worldSize)}unproject(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(e,i){const n=this.pointCoordinate(i),r=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(e),o=new t.MercatorCoordinate(a.x-(n.x-r.x),a.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(t){this.center=this.coordinateLocation(t),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(t){return this._coordinatePoint(this.locationCoordinate(t),!1)}locationPoint3D(t){return this._coordinatePoint(this.locationCoordinate(t),!0)}pointLocation(t){return this.coordinateLocation(this.pointCoordinate(t))}pointLocation3D(t){return this.coordinateLocation(this.pointCoordinate3D(t))}locationCoordinate(e){return t.MercatorCoordinate.fromLngLat(e)}coordinateLocation(t){return t.toLngLat()}pointRayIntersection(e,i){const n=null!=i?i:this._centerAltitude,r=[e.x,e.y,0,1],a=[e.x,e.y,1,1];t.transformMat4(r,r,this.pixelMatrixInverse),t.transformMat4(a,a,this.pixelMatrixInverse);const o=a[3];t.scale$2(r,r,1/r[3]),t.scale$2(a,a,1/o);const s=r[2],l=a[2];return{p0:r,p1:a,t:s===l?0:(n-s)/(l-s)}}screenPointToMercatorRay(e){const i=[e.x,e.y,0,1],n=[e.x,e.y,1,1];return t.transformMat4(i,i,this.pixelMatrixInverse),t.transformMat4(n,n,this.pixelMatrixInverse),t.scale$2(i,i,1/i[3]),t.scale$2(n,n,1/n[3]),i[2]=t.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,n[2]=t.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,t.scale$2(i,i,1/this.worldSize),t.scale$2(n,n,1/this.worldSize),new h([i[0],i[1],i[2]],t.normalize([],t.sub([],n,i)))}rayIntersectionCoordinate(e){const{p0:i,p1:n,t:r}=e,a=t.mercatorZfromAltitude(i[2],this._center.lat),o=t.mercatorZfromAltitude(n[2],this._center.lat);return new t.MercatorCoordinate(t.number(i[0],n[0],r)/this.worldSize,t.number(i[1],n[1],r)/this.worldSize,t.number(a,o,r))}pointCoordinate(e){const i=this.horizonLineFromTop(!1),n=new t.pointGeometry(e.x,Math.max(i,e.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(n))}pointCoordinate3D(e){if(!this.elevation)return this.pointCoordinate(e);const i=this.elevation;let n=this.elevation.pointCoordinate(e);if(n)return new t.MercatorCoordinate(n[0],n[1],n[2]);let r=0,a=this.horizonLineFromTop();if(e.y>a)return this.pointCoordinate(e);const o=.02*a,s=e.clone();for(let e=0;e<10&&a-r>o;e++){s.y=t.number(r,a,.66);const e=i.pointCoordinate(s);e?(a=s.y,n=e):r=s.y}return n?new t.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(e)}isPointAboveHorizon(t){if(this.elevation)return!this.elevation.pointCoordinate(t);{const e=this.horizonLineFromTop();return t.y<e}}_coordinatePoint(e,i){const n=i&&this.elevation?this.elevation.getAtPointOrZero(e,this._centerAltitude):this._centerAltitude,r=[e.x*this.worldSize,e.y*this.worldSize,n+e.toAltitude(),1];return t.transformMat4(r,r,this.pixelMatrix),r[3]>0?new t.pointGeometry(r[0]/r[3],r[1]/r[3]):new t.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new t.LngLatBounds).extend(this.pointLocation(new t.pointGeometry(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new t.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new t.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new t.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const e=this.elevation,i=e.visibleDemTiles.reduce((t,e)=>{if(e.dem){const i=e.dem.tree;t.min=Math.min(t.min,i.minimums[0]),t.max=Math.max(t.max,i.maximums[0])}return t},{min:Number.MAX_VALUE,max:0});i.min*=e.exaggeration(),i.max*=e.exaggeration();const n=this.horizonLineFromTop();return[new t.pointGeometry(0,n),new t.pointGeometry(this.width,n),new t.pointGeometry(this.width,this.height),new t.pointGeometry(0,this.height)].reduce((t,e)=>t.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(e,i.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(e,i.max)))),new t.LngLatBounds)}horizonLineFromTop(t=!0){const e=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-.97*e;return t?Math.max(0,i):i}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(e,i){const n=e.canonical,r=i/this.zoomScale(n.z),a=n.x+Math.pow(2,n.z)*e.wrap,o=t.identity(new Float64Array(16));return t.translate(o,o,[a*r,n.y*r,0]),t.scale$1(o,o,[r/t.EXTENT,r/t.EXTENT,1]),o}calculateFogTileMatrix(e){const i=e.key,n=this._fogTileMatrixCache;if(n[i])return n[i];const r=this.calculatePosMatrix(e,this.cameraWorldSize);return t.multiply(r,this.worldToFogMatrix,r),n[i]=new Float32Array(r),n[i]}calculateProjMatrix(e,i=!1){const n=e.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[n])return r[n];const a=this.calculatePosMatrix(e,this.worldSize);return t.multiply(a,i?this.alignedProjMatrix:this.projMatrix,a),r[n]=new Float32Array(a),r[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const i=this._camera.position,n=this._camera.forward();if(i[2]<=0||n[2]>=0)return;const r=t.mercatorZfromAltitude(1,this._center.lat);i[2]/=r,n[2]/=r,t.normalize(n,n);const a=e.raycast(i,n,e.exaggeration());if(a){const e=t.scaleAndAdd([],i,n,a),r=new t.MercatorCoordinate(e[0],e[1],t.mercatorZfromAltitude(e[2],t.latFromMercatorY(e[1]))),o=this._camera.position,s=r.z+t.length([r.x-o[0],r.y-o[1],r.z-o[2]]);this._cameraZoom=this._zoomFromMercatorZ(s),this._centerAltitude=r.toAltitude(),this._center=r.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const i=e.getAtPointOrZero(this._camera.mercatorPosition),n=this._minimumHeightOverTerrain()*Math.cos(t.degToRad(this._maxPitch)),r=t.mercatorZfromAltitude(i,this._center.lat),a=this._camera.position[2]-r;if(a<n){const e=t.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),i=this._camera.mercatorPosition,r=[e.x-i.x,e.y-i.y,e.z-i.z],o=t.length(r);r[2]-=n-a;const s=t.length(r);if(0===s)return;t.scale(r,r,o/s),this._camera.position=[e.x-r[0],e.y-r[1],e.z-r[2]],this._camera.orientation=bn(r,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let e,i,n,r,a=-90,o=90,s=-180,l=180;const c=this.size,u=this._unmodified;if(this.latRange){const i=this.latRange;a=t.mercatorYfromLat(i[1])*this.worldSize,o=t.mercatorYfromLat(i[0])*this.worldSize,e=o-a<c.y?c.y/(o-a):0}if(this.lngRange){const e=this.lngRange;s=t.mercatorXfromLng(e[0])*this.worldSize,l=t.mercatorXfromLng(e[1])*this.worldSize,i=l-s<c.x?c.x/(l-s):0}const d=this.point,h=Math.max(i||0,e||0);if(h)return this.center=this.unproject(new t.pointGeometry(i?(l+s)/2:d.x,e?(o+a)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=u,void(this._constraining=!1);if(this.latRange){const t=d.y,e=c.y/2;t-e<a&&(r=a+e),t+e>o&&(r=o-e)}if(this.lngRange){const t=d.x,e=c.x/2;t-e<s&&(n=s+e),t+e>l&&(n=l-e)}void 0===n&&void 0===r||(this.center=this.unproject(new t.pointGeometry(void 0!==n?n:d.x,void 0!==r?r:d.y))),this._constrainCameraAltitude(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){const e=(t,e)=>Math.log2(t/(this.tileSize*Math.abs(e[1]-e[0])));let i=0;if(this.latRange){const n=this.latRange;i=e(this.height,[t.mercatorYfromLat(n[0]),t.mercatorYfromLat(n[1])])}let n=0;if(this.lngRange){const i=this.lngRange;n=e(this.width,[t.mercatorXfromLng(i[0]),t.mercatorXfromLng(i[1])])}return Math.max(i,n)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const i=this.pixelsPerMeter;this._updateCameraState();const n=Math.PI/2+this._pitch,r=this.fovAboveCenter,a=this.elevation?this.elevation.getMinElevationBelowMSL()*i:0,o=(this._camera.position[2]*this.worldSize-a)/Math.cos(this._pitch),s=Math.sin(r)*o/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),l=this.point,c=l.x,u=l.y,d=Math.cos(Math.PI/2-this._pitch)*s+o,h=Math.min(1.01*d,o*(1/this._horizonShift)),p=this.height/50,f=this._camera.getWorldToCamera(this.worldSize,i),m=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,p,h);m[8]=2*-e.x/this.width,m[9]=2*e.y/this.height;let g=t.mul$1([],m,f);this.mercatorMatrix=t.scale$1([],g,[this.worldSize,this.worldSize,this.worldSize/i]),this.projMatrix=g,this.invProjMatrix=t.invert(new Float64Array(16),this.projMatrix);const y=new Float32Array(16);t.identity(y),t.scale$1(y,y,[1,-1,1]),t.rotateX(y,y,this._pitch),t.rotateZ(y,y,this.angle);const v=t.perspective(new Float32Array(16),this._fov,this.width/this.height,p,h),_=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;v[8]=2*-e.x/this.width,v[9]=2*(e.y+_)/this.height,this.skyboxMatrix=t.multiply(y,v,y);const b=this.width%2/2,x=this.height%2/2,w=Math.cos(this.angle),k=Math.sin(this.angle),S=c-Math.round(c)+w*b+k*x,T=u-Math.round(u)+w*x+k*b,M=new Float64Array(g);if(t.translate(M,M,[S>.5?S-1:S,T>.5?T-1:T,0]),this.alignedProjMatrix=M,g=t.create$1(),t.scale$1(g,g,[this.width/2,-this.height/2,1]),t.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=t.create$1(),t.scale$1(g,g,[1,-1,1]),t.translate(g,g,[-1,-1,0]),t.scale$1(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),g=t.invert(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const e=this.cameraWorldSize,i=this.cameraPixelsPerMeter,n=this._camera.position,r=1/this.height,a=[e,e,i];t.scale(a,a,r),t.scale(n,n,-1),t.multiply$1(n,n,a);const o=t.create$1();t.translate(o,o,n),t.scale$1(o,o,a),this.mercatorFogMatrix=o,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(e,i,r)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const e=this._camera.forward(),i=this.cameraToCenterDistance,n=this.point,r=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-t.mercatorZfromAltitude(this._centerAltitude,this.center.lat),a=this.cameraToCenterDistance/r;this._camera.position=[n.x/this.worldSize-e[0]*i/a,n.y/this.worldSize-e[1]*i/a,t.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-e[2]*i/a]}_translateCameraConstrained(e){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=e[2];let r=1;n>0&&(r=Math.min((i-this._camera.position[2])/n,1)),this._camera.position=t.scaleAndAdd([],this._camera.position,e,r),this._updateStateFromCamera()}_updateStateFromCamera(){const e=this._camera.position,i=this._camera.forward(),{pitch:n,bearing:r}=this._camera.getPitchBearing(),a=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat),o=this._mercatorZfromZoom(this._maxZoom)*Math.cos(t.degToRad(this._maxPitch)),s=Math.max((e[2]-a)/Math.cos(n),o),l=this._zoomFromMercatorZ(s);t.scaleAndAdd(e,e,i,s),this._pitch=t.clamp(n,t.degToRad(this.minPitch),t.degToRad(this.maxPitch)),this.angle=t.wrap(r,-Math.PI,Math.PI),this._setZoom(t.clamp(l,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new t.MercatorCoordinate(e[0],e[1],e[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(t){return Math.pow(2,t)*this.tileSize}_mercatorZfromZoom(t){return this.cameraToCenterDistance/this._worldSizeFromZoom(t)}_minimumHeightOverTerrain(){const t=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(t)}_zoomFromMercatorZ(t){return this.scaleZoom(this.cameraToCenterDistance/(t*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(e,i){const n=Math.min(e.x,i.x),r=Math.max(e.x,i.x),a=Math.min(e.y,i.y),o=Math.max(e.y,i.y),s=[new t.pointGeometry(n,a),new t.pointGeometry(r,o),new t.pointGeometry(n,o),new t.pointGeometry(r,a)],l=this._renderWorldCopies?-3:0,c=this._renderWorldCopies?4:1;for(const t of s){const e=this.pointRayIntersection(t);if(e.t<0)return!0;const i=this.rayIntersectionCoordinate(e);if(i.x<l||i.y<0||i.x>c||i.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+t.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new t.pointGeometry(0,0),new t.pointGeometry(this.width,this.height))}zoomDeltaToMovement(e,i){const n=t.length(t.sub([],this._camera.position,e)),r=this._zoomFromMercatorZ(n)+i;return n-this._mercatorZfromZoom(r)}getCameraPoint(){const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.pointGeometry(0,e))}}function Sn(t,e){let i=!1,n=null;const r=()=>{n=null,i&&(t(),n=setTimeout(r,e),i=!1)};return()=>(i=!0,n||r(),n)}class Tn{constructor(e){this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Sn(this._updateHashUnthrottled.bind(this),300)}addTo(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const i=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,r),o=Math.round(i.lng*a)/a,s=Math.round(i.lat*a)/a,l=this._map.getBearing(),c=this._map.getPitch();let u="";if(u+=e?`/${o}/${s}/${n}`:`${n}/${s}/${o}`,(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),this._hashName){const e=this._hashName;let i=!1;const n=t.window.location.hash.slice(1).split("&").map(t=>{const n=t.split("=")[0];return n===e?(i=!0,`${n}=${u}`):t}).filter(t=>t);return i||n.push(`${e}=${u}`),"#"+n.join("&")}return"#"+u}_getCurrentHash(){const e=t.window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map(t=>t.split("=")).forEach(e=>{e[0]===this._hashName&&(t=e)}),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const t=this._getCurrentHash();if(t.length>=3&&!t.some(t=>isNaN(t))){const e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());t.window.history.replaceState(t.window.history.state,null,e)}}const Mn={linearity:.3,easing:t.bezier(0,0,.3,1)},Cn=t.extend({deceleration:2500,maxSpeed:1400},Mn),Dn=t.extend({deceleration:20,maxSpeed:1400},Mn),Ln=t.extend({deceleration:1e3,maxSpeed:360},Mn),An=t.extend({deceleration:1e3,maxSpeed:90},Mn);class En{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.exported.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,i=t.exported.now();for(;e.length>0&&i-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new t.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:t}of this._inertiaBuffer)i.zoom+=t.zoomDelta||0,i.bearing+=t.bearingDelta||0,i.pitch+=t.pitchDelta||0,t.panDelta&&i.pan._add(t.panDelta),t.around&&(i.around=t.around),t.pinchAround&&(i.pinchAround=t.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const a=In(i.pan.mag(),n,t.extend({},Cn,e||{}));r.offset=i.pan.mult(a.amount/i.pan.mag()),r.center=this._map.transform.center,Pn(r,a)}if(i.zoom){const t=In(i.zoom,n,Dn);r.zoom=this._map.transform.zoom+t.amount,Pn(r,t)}if(i.bearing){const e=In(i.bearing,n,Ln);r.bearing=this._map.transform.bearing+t.clamp(e.amount,-179,179),Pn(r,e)}if(i.pitch){const t=In(i.pitch,n,An);r.pitch=this._map.transform.pitch+t.amount,Pn(r,t)}if(r.zoom||r.bearing){const t=void 0===i.pinchAround?i.around:i.pinchAround;r.around=t?this._map.unproject(t):this._map.getCenter()}return this.clear(),t.extend(r,{noMoveStart:!0})}}function Pn(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function In(e,i,n){const{maxSpeed:r,linearity:a,deceleration:o}=n,s=t.clamp(e*a/(i/1e3),-r,r),l=Math.abs(s)/(o*a);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}class On extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,n,r={}){const o=a.mousePos(i.getCanvasContainer(),n),s=i.unproject(o);super(e,t.extend({point:o,lngLat:s,originalEvent:n},r)),this._defaultPrevented=!1,this.target=i}}class Rn extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,n){const r="touchend"===e?n.changedTouches:n.touches,o=a.touchPos(i.getCanvasContainer(),r),s=o.map(t=>i.unproject(t)),l=o.reduce((t,e,i,n)=>t.add(e.div(n.length)),new t.pointGeometry(0,0));super(e,{points:o,point:l,lngLats:s,lngLat:i.unproject(l),originalEvent:n}),this._defaultPrevented=!1}}class zn extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,e,i){super(t,{originalEvent:i}),this._defaultPrevented=!1}}class Yn{constructor(t,e){this._map=t,this._clickTolerance=e.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new zn(t.type,this._map,t))}mousedown(t,e){return this._mousedownPos=e,this._firePreventable(new On(t.type,this._map,t))}mouseup(t){this._map.fire(new On(t.type,this._map,t))}click(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new On(t.type,this._map,t))}dblclick(t){return this._firePreventable(new On(t.type,this._map,t))}mouseover(t){this._map.fire(new On(t.type,this._map,t))}mouseout(t){this._map.fire(new On(t.type,this._map,t))}touchstart(t){return this._firePreventable(new Rn(t.type,this._map,t))}touchmove(t){this._map.fire(new Rn(t.type,this._map,t))}touchend(t){this._map.fire(new Rn(t.type,this._map,t))}touchcancel(t){this._map.fire(new Rn(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fn{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(t){this._map.fire(new On(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new On("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new On(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hn{constructor(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(a.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)}mousemoveWindow(t,e){if(!this._active)return;const i=e;if(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)return;const n=this._startPos;this._lastPos=i,this._box||(this._box=a.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));const r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),s=Math.min(n.y,i.y),l=Math.max(n.y,i.y);this._map._requestDomTask(()=>{this._box&&(a.setTransform(this._box,`translate(${r}px,${s}px)`),this._box.style.width=o-r+"px",this._box.style.height=l-s+"px")})}mouseupWindow(e,i){if(!this._active)return;if(0!==e.button)return;const n=this._startPos,r=i;if(this.reset(),a.suppressClick(),n.x!==r.x||n.y!==r.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:t=>t.fitScreenCoordinates(n,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",e)}keydown(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(a.remove(this._box),this._box=null),a.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))}}function Nn(t,e){const i={};for(let n=0;n<t.length;n++)i[t[n].identifier]=e[n];return i}class Bn{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,i,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){const i=new t.pointGeometry(0,0);for(const t of e)i._add(t);return i.div(e.length)}(i),this.touches=Nn(n,i)))}touchmove(t,e,i){if(this.aborted||!this.centroid)return;const n=Nn(i,e);for(const t in this.touches){const e=this.touches[t],i=n[t];(!i||i.dist(e)>30)&&(this.aborted=!0)}}touchend(t,e,i){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const t=!this.aborted&&this.centroid;if(this.reset(),t)return t}}}class jn{constructor(t){this.singleTap=new Bn(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,e,i){this.singleTap.touchstart(t,e,i)}touchmove(t,e,i){this.singleTap.touchmove(t,e,i)}touchend(t,e,i){const n=this.singleTap.touchend(t,e,i);if(n){const e=t.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(n)<30;if(e&&i||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class Vn{constructor(){this._zoomIn=new jn({numTouches:1,numTaps:2}),this._zoomOut=new jn({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,e,i){this._zoomIn.touchstart(t,e,i),this._zoomOut.touchstart(t,e,i)}touchmove(t,e,i){this._zoomIn.touchmove(t,e,i),this._zoomOut.touchmove(t,e,i)}touchend(t,e,i){const n=this._zoomIn.touchend(t,e,i),r=this._zoomOut.touchend(t,e,i);return n?(this._active=!0,t.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(n)},{originalEvent:t})}):r?(this._active=!0,t.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(r)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Wn={0:1,2:2};class Un{constructor(t){this.reset(),this._clickTolerance=t.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(t,e){return!1}_move(t,e){return{}}mousedown(t,e){if(this._lastPoint)return;const i=a.mouseButton(t);this._correctButton(t,i)&&(this._lastPoint=e,this._eventButton=i)}mousemoveWindow(t,e){const i=this._lastPoint;if(i)if(t.preventDefault(),function(t,e){const i=Wn[e];return void 0===t.buttons||(t.buttons&i)!==i}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(i,e)}mouseupWindow(t){this._lastPoint&&a.mouseButton(t)===this._eventButton&&(this._moved&&a.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $n extends Un{mousedown(t,e){super.mousedown(t,e),this._lastPoint&&(this._active=!0)}_correctButton(t,e){return 0===e&&!t.ctrlKey}_move(t,e){return{around:e,panDelta:e.sub(t)}}}class qn extends Un{_correctButton(t,e){return 0===e&&t.ctrlKey||2===e}_move(t,e){const i=.8*(e.x-t.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(t){t.preventDefault()}}class Gn extends Un{_correctButton(t,e){return 0===e&&t.ctrlKey||2===e}_move(t,e){const i=-.5*(e.y-t.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(t){t.preventDefault()}}class Xn{constructor(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.pointGeometry(0,0)}touchstart(t,e,i){return this._calculateTransform(t,e,i)}touchmove(t,e,i){if(this._active&&!(i.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,i)}touchend(t,e,i){this._calculateTransform(t,e,i),this._active&&i.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,i,n){n.length>0&&(this._active=!0);const r=Nn(n,i),a=new t.pointGeometry(0,0),o=new t.pointGeometry(0,0);let s=0;for(const t in r){const e=r[t],i=this._touches[t];i&&(a._add(e),o._add(e.sub(i)),s++,r[t]=e)}if(this._touches=r,s<this._minTouches||!o.mag())return;const l=o.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Zn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(t){}_move(t,e,i){return{}}touchstart(t,e,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([e[0],e[1]]))}touchmove(t,e,i){if(!this._firstTwoTouches)return;t.preventDefault();const[n,r]=this._firstTwoTouches,a=Jn(i,e,n),o=Jn(i,e,r);if(!a||!o)return;const s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,t)}touchend(t,e,i){if(!this._firstTwoTouches)return;const[n,r]=this._firstTwoTouches,o=Jn(i,e,n),s=Jn(i,e,r);o&&s||(this._active&&a.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Jn(t,e,i){for(let n=0;n<t.length;n++)if(t[n].identifier===i)return e[n]}function Kn(t,e){return Math.log(t/e)/Math.LN2}class Qn extends Zn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,e){const i=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Kn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Kn(this._distance,i),pinchAround:e}}}function tr(t,e){return 180*t.angleWith(e)/Math.PI}class er extends Zn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,e){const i=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,i),pinchAround:e}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const e=25/(Math.PI*this._minDiameter)*360,i=tr(t,this._startVector);return Math.abs(i)<e}}function ir(t){return Math.abs(t.y)>Math.abs(t.x)}class nr extends Zn{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(t){this._lastPoints=t,ir(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,e,i){const n=t[0].sub(this._lastPoints[0]),r=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,r,i.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(n.y+r.y)/2*-.5}}gestureBeginsVertically(t,e,i){if(void 0!==this._valid)return this._valid;const n=t.mag()>=2,r=e.mag()>=2;if(!n&&!r)return;if(!n||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const a=t.y>0==e.y>0;return ir(t)&&ir(e)&&a}}const rr={panStep:100,bearingStep:15,pitchStep:10};class ar{constructor(){const t=rr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let e=0,i=0,n=0,r=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),r=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),r=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?n=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(i=0,n=0),{cameraAnimation:o=>{const s=o.getZoom();o.easeTo({duration:300,easeId:"keyboardHandler",easing:or,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:o.getBearing()+i*this._bearingStep,pitch:o.getPitch()+n*this._pitchStep,offset:[-r*this._panStep,-a*this._panStep],center:o.getCenter()},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function or(t){return t*(2-t)}const sr=4.000244140625;class lr{constructor(e,i){this._map=e,this._el=e.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,t.bindAll(["_onTimeout"],this)}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled())return;let i=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const n=t.exported.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%sr==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault()}_onTimeout(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const e=a.mousePos(this._el,t);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:e,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._map.transform,i=()=>e._terrainEnabled()?e.computeZoomRelativeTo(this._aroundCoord):e.zoom;if(0!==this._delta){const t="wheel"===this._type&&Math.abs(this._delta)>sr?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==n&&(n=1/n);const r=i(),a=Math.pow(2,r),o="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):a;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(o*n))),"wheel"===this._type&&(this._startZoom=i(),this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,a=this._easing;let o,s=!1;if("wheel"===this._type&&r&&a){const e=Math.min((t.exported.now()-this._lastWheelEventTime)/200,1),i=a(e);o=t.number(r,n,i),e<1?this._frameId||(this._frameId=!0):s=!0}else o=n,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:o-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let i=t.ease;if(this._prevEase){const e=this._prevEase,n=(t.exported.now()-e.start)/e.duration,r=e.easing(n+.01)-e.easing(n),a=.27/Math.sqrt(r*r+1e-4)*.01,o=Math.sqrt(.0729-a*a);i=t.bezier(a,o,.25,1)}return this._prevEase={start:t.exported.now(),duration:e,easing:i},i}reset(){this._active=!1}}class cr{constructor(t,e){this._clickZoom=t,this._tapZoom=e}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ur{constructor(){this.reset()}reset(){this._active=!1}dblclick(t,e){return t.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(t.shiftKey?-1:1),around:i.unproject(e)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dr{constructor(){this._tap=new jn({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(t,e,i){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=e[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(t,e,i))}touchmove(t,e,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const n=e[0],r=n.y-this._swipePoint.y;return this._swipePoint=n,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e,i)}touchend(t,e,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(t,e,i)&&(this._tapTime=t.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hr{constructor(t,e,i){this._el=t,this._mousePan=e,this._touchPan=i}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class pr{constructor(t,e,i){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=i}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class fr{constructor(t,e,i,n){this._el=t,this._touchZoom=e,this._touchRotate=i,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const mr=t=>t.zoom||t.drag||t.pitch||t.rotate;class gr extends t.Event{}class yr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(e,i){const n=t.sub([],i,e);this.radius=t.length(n[2]<0?t.div([],n,this.constants):[n[0],n[1],0])}projectRay(e){t.div(e,e,this.constants),t.normalize(e,e),t.mul$2(e,e,this.constants);const i=t.scale([],e,this.radius);if(i[2]>0){const e=t.scale([],[0,0,1],t.dot(i,[0,0,1])),n=t.scale([],t.normalize([],[i[0],i[1],0]),this.radius),r=t.add([],i,t.scale([],t.sub([],t.add([],n,e),i),2));i[0]=r[0],i[1]=r[1]}return i}}function vr(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}class _r{constructor(e,i){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new En(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new yr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),t.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[t.window,"blur",void 0]];for(const[e,i,n]of this._listeners)a.addEventListener(e,i,e===t.window.document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[e,i,n]of this._listeners)a.removeEventListener(e,i,e===t.window.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(t){const e=this._map,i=e.getCanvasContainer();this._add("mapEvent",new Yn(e,t));const n=e.boxZoom=new Hn(e,t);this._add("boxZoom",n);const r=new Vn,a=new ur;e.doubleClickZoom=new cr(a,r),this._add("tapZoom",r),this._add("clickZoom",a);const o=new dr;this._add("tapDragZoom",o);const s=e.touchPitch=new nr;this._add("touchPitch",s);const l=new qn(t),c=new Gn(t);e.dragRotate=new pr(t,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new $n(t),d=new Xn(t);e.dragPan=new hr(i,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);const h=new er,p=new Qn;e.touchZoomRotate=new fr(i,p,h,o),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Fn(e));const f=e.scrollZoom=new lr(e,this);this._add("scrollZoom",f,["mousePan"]);const m=e.keyboard=new ar;this._add("keyboard",m);for(const i of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])t.interactive&&t[i]&&e[i].enable(t[i])}_add(t,e,i){this._handlers.push({handlerName:t,handler:e,allowed:i}),this._handlersById[t]=e}stop(t){if(!this._updatingCamera){for(const{handler:t}of this._handlers)t.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(mr(this._eventsInProgress))||this.isZooming()}_blockedByActive(t,e,i){for(const n in t)if(n!==i&&(!e||e.indexOf(n)<0))return!0;return!1}handleWindowEvent(t){this.handleEvent(t,t.type+"Window")}_getMapTouches(t){const e=[];for(const i of t)this._el.contains(i.target)&&e.push(i);return e}handleEvent(t,e){if("blur"===t.type)return void this.stop(!0);this._updatingCamera=!0;const i="renderFrame"===t.type,n=i?void 0:t,r={needsRenderFrame:!1},o={},s={},l=t.touches?this._getMapTouches(t.touches):void 0,c=l?a.touchPos(this._el,l):i?void 0:a.mousePos(this._el,t);for(const{handlerName:i,handler:a,allowed:u}of this._handlers){if(!a.isEnabled())continue;let d;this._blockedByActive(s,u,i)?a.reset():a[e||t.type]&&(d=a[e||t.type](t,c,l),this.mergeHandlerResult(r,o,d,i,n),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||a.isActive())&&(s[i]=a)}const u={};for(const t in this._previousActiveHandlers)s[t]||(u[t]=n);this._previousActiveHandlers=s,(Object.keys(u).length||vr(r))&&(this._changes.push([r,o,u]),this._triggerRenderFrame()),(Object.keys(s).length||vr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:d}=r;d&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],d(this._map))}mergeHandlerResult(e,i,n,r,a){if(!n)return;t.extend(e,n);const o={handlerName:r,originalEvent:n.originalEvent||a};void 0!==n.zoomDelta&&(i.zoom=o),void 0!==n.panDelta&&(i.drag=o),void 0!==n.pitchDelta&&(i.pitch=o),void 0!==n.bearingDelta&&(i.rotate=o)}_applyChanges(){const e={},i={},n={};for(const[r,a,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new t.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.aroundCoord&&(e.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),t.extend(i,a),t.extend(n,o);this._updateMapTransform(e,i,n),this._changes=[]}_updateMapTransform(e,i,n){const r=this._map,a=r.transform,o=t=>[t.x,t.y,t.z];if((t=>{const e=this._eventsInProgress.drag;return e&&!this._handlersById[e.handlerName].isActive()})()&&!vr(e)){const t=a.zoom;a.cameraElevationReference="sea",a.recenterOnTerrain(),a.cameraElevationReference="ground",t!==a.zoom&&this._map._update(!0)}if(!vr(e))return this._fireEvents(i,n,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:d,aroundCoord:h,pinchAround:p}=e;void 0!==p&&(d=p),(t=>i.drag&&!this._eventsInProgress.drag)()&&d&&(this._dragOrigin=o(a.pointCoordinate3D(d)),this._trackingEllipsoid.setup(a._camera.position,this._dragOrigin)),a.cameraElevationReference="sea",r._stop(!0),d=d||r.transform.centerPoint,c&&(a.bearing+=c),u&&(a.pitch+=u),a._updateCameraState();const f=[0,0,0];if(s){const t=a.screenPointToMercatorRay(d),e=a.screenPointToMercatorRay(d.sub(s)),i=this._trackingEllipsoid.projectRay(t.dir),n=this._trackingEllipsoid.projectRay(e.dir);f[0]=n[0]-i[0],f[1]=n[1]-i[1]}const m=a.zoom,g=[0,0,0];if(l){const e=o(h||a.pointCoordinate3D(d)),i={dir:t.normalize([],t.sub([],e,a._camera.position))},n=a.screenPointToMercatorRay(a.centerPoint);if(i.dir[2]<0){const r=t.altitudeFromMercatorZ(e[2],e[1]),s=a.rayIntersectionCoordinate(a.pointRayIntersection(a.centerPoint,r)),c=a.zoomDeltaToMovement(o(s),l)*(n.dir[2]/i.dir[2]);t.scale(g,i.dir,c)}else if(a._terrainEnabled()){const n=a.zoomDeltaToMovement(e,l);t.scale(g,i.dir,n)}}const y=t.add(f,f,g);a._translateCameraConstrained(y),l&&Math.abs(a.zoom-m)>1e-4&&a.recenterOnTerrain(),a.cameraElevationReference="ground",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(i,n,!0)}_fireEvents(e,i,n){const r=mr(this._eventsInProgress),a=mr(e),o={};for(const t in e){const{originalEvent:i}=e[t];this._eventsInProgress[t]||(o[t+"start"]=i),this._eventsInProgress[t]=e[t]}!r&&a&&this._fireEvent("movestart",a.originalEvent);for(const t in o)this._fireEvent(t,o[t]);a&&this._fireEvent("move",a.originalEvent);for(const t in e){const{originalEvent:i}=e[t];this._fireEvent(t,i)}const s={};let l;for(const t in this._eventsInProgress){const{handlerName:e,originalEvent:n}=this._eventsInProgress[t];this._handlersById[e].isActive()||(delete this._eventsInProgress[t],l=i[e]||n,s[t+"end"]=l)}for(const t in s)this._fireEvent(t,s[t]);const c=mr(this._eventsInProgress);if(n&&(r||a)&&!c){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=t=>0!==t&&-this._bearingSnap<t&&t<this._bearingSnap;e?(i(e.bearing||this._map.getBearing())&&(e.bearing=0),this._map.easeTo(e,{originalEvent:l})):(this._map.fire(new t.Event("moveend",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,i){this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(t=>{delete this._frameId,this.handleEvent(new gr("renderFrame",{timeStamp:t})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class br extends t.Evented{constructor(e,i){super(),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=i.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}getCenter(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(t,e){return this.jumpTo({center:t},e)}panBy(e,i,n){return e=t.pointGeometry.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)}panTo(e,i,n){return this.easeTo(t.extend({center:e},i),n)}getZoom(){return this.transform.zoom}setZoom(t,e){return this.jumpTo({zoom:t},e),this}zoomTo(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)}zoomIn(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}zoomOut(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}getBearing(){return this.transform.bearing}setBearing(t,e){return this.jumpTo({bearing:t},e),this}getPadding(){return this.transform.padding}setPadding(t,e){return this.jumpTo({padding:t},e),this}rotateTo(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)}resetNorth(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this}resetNorthPitch(e,i){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),i),this}snapToNorth(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this}getPitch(){return this.transform.pitch}setPitch(t,e){return this.jumpTo({pitch:t},e),this}cameraForBounds(e,i){e=t.LngLatBounds.convert(e);const n=i&&i.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,i)}_extendCameraOptions(e){const i={top:0,bottom:0,right:0,left:0};if("number"==typeof(e=t.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){const t=e.padding;e.padding={top:t,bottom:t,right:t,left:t}}return e.padding=t.extend(i,e.padding),e}_cameraForBoxAndBearing(e,i,n,r){const a=this._extendCameraOptions(r),o=this.transform,s=o.padding,l=o.project(t.LngLat.convert(e)),c=o.project(t.LngLat.convert(i)),u=l.rotate(-t.degToRad(n)),d=c.rotate(-t.degToRad(n)),h=new t.pointGeometry(Math.max(u.x,d.x),Math.max(u.y,d.y)),p=new t.pointGeometry(Math.min(u.x,d.x),Math.min(u.y,d.y)),f=h.sub(p),m=(o.width-(s.left+s.right+a.padding.left+a.padding.right))/f.x,g=(o.height-(s.top+s.bottom+a.padding.top+a.padding.bottom))/f.y;if(g<0||m<0)return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(o.scaleZoom(o.scale*Math.min(m,g)),a.maxZoom),v="number"==typeof a.offset.x?new t.pointGeometry(a.offset.x,a.offset.y):t.pointGeometry.convert(a.offset),_=new t.pointGeometry((a.padding.left-a.padding.right)/2,(a.padding.top-a.padding.bottom)/2).rotate(n*Math.PI/180),b=v.add(_).mult(o.scale/o.zoomScale(y));return{center:o.unproject(l.add(c).div(2).sub(b)),zoom:y,bearing:n}}_cameraForBox(e,i,n,r,a){const o=this._extendCameraOptions(a);n=n||0,r=r||0,e=t.LngLat.convert(e),i=t.LngLat.convert(i);const s=this.transform.clone();s.padding=o.padding;const l=this.getFreeCameraOptions(),c=new t.LngLat(.5*(e.lng+i.lng),.5*(e.lat+i.lat)),u=.5*(n+r);if(s._camera.position[2]<t.mercatorZfromAltitude(u,c.lat))return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");l.lookAtPoint(c),s.setFreeCameraOptions(l);const d=t.MercatorCoordinate.fromLngLat(e),h=t.MercatorCoordinate.fromLngLat(i),m=s.pointRayIntersection(s.centerPoint,u),g=[(y=s.rayIntersectionCoordinate(m)).x,y.y,y.z];var y;const v=s.screenPointToMercatorRay(s.centerPoint);let _,b=0;do{const i=Math.floor(s.zoom),a=1<<i,o=Math.min(a*d.x,a*h.x),l=Math.min(a*d.y,a*h.y),c=Math.max(a*d.x,a*h.x),u=Math.max(a*d.y,a*h.y),m=new f([o,l,n],[c,u,r]),y=p.fromInvProjectionMatrix(s.invProjMatrix,s.worldSize,i);if(2!==m.intersects(y)){_&&(s._camera.position=t.scaleAndAdd([],s._camera.position,v.dir,-_),s._updateStateFromCamera());break}const b=t.sub([],s._camera.position,g);_=.5*t.length(b),s._camera.position=t.scaleAndAdd([],s._camera.position,v.dir,_);try{s._updateStateFromCamera()}catch(e){return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++b<10);return{center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}}fitBounds(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)}_raycastElevationBox(e,i){const n=this.transform.elevation;if(!n)return;const r=new t.pointGeometry(e.x,i.y),a=new t.pointGeometry(i.x,e.y),o=n.pointCoordinate(e);if(!o)return;const s=n.pointCoordinate(i);if(!s)return;const l=n.pointCoordinate(r);if(!l)return;const c=n.pointCoordinate(a);if(!c)return;const u=new t.MercatorCoordinate(o[0],o[1]).toLngLat(),d=new t.MercatorCoordinate(s[0],s[1]).toLngLat(),h=new t.MercatorCoordinate(l[0],l[1]).toLngLat(),p=new t.MercatorCoordinate(c[0],c[1]).toLngLat(),f=Math.min(u.lng,Math.min(d.lng,Math.min(h.lng,p.lng))),m=Math.min(u.lat,Math.min(d.lat,Math.min(h.lat,p.lat))),g=Math.max(u.lng,Math.max(d.lng,Math.max(h.lng,p.lng))),y=Math.max(u.lat,Math.max(d.lat,Math.max(h.lat,p.lat))),v=Math.min(o[3],Math.min(s[3],Math.min(l[3],c[3]))),_=Math.max(o[3],Math.max(s[3],Math.max(l[3],c[3])));return{minLngLat:new t.LngLat(f,m),maxLngLat:new t.LngLat(g,y),minAltitude:v,maxAltitude:_}}fitScreenCoordinates(e,i,n,r,a){let o,s,l,c;const u=t.pointGeometry.convert(e),d=t.pointGeometry.convert(i),h=this._raycastElevationBox(u,d);if(h)o=h.minLngLat,s=h.maxLngLat,l=h.minAltitude,c=h.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(u,d))return this;o=this.transform.pointLocation(u),s=this.transform.pointLocation(d)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(t.pointGeometry.convert(e)),this.transform.pointLocation(t.pointGeometry.convert(i)),n,r):this._cameraForBox(o,s,l,c,r),r,a)}_fitInternal(e,i,n){return e?(delete(i=t.extend(e,i)).padding,i.linear?this.easeTo(i,n):this.flyTo(i,n)):this}jumpTo(e,i){this.stop();const n=this.transform;let r=!1,a=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=t.LngLat.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(a=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),r&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),a&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),o&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(e,i){this.stop();const n=this.transform,r=n.zoom,a=n.pitch,o=n.bearing;n.setFreeCameraOptions(e);const s=r!==n.zoom,l=a!==n.pitch,c=o!==n.bearing;return this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),s&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),c&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),l&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i)),this}easeTo(e,i){this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.exported.prefersReducedMotion)&&(e.duration=0);const n=this.transform,r=this.getZoom(),a=this.getBearing(),o=this.getPitch(),s=this.getPadding(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:o,d="padding"in e?e.padding:n.padding,h=t.pointGeometry.convert(e.offset);let p=n.centerPoint.add(h);const f=n.pointLocation(p),m=t.LngLat.convert(e.center||f);this._normalizeCenter(m);const g=n.project(f),y=n.project(m).sub(g),v=n.zoomScale(l-r);let _,b;e.around&&(_=t.LngLat.convert(e.around),b=n.locationPoint(_));const x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==r,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||u!==o,this._padding=!n.isPaddingEqual(d),this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,x),this._ease(e=>{if(this._zooming&&(n.zoom=t.number(r,l,e)),this._rotating&&(n.bearing=t.number(a,c,e)),this._pitching&&(n.pitch=t.number(o,u,e)),this._padding&&(n.interpolatePadding(s,d,e),p=n.centerPoint.add(h)),_)n.setLocationAtPoint(_,b);else{const t=n.zoomScale(n.zoom-r),i=l>r?Math.min(2,v):Math.max(.5,v),a=Math.pow(i,1-e),o=n.unproject(g.add(y.mult(e*a)).mult(t));n.setLocationAtPoint(n.renderWorldCopies?o.wrap():o,p)}this._fireMoveEvents(i)},t=>{n.recenterOnTerrain(),this._afterEase(i,t)},e),this}_prepareEase(e,i,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",i||n.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!n.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!n.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!n.pitching&&this.fire(new t.Event("pitchstart",e))}_fireMoveEvents(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))}_afterEase(e,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId,this.transform.cameraElevationReference="ground";const n=this._zooming,r=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),a&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}flyTo(e,i){if(!e.essential&&t.exported.prefersReducedMotion){const n=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,i)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);const n=this.transform,r=this.getZoom(),a=this.getBearing(),o=this.getPitch(),s=this.getPadding(),l="zoom"in e?t.clamp(+e.zoom,n.minZoom,n.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:o,d="padding"in e?e.padding:n.padding,h=n.zoomScale(l-r),p=t.pointGeometry.convert(e.offset);let f=n.centerPoint.add(p);const m=n.pointLocation(f),g=t.LngLat.convert(e.center||m);this._normalizeCenter(g);const y=n.project(m),v=n.project(g).sub(y);let _=e.curve;const b=Math.max(n.width,n.height),x=b/h,w=v.mag();if("minZoom"in e){const i=t.clamp(Math.min(e.minZoom,r,l),n.minZoom,n.maxZoom),a=b/n.zoomScale(i-r);_=Math.sqrt(a/w*2)}const k=_*_;function S(t){const e=(x*x-b*b+(t?-1:1)*k*k*w*w)/(2*(t?x:b)*k*w);return Math.log(Math.sqrt(e*e+1)-e)}function T(t){return(Math.exp(t)-Math.exp(-t))/2}function M(t){return(Math.exp(t)+Math.exp(-t))/2}const C=S(0);let D=function(t){return M(C)/M(C+_*t)},L=function(t){return b*((M(C)*(T(e=C+_*t)/M(e))-T(C))/k)/w;var e},A=(S(1)-C)/_;if(Math.abs(w)<1e-6||!isFinite(A)){if(Math.abs(b-x)<1e-6)return this.easeTo(e,i);const t=x<b?-1:1;A=Math.abs(Math.log(x/b))/_,L=function(){return 0},D=function(e){return Math.exp(t*_*e)}}return e.duration="duration"in e?+e.duration:1e3*A/("screenSpeed"in e?+e.screenSpeed/_:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=u!==o,this._padding=!n.isPaddingEqual(d),this._prepareEase(i,!1),this._ease(e=>{const h=e*A,m=1/D(h);n.zoom=1===e?l:r+n.scaleZoom(m),this._rotating&&(n.bearing=t.number(a,c,e)),this._pitching&&(n.pitch=t.number(o,u,e)),this._padding&&(n.interpolatePadding(s,d,e),f=n.centerPoint.add(p));const _=1===e?g:n.unproject(y.add(v.mult(L(h))).mult(m));n.setLocationAtPoint(n.renderWorldCopies?_.wrap():_,f),n._updateCenterElevation(),this._fireMoveEvents(i)},()=>this._afterEase(i),e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const t=this._onEaseEnd;delete this._onEaseEnd,t.call(this,e)}if(!t){const t=this.handlers;t&&t.stop(!1)}return this}_ease(e,i,n){!1===n.animate||0===n.duration?(e(1),i()):(this._easeStart=t.exported.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const e=Math.min((t.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(e,i){e=t.wrap(e,-180,180);const n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e}_normalizeCenter(t){const e=this.transform;if(!e.renderWorldCopies||e.lngRange)return;const i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}}class xr{constructor(e={}){this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(t){const e=this.options&&this.options.compact;return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=a.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=a.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){a.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(t,e){const i=this._map._getUIString("AttributionControl."+e);t.title=i,t.setAttribute("aria-label",i)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));const i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){const n=i.reduce((t,e,n)=>(e.value&&(t+=`${e.key}=${e.value}${n<i.length-1?"&":""}`),t),"?");e.href=`${t.config.FEEDBACK_URL}/${n}${this._map._hash?this._map._hash.getHashString(!0):""}`,e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}}_updateData(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(t=>"string"!=typeof t?"":t)):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){const t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}const e=this._map.style._sourceCaches;for(const i in e){const n=e[i];if(n.used){const e=n.getSource();e.attribution&&t.indexOf(e.attribution)<0&&t.push(e.attribution)}}t.sort((t,e)=>t.length-e.length),t=t.filter((e,i)=>{for(let n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0});const i=t.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,t.length?(this._innerContainer.innerHTML=i,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class wr{constructor(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)}onAdd(t){this._map=t,this._container=a.create("div","mapboxgl-ctrl");const e=a.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){a.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const t=this._map.style._sourceCaches;if(0===Object.entries(t).length)return!0;for(const e in t){const i=t[e].getSource();if(i.hasOwnProperty("mapbox_logo")&&!i.mapbox_logo)return!1}return!0}_updateCompact(){const t=this._container.children;if(t.length){const e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}}}class kr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e}remove(t){const e=this._currentlyRunning,i=e?this._queue.concat(e):this._queue;for(const e of i)if(e.id===t)return void(e.cancelled=!0)}run(t=0){const e=this._currentlyRunning=this._queue;this._queue=[];for(const i of e)if(!i.cancelled&&(i.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Sr(e,i,n){if(e=new t.LngLat(e.lng,e.lat),i){const r=new t.LngLat(e.lng-360,e.lat),a=new t.LngLat(e.lng+360,e.lat),o=360*Math.ceil(Math.abs(e.lng-n.center.lng)/360),s=n.locationPoint(e).distSqr(i),l=i.x<0||i.y<0||i.x>n.width||i.y>n.height;n.locationPoint(r).distSqr(i)<s&&(l||Math.abs(r.lng-n.center.lng)<o)?e=r:n.locationPoint(a).distSqr(i)<s&&(l||Math.abs(a.lng-n.center.lng)<o)&&(e=a)}for(;Math.abs(e.lng-n.center.lng)>180;){const t=n.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=n.width&&t.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}const Tr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Mr(t,e,i){const n=t.classList;for(const t in Tr)n.remove(`mapboxgl-${i}-anchor-${t}`);n.add(`mapboxgl-${i}-anchor-${e}`)}class Cr extends t.Evented{constructor(e,i){if(super(),(e instanceof t.window.HTMLElement||i)&&(e=t.extend({element:e},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,e&&e.element)this._element=e.element,this._offset=t.pointGeometry.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=a.create("div"),this._element.setAttribute("aria-label","Map marker");const i=a.createNS("http://www.w3.org/2000/svg","svg"),n=41,r=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height",n+"px"),i.setAttributeNS(null,"width",r+"px"),i.setAttributeNS(null,"viewBox",`0 0 ${r} ${n}`);const o=a.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");const s=a.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=a.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const t of c){const e=a.createNS("http://www.w3.org/2000/svg","ellipse");e.setAttributeNS(null,"opacity","0.04"),e.setAttributeNS(null,"cx","10.5"),e.setAttributeNS(null,"cy","5.80029008"),e.setAttributeNS(null,"rx",t.rx),e.setAttributeNS(null,"ry",t.ry),l.appendChild(e)}const u=a.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const d=a.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(d);const h=a.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"opacity","0.25"),h.setAttributeNS(null,"fill","#000000");const p=a.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),h.appendChild(p);const f=a.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=a.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=a.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=a.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),s.appendChild(l),s.appendChild(u),s.appendChild(h),s.appendChild(f),s.appendChild(m),i.appendChild(s),i.setAttributeNS(null,"height",n*this._scale+"px"),i.setAttributeNS(null,"width",r*this._scale+"px"),this._element.appendChild(i),this._offset=t.pointGeometry.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",t=>{t.preventDefault()}),this._element.addEventListener("mousedown",t=>{t.preventDefault()}),Mr(this._element,this._anchor,"marker"),this._popup=null}addTo(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),t.on("remove",this._clearFadeTimer),t._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),a.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const e=38.1,i=13.5,n=Math.sqrt(Math.pow(i,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[n,-1*(e-i+n)],"bottom-right":[-n,-1*(e-i+n)],left:[i,-1*(e-i)],right:[-i,-1*(e-i)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(t){const e=t.code,i=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==i&&13!==i||this.togglePopup()}_onMapClick(t){const e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this}_evaluateOpacity(){const t=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(t))return void this._clearFadeTimer();const e=this._map.unproject(t);let i=!1;if(this._map.getTerrain()){const t=this._map.getFreeCameraOptions();if(t.position){const n=t.position.toLngLat();i=n.distanceTo(e)<.9*n.distanceTo(this._lngLat)}}const n=(1-this._map._queryFogOpacity(e))*(i?.2:1);this._element.style.opacity=""+n,this._popup&&this._popup._setOpacity(""+n),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(t){const e=this._map.transform;return!!t&&t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height}_update(t){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(e=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i=`rotateX(${this._map.getPitch()}deg)`),t&&"moveend"!==t.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&a.setTransform(this._element,`${Tr[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${i} ${e}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const t=this._map.transform,e=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&e._rotate(t.angle),"map"===this._pitchAlignment&&(e.y*=Math.cos(t._pitch)),e}getOffset(){return this._offset}setOffset(e){return this._offset=t.pointGeometry.convert(e),this._update(),this}_onMove(e){if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"}_addDragHandler(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class Dr{constructor(t){this.jumpTo(t)}getValue(e){if(e<=this._startTime)return this._start;if(e>=this._endTime)return this._end;const i=t.easeCubicInOut((e-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(t){return t>=this._startTime&&t<=this._endTime}jumpTo(t){this._startTime=-1/0,this._endTime=-1/0,this._start=t,this._end=t}easeTo(t,e,i){this._start=this.getValue(e),this._end=t,this._startTime=e,this._endTime=e+i}}const Lr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:Ar,HTMLElement:Er,ImageBitmap:Pr}=t.window,Ir={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Or(t){t.parentNode&&t.parentNode.removeChild(t)}const Rr={showCompass:!0,showZoom:!0,visualizePitch:!1};class zr{constructor(e,i,n=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new qn({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,n&&(this.mousePitch=new Gn({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),a.addEventListener(i,"mousedown",this.mousedown),a.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),a.addEventListener(i,"touchmove",this.touchmove),a.addEventListener(i,"touchend",this.touchend),a.addEventListener(i,"touchcancel",this.reset)}down(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),a.disableDrag()}move(t,e){const i=this.map,n=this.mouseRotate.mousemoveWindow(t,e);if(n&&n.bearingDelta&&i.setBearing(i.getBearing()+n.bearingDelta),this.mousePitch){const n=this.mousePitch.mousemoveWindow(t,e);n&&n.pitchDelta&&i.setPitch(i.getPitch()+n.pitchDelta)}}off(){const t=this.element;a.removeEventListener(t,"mousedown",this.mousedown),a.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),a.removeEventListener(t,"touchmove",this.touchmove),a.removeEventListener(t,"touchend",this.touchend),a.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}offTemp(){a.enableDrag(),a.removeEventListener(t.window,"mousemove",this.mousemove),a.removeEventListener(t.window,"mouseup",this.mouseup)}mousedown(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),a.mousePos(this.element,e)),a.addEventListener(t.window,"mousemove",this.mousemove),a.addEventListener(t.window,"mouseup",this.mouseup)}mousemove(t){this.move(t,a.mousePos(this.element,t))}mouseup(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()}touchstart(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=a.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>t.preventDefault()},this._startPos))}touchmove(t){1!==t.targetTouches.length?this.reset():(this._lastPos=a.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:()=>t.preventDefault()},this._lastPos))}touchend(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Yr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let Fr,Hr=0,Nr=!1;const Br={maxWidth:100,unit:"metric"};function jr(t,e,i){const n=i&&i.maxWidth||100,r=t._container.clientHeight/2,a=t.unproject([0,r]),o=t.unproject([n,r]),s=a.distanceTo(o);if(i&&"imperial"===i.unit){const i=3.2808*s;i>5280?Vr(e,n,i/5280,t._getUIString("ScaleControl.Miles"),t):Vr(e,n,i,t._getUIString("ScaleControl.Feet"),t)}else i&&"nautical"===i.unit?Vr(e,n,s/1852,t._getUIString("ScaleControl.NauticalMiles"),t):s>=1e3?Vr(e,n,s/1e3,t._getUIString("ScaleControl.Kilometers"),t):Vr(e,n,s,t._getUIString("ScaleControl.Meters"),t)}function Vr(t,e,i,n,r){const a=function(t){const e=Math.pow(10,(""+Math.floor(t)).length-1);let i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(t){const e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(i),e*i}(i),o=a/i;r._requestDomTask(()=>{t.style.width=e*o+"px",t.innerHTML=`${a}&nbsp;${n}`})}const Wr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ur=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function $r(e){if(e){if("number"==typeof e){const i=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{center:new t.pointGeometry(0,0),top:new t.pointGeometry(0,e),"top-left":new t.pointGeometry(i,i),"top-right":new t.pointGeometry(-i,i),bottom:new t.pointGeometry(0,-e),"bottom-left":new t.pointGeometry(i,-i),"bottom-right":new t.pointGeometry(-i,-i),left:new t.pointGeometry(e,0),right:new t.pointGeometry(-e,0)}}if(e instanceof t.pointGeometry||Array.isArray(e)){const i=t.pointGeometry.convert(e);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.pointGeometry.convert(e.center||[0,0]),top:t.pointGeometry.convert(e.top||[0,0]),"top-left":t.pointGeometry.convert(e["top-left"]||[0,0]),"top-right":t.pointGeometry.convert(e["top-right"]||[0,0]),bottom:t.pointGeometry.convert(e.bottom||[0,0]),"bottom-left":t.pointGeometry.convert(e["bottom-left"]||[0,0]),"bottom-right":t.pointGeometry.convert(e["bottom-right"]||[0,0]),left:t.pointGeometry.convert(e.left||[0,0]),right:t.pointGeometry.convert(e.right||[0,0])}}return $r(new t.pointGeometry(0,0))}const qr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:class extends br{constructor(e){if(null!=(e=t.extend({},Ir,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new kn(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._optimizeForTerrain=e.optimizeForTerrain,this._renderTaskQueue=new kr,this._domRenderTaskQueue=new kr,this._controls=[],this._markers=[],this._mapId=t.uniqueId(),this._locale=t.extend({},Lr,e.locale),this._clickTolerance=e.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new Dr(0),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken,e.testMode),this._silenceAuthErrors=!!e.testMode,"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container}' not found.`)}else{if(!(e.container instanceof Er))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1),t.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new _r(this,e),this._hash=e.hash&&new Tn("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=e.localFontFamily,this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),e.attributionControl&&this.addControl(new xr({customAttribution:e.customAttribution})),this._logoControl=new wr,this.addControl(this._logoControl,e.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",e=>{this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",e=>{this.fire(new t.Event(e.dataType+"dataloading",e))})}_getMapId(){return this._mapId}addControl(e,i){if(void 0===i&&(i=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this}hasControl(t){return this._controls.indexOf(t)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(e){const i=this._containerDimensions(),n=i[0],r=i[1];this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r);const a=!this._moving;return a&&(this.stop(),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e))),this.fire(new t.Event("resize",e)),a&&this.fire(new t.Event("moveend",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(t){return this.transform.renderWorldCopies=t,this._update()}project(e){return this.transform.locationPoint3D(t.LngLat.convert(e))}unproject(e){return this.transform.pointLocation3D(t.pointGeometry.convert(e))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(t,e,i){if("mouseenter"===t||"mouseover"===t){let n=!1;const r=r=>{const a=this.getLayer(e)?this.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?n||(n=!0,i.call(this,new On(t,this,r.originalEvent,{features:a}))):n=!1};return{layer:e,listener:i,delegates:{mousemove:r,mouseout:()=>{n=!1}}}}if("mouseleave"===t||"mouseout"===t){let n=!1;const r=r=>{(this.getLayer(e)?this.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?n=!0:n&&(n=!1,i.call(this,new On(t,this,r.originalEvent)))},a=e=>{n&&(n=!1,i.call(this,new On(t,this,e.originalEvent)))};return{layer:e,listener:i,delegates:{mousemove:r,mouseout:a}}}{const n=t=>{const n=this.getLayer(e)?this.queryRenderedFeatures(t.point,{layers:[e]}):[];n.length&&(t.features=n,i.call(this,t),delete t.features)};return{layer:e,listener:i,delegates:{[t]:n}}}}on(t,e,i){if(void 0===i)return super.on(t,e);const n=this._createDelegatedListener(t,e,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(n);for(const t in n.delegates)this.on(t,n.delegates[t]);return this}once(t,e,i){if(void 0===i)return super.once(t,e);const n=this._createDelegatedListener(t,e,i);for(const t in n.delegates)this.once(t,n.delegates[t]);return this}off(t,e,i){return void 0===i?super.off(t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&(n=>{const r=this._delegatedListeners[t];for(let t=0;t<r.length;t++){const n=r[t];if(n.layer===e&&n.listener===i){for(const t in n.delegates)this.off(t,n.delegates[t]);return r.splice(t,1),this}}})(),this)}queryRenderedFeatures(e,i){return this.style?(void 0!==i||void 0===e||e instanceof t.pointGeometry||Array.isArray(e)||(i=e,e=void 0),this.style.queryRenderedFeatures(e=e||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(t,e){return this.style.querySourceFeatures(t,e)}queryTerrainElevation(e,i){const n=this.transform.elevation;return n?(i=t.extend({},{exaggerated:!0},i),n.getAtPoint(t.MercatorCoordinate.fromLngLat(e),null,i.exaggerated)):null}setStyle(e,i){return!1!==(i=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&e?(this._diffStyle(e,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(e,i))}_getUIString(t){const e=this._locale[t];if(null==e)throw new Error(`Missing UI string '${t}'`);return e}_updateStyle(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),t&&(this.style=new je(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new je(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,i){if("string"==typeof e){const n=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(n,t.ResourceType.Style);t.getJSON(r,(e,n)=>{e?this.fire(new t.ErrorEvent(e)):n&&this._updateDiff(n,i)})}else"object"==typeof e&&this._updateDiff(e,i)}_updateDiff(e,i){try{this.style.setState(e)&&this._update(!0)}catch(n){t.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(e,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")}addSource(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)}isSourceLoaded(e){const i=this.style&&this.style._getSourceCaches(e);if(0!==i.length)return i.every(t=>t.loaded());this.fire(new t.ErrorEvent(new Error(`There is no source with ID '${e}'`)))}areTilesLoaded(){const t=this.style&&this.style._sourceCaches;for(const e in t){const i=t[e]._tiles;for(const t in i){const e=i[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}}return!0}addSourceType(t,e,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,i)}removeSource(t){return this.style.removeSource(t),this._updateTerrain(),this._update(!0)}getSource(t){return this.style.getSource(t)}addImage(e,i,{pixelRatio:n=1,sdf:r=!1,stretchX:a,stretchY:o,content:s}={}){if(this._lazyInitEmptyStyle(),i instanceof Ar||Pr&&i instanceof Pr){const{width:l,height:c,data:u}=t.exported.getImageData(i);this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},u),pixelRatio:n,stretchX:a,stretchY:o,content:s,sdf:r,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:c,data:u}=i,d=i;this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},new Uint8Array(u)),pixelRatio:n,stretchX:a,stretchY:o,content:s,sdf:r,version:0,userImage:d}),d.onAdd&&d.onAdd(this,e)}}}updateImage(e,i){const n=this.style.getImage(e);if(!n)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof Ar||Pr&&i instanceof Pr?t.exported.getImageData(i):i,{width:a,height:o,data:s}=r;return void 0===a||void 0===o?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==n.data.width||o!==n.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(s,!(i instanceof Ar||Pr&&i instanceof Pr)),void this.style.updateImage(e,n))}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(t){this.style.removeImage(t)}loadImage(e,i){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),(e,n)=>{i(e,n instanceof Ar?t.exported.getImageData(n):n)})}listImages(){return this.style.listImages()}addLayer(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)}moveLayer(t,e){return this.style.moveLayer(t,e),this._update(!0)}removeLayer(t){return this.style.removeLayer(t),this._update(!0)}getLayer(t){return this.style.getLayer(t)}setLayerZoomRange(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)}setFilter(t,e,i={}){return this.style.setFilter(t,e,i),this._update(!0)}getFilter(t){return this.style.getFilter(t)}setPaintProperty(t,e,i,n={}){return this.style.setPaintProperty(t,e,i,n),this._update(!0)}getPaintProperty(t,e){return this.style.getPaintProperty(t,e)}setLayoutProperty(t,e,i,n={}){return this.style.setLayoutProperty(t,e,i,n),this._update(!0)}getLayoutProperty(t,e){return this.style.getLayoutProperty(t,e)}setLight(t,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(t){return this._lazyInitEmptyStyle(),this.style.setTerrain(t),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(t){return this._lazyInitEmptyStyle(),this.style.setFog(t),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(e){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(t.LngLat.convert(e),this.transform):0}setFeatureState(t,e){return this.style.setFeatureState(t,e),this._update()}removeFeatureState(t,e){return this.style.removeFeatureState(t,e),this._update()}getFeatureState(t){return this.style.getFeatureState(t)}_containerDimensions(){let t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]}_detectMissingCSS(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=a.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();const e=this._canvasContainer=a.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=a.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);const n=this._controlContainer=a.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(t=>{r[t]=a.create("div","mapboxgl-ctrl-"+t,n)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,i){const n=t.exported.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"}_addMarker(t){this._markers.push(t)}_removeMarker(t){const e=this._markers.indexOf(t);-1!==e&&this._markers.splice(e,1)}_setupPainter(){const i=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?(t.storeAuthState(n,!0),this.painter=new pn(n,this.transform),this.on("data",t=>{"source"===t.dataType&&this.painter.setTileLoadedFlag(!0)}),t.exported$1.testSupport(n)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))}_contextRestored(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))}_onMapScroll(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(t){return this._update(),this._renderTaskQueue.add(t)}_cancelRenderFrame(t){this._renderTaskQueue.remove(t)}_requestDomTask(t){!this.isMoving()&&this.loaded()?t():this._domRenderTaskQueue.add(t)}_render(e){let i;const n=this.painter.context.extTimerQuery,r=t.exported.now();this.listens("gpu-timing-frame")&&(i=n.createQueryEXT(),n.beginQueryEXT(n.TIME_ELAPSED_EXT,i));let a=this._updateAverageElevation(r);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._domRenderTaskQueue.run(e),this._removed)return;let o=!1;const s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,i=t.exported.now();this.style.zoomHistory.update(e,i);const n=new t.EvaluationParameters(e,{now:i,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=n.crossFadingFactor();1===r&&r===this._crossFadingFactor||(o=!0,this._crossFadingFactor=r),this.style.update(n)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const e=t.exported.now()-r;n.endQueryEXT(n.TIME_ELAPSED_EXT,i),setTimeout(()=>{const r=n.getQueryObjectEXT(i,n.QUERY_RESULT_EXT)/1e6;n.deleteQueryEXT(i),this.fire(new t.Event("gpu-timing-frame",{cpuTime:e,gpuTime:r}))},50)}if(this.listens("gpu-timing-layer")){const e=this.painter.collectGpuTimers();setTimeout(()=>{const i=this.painter.queryGpuTimers(e);this.fire(new t.Event("gpu-timing-layer",{layerTimes:i}))},50)}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(l||this._repaint)this.triggerRepaint();else{const e=!this.isMoving()&&this.loaded();if(e&&(a=this._updateAverageElevation(r,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),e&&(this.fire(new t.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const e=this._calculateSpeedIndex();this.fire(new t.Event("speedindexcompleted",{speedIndex:e})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,this._authenticate()),this}_updateAverageElevation(t,e=!1){const i=t=>(this.transform.averageElevation=t,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((e||t-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(t)){const e=this.transform.averageElevation;let n=this.transform.sampleAverageElevation();isNaN(n)?n=0:this._averageElevationLastSampledAt=t;const r=Math.abs(e-n);if(r>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(n),i(n);this._averageElevation.easeTo(n,t,300)}else if(r>1e-4)return this._averageElevation.jumpTo(n),i(n)}return!!this._averageElevation.isEasing(t)&&i(this._averageElevation.getValue(t))}_authenticate(){t.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,e=>{if(e&&(e.message===t.AUTH_ERR_MSG||401===e.status)){const e=this.painter.context.gl;t.storeAuthState(e,!1),this._logoControl instanceof wr&&this._logoControl._updateLogo(),e&&e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new t.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),t.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const t=this.painter.canvasCopy(),e=this.painter.getCanvasCopiesAndTimestamps();e.timeStamps.push(performance.now());const i=this.painter.context.gl,n=i.createFramebuffer();function r(t){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0);const e=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,e),e}return i.bindFramebuffer(i.FRAMEBUFFER,n),this._canvasPixelComparison(r(t),e.canvasCopies.map(r),e.timeStamps)}_canvasPixelComparison(t,e,i){let n=i[1]-i[0];const r=t.length/4;for(let a=0;a<e.length;a++){const o=e[a];let s=0;for(let e=0;e<o.length;e+=4)o[e]===t[e]&&o[e+1]===t[e+1]&&o[e+2]===t[e+2]&&o[e+3]===t[e+3]&&(s+=1);n+=(i[a+2]-i[a+1])*(1-s/r)}return n}remove(){this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),Or(this._canvasContainer),Or(this._controlContainer),Or(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),t.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new t.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(e){this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=t.exported.frame(t=>{const e=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,e&&this._render(t)}))}_onWindowOnline(){this._update()}_onWindowResize(t){this._trackResize&&this.resize({originalEvent:t})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(t){this._showTerrainWireframe!==t&&(this._showTerrainWireframe=t,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(t){this._speedIndexTiming!==t&&(this._speedIndexTiming=t,this._update())}get showPadding(){return!!this._showPadding}set showPadding(t){this._showPadding!==t&&(this._showPadding=t,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())}get repaint(){return!!this._repaint}set repaint(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(t){this._vertices=t,this._update()}_setCacheLimits(e,i){t.setCacheLimits(e,i)}get version(){return t.version}},NavigationControl:class{constructor(e){this.options=t.extend({},Rr,e),this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",t=>t.preventDefault()),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",t=>this._map.zoomIn({},{originalEvent:t})),a.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",t=>this._map.zoomOut({},{originalEvent:t})),a.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})}),this._compassIcon=a.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const t=this._map.getZoom(),e=t===this._map.getMaxZoom(),i=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=t)})}onAdd(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new zr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){a.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(t,e){const i=a.create("button",t,this._container);return i.type="button",i.addEventListener("click",e),i}_setButtonTitle(t,e){const i=this._map._getUIString("NavigationControl."+e);t.title=i,t.setAttribute("aria-label",i)}},GeolocateControl:class extends t.Evented{constructor(e){super(),this.options=t.extend({},Yr,e),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Sn(this._updateMarkerRotation,20)}onAdd(e){var i;return this._map=e,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Fr?i(Fr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(t=>{Fr="denied"!==t.state,i(Fr)}):(Fr=!!t.window.navigator.geolocation,i(Fr)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),a.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Hr=0,Nr=!1}_isOutOfMapMaxBounds(t){const e=this._map.getMaxBounds(),i=t.coords;return e&&(i.longitude<e.getWest()||i.longitude>e.getEast()||i.latitude<e.getSouth()||i.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}}_updateCamera(e){const i=new t.LngLat(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=this._map.getBearing(),a=t.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(n),a,{geolocateSource:!0})}_updateMarker(e){if(e){const i=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),i=this._map.unproject([100,t]),n=e.distanceTo(i)/100,r=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Nr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(e){if(this._container.addEventListener("contextmenu",t=>t.preventDefault()),this._geolocateButton=a.create("button","mapboxgl-ctrl-geolocate",this._container),a.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{const t=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","mapboxgl-user-location"),this._dotElement.appendChild(a.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(a.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Cr({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=a.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new t.Event("trackuserlocationend")))})}_onDeviceOrientation(t){this._userLocationDotMarker&&(t.webkitCompassHeading?this._heading=t.webkitCompassHeading:!0===t.absolute&&(this._heading=-1*t.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Hr--,Nr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Hr++,Hr>1?(e={maximumAge:6e5,timeout:0},Nr=!0):(e=this.options.positionOptions,Nr=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const e=()=>{t.window.addEventListener("ondeviceorientationabsolute"in t.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==t.window.DeviceMotionEvent&&"function"==typeof t.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(t=>{"granted"===t&&e()}).catch(console.error):e()}_clearWatch(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),t.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),t.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:xr,ScaleControl:class{constructor(e){this.options=t.extend({},Br,e),t.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){jr(this._map,this._container,this.options)}onAdd(t){return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){a.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(t){this.options.unit=t,jr(this._map,this._container,this.options)}},FullscreenControl:class{constructor(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in t.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){a.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!t.window.document.fullscreenEnabled&&!t.window.document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=a.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);a.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(t.window.document.fullscreenElement||t.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends t.Evented{constructor(e){super(),this.options=t.extend(Object.create(Wr),e),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(t.window.document.createTextNode(e))}setHTML(e){const i=t.window.document.createDocumentFragment(),n=t.window.document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(t){return this.options.maxWidth=t,this._update(),this}setDOMContent(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=a.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(t){this._container&&this._container.classList.add(t)}removeClassName(t){this._container&&this._container.classList.remove(t)}setOffset(t){return this.options.offset=t,this._update(),this}toggleClassName(t){if(this._container)return this._container.classList.toggle(t)}_createCloseButton(){this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(t){this._update(t.point)}_onMouseMove(t){this._update(t.point)}_onDrag(t){this._update(t.point)}_update(t){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(t=>this._container.classList.add(t)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!t)return;const e=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat);let i=this.options.anchor;const n=$r(this.options.offset);if(!i){const t=this._container.offsetWidth,r=this._container.offsetHeight;let a;a=e.y+n.bottom.y<r?["top"]:e.y>this._map.transform.height-r?["bottom"]:[],e.x<t/2?a.push("left"):e.x>this._map.transform.width-t/2&&a.push("right"),i=0===a.length?"bottom":a.join("-")}const r=e.add(n[i]).round();this._map._requestDomTask(()=>{this._container&&i&&(a.setTransform(this._container,`${Tr[i]} translate(${r.x}px,${r.y}px)`),Mr(this._container,i,"popup"))})}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const t=this._container.querySelector(Ur);t&&t.focus()}_onClose(){this.remove()}_setOpacity(t){this._content&&(this._content.style.opacity=t),this._tip&&(this._tip.style.opacity=t)}},Marker:Cr,Style:je,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.pointGeometry,MercatorCoordinate:t.MercatorCoordinate,FreeCameraOptions:xn,Evented:t.Evented,config:t.config,prewarm:function(){Rt().acquire(Pt)},clearPrewarmedResources:function(){const t=Ot;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Pt),Ot=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return It.workerCount},set workerCount(t){It.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage(e){t.clearTileCache(e)},workerUrl:"",workerClass:null,setNow:t.exported.setNow,restoreNow:t.exported.restoreNow};return qr})),i}()},function(t,e,i){var n,r,a;r=[],void 0===(a="function"==typeof(n=function(){"use strict";var t=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function e(t){return t.split("").reverse().join("")}function i(t,e){return t.substring(0,e.length)===e}function n(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw new Error(e)}function r(t){return"number"==typeof t&&isFinite(t)}function a(t,i,n,a,o,s,l,c,u,d,h,p){var f,m,g,y,v,_=p,b="",x="";return s&&(p=s(p)),!!r(p)&&(!1!==t&&0===parseFloat(p.toFixed(t))&&(p=0),p<0&&(f=!0,p=Math.abs(p)),!1!==t&&(v=t,y=(y=p).toString().split("e"),p=(+((y=(y=Math.round(+(y[0]+"e"+(y[1]?+y[1]+v:v)))).toString().split("e"))[0]+"e"+(y[1]?+y[1]-v:-v))).toFixed(v)),-1!==(p=p.toString()).indexOf(".")?(g=(m=p.split("."))[0],n&&(b=n+m[1])):g=p,i&&(g=e(g).match(/.{1,3}/g),g=e(g.join(e(i)))),f&&c&&(x+=c),a&&(x+=a),f&&u&&(x+=u),x+=g,x+=b,o&&(x+=o),d&&(x=d(x,_)),x)}function o(t,e,n,a,o,s,l,c,u,d,h,p){var f,m="";return h&&(p=h(p)),!(!p||"string"!=typeof p)&&(c&&i(p,c)&&(p=p.replace(c,""),f=!0),a&&i(p,a)&&(p=p.replace(a,"")),u&&i(p,u)&&(p=p.replace(u,""),f=!0),o&&function(t,e){return t.slice(-1*e.length)===e}(p,o)&&(p=p.slice(0,-1*o.length)),e&&(p=p.split(e).join("")),n&&(p=p.replace(n,".")),f&&(m+="-"),""!==(m=(m+=p).replace(/[^0-9\.\-.]/g,""))&&(m=Number(m),l&&(m=l(m)),!!r(m)&&m))}function s(e,i,n){var r,a=[];for(r=0;r<t.length;r+=1)a.push(e[t[r]]);return a.push(n),i.apply("",a)}return function e(i){if(!(this instanceof e))return new e(i);"object"==typeof i&&(i=function(e){var i,r,a,o={};for(void 0===e.suffix&&(e.suffix=e.postfix),i=0;i<t.length;i+=1)if(void 0===(a=e[r=t[i]]))"negative"!==r||o.negativeBefore?"mark"===r&&"."!==o.thousand?o[r]=".":o[r]=!1:o[r]="-";else if("decimals"===r){if(!(a>=0&&a<8))throw new Error(r);o[r]=a}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof a)throw new Error(r);o[r]=a}else{if("string"!=typeof a)throw new Error(r);o[r]=a}return n(o,"mark","thousand"),n(o,"prefix","negative"),n(o,"prefix","negativeBefore"),o}(i),this.to=function(t){return s(i,a,t)},this.from=function(t){return s(i,o,t)})}})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(t){return function(e,i,a,o){var s=n(e),l=r[t][n(e)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];t.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},n=function(t){return function(n,r,a,o){var s=e(n),l=i[t][e(n)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,n)}},r=["","","","","","","","","","","",""];t.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,r,a,o){var s=i(e),l=n[t][i(e)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];t.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,i){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var i=t%10;return t+(e[i]||e[t%100-i]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n,r;return"m"===i?e?"":"":"h"===i?e?"":"":t+" "+(n=+t,r={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[i].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:e,mm:e,h:e,hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-":0===i?t+"-":i>10&&i<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e||""===e?t:""===e?t>=3?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<6?"":t<12?"":t<15?"":t<18?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[i],t)}var i=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],n=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,r=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:r,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:r,monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,i){return t<12?"a.m.":"g.m."}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n=t+" ";switch(i){case"ss":return n+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return n+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return n+=1===t?"dan":"dana";case"MM":return n+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return n+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var i=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(i="a"),t+i},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),n=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function a(t){return t>1&&t<5&&1!=~~(t/10)}function o(t,e,i,n){var r=t+" ";switch(i){case"s":return e||n?"pr sekund":"pr sekundami";case"ss":return e||n?r+(a(t)?"sekundy":"sekund"):r+"sekundami";case"m":return e?"minuta":n?"minutu":"minutou";case"mm":return e||n?r+(a(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":n?"hodinu":"hodinou";case"hh":return e||n?r+(a(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||n?"den":"dnem";case"dd":return e||n?r+(a(t)?"dny":"dn"):r+"dny";case"M":return e||n?"msc":"mscem";case"MM":return e||n?r+(a(t)?"msce":"msc"):r+"msci";case"y":return e||n?"rok":"rokem";case"yy":return e||n?r+(a(t)?"roky":"let"):r+"lety"}}t.defineLocale("cs",{months:e,monthsShort:i,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[i][0]:r[i][1]}t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[i][0]:r[i][1]}t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[i][0]:r[i][1]}t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],i=["","","","","","",""];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,i){return t>11?i?"":"":i?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var i,n=this._calendarEl[t],r=e&&e.hours();return i=n,("undefined"!=typeof Function&&i instanceof Function||"[object Function]"===Object.prototype.toString.call(i))&&(n=n.apply(e)),n.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,i){return t>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[i][2]?r[i][2]:r[i][1]:n?r[i][0]:r[i][1]}t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,i){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),i=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function n(t,n,r,a){var o="";switch(r){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":o=a?"sekunnin":"sekuntia";break;case"m":return a?"minuutin":"minuutti";case"mm":o=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":o=a?"tunnin":"tuntia";break;case"d":return a?"pivn":"piv";case"dd":o=a?"pivn":"piv";break;case"M":return a?"kuukauden":"kuukausi";case"MM":o=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":o=a?"vuoden":"vuotta"}return o=function(t,n){return t<10?n?i[t]:e[t]:t}(t,a)+" "+o}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:e,monthsShortRegex:e,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),i="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return n?r[i][0]:r[i][1]}t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){switch(e){case"D":return t+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<12?"":t<16?"":t<20?"":""}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return n?r[i][0]:r[i][1]}t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,i){return t<5?" ":t<10?"":t<12?i?'"':" ":t<18?i?'"':" ":""}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];t.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:n,longMonthsParse:n,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n=t+" ";switch(i){case"ss":return n+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return n+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return n+=1===t?"dan":"dana";case"MM":return n+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return n+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function i(t,e,i,n){var r=t;switch(i){case"s":return n||e?"nhny msodperc":"nhny msodperce";case"ss":return r+(n||e)?" msodperc":" msodperce";case"m":return"egy"+(n||e?" perc":" perce");case"mm":return r+(n||e?" perc":" perce");case"h":return"egy"+(n||e?" ra":" rja");case"hh":return r+(n||e?" ra":" rja");case"d":return"egy"+(n||e?" nap":" napja");case"dd":return r+(n||e?" nap":" napja");case"M":return"egy"+(n||e?" hnap":" hnapja");case"MM":return r+(n||e?" hnap":" hnapja");case"y":return"egy"+(n||e?" v":" ve");case"yy":return r+(n||e?" v":" ve")}return""}function n(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,i){return t<12?!0===i?"de":"DE":!0===i?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t){return t%100==11||t%10!=1}function i(t,i,n,r){var a=t+" ";switch(n){case"s":return i||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?a+(i||r?"sekndur":"sekndum"):a+"seknda";case"m":return i?"mnta":"mntu";case"mm":return e(t)?a+(i||r?"mntur":"mntum"):i?a+"mnta":a+"mntu";case"hh":return e(t)?a+(i||r?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return i?"dagur":r?"dag":"degi";case"dd":return e(t)?i?a+"dagar":a+(r?"daga":"dgum"):i?a+"dagur":a+(r?"dag":"degi");case"M":return i?"mnuur":r?"mnu":"mnui";case"MM":return e(t)?i?a+"mnuir":a+(r?"mnui":"mnuum"):i?a+"mnuur":a+(r?"mnu":"mnui");case"y":return i||r?"r":"ri";case"yy":return e(t)?a+(i||r?"r":"rum"):a+(i||r?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:i,ss:i,m:i,mm:i,h:"klukkustund",hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,i){return""===i?e+"":e+i+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[" ","","","","","","","",""," "," "," "];t.defineLocale("ku",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[i][0]:r[i][1]}function i(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return i(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return i(t)}return i(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return i(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return i(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function i(t,e,i,n){return e?r(i)[0]:n?r(i)[1]:r(i)[2]}function n(t){return t%10==0||t>10&&t<20}function r(t){return e[t].split("_")}function a(t,e,a,o){var s=t+" ";return 1===t?s+i(0,e,a[0],o):e?s+(n(t)?r(a)[1]:r(a)[0]):o?s+r(a)[1]:s+(n(t)?r(a)[1]:r(a)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,i,n){return e?"kelios sekunds":n?"keli sekundi":"kelias sekundes"},ss:a,m:i,mm:a,h:i,hh:a,d:i,dd:a,M:i,MM:a,y:i,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function i(t,e,i){return i?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function n(t,n,r){return t+" "+i(e[r],t,n)}function r(t,n,r){return i(e[r],t,n)}t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},ss:n,m:r,mm:n,h:r,hh:n,d:r,dd:n,M:r,MM:n,y:r,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var r=e.words[n];return 1===n.length?i?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-":0===i?t+"-":i>10&&i<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){switch(i){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function n(t,e,i,n){var r="";if(e)switch(i){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(i){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,t)}t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,i){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var i=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(i="a"),t+i},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),n=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function a(t,e,i){var n=t+" ";switch(i){case"ss":return n+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return n+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return n+(r(t)?"godziny":"godzin");case"ww":return n+(r(t)?"tygodnie":"tygodni");case"MM":return n+(r(t)?"miesice":"miesicy");case"yy":return n+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,n){return t?/D MMMM/.test(n)?i[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n=" ";return(t%100>=20||t>=100&&t%100==0)&&(n=" de "),t+n+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[i]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,w:"o sptmn",ww:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n,r;return"m"===i?e?"":"":t+" "+(n=+t,r={ss:e?"__":"__",mm:e?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[i].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,w:"",ww:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],i=["","","","","","",""];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,i){return t>11?i?"..":" ":i?"..":" "}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function n(t){return t>1&&t<5}function r(t,e,i,r){var a=t+" ";switch(i){case"s":return e||r?"pr seknd":"pr sekundami";case"ss":return e||r?a+(n(t)?"sekundy":"seknd"):a+"sekundami";case"m":return e?"minta":r?"mintu":"mintou";case"mm":return e||r?a+(n(t)?"minty":"mint"):a+"mintami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?a+(n(t)?"hodiny":"hodn"):a+"hodinami";case"d":return e||r?"de":"dom";case"dd":return e||r?a+(n(t)?"dni":"dn"):a+"dami";case"M":return e||r?"mesiac":"mesiacom";case"MM":return e||r?a+(n(t)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return e||r?"rok":"rokom";case"yy":return e||r?a+(n(t)?"roky":"rokov"):a+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:i,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r=t+" ";switch(i){case"s":return e||n?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===t?e?"sekundo":"sekundi":2===t?e||n?"sekundi":"sekundah":t<5?e||n?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?e?"minuta":"minuto":2===t?e||n?"minuti":"minutama":t<5?e||n?"minute":"minutami":e||n?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?e?"ura":"uro":2===t?e||n?"uri":"urama":t<5?e||n?"ure":"urami":e||n?"ur":"urami";case"d":return e||n?"en dan":"enim dnem";case"dd":return r+=1===t?e||n?"dan":"dnem":2===t?e||n?"dni":"dnevoma":e||n?"dni":"dnevi";case"M":return e||n?"en mesec":"enim mesecem";case"MM":return r+=1===t?e||n?"mesec":"mesecem":2===t?e||n?"meseca":"mesecema":t<5?e||n?"mesece":"meseci":e||n?"mesecev":"meseci";case"y":return e||n?"eno leto":"enim letom";case"yy":return r+=1===t?e||n?"leto":"letom":2===t?e||n?"leti":"letoma":t<5?e||n?"leta":"leti":e||n?"let":"leti"}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,i){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var r=e.words[n];return 1===n.length?i?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var r=e.words[n];return 1===n.length?i?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,i){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?":e":1===e||2===e?":a":":e")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,i){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,i){switch(i){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function i(t,i,n,r){var a=function(t){var i=Math.floor(t%1e3/100),n=Math.floor(t%100/10),r=t%10,a="";return i>0&&(a+=e[i]+"vatlh"),n>0&&(a+=(""!==a?" ":"")+e[n]+"maH"),r>0&&(a+=(""!==a?" ":"")+e[r]),""===a?"pagh":a}(t);switch(n){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:i,m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,i){return t<12?i?"":"":i?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,i){switch(i){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i,n){var r={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return n||e?r[i][0]:r[i][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,i){return t>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?" ":n<900?"":n<1130?" ":n<1230?"":n<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
function e(t,e,i){var n,r;return"m"===i?e?"":"":"h"===i?e?"":"":t+" "+(n=+t,r={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[i].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}function i(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){var i={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?i.nominative.slice(1,7).concat(i.nominative.slice(0,1)):t?i[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:i.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:i("[ "),nextDay:i("[ "),lastDay:i("[ "),nextWeek:i("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[] dddd [").call(this);case 1:case 2:case 4:return i("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],i=["","","","","","",""];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1200?"":1200===n?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(0))},function(t,e,i){!function(t){"use strict";
//! moment.js locale configuration
t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(0))},function(t,e,i){
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
t.exports=function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l="undefined"!=typeof window&&void 0!==window.document,c=l?window:{},u=!(!l||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!l&&"PointerEvent"in c,h="".concat("cropper","-crop"),p="".concat("cropper","-disabled"),f="".concat("cropper","-hidden"),m="".concat("cropper","-hide"),g="".concat("cropper","-invisible"),y="".concat("cropper","-modal"),v="".concat("cropper","-move"),_="".concat("cropper","Action"),b="".concat("cropper","Preview"),x=u?"touchstart":"mousedown",w=u?"touchmove":"mousemove",k=u?"touchend touchcancel":"mouseup",S=d?"pointerdown":x,T=d?"pointermove":w,M=d?"pointerup pointercancel":k,C=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,D=/^data:/,L=/^data:image\/jpeg;base64,/,A=/^img|canvas$/i,E={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},P=Number.isNaN||c.isNaN;function I(t){return"number"==typeof t&&!P(t)}var O=function(t){return t>0&&t<1/0};function R(t){return void 0===t}function z(t){return"object"===i(t)&&null!==t}var Y=Object.prototype.hasOwnProperty;function F(t){if(!z(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&Y.call(i,"isPrototypeOf")}catch(t){return!1}}function H(t){return"function"==typeof t}var N=Array.prototype.slice;function B(t){return Array.from?Array.from(t):N.call(t)}function j(t,e){return t&&H(e)&&(Array.isArray(t)||I(t.length)?B(t).forEach((function(i,n){e.call(t,i,n,t)})):z(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var V=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return z(t)&&i.length>0&&i.forEach((function(e){z(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},W=/\.\d*(?:0|9){12}\d*$/;function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return W.test(t)?Math.round(t*e)/e:t}var $=/^width|height|left|top|marginLeft|marginTop$/;function q(t,e){var i=t.style;j(e,(function(t,e){$.test(e)&&I(t)&&(t="".concat(t,"px")),i[e]=t}))}function G(t,e){if(e)if(I(t.length))j(t,(function(t){G(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function X(t,e){e&&(I(t.length)?j(t,(function(t){X(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Z(t,e,i){e&&(I(t.length)?j(t,(function(t){Z(t,e,i)})):i?G(t,e):X(t,e))}var J=/([a-z\d])([A-Z])/g;function K(t){return t.replace(J,"$1-$2").toLowerCase()}function Q(t,e){return z(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(K(e)))}function tt(t,e,i){z(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(K(e)),i)}var et=/\s\s*/,it=function(){var t=!1;if(l){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});c.addEventListener("test",i,n),c.removeEventListener("test",i,n)}return t}();function nt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(et).forEach((function(e){if(!it){var a=t.listeners;a&&a[e]&&a[e][i]&&(r=a[e][i],delete a[e][i],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,r,n)}))}function rt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(et).forEach((function(e){if(n.once&&!it){var a=t.listeners,o=void 0===a?{}:a;r=function(){delete o[e][i],t.removeEventListener(e,r,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];i.apply(t,s)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],n),o[e][i]=r,t.listeners=o}t.addEventListener(e,r,n)}))}function at(t,e,i){var n;return H(Event)&&H(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function ot(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var st=c.location,lt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ct(t){var e=t.match(lt);return null!==e&&(e[1]!==st.protocol||e[2]!==st.hostname||e[3]!==st.port)}function ut(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function dt(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,o=[];I(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),I(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),I(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),I(i)&&1!==i&&o.push("scaleX(".concat(i,")")),I(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ht(t,i){var n=t.pageX,r=t.pageY,a={endX:n,endY:r};return i?a:e({startX:n,startY:r},a)}function pt(t){var e=t.aspectRatio,i=t.height,n=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=O(n),o=O(i);if(a&&o){var s=i*e;"contain"===r&&s>n||"cover"===r&&s<n?i=n/e:n=i*e}else a?i=n/e:o&&(n=i*e);return{width:n,height:i}}function ft(t,e,i,n){var r=e.aspectRatio,a=e.naturalWidth,s=e.naturalHeight,l=e.rotate,c=void 0===l?0:l,u=e.scaleX,d=void 0===u?1:u,h=e.scaleY,p=void 0===h?1:h,f=i.aspectRatio,m=i.naturalWidth,g=i.naturalHeight,y=n.fillColor,v=void 0===y?"transparent":y,_=n.imageSmoothingEnabled,b=void 0===_||_,x=n.imageSmoothingQuality,w=void 0===x?"low":x,k=n.maxWidth,S=void 0===k?1/0:k,T=n.maxHeight,M=void 0===T?1/0:T,C=n.minWidth,D=void 0===C?0:C,L=n.minHeight,A=void 0===L?0:L,E=document.createElement("canvas"),P=E.getContext("2d"),I=pt({aspectRatio:f,width:S,height:M}),O=pt({aspectRatio:f,width:D,height:A},"cover"),R=Math.min(I.width,Math.max(O.width,m)),z=Math.min(I.height,Math.max(O.height,g)),Y=pt({aspectRatio:r,width:S,height:M}),F=pt({aspectRatio:r,width:D,height:A},"cover"),H=Math.min(Y.width,Math.max(F.width,a)),N=Math.min(Y.height,Math.max(F.height,s)),B=[-H/2,-N/2,H,N];return E.width=U(R),E.height=U(z),P.fillStyle=v,P.fillRect(0,0,R,z),P.save(),P.translate(R/2,z/2),P.rotate(c*Math.PI/180),P.scale(d,p),P.imageSmoothingEnabled=b,P.imageSmoothingQuality=w,P.drawImage.apply(P,[t].concat(o(B.map((function(t){return Math.floor(U(t))}))))),P.restore(),E}var mt=String.fromCharCode,gt=/^data:.*,/;function yt(t){var e,i=new DataView(t);try{var n,r,a;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,s=2;s+1<o;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var r=e;r<i;r+=1)n+=mt(t.getUint8(r));return n}(i,r+4,4)){var c=i.getUint16(l);if(((n=18761===c)||19789===c)&&42===i.getUint16(l+2,n)){var u=i.getUint32(l+4,n);u>=8&&(a=l+u)}}}if(a){var d,h,p=i.getUint16(a,n);for(h=0;h<p;h+=1)if(d=a+12*h+2,274===i.getUint16(d,n)){d+=8,e=i.getUint16(d,n),i.setUint16(d,1,n);break}}}catch(t){e=1}return e}var vt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,r=Number(e.minContainerWidth),a=Number(e.minContainerHeight);G(n,f),X(t,f);var o={width:Math.max(i.offsetWidth,r>=0?r:200),height:Math.max(i.offsetHeight,a>=0?a:100)};this.containerData=o,q(n,{width:o.width,height:o.height}),G(t,f),X(n,f)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,r=n?e.naturalHeight:e.naturalWidth,a=n?e.naturalWidth:e.naturalHeight,o=r/a,s=t.width,l=t.height;t.height*o>t.width?3===i?s=t.height*o:l=t.width/o:3===i?l=t.width/o:s=t.height*o;var c={aspectRatio:o,naturalWidth:r,naturalHeight:a,width:s,height:l};this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=V({},c)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=i.viewMode,s=r.aspectRatio,l=this.cropped&&a;if(t){var c=Number(i.minCanvasWidth)||0,u=Number(i.minCanvasHeight)||0;o>1?(c=Math.max(c,n.width),u=Math.max(u,n.height),3===o&&(u*s>c?c=u*s:u=c/s)):o>0&&(c?c=Math.max(c,l?a.width:0):u?u=Math.max(u,l?a.height:0):l&&(c=a.width,(u=a.height)*s>c?c=u*s:u=c/s));var d=pt({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,r.minWidth=c,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(l?0:1)){var h=n.width-r.width,p=n.height-r.height;r.minLeft=Math.min(0,h),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,h),r.maxTop=Math.max(0,p),l&&this.limited&&(r.minLeft=Math.min(a.left,a.left+(a.width-r.width)),r.minTop=Math.min(a.top,a.top+(a.height-r.height)),r.maxLeft=a.left,r.maxTop=a.top,2===o&&(r.width>=n.width&&(r.minLeft=Math.min(0,h),r.maxLeft=Math.max(0,h)),r.height>=n.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var r=n%90*Math.PI/180,a=Math.sin(r),o=Math.cos(r),s=e*o+i*a,l=e*a+i*o;return n>90?{width:l,height:s}:{width:s,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=r.width,o=r.height,s=i.width*(a/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=a/o,i.naturalWidth=a,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,q(this.canvas,V({width:i.width,height:i.height},dt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);V(i,{width:n,height:r,left:(e.width-n)/2,top:(e.height-r)/2}),q(this.image,V({width:i.width,height:i.height},dt(V({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=V({},r)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=this.limited,s=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,u=o?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,d=o?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>u?d=u/s:u=d*s),a.minWidth=Math.min(l,u),a.minHeight=Math.min(c,d),a.maxWidth=u,a.maxHeight=d}e&&(o?(a.minLeft=Math.max(0,r.left),a.minTop=Math.max(0,r.top),a.maxLeft=Math.min(n.width,r.left+r.width)-a.width,a.maxTop=Math.min(n.height,r.top+r.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&tt(this.face,_,i.width>=e.width&&i.height>=e.height?"move":"all"),q(this.cropBox,V({width:i.width,height:i.height},dt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),at(this.element,"crop",this.getData())}},_t={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=n,a.alt=r,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var o=i;"string"==typeof i?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,j(o,(function(t){var i=document.createElement("img");tt(t,b,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},resetPreview:function(){j(this.previews,(function(t){var e=Q(t,b);q(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(z(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(K(e)))}(t,b)}))},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,a=t.width,o=t.height,s=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(q(this.viewBoxImage,V({width:a,height:o},dt(V({translateX:-s,translateY:-l},t)))),j(this.previews,(function(e){var i=Q(e,b),c=i.width,u=i.height,d=c,h=u,p=1;n&&(h=r*(p=c/n)),r&&h>u&&(d=n*(p=u/r),h=u),q(e,{width:d,height:h}),q(e.getElementsByTagName("img")[0],V({width:a*p,height:o*p},dt(V({translateX:-s*p,translateY:-l*p},t))))})))}},bt={bind:function(){var t=this.element,e=this.options,i=this.cropper;H(e.cropstart)&&rt(t,"cropstart",e.cropstart),H(e.cropmove)&&rt(t,"cropmove",e.cropmove),H(e.cropend)&&rt(t,"cropend",e.cropend),H(e.crop)&&rt(t,"crop",e.crop),H(e.zoom)&&rt(t,"zoom",e.zoom),rt(i,S,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&rt(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&rt(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),rt(t.ownerDocument,T,this.onCropMove=this.cropMove.bind(this)),rt(t.ownerDocument,M,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&rt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;H(e.cropstart)&&nt(t,"cropstart",e.cropstart),H(e.cropmove)&&nt(t,"cropmove",e.cropmove),H(e.cropend)&&nt(t,"cropend",e.cropend),H(e.crop)&&nt(t,"crop",e.crop),H(e.zoom)&&nt(t,"zoom",e.zoom),nt(i,S,this.onCropStart),e.zoomable&&e.zoomOnWheel&&nt(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&nt(i,"dblclick",this.onDblclick),nt(t.ownerDocument,T,this.onCropMove),nt(t.ownerDocument,M,this.onCropEnd),e.responsive&&nt(window,"resize",this.onResize)}},xt={resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,r=this.containerData,a=n.offsetWidth/r.width,o=n.offsetHeight/r.height,s=Math.abs(a-1)>Math.abs(o-1)?a:o;1!==s&&(i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(j(t,(function(e,i){t[i]=e*s}))),this.setCropBoxData(j(e,(function(t,i){e[i]=t*s})))))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=h,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(I(e)&&1!==e||I(i)&&0!==i||t.ctrlKey))){var n,r=this.options,a=this.pointers;t.changedTouches?j(t.changedTouches,(function(t){a[t.identifier]=ht(t)})):a[t.pointerId||0]=ht(t),n=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":Q(t.target,_),C.test(n)&&!1!==at(this.element,"cropstart",{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,G(this.dragBox,y)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==at(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?j(t.changedTouches,(function(t){V(i[t.identifier]||{},ht(t,!0))})):V(i[t.pointerId||0]||{},ht(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?j(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,Z(this.dragBox,y,this.cropped&&this.options.modal)),at(this.element,"cropend",{originalEvent:t,action:e}))}}},wt={change:function(t){var i,n=this.options,r=this.canvasData,a=this.containerData,o=this.cropBoxData,s=this.pointers,l=this.action,c=n.aspectRatio,u=o.left,d=o.top,h=o.width,p=o.height,m=u+h,g=d+p,y=0,v=0,_=a.width,b=a.height,x=!0;!c&&t.shiftKey&&(c=h&&p?h/p:1),this.limited&&(y=o.minLeft,v=o.minTop,_=y+Math.min(a.width,r.width,r.left+r.width),b=v+Math.min(a.height,r.height,r.top+r.height));var w=s[Object.keys(s)[0]],k={x:w.endX-w.startX,y:w.endY-w.startY},S=function(t){switch(t){case"e":m+k.x>_&&(k.x=_-m);break;case"w":u+k.x<y&&(k.x=y-u);break;case"n":d+k.y<v&&(k.y=v-d);break;case"s":g+k.y>b&&(k.y=b-g)}};switch(l){case"all":u+=k.x,d+=k.y;break;case"e":if(k.x>=0&&(m>=_||c&&(d<=v||g>=b))){x=!1;break}S("e"),(h+=k.x)<0&&(l="w",u-=h=-h),c&&(p=h/c,d+=(o.height-p)/2);break;case"n":if(k.y<=0&&(d<=v||c&&(u<=y||m>=_))){x=!1;break}S("n"),p-=k.y,d+=k.y,p<0&&(l="s",d-=p=-p),c&&(h=p*c,u+=(o.width-h)/2);break;case"w":if(k.x<=0&&(u<=y||c&&(d<=v||g>=b))){x=!1;break}S("w"),h-=k.x,u+=k.x,h<0&&(l="e",u-=h=-h),c&&(p=h/c,d+=(o.height-p)/2);break;case"s":if(k.y>=0&&(g>=b||c&&(u<=y||m>=_))){x=!1;break}S("s"),(p+=k.y)<0&&(l="n",d-=p=-p),c&&(h=p*c,u+=(o.width-h)/2);break;case"ne":if(c){if(k.y<=0&&(d<=v||m>=_)){x=!1;break}S("n"),p-=k.y,d+=k.y,h=p*c}else S("n"),S("e"),k.x>=0?m<_?h+=k.x:k.y<=0&&d<=v&&(x=!1):h+=k.x,k.y<=0?d>v&&(p-=k.y,d+=k.y):(p-=k.y,d+=k.y);h<0&&p<0?(l="sw",d-=p=-p,u-=h=-h):h<0?(l="nw",u-=h=-h):p<0&&(l="se",d-=p=-p);break;case"nw":if(c){if(k.y<=0&&(d<=v||u<=y)){x=!1;break}S("n"),p-=k.y,d+=k.y,h=p*c,u+=o.width-h}else S("n"),S("w"),k.x<=0?u>y?(h-=k.x,u+=k.x):k.y<=0&&d<=v&&(x=!1):(h-=k.x,u+=k.x),k.y<=0?d>v&&(p-=k.y,d+=k.y):(p-=k.y,d+=k.y);h<0&&p<0?(l="se",d-=p=-p,u-=h=-h):h<0?(l="ne",u-=h=-h):p<0&&(l="sw",d-=p=-p);break;case"sw":if(c){if(k.x<=0&&(u<=y||g>=b)){x=!1;break}S("w"),h-=k.x,u+=k.x,p=h/c}else S("s"),S("w"),k.x<=0?u>y?(h-=k.x,u+=k.x):k.y>=0&&g>=b&&(x=!1):(h-=k.x,u+=k.x),k.y>=0?g<b&&(p+=k.y):p+=k.y;h<0&&p<0?(l="ne",d-=p=-p,u-=h=-h):h<0?(l="se",u-=h=-h):p<0&&(l="nw",d-=p=-p);break;case"se":if(c){if(k.x>=0&&(m>=_||g>=b)){x=!1;break}S("e"),p=(h+=k.x)/c}else S("s"),S("e"),k.x>=0?m<_?h+=k.x:k.y>=0&&g>=b&&(x=!1):h+=k.x,k.y>=0?g<b&&(p+=k.y):p+=k.y;h<0&&p<0?(l="nw",d-=p=-p,u-=h=-h):h<0?(l="sw",u-=h=-h):p<0&&(l="ne",d-=p=-p);break;case"move":this.move(k.x,k.y),x=!1;break;case"zoom":this.zoom(function(t){var i=e({},t),n=0;return j(t,(function(t,e){delete i[e],j(i,(function(e){var i=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(i*i+r*r),l=(Math.sqrt(a*a+o*o)-s)/s;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}(s),t),x=!1;break;case"crop":if(!k.x||!k.y){x=!1;break}i=ot(this.cropper),u=w.startX-i.left,d=w.startY-i.top,h=o.minWidth,p=o.minHeight,k.x>0?l=k.y>0?"se":"ne":k.x<0&&(u-=h,l=k.y>0?"sw":"nw"),k.y<0&&(d-=p),this.cropped||(X(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(o.width=h,o.height=p,o.left=u,o.top=d,this.action=l,this.renderCropBox()),j(s,(function(t){t.startX=t.endX,t.startY=t.endY}))}},kt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&G(this.dragBox,y),X(this.cropBox,f),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=V({},this.initialImageData),this.canvasData=V({},this.initialCanvasData),this.cropBoxData=V({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(V(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),X(this.dragBox,y),G(this.cropBox,f)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,j(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,X(this.cropper,p)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,G(this.cropper,p)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(R(t)?t:n+Number(t),R(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(I(t)&&(i.left=t,n=!0),I(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,a=r.width,o=r.height,s=r.naturalWidth,l=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*t,u=l*t;if(!1===at(this.element,"zoom",{ratio:t,oldRatio:a/s,originalEvent:i}))return this;if(i){var d=this.pointers,h=ot(this.cropper),p=d&&Object.keys(d).length?function(t){var e=0,i=0,n=0;return j(t,(function(t){var r=t.startX,a=t.startY;e+=r,i+=a,n+=1})),{pageX:e/=n,pageY:i/=n}}(d):{pageX:i.pageX,pageY:i.pageY};r.left-=(c-a)*((p.pageX-h.left-r.left)/a),r.top-=(u-o)*((p.pageY-h.top-r.top)/o)}else F(e)&&I(e.x)&&I(e.y)?(r.left-=(c-a)*((e.x-r.left)/a),r.top-=(u-o)*((e.y-r.top)/o)):(r.left-=(c-a)/2,r.top-=(u-o)/2);r.width=c,r.height=u,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return I(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,I(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(I(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(I(t)&&(i.scaleX=t,n=!0),I(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var o=n.width/n.naturalWidth;if(j(t,(function(e,i){t[i]=e/o})),e){var s=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&F(t)){var a=!1;e.rotatable&&I(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,a=!0),e.scalable&&(I(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,a=!0),I(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;I(t.x)&&(r.left=t.x*o+n.left),I(t.y)&&(r.top=t.y*o+n.top),I(t.width)&&(r.width=t.width*o),I(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?V({},this.containerData):{}},getImageData:function(){return this.sized?V({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&j(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&F(t)&&(I(t.left)&&(e.left=t.left),I(t.top)&&(e.top=t.top),I(t.width)?(e.width=t.width,e.height=t.width/i):I(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&F(t)&&(I(t.left)&&(n.left=t.left),I(t.top)&&(n.top=t.top),I(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),I(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(e?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=ft(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),r=n.x,a=n.y,s=n.width,l=n.height,c=i.width/Math.floor(e.naturalWidth);1!==c&&(r*=c,a*=c,s*=c,l*=c);var u=s/l,d=pt({aspectRatio:u,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),h=pt({aspectRatio:u,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=pt({aspectRatio:u,width:t.width||(1!==c?i.width:s),height:t.height||(1!==c?i.height:l)}),f=p.width,m=p.height;f=Math.min(d.width,Math.max(h.width,f)),m=Math.min(d.height,Math.max(h.height,m));var g=document.createElement("canvas"),y=g.getContext("2d");g.width=U(f),g.height=U(m),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,f,m);var v=t.imageSmoothingEnabled,_=void 0===v||v,b=t.imageSmoothingQuality;y.imageSmoothingEnabled=_,b&&(y.imageSmoothingQuality=b);var x,w,k,S,T,M,C=i.width,D=i.height,L=r,A=a;L<=-s||L>C?(L=0,x=0,k=0,T=0):L<=0?(k=-L,L=0,T=x=Math.min(C,s+L)):L<=C&&(k=0,T=x=Math.min(s,C-L)),x<=0||A<=-l||A>D?(A=0,w=0,S=0,M=0):A<=0?(S=-A,A=0,M=w=Math.min(D,l+A)):A<=D&&(S=0,M=w=Math.min(l,D-A));var E=[L,A,x,w];if(T>0&&M>0){var P=f/s;E.push(k*P,S*P,T*P,M*P)}return y.drawImage.apply(y,[i].concat(o(E.map((function(t){return Math.floor(U(t))}))))),g},setAspectRatio:function(t){var e=this.options;return this.disabled||R(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r="crop"===t,a=e.movable&&"move"===t;t=r||a?t:"none",e.dragMode=t,tt(i,_,t),Z(i,h,r),Z(i,v,a),e.cropBoxMovable||(tt(n,_,t),Z(n,h,r),Z(n,v,a))}return this}},St=c.Cropper,Tt=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!e||!A.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=V({},E,F(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,i,a;return e=t,a=[{key:"noConflict",value:function(){return window.Cropper=St,t}},{key:"setDefaults",value:function(t){V(E,F(t)&&t)}}],(i=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(D.test(t))L.test(t)?this.read((r=t.replace(gt,""),a=atob(r),o=new ArrayBuffer(a.length),j(s=new Uint8Array(o),(function(t,e){s[e]=a.charCodeAt(e)})),o)):this.clone();else{var r,a,o,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){"image/jpeg"!==l.getResponseHeader("content-type")&&l.abort()},l.onload=function(){e.read(l.response)},l.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&ct(t)&&i.crossOrigin&&(t=ut(t)),l.open("GET",t,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=yt(t),r=0,a=1,o=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(mt.apply(null,B(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,"image/jpeg");var s=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);r=s.rotate,a=s.scaleX,o=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=a,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&ct(e)&&(i||(i="anonymous"),n=ut(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),G(r,m),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),n=function(e,i){V(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=V({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var r=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||a.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(r))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=r.querySelector(".".concat("cropper","-container")),o=a.querySelector(".".concat("cropper","-canvas")),s=a.querySelector(".".concat("cropper","-drag-box")),l=a.querySelector(".".concat("cropper","-crop-box")),c=l.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=a.querySelector(".".concat("cropper","-view-box")),this.face=c,o.appendChild(i),G(t,f),n.insertBefore(a,t.nextSibling),this.isImg||X(i,m),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,G(l,f),e.guides||G(l.getElementsByClassName("".concat("cropper","-dashed")),f),e.center||G(l.getElementsByClassName("".concat("cropper","-center")),f),e.background&&G(a,"".concat("cropper","-bg")),e.highlight||G(c,g),e.cropBoxMovable&&(G(c,v),tt(c,_,"all")),e.cropBoxResizable||(G(l.getElementsByClassName("".concat("cropper","-line")),f),G(l.getElementsByClassName("".concat("cropper","-point")),f)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),H(e.ready)&&rt(t,"ready",e.ready,{once:!0}),at(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),X(this.element,f))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&r(e.prototype,i),a&&r(e,a),t}();return V(Tt.prototype,vt,_t,bt,xt,wt,kt),Tt}()},function(t,e,i){var n,r;
/*! DataTables Bootstrap 4 integration
 * 2011-2017 SpryMedia Ltd - datatables.net/license
 */n=[i(1),i(9)],void 0===(r=function(t){return function(t,e,i,n){"use strict";var r=t.fn.dataTable;return t.extend(!0,r.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),t.extend(r.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap4",sFilterInput:"form-control form-control-sm",sLengthSelect:"custom-select custom-select-sm form-control form-control-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),r.ext.renderer.pageButton.bootstrap=function(e,a,o,s,l,c){var u,d,h,p=new r.Api(e),f=e.oClasses,m=e.oLanguage.oPaginate,g=e.oLanguage.oAria.paginate||{},y=0,v=function(i,n){var r,a,s,h,_=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||p.page()==e.data.action||p.page(e.data.action).draw("page")};for(r=0,a=n.length;r<a;r++)if(h=n[r],Array.isArray(h))v(i,h);else{switch(u="",d="",h){case"ellipsis":u="&#x2026;",d="disabled";break;case"first":u=m.sFirst,d=h+(l>0?"":" disabled");break;case"previous":u=m.sPrevious,d=h+(l>0?"":" disabled");break;case"next":u=m.sNext,d=h+(l<c-1?"":" disabled");break;case"last":u=m.sLast,d=h+(l<c-1?"":" disabled");break;default:u=h+1,d=l===h?"active":""}u&&(s=t("<li>",{class:f.sPageButton+" "+d,id:0===o&&"string"==typeof h?e.sTableId+"_"+h:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":g[h],"data-dt-idx":y,tabindex:e.iTabIndex,class:"page-link"}).html(u)).appendTo(i),e.oApi._fnBindAction(s,{action:h},_),y++)}};try{h=t(a).find(i.activeElement).data("dt-idx")}catch(t){}v(t(a).empty().html('<ul class="pagination"/>').children("ul"),s),h!==n&&t(a).find("[data-dt-idx="+h+"]").trigger("focus")},r}(t,window,document)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;
/*! Responsive 2.2.9
 * 2014-2021 SpryMedia Ltd - datatables.net/license
 */n=[i(1),i(9)],void 0===(r=function(t){return function(t,e,i,n){"use strict";var r=t.fn.dataTable,a=function(e,i){if(!r.versionCheck||!r.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new r.Api(e),columns:[],current:[]},this.s.dt.settings()[0].responsive||(i&&"string"==typeof i.details?i.details={type:i.details}:i&&!1===i.details?i.details={type:!1}:i&&!0===i.details&&(i.details={type:"inline"}),this.c=t.extend(!0,{},a.defaults,r.defaults.responsive,i),e.responsive=this,this._constructor())};t.extend(a.prototype,{_constructor:function(){var i=this,n=this.s.dt,a=n.settings()[0],o=t(e).innerWidth();n.settings()[0]._responsive=this,t(e).on("resize.dtr orientationchange.dtr",r.util.throttle((function(){var n=t(e).innerWidth();n!==o&&(i._resize(),o=n)}))),a.oApi._fnCallbackReg(a,"aoRowCreatedCallback",(function(e,r,a){-1!==t.inArray(!1,i.s.current)&&t(">td, >th",e).each((function(e){var r=n.column.index("toData",e);!1===i.s.current[r]&&t(this).css("display","none")}))})),n.on("destroy.dtr",(function(){n.off(".dtr"),t(n.table().body()).off(".dtr"),t(e).off("resize.dtr orientationchange.dtr"),n.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),t.each(i.s.current,(function(t,e){!1===e&&i._setColumnVis(t,!0)}))})),this.c.breakpoints.sort((function(t,e){return t.width<e.width?1:t.width>e.width?-1:0})),this._classLogic(),this._resizeAuto();var s=this.c.details;!1!==s.type&&(i._detailsInit(),n.on("column-visibility.dtr",(function(){i._timer&&clearTimeout(i._timer),i._timer=setTimeout((function(){i._timer=null,i._classLogic(),i._resizeAuto(),i._resize(!0),i._redrawChildren()}),100)})),n.on("draw.dtr",(function(){i._redrawChildren()})),t(n.table().node()).addClass("dtr-"+s.type)),n.on("column-reorder.dtr",(function(t,e,n){i._classLogic(),i._resizeAuto(),i._resize(!0)})),n.on("column-sizing.dtr",(function(){i._resizeAuto(),i._resize()})),n.on("preXhr.dtr",(function(){var t=[];n.rows().every((function(){this.child.isShown()&&t.push(this.id(!0))})),n.one("draw.dtr",(function(){i._resizeAuto(),i._resize(),n.rows(t).every((function(){i._detailsDisplay(this,!1)}))}))})),n.on("draw.dtr",(function(){i._controlClass()})).on("init.dtr",(function(e,r,a){"dt"===e.namespace&&(i._resizeAuto(),i._resize(),t.inArray(!1,i.s.current)&&n.columns.adjust())})),this._resize()},_columnsVisiblity:function(e){var i,n,r=this.s.dt,a=this.s.columns,o=a.map((function(t,e){return{columnIdx:e,priority:t.priority}})).sort((function(t,e){return t.priority!==e.priority?t.priority-e.priority:t.columnIdx-e.columnIdx})),s=t.map(a,(function(i,n){return!1===r.column(n).visible()?"not-visible":(!i.auto||null!==i.minWidth)&&(!0===i.auto?"-":-1!==t.inArray(e,i.includeIn))})),l=0;for(i=0,n=s.length;i<n;i++)!0===s[i]&&(l+=a[i].minWidth);var c=r.settings()[0].oScroll,u=c.sY||c.sX?c.iBarWidth:0,d=r.table().container().offsetWidth-u-l;for(i=0,n=s.length;i<n;i++)a[i].control&&(d-=a[i].minWidth);var h=!1;for(i=0,n=o.length;i<n;i++){var p=o[i].columnIdx;"-"===s[p]&&!a[p].control&&a[p].minWidth&&(h||d-a[p].minWidth<0?(h=!0,s[p]=!1):s[p]=!0,d-=a[p].minWidth)}var f=!1;for(i=0,n=a.length;i<n;i++)if(!a[i].control&&!a[i].never&&!1===s[i]){f=!0;break}for(i=0,n=a.length;i<n;i++)a[i].control&&(s[i]=f),"not-visible"===s[i]&&(s[i]=!1);return-1===t.inArray(!0,s)&&(s[0]=!0),s},_classLogic:function(){var e=this,i=this.c.breakpoints,r=this.s.dt,a=r.columns().eq(0).map((function(t){var e=this.column(t),i=e.header().className,a=r.settings()[0].aoColumns[t].responsivePriority,o=e.header().getAttribute("data-priority");return a===n&&(a=o===n||null===o?1e4:1*o),{className:i,includeIn:[],auto:!1,control:!1,never:!!i.match(/\bnever\b/),priority:a}})),o=function(e,i){var n=a[e].includeIn;-1===t.inArray(i,n)&&n.push(i)},s=function(t,n,r,s){var l,c,u;if(r){if("max-"===r)for(l=e._find(n).width,c=0,u=i.length;c<u;c++)i[c].width<=l&&o(t,i[c].name);else if("min-"===r)for(l=e._find(n).width,c=0,u=i.length;c<u;c++)i[c].width>=l&&o(t,i[c].name);else if("not-"===r)for(c=0,u=i.length;c<u;c++)-1===i[c].name.indexOf(s)&&o(t,i[c].name)}else a[t].includeIn.push(n)};a.each((function(e,n){for(var r=e.className.split(" "),a=!1,o=0,l=r.length;o<l;o++){var c=r[o].trim();if("all"===c)return a=!0,void(e.includeIn=t.map(i,(function(t){return t.name})));if("none"===c||e.never)return void(a=!0);if("control"===c||"dtr-control"===c)return a=!0,void(e.control=!0);t.each(i,(function(t,e){var i=e.name.split("-"),r=new RegExp("(min\\-|max\\-|not\\-)?("+i[0]+")(\\-[_a-zA-Z0-9])?"),o=c.match(r);o&&(a=!0,o[2]===i[0]&&o[3]==="-"+i[1]?s(n,e.name,o[1],o[2]+o[3]):o[2]!==i[0]||o[3]||s(n,e.name,o[1],o[2]))}))}a||(e.auto=!0)})),this.s.columns=a},_controlClass:function(){if("inline"===this.c.details.type){var e=this.s.dt,i=this.s.current,n=t.inArray(!0,i);e.cells(null,(function(t){return t!==n}),{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),e.cells(null,n,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(e,i){var n=this,r=this.s.dt,a=this.c.details;if(a&&!1!==a.type){var o=a.display(e,i,(function(){return a.renderer(r,e[0],n._detailsObj(e[0]))}));!0!==o&&!1!==o||t(r.table().node()).triggerHandler("responsive-display.dt",[r,e,o,i])}},_detailsInit:function(){var e=this,i=this.s.dt,r=this.c.details;"inline"===r.type&&(r.target="td.dtr-control, th.dtr-control"),i.on("draw.dtr",(function(){e._tabIndexes()})),e._tabIndexes(),t(i.table().body()).on("keyup.dtr","td, th",(function(e){13===e.keyCode&&t(this).data("dtr-keyboard")&&t(this).click()}));var a=r.target,o="string"==typeof a?a:"td, th";a===n&&null===a||t(i.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",o,(function(n){if(t(i.table().node()).hasClass("collapsed")&&-1!==t.inArray(t(this).closest("tr").get(0),i.rows().nodes().toArray())){if("number"==typeof a){var r=a<0?i.columns().eq(0).length+a:a;if(i.cell(this).index().column!==r)return}var o=i.row(t(this).closest("tr"));"click"===n.type?e._detailsDisplay(o,!1):"mousedown"===n.type?t(this).css("outline","none"):"mouseup"===n.type&&t(this).trigger("blur").css("outline","")}}))},_detailsObj:function(e){var i=this,n=this.s.dt;return t.map(this.s.columns,(function(r,a){if(!r.never&&!r.control){var o=n.settings()[0].aoColumns[a];return{className:o.sClass,columnIndex:a,data:n.cell(e,a).render(i.c.orthogonal),hidden:n.column(a).visible()&&!i.s.current[a],rowIndex:e,title:null!==o.sTitle?o.sTitle:t(n.column(a).header()).text()}}}))},_find:function(t){for(var e=this.c.breakpoints,i=0,n=e.length;i<n;i++)if(e[i].name===t)return e[i]},_redrawChildren:function(){var t=this,e=this.s.dt;e.rows({page:"current"}).iterator("row",(function(i,n){e.row(n),t._detailsDisplay(e.row(n),!0)}))},_resize:function(i){var n,r,a=this,o=this.s.dt,s=t(e).innerWidth(),l=this.c.breakpoints,c=l[0].name,u=this.s.columns,d=this.s.current.slice();for(n=l.length-1;n>=0;n--)if(s<=l[n].width){c=l[n].name;break}var h=this._columnsVisiblity(c);this.s.current=h;var p=!1;for(n=0,r=u.length;n<r;n++)if(!1===h[n]&&!u[n].never&&!u[n].control&&0==!o.column(n).visible()){p=!0;break}t(o.table().node()).toggleClass("collapsed",p);var f=!1,m=0;o.columns().eq(0).each((function(t,e){!0===h[e]&&m++,(i||h[e]!==d[e])&&(f=!0,a._setColumnVis(t,h[e]))})),f&&(this._redrawChildren(),t(o.table().node()).trigger("responsive-resize.dt",[o,this.s.current]),0===o.page.info().recordsDisplay&&t("td",o.table().body()).eq(0).attr("colspan",m)),a._controlClass()},_resizeAuto:function(){var e=this.s.dt,i=this.s.columns;if(this.c.auto&&-1!==t.inArray(!0,t.map(i,(function(t){return t.auto})))){t.isEmptyObject(o)||t.each(o,(function(t){var i=t.split("-");s(e,1*i[0],1*i[1])})),e.table().node().offsetWidth,e.columns;var n=e.table().node().cloneNode(!1),r=t(e.table().header().cloneNode(!1)).appendTo(n),a=t(e.table().body()).clone(!1,!1).empty().appendTo(n);n.style.width="auto";var l=e.columns().header().filter((function(t){return e.column(t).visible()})).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);t(a).append(t(e.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var c=e.table().footer();if(c){var u=t(c.cloneNode(!1)).appendTo(n),d=e.columns().footer().filter((function(t){return e.column(t).visible()})).to$().clone(!1).css("display","table-cell");t("<tr/>").append(d).appendTo(u)}t("<tr/>").append(l).appendTo(r),"inline"===this.c.details.type&&t(n).addClass("dtr-inline collapsed"),t(n).find("[name]").removeAttr("name"),t(n).css("position","relative");var h=t("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(n);h.insertBefore(e.table().node()),l.each((function(t){var n=e.column.index("fromVisible",t);i[n].minWidth=this.offsetWidth||0})),h.remove()}},_responsiveOnlyHidden:function(){var e=this.s.dt;return t.map(this.s.current,(function(t,i){return!1===e.column(i).visible()||t}))},_setColumnVis:function(e,i){var n=this.s.dt,r=i?"":"none";t(n.column(e).header()).css("display",r),t(n.column(e).footer()).css("display",r),n.column(e).nodes().to$().css("display",r),t.isEmptyObject(o)||n.cells(null,e).indexes().each((function(t){s(n,t.row,t.column)}))},_tabIndexes:function(){var e=this.s.dt,i=e.cells({page:"current"}).nodes().to$(),n=e.settings()[0],r=this.c.details.target;i.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"number"==typeof r?e.cells(null,r,{page:"current"}).nodes().to$().attr("tabIndex",n.iTabIndex).data("dtr-keyboard",1):("td:first-child, th:first-child"===r&&(r=">td:first-child, >th:first-child"),t(r,e.rows({page:"current"}).nodes()).attr("tabIndex",n.iTabIndex).data("dtr-keyboard",1))}}),a.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],a.display={childRow:function(e,i,n){return i?t(e.node()).hasClass("parent")?(e.child(n(),"child").show(),!0):void 0:e.child.isShown()?(e.child(!1),t(e.node()).removeClass("parent"),!1):(e.child(n(),"child").show(),t(e.node()).addClass("parent"),!0)},childRowImmediate:function(e,i,n){return!i&&e.child.isShown()||!e.responsive.hasHidden()?(e.child(!1),t(e.node()).removeClass("parent"),!1):(e.child(n(),"child").show(),t(e.node()).addClass("parent"),!0)},modal:function(e){return function(n,r,a){if(r)t("div.dtr-modal-content").empty().append(a());else{var o=function(){s.remove(),t(i).off("keypress.dtr")},s=t('<div class="dtr-modal"/>').append(t('<div class="dtr-modal-display"/>').append(t('<div class="dtr-modal-content"/>').append(a())).append(t('<div class="dtr-modal-close">&times;</div>').click((function(){o()})))).append(t('<div class="dtr-modal-background"/>').click((function(){o()}))).appendTo("body");t(i).on("keyup.dtr",(function(t){27===t.keyCode&&(t.stopPropagation(),o())}))}e&&e.header&&t("div.dtr-modal-content").prepend("<h2>"+e.header(n)+"</h2>")}}};var o={};function s(t,e,i){var r=e+"-"+i;if(o[r]){for(var a=t.cell(e,i).node(),s=o[r][0].parentNode.childNodes,l=[],c=0,u=s.length;c<u;c++)l.push(s[c]);for(var d=0,h=l.length;d<h;d++)a.appendChild(l[d]);o[r]=n}}a.renderer={listHiddenNodes:function(){return function(e,i,n){var r=t('<ul data-dtr-index="'+i+'" class="dtr-details"/>'),a=!1;return t.each(n,(function(i,n){if(n.hidden){var s=n.className?'class="'+n.className+'"':"";t("<li "+s+' data-dtr-index="'+n.columnIndex+'" data-dt-row="'+n.rowIndex+'" data-dt-column="'+n.columnIndex+'"><span class="dtr-title">'+n.title+"</span> </li>").append(t('<span class="dtr-data"/>').append(function(t,e,i){var n=e+"-"+i;if(o[n])return o[n];for(var r=[],a=t.cell(e,i).node().childNodes,s=0,l=a.length;s<l;s++)r.push(a[s]);return o[n]=r,r}(e,n.rowIndex,n.columnIndex))).appendTo(r),a=!0}})),!!a&&r}},listHidden:function(){return function(e,i,n){var r=t.map(n,(function(t){var e=t.className?'class="'+t.className+'"':"";return t.hidden?"<li "+e+' data-dtr-index="'+t.columnIndex+'" data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><span class="dtr-title">'+t.title+'</span> <span class="dtr-data">'+t.data+"</span></li>":""})).join("");return!!r&&t('<ul data-dtr-index="'+i+'" class="dtr-details"/>').append(r)}},tableAll:function(e){return e=t.extend({tableClass:""},e),function(i,n,r){var a=t.map(r,(function(t){return"<tr "+(t.className?'class="'+t.className+'"':"")+' data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><td>'+t.title+":</td> <td>"+t.data+"</td></tr>"})).join("");return t('<table class="'+e.tableClass+' dtr-details" width="100%"/>').append(a)}}},a.defaults={breakpoints:a.breakpoints,auto:!0,details:{display:a.display.childRow,renderer:a.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var l=t.fn.dataTable.Api;return l.register("responsive()",(function(){return this})),l.register("responsive.index()",(function(e){return{column:(e=t(e)).data("dtr-index"),row:e.parent().data("dtr-index")}})),l.register("responsive.rebuild()",(function(){return this.iterator("table",(function(t){t._responsive&&t._responsive._classLogic()}))})),l.register("responsive.recalc()",(function(){return this.iterator("table",(function(t){t._responsive&&(t._responsive._resizeAuto(),t._responsive._resize())}))})),l.register("responsive.hasHidden()",(function(){var e=this.context[0];return!!e._responsive&&-1!==t.inArray(!1,e._responsive._responsiveOnlyHidden())})),l.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",(function(){return this.iterator("column",(function(t,e){return!!t._responsive&&t._responsive._responsiveOnlyHidden()[e]}),1)})),a.version="2.2.9",t.fn.dataTable.Responsive=a,t.fn.DataTable.Responsive=a,t(i).on("preInit.dt.dtr",(function(e,i,n){if("dt"===e.namespace&&(t(i.nTable).hasClass("responsive")||t(i.nTable).hasClass("dt-responsive")||i.oInit.responsive||r.defaults.responsive)){var o=i.oInit.responsive;!1!==o&&new a(i,t.isPlainObject(o)?o:{})}})),a}(t,window,document)}.apply(e,n))||(t.exports=r)},function(t,i,n){"use strict";(function(i){var n,r,a,o,s,l,c,u,d,h,p;t.exports=(a=function(t,e){var i;if(t===e)return t;for(i in e)void 0!==e[i]&&(t[i]=e[i]);return t},o=function(t,e){var i,n=Array.prototype.slice.call(arguments,2),r=[],a=t.length;if(Array.prototype.map&&t.map===Array.prototype.map)r=Array.prototype.map.call(t,(function(t){var i=n.slice(0);return i.splice(0,0,t),e.apply(this,i)}));else for(i=0;i<a;i++)callback_params=n,callback_params.splice(0,0,t[i]),r.push(e.apply(this,callback_params));return r},s=function(t){var e,i=[];for(e=0;e<t.length;e++)i=i.concat(t[e]);return i},l=function(t,e){var i=t[0],n=t[1];return e&&(i=t[1],n=t[0]),new google.maps.LatLng(i,n)},c=function(t,e){var i;for(i=0;i<t.length;i++)t[i]instanceof google.maps.LatLng||(t[i].length>0&&"object"==typeof t[i][0]?t[i]=c(t[i],e):t[i]=l(t[i],e));return t},u=function(t,e){var n=t.replace(".","");return"jQuery"in this&&e?i("."+n,e)[0]:document.getElementsByClassName(n)[0]},d=function(t,e){return t=t.replace("#",""),"jQuery"in window&&e?i("#"+t,e)[0]:document.getElementById(t)},h=function(t){var e=0,i=0;if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=-(window.scrollX?window.scrollX:window.pageXOffset),a=-(window.scrollY?window.scrollY:window.pageYOffset);return[n.left-r,n.top-a]}if(t.offsetParent)do{e+=t.offsetLeft,i+=t.offsetTop}while(t=t.offsetParent);return[e,i]},(p=function(t){var e=document,i=function(t){if("object"!=typeof window.google||!window.google.maps)return"object"==typeof window.console&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};if(!this)return new i(t);t.zoom=t.zoom||15,t.mapType=t.mapType||"roadmap";var n,r=function(t,e){return void 0===t?e:t},o=this,s=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],l=["mousemove","mouseout","mouseover"],c=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],p=t.el||t.div,f=t.markerClusterer,m=google.maps.MapTypeId[t.mapType.toUpperCase()],g=new google.maps.LatLng(t.lat,t.lng),y=r(t.zoomControl,!0),v=t.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},_=v.style||"DEFAULT",b=v.position||"TOP_LEFT",x=r(t.panControl,!0),w=r(t.mapTypeControl,!0),k=r(t.scaleControl,!0),S=r(t.streetViewControl,!0),T=r(T,!0),M={},C={zoom:this.zoom,center:g,mapTypeId:m},D={panControl:x,zoomControl:y,zoomControlOptions:{style:google.maps.ZoomControlStyle[_],position:google.maps.ControlPosition[b]},mapTypeControl:w,scaleControl:k,streetViewControl:S,overviewMapControl:T};if("string"==typeof t.el||"string"==typeof t.div?p.indexOf("#")>-1?this.el=d(p,t.context):this.el=u.apply(this,[p,t.context]):this.el=p,void 0===this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[o.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=t.zoom,this.registered_events={},this.el.style.width=t.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=t.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=t.enableNewStyle,n=0;n<c.length;n++)delete t[c[n]];for(1!=t.disableDefaultUI&&(C=a(C,D)),M=a(C,t),n=0;n<s.length;n++)delete M[s[n]];for(n=0;n<l.length;n++)delete M[l[n]];this.map=new google.maps.Map(this.el,M),f&&(this.markerClusterer=f.apply(this,[this.map]));var L=function(t,e){var i="",n=window.context_menu[o.el.id][t];for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];i+='<li><a id="'+t+"_"+r+'" href="#">'+a.title+"</a></li>"}if(d("gmaps_context_menu")){var s=d("gmaps_context_menu");s.innerHTML=i;var l=s.getElementsByTagName("a"),c=l.length;for(r=0;r<c;r++){var u=l[r];google.maps.event.clearListeners(u,"click"),google.maps.event.addDomListenerOnce(u,"click",(function(i){i.preventDefault(),n[this.id.replace(t+"_","")].action.apply(o,[e]),o.hideContextMenu()}),!1)}var p=h.apply(this,[o.el]),f=p[0]+e.pixel.x-15,m=p[1]+e.pixel.y-15;s.style.left=f+"px",s.style.top=m+"px"}};this.buildContextMenu=function(t,e){if("marker"===t){e.pixel={};var i=new google.maps.OverlayView;i.setMap(o.map),i.draw=function(){var n=i.getProjection(),r=e.marker.getPosition();e.pixel=n.fromLatLngToContainerPixel(r),L(t,e)}}else L(t,e);var n=d("gmaps_context_menu");setTimeout((function(){n.style.display="block"}),0)},this.setContextMenu=function(t){window.context_menu[o.el.id][t.control]={};var i,n=e.createElement("ul");for(i in t.options)if(t.options.hasOwnProperty(i)){var r=t.options[i];window.context_menu[o.el.id][t.control][r.name]={title:r.title,action:r.action}}n.id="gmaps_context_menu",n.style.display="none",n.style.position="absolute",n.style.minWidth="100px",n.style.background="white",n.style.listStyle="none",n.style.padding="8px",n.style.boxShadow="2px 2px 6px #ccc",d("gmaps_context_menu")||e.body.appendChild(n);var a=d("gmaps_context_menu");google.maps.event.addDomListener(a,"mouseout",(function(t){t.relatedTarget&&this.contains(t.relatedTarget)||window.setTimeout((function(){a.style.display="none"}),400)}),!1)},this.hideContextMenu=function(){var t=d("gmaps_context_menu");t&&(t.style.display="none")};var A=function(e,i){google.maps.event.addListener(e,i,(function(e){null==e&&(e=this),t[i].apply(this,[e]),o.hideContextMenu()}))};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var E=0;E<s.length;E++)(P=s[E])in t&&A(this.map,P);for(E=0;E<l.length;E++){var P;(P=l[E])in t&&A(this.map,P)}google.maps.event.addListener(this.map,"rightclick",(function(e){t.rightclick&&t.rightclick.apply(this,[e]),null!=window.context_menu[o.el.id].map&&o.buildContextMenu("map",e)})),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var t,e=[],i=this.markers.length;for(t=0;t<i;t++)"boolean"==typeof this.markers[t].visible&&this.markers[t].visible&&e.push(this.markers[t].getPosition());this.fitLatLngBounds(e)},this.fitLatLngBounds=function(t){var e,i=t.length,n=new google.maps.LatLngBounds;for(e=0;e<i;e++)n.extend(t[e]);this.map.fitBounds(n)},this.setCenter=function(t,e,i){this.map.panTo(new google.maps.LatLng(t,e)),i&&i()},this.getElement=function(){return this.el},this.zoomIn=function(t){t=t||1,this.zoom=this.map.getZoom()+t,this.map.setZoom(this.zoom)},this.zoomOut=function(t){t=t||1,this.zoom=this.map.getZoom()-t,this.map.setZoom(this.zoom)};var I,O=[];for(I in this.map)"function"!=typeof this.map[I]||this[I]||O.push(I);for(n=0;n<O.length;n++)!function(t,e,i){t[i]=function(){return e[i].apply(e,arguments)}}(this,this.map,O[n])};return i}()).prototype.createControl=function(t){var e=document.createElement("div");for(var i in e.style.cursor="pointer",!0!==t.disableDefaultStyles&&(e.style.fontFamily="Roboto, Arial, sans-serif",e.style.fontSize="11px",e.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px"),t.style)e.style[i]=t.style[i];for(var n in t.id&&(e.id=t.id),t.title&&(e.title=t.title),t.classes&&(e.className=t.classes),t.content&&("string"==typeof t.content?e.innerHTML=t.content:t.content instanceof HTMLElement&&e.appendChild(t.content)),t.position&&(e.position=google.maps.ControlPosition[t.position.toUpperCase()]),t.events)!function(e,i){google.maps.event.addDomListener(e,i,(function(){t.events[i].apply(this,[this])}))}(e,n);return e.index=1,e},p.prototype.addControl=function(t){var e=this.createControl(t);return this.controls.push(e),this.map.controls[e.position].push(e),e},p.prototype.removeControl=function(t){var e,i=null;for(e=0;e<this.controls.length;e++)this.controls[e]==t&&(i=this.controls[e].position,this.controls.splice(e,1));if(i)for(e=0;e<this.map.controls.length;e++){var n=this.map.controls[t.position];if(n.getAt(e)==t){n.removeAt(e);break}}return t},p.prototype.createMarker=function(t){if(null==t.lat&&null==t.lng&&null==t.position)throw"No latitude or longitude defined.";var e=this,i=t.details,n=t.fences,r=t.outside,o={position:new google.maps.LatLng(t.lat,t.lng),map:null},s=a(o,t);delete s.lat,delete s.lng,delete s.fences,delete s.outside;var l=new google.maps.Marker(s);if(l.fences=n,t.infoWindow){l.infoWindow=new google.maps.InfoWindow(t.infoWindow);for(var c=["closeclick","content_changed","domready","position_changed","zindex_changed"],u=0;u<c.length;u++)!function(e,i){t.infoWindow[i]&&google.maps.event.addListener(e,i,(function(e){t.infoWindow[i].apply(this,[e])}))}(l.infoWindow,c[u])}var d=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],h=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"];for(u=0;u<d.length;u++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,(function(){t[i].apply(this,[this])}))}(l,d[u]);for(u=0;u<h.length;u++)!function(e,i,n){t[n]&&google.maps.event.addListener(i,n,(function(i){i.pixel||(i.pixel=e.getProjection().fromLatLngToPoint(i.latLng)),t[n].apply(this,[i])}))}(this.map,l,h[u]);return google.maps.event.addListener(l,"click",(function(){this.details=i,t.click&&t.click.apply(this,[this]),l.infoWindow&&(e.hideInfoWindows(),l.infoWindow.open(e.map,l))})),google.maps.event.addListener(l,"rightclick",(function(i){i.marker=this,t.rightclick&&t.rightclick.apply(this,[i]),null!=window.context_menu[e.el.id].marker&&e.buildContextMenu("marker",i)})),l.fences&&google.maps.event.addListener(l,"dragend",(function(){e.checkMarkerGeofence(l,(function(t,e){r(t,e)}))})),l},p.prototype.addMarker=function(t){var e;if(t.hasOwnProperty("gm_accessors_"))e=t;else{if(!(t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")||t.position))throw"No latitude or longitude defined.";e=this.createMarker(t)}return e.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(e),this.markers.push(e),p.fire("marker_added",e,this),e},p.prototype.addMarkers=function(t){for(var e,i=0;e=t[i];i++)this.addMarker(e);return this.markers},p.prototype.hideInfoWindows=function(){for(var t,e=0;t=this.markers[e];e++)t.infoWindow&&t.infoWindow.close()},p.prototype.removeMarker=function(t){for(var e=0;e<this.markers.length;e++)if(this.markers[e]===t){this.markers[e].setMap(null),this.markers.splice(e,1),this.markerClusterer&&this.markerClusterer.removeMarker(t),p.fire("marker_removed",t,this);break}return t},p.prototype.removeMarkers=function(t){var e=[];if(void 0===t){for(var i=0;i<this.markers.length;i++)(r=this.markers[i]).setMap(null),p.fire("marker_removed",r,this);this.markerClusterer&&this.markerClusterer.clearMarkers&&this.markerClusterer.clearMarkers(),this.markers=e}else{for(i=0;i<t.length;i++){var n=this.markers.indexOf(t[i]);n>-1&&((r=this.markers[n]).setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(r),p.fire("marker_removed",r,this))}for(i=0;i<this.markers.length;i++){var r;null!=(r=this.markers[i]).getMap()&&e.push(r)}this.markers=e}},p.prototype.drawOverlay=function(t){var e=new google.maps.OverlayView,i=!0;return e.setMap(this.map),null!=t.auto_show&&(i=t.auto_show),e.onAdd=function(){var i=document.createElement("div");i.style.borderStyle="none",i.style.borderWidth="0px",i.style.position="absolute",i.style.zIndex=100,i.innerHTML=t.content,e.el=i,t.layer||(t.layer="overlayLayer");var n,r,a=this.getPanes(),o=["contextmenu","DOMMouseScroll","dblclick","mousedown"];a[t.layer].appendChild(i);for(var s=0;s<o.length;s++)n=i,r=o[s],google.maps.event.addDomListener(n,r,(function(t){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(t.cancelBubble=!0,t.returnValue=!1):t.stopPropagation()}));t.click&&(a.overlayMouseTarget.appendChild(e.el),google.maps.event.addDomListener(e.el,"click",(function(){t.click.apply(e,[e])}))),google.maps.event.trigger(this,"ready")},e.draw=function(){var n=this.getProjection().fromLatLngToDivPixel(new google.maps.LatLng(t.lat,t.lng));t.horizontalOffset=t.horizontalOffset||0,t.verticalOffset=t.verticalOffset||0;var r=e.el,a=r.children[0],o=a.clientHeight,s=a.clientWidth;switch(t.verticalAlign){case"top":r.style.top=n.y-o+t.verticalOffset+"px";break;default:case"middle":r.style.top=n.y-o/2+t.verticalOffset+"px";break;case"bottom":r.style.top=n.y+t.verticalOffset+"px"}switch(t.horizontalAlign){case"left":r.style.left=n.x-s+t.horizontalOffset+"px";break;default:case"center":r.style.left=n.x-s/2+t.horizontalOffset+"px";break;case"right":r.style.left=n.x+t.horizontalOffset+"px"}r.style.display=i?"block":"none",i||t.show.apply(this,[r])},e.onRemove=function(){var i=e.el;t.remove?t.remove.apply(this,[i]):(e.el.parentNode.removeChild(e.el),e.el=null)},this.overlays.push(e),e},p.prototype.removeOverlay=function(t){for(var e=0;e<this.overlays.length;e++)if(this.overlays[e]===t){this.overlays[e].setMap(null),this.overlays.splice(e,1);break}},p.prototype.removeOverlays=function(){for(var t,e=0;t=this.overlays[e];e++)t.setMap(null);this.overlays=[]},p.prototype.drawPolyline=function(t){var e=[],i=t.path;if(i.length)if(void 0===i[0][0])e=i;else for(var n,r=0;n=i[r];r++)e.push(new google.maps.LatLng(n[0],n[1]));var a={map:this.map,path:e,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,geodesic:t.geodesic,clickable:!0,editable:!1,visible:!0};t.hasOwnProperty("clickable")&&(a.clickable=t.clickable),t.hasOwnProperty("editable")&&(a.editable=t.editable),t.hasOwnProperty("icons")&&(a.icons=t.icons),t.hasOwnProperty("zIndex")&&(a.zIndex=t.zIndex);for(var o=new google.maps.Polyline(a),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l=0;l<s.length;l++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,(function(e){t[i].apply(this,[e])}))}(o,s[l]);return this.polylines.push(o),p.fire("polyline_added",o,this),o},p.prototype.removePolyline=function(t){for(var e=0;e<this.polylines.length;e++)if(this.polylines[e]===t){this.polylines[e].setMap(null),this.polylines.splice(e,1),p.fire("polyline_removed",t,this);break}},p.prototype.removePolylines=function(){for(var t,e=0;t=this.polylines[e];e++)t.setMap(null);this.polylines=[]},p.prototype.drawCircle=function(t){delete(t=a({map:this.map,center:new google.maps.LatLng(t.lat,t.lng)},t)).lat,delete t.lng;for(var e=new google.maps.Circle(t),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],n=0;n<i.length;n++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,(function(e){t[i].apply(this,[e])}))}(e,i[n]);return this.polygons.push(e),e},p.prototype.drawRectangle=function(t){t=a({map:this.map},t);var e=new google.maps.LatLngBounds(new google.maps.LatLng(t.bounds[0][0],t.bounds[0][1]),new google.maps.LatLng(t.bounds[1][0],t.bounds[1][1]));t.bounds=e;for(var i=new google.maps.Rectangle(t),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],r=0;r<n.length;r++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,(function(e){t[i].apply(this,[e])}))}(i,n[r]);return this.polygons.push(i),i},p.prototype.drawPolygon=function(t){var e=!1;t.hasOwnProperty("useGeoJSON")&&(e=t.useGeoJSON),delete t.useGeoJSON,t=a({map:this.map},t),0==e&&(t.paths=[t.paths.slice(0)]),t.paths.length>0&&t.paths[0].length>0&&(t.paths=s(o(t.paths,c,e)));for(var i=new google.maps.Polygon(t),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],r=0;r<n.length;r++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,(function(e){t[i].apply(this,[e])}))}(i,n[r]);return this.polygons.push(i),p.fire("polygon_added",i,this),i},p.prototype.removePolygon=function(t){for(var e=0;e<this.polygons.length;e++)if(this.polygons[e]===t){this.polygons[e].setMap(null),this.polygons.splice(e,1),p.fire("polygon_removed",t,this);break}},p.prototype.removePolygons=function(){for(var t,e=0;t=this.polygons[e];e++)t.setMap(null);this.polygons=[]},p.prototype.getFromFusionTables=function(t){var e=t.events;delete t.events;var i=t,n=new google.maps.FusionTablesLayer(i);for(var r in e)!function(t,i){google.maps.event.addListener(t,i,(function(t){e[i].apply(this,[t])}))}(n,r);return this.layers.push(n),n},p.prototype.loadFromFusionTables=function(t){var e=this.getFromFusionTables(t);return e.setMap(this.map),e},p.prototype.getFromKML=function(t){var e=t.url,i=t.events;delete t.url,delete t.events;var n=t,r=new google.maps.KmlLayer(e,n);for(var a in i)!function(t,e){google.maps.event.addListener(t,e,(function(t){i[e].apply(this,[t])}))}(r,a);return this.layers.push(r),r},p.prototype.loadFromKML=function(t){var e=this.getFromKML(t);return e.setMap(this.map),e},p.prototype.addLayer=function(t,e){var i;switch(e=e||{},t){case"weather":this.singleLayers.weather=i=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=i=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=i=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=i=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=i=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=i=new google.maps.panoramio.PanoramioLayer,i.setTag(e.filter),delete e.filter,e.click&&google.maps.event.addListener(i,"click",(function(t){e.click(t),delete e.click}));break;case"places":if(this.singleLayers.places=i=new google.maps.places.PlacesService(this.map),e.search||e.nearbySearch||e.radarSearch){var n={bounds:e.bounds||null,keyword:e.keyword||null,location:e.location||null,name:e.name||null,radius:e.radius||null,rankBy:e.rankBy||null,types:e.types||null};e.radarSearch&&i.radarSearch(n,e.radarSearch),e.search&&i.search(n,e.search),e.nearbySearch&&i.nearbySearch(n,e.nearbySearch)}if(e.textSearch){var r={bounds:e.bounds||null,location:e.location||null,query:e.query||null,radius:e.radius||null};i.textSearch(r,e.textSearch)}}if(void 0!==i)return"function"==typeof i.setOptions&&i.setOptions(e),"function"==typeof i.setMap&&i.setMap(this.map),i},p.prototype.removeLayer=function(t){if("string"==typeof t&&void 0!==this.singleLayers[t])this.singleLayers[t].setMap(null),delete this.singleLayers[t];else for(var e=0;e<this.layers.length;e++)if(this.layers[e]===t){this.layers[e].setMap(null),this.layers.splice(e,1);break}},p.prototype.getRoutes=function(t){switch(t.travelMode){case"bicycling":n=google.maps.TravelMode.BICYCLING;break;case"transit":n=google.maps.TravelMode.TRANSIT;break;case"driving":n=google.maps.TravelMode.DRIVING;break;default:n=google.maps.TravelMode.WALKING}r="imperial"===t.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var e=a({avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},t);e.origin=/string/.test(typeof t.origin)?t.origin:new google.maps.LatLng(t.origin[0],t.origin[1]),e.destination=/string/.test(typeof t.destination)?t.destination:new google.maps.LatLng(t.destination[0],t.destination[1]),e.travelMode=n,e.unitSystem=r,delete e.callback,delete e.error;var i=[];(new google.maps.DirectionsService).route(e,(function(e,n){if(n===google.maps.DirectionsStatus.OK){for(var r in e.routes)e.routes.hasOwnProperty(r)&&i.push(e.routes[r]);t.callback&&t.callback(i,e,n)}else t.error&&t.error(e,n)}))},p.prototype.removeRoutes=function(){this.routes.length=0},p.prototype.getElevations=function(t){(t=a({locations:[],path:!1,samples:256},t)).locations.length>0&&t.locations[0].length>0&&(t.locations=s(o([t.locations],c,!1)));var e=t.callback;delete t.callback;var i=new google.maps.ElevationService;if(t.path){var n={path:t.locations,samples:t.samples};i.getElevationAlongPath(n,(function(t,i){e&&"function"==typeof e&&e(t,i)}))}else delete t.path,delete t.samples,i.getElevationForLocations(t,(function(t,i){e&&"function"==typeof e&&e(t,i)}))},p.prototype.cleanRoute=p.prototype.removePolylines,p.prototype.renderRoute=function(t,e){var i,n="string"==typeof e.panel?document.getElementById(e.panel.replace("#","")):e.panel;e.panel=n,e=a({map:this.map},e),i=new google.maps.DirectionsRenderer(e),this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,unitSystem:t.unitSystem,error:t.error,avoidHighways:t.avoidHighways,avoidTolls:t.avoidTolls,optimizeWaypoints:t.optimizeWaypoints,callback:function(t,e,n){n===google.maps.DirectionsStatus.OK&&i.setDirections(e)}})},p.prototype.drawRoute=function(t){var e=this;this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,unitSystem:t.unitSystem,error:t.error,avoidHighways:t.avoidHighways,avoidTolls:t.avoidTolls,optimizeWaypoints:t.optimizeWaypoints,callback:function(i){if(i.length>0){var n={path:i[i.length-1].overview_path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(n.icons=t.icons),e.drawPolyline(n),t.callback&&t.callback(i[i.length-1])}}})},p.prototype.travelRoute=function(t){if(t.origin&&t.destination)this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,unitSystem:t.unitSystem,error:t.error,callback:function(e){if(e.length>0&&t.start&&t.start(e[e.length-1]),e.length>0&&t.step){var i=e[e.length-1];if(i.legs.length>0)for(var n,r=i.legs[0].steps,a=0;n=r[a];a++)n.step_number=a,t.step(n,i.legs[0].steps.length-1)}e.length>0&&t.end&&t.end(e[e.length-1])}});else if(t.route&&t.route.legs.length>0)for(var e,i=t.route.legs[0].steps,n=0;e=i[n];n++)e.step_number=n,t.step(e)},p.prototype.drawSteppedRoute=function(t){var e=this;if(t.origin&&t.destination)this.getRoutes({origin:t.origin,destination:t.destination,travelMode:t.travelMode,waypoints:t.waypoints,error:t.error,callback:function(i){if(i.length>0&&t.start&&t.start(i[i.length-1]),i.length>0&&t.step){var n=i[i.length-1];if(n.legs.length>0)for(var r,a=n.legs[0].steps,o=0;r=a[o];o++){r.step_number=o;var s={path:r.path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(s.icons=t.icons),e.drawPolyline(s),t.step(r,n.legs[0].steps.length-1)}}i.length>0&&t.end&&t.end(i[i.length-1])}});else if(t.route&&t.route.legs.length>0)for(var i,n=t.route.legs[0].steps,r=0;i=n[r];r++){i.step_number=r;var a={path:i.path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(a.icons=t.icons),e.drawPolyline(a),t.step(i)}},p.Route=function(t){this.origin=t.origin,this.destination=t.destination,this.waypoints=t.waypoints,this.map=t.map,this.route=t.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var e={path:new google.maps.MVCArray,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight};t.hasOwnProperty("icons")&&(e.icons=t.icons),this.polyline=this.map.drawPolyline(e).getPath()},p.Route.prototype.getRoute=function(t){var i=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:t.travelMode,waypoints:this.waypoints||[],error:t.error,callback:function(){i.route=e[0],t.callback&&t.callback.call(i)}})},p.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var t=this.route.legs[0].steps[this.step_count].path;for(var e in t)t.hasOwnProperty(e)&&this.polyline.pop()}},p.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var t=this.route.legs[0].steps[this.step_count].path;for(var e in t)t.hasOwnProperty(e)&&this.polyline.push(t[e]);this.step_count++}},p.prototype.checkGeofence=function(t,e,i){return i.containsLatLng(new google.maps.LatLng(t,e))},p.prototype.checkMarkerGeofence=function(t,e){if(t.fences)for(var i,n=0;i=t.fences[n];n++){var r=t.getPosition();this.checkGeofence(r.lat(),r.lng(),i)||e(t,i)}},p.prototype.toImage=function(t){t=t||{};var e={};if(e.size=t.size||[this.el.clientWidth,this.el.clientHeight],e.lat=this.getCenter().lat(),e.lng=this.getCenter().lng(),this.markers.length>0){e.markers=[];for(var i=0;i<this.markers.length;i++)e.markers.push({lat:this.markers[i].getPosition().lat(),lng:this.markers[i].getPosition().lng()})}if(this.polylines.length>0){var n=this.polylines[0];e.polyline={},e.polyline.path=google.maps.geometry.encoding.encodePath(n.getPath()),e.polyline.strokeColor=n.strokeColor,e.polyline.strokeOpacity=n.strokeOpacity,e.polyline.strokeWeight=n.strokeWeight}return p.staticMapURL(e)},p.staticMapURL=function(t){var e,i=[],n=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";t.url&&(n=t.url,delete t.url),n+="?";var r=t.markers;delete t.markers,!r&&t.marker&&(r=[t.marker],delete t.marker);var a=t.styles;delete t.styles;var o=t.polyline;if(delete t.polyline,t.center)i.push("center="+t.center),delete t.center;else if(t.address)i.push("center="+t.address),delete t.address;else if(t.lat)i.push(["center=",t.lat,",",t.lng].join("")),delete t.lat,delete t.lng;else if(t.visible){var s=encodeURI(t.visible.join("|"));i.push("visible="+s)}var l=t.size;l?(l.join&&(l=l.join("x")),delete t.size):l="630x300",i.push("size="+l),t.zoom||!1===t.zoom||(t.zoom=15);var c=!t.hasOwnProperty("sensor")||!!t.sensor;for(var u in delete t.sensor,i.push("sensor="+c),t)t.hasOwnProperty(u)&&i.push(u+"="+t[u]);if(r)for(var d,h,p=0;e=r[p];p++){for(var u in d=[],e.size&&"normal"!==e.size?(d.push("size:"+e.size),delete e.size):e.icon&&(d.push("icon:"+encodeURI(e.icon)),delete e.icon),e.color&&(d.push("color:"+e.color.replace("#","0x")),delete e.color),e.label&&(d.push("label:"+e.label[0].toUpperCase()),delete e.label),h=e.address?e.address:e.lat+","+e.lng,delete e.address,delete e.lat,delete e.lng,e)e.hasOwnProperty(u)&&d.push(u+":"+e[u]);d.length||0===p?(d.push(h),d=d.join("|"),i.push("markers="+encodeURI(d))):(d=i.pop()+encodeURI("|"+h),i.push(d))}if(a)for(p=0;p<a.length;p++){var f=[];a[p].featureType&&f.push("feature:"+a[p].featureType.toLowerCase()),a[p].elementType&&f.push("element:"+a[p].elementType.toLowerCase());for(var m=0;m<a[p].stylers.length;m++)for(var g in a[p].stylers[m]){var y=a[p].stylers[m][g];"hue"!=g&&"color"!=g||(y="0x"+y.substring(1)),f.push(g+":"+y)}var v=f.join("|");""!=v&&i.push("style="+v)}function _(t,e){if("#"===t[0]&&(t=t.replace("#","0x"),e)){if(e=parseFloat(e),0===(e=Math.min(1,Math.max(e,0))))return"0x00000000";1===(e=(255*e).toString(16)).length&&(e+=e),t=t.slice(0,8)+e}return t}if(o){if(e=o,o=[],e.strokeWeight&&o.push("weight:"+parseInt(e.strokeWeight,10)),e.strokeColor){var b=_(e.strokeColor,e.strokeOpacity);o.push("color:"+b)}if(e.fillColor){var x=_(e.fillColor,e.fillOpacity);o.push("fillcolor:"+x)}var w,k=e.path;if(k.join)for(m=0;w=k[m];m++)o.push(w.join(","));else o.push("enc:"+k);o=o.join("|"),i.push("path="+encodeURI(o))}var S=window.devicePixelRatio||1;return i.push("scale="+S),n+(i=i.join("&"))},p.prototype.addMapType=function(t,e){if(!e.hasOwnProperty("getTileUrl")||"function"!=typeof e.getTileUrl)throw"'getTileUrl' function required.";e.tileSize=e.tileSize||new google.maps.Size(256,256);var i=new google.maps.ImageMapType(e);this.map.mapTypes.set(t,i)},p.prototype.addOverlayMapType=function(t){if(!t.hasOwnProperty("getTile")||"function"!=typeof t.getTile)throw"'getTile' function required.";var e=t.index;delete t.index,this.map.overlayMapTypes.insertAt(e,t)},p.prototype.removeOverlayMapType=function(t){this.map.overlayMapTypes.removeAt(t)},p.prototype.addStyle=function(t){var e=new google.maps.StyledMapType(t.styles,{name:t.styledMapName});this.map.mapTypes.set(t.mapTypeId,e)},p.prototype.setStyle=function(t){this.map.setMapTypeId(t)},p.prototype.createPanorama=function(t){return t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")||(t.lat=this.getCenter().lat(),t.lng=this.getCenter().lng()),this.panorama=p.createPanorama(t),this.map.setStreetView(this.panorama),this.panorama},p.createPanorama=function(t){var e=d(t.el,t.context);t.position=new google.maps.LatLng(t.lat,t.lng),delete t.el,delete t.context,delete t.lat,delete t.lng;for(var i=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],n=a({visible:!0},t),r=0;r<i.length;r++)delete n[i[r]];var o=new google.maps.StreetViewPanorama(e,n);for(r=0;r<i.length;r++)!function(e,i){t[i]&&google.maps.event.addListener(e,i,(function(){t[i].apply(this)}))}(o,i[r]);return o},p.prototype.on=function(t,e){return p.on(t,this,e)},p.prototype.off=function(t){p.off(t,this)},p.prototype.once=function(t,e){return p.once(t,this,e)},p.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],p.on=function(t,e,i){if(-1==p.custom_events.indexOf(t))return e instanceof p&&(e=e.map),google.maps.event.addListener(e,t,i);var n={handler:i,eventName:t};return e.registered_events[t]=e.registered_events[t]||[],e.registered_events[t].push(n),n},p.off=function(t,e){-1==p.custom_events.indexOf(t)?(e instanceof p&&(e=e.map),google.maps.event.clearListeners(e,t)):e.registered_events[t]=[]},p.once=function(t,e,i){if(-1==p.custom_events.indexOf(t))return e instanceof p&&(e=e.map),google.maps.event.addListenerOnce(e,t,i)},p.fire=function(t,e,i){if(-1==p.custom_events.indexOf(t))google.maps.event.trigger(e,t,Array.prototype.slice.apply(arguments).slice(2));else if(t in i.registered_events)for(var n=i.registered_events[t],r=0;r<n.length;r++)!function(t,e,i){t.apply(e,[i])}(n[r].handler,i,e)},p.geolocate=function(t){var e=t.always||t.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(i){t.success(i),e&&e()}),(function(i){t.error(i),e&&e()}),t.options):(t.not_supported(),e&&e())},p.geocode=function(t){this.geocoder=new google.maps.Geocoder;var e=t.callback;t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")&&(t.latLng=new google.maps.LatLng(t.lat,t.lng)),delete t.lat,delete t.lng,delete t.callback,this.geocoder.geocode(t,(function(t,i){e(t,i)}))},"object"==typeof window.google&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(t){for(var e,i=new google.maps.LatLngBounds,n=this.getPaths(),r=0;r<n.getLength();r++){e=n.getAt(r);for(var a=0;a<e.getLength();a++)i.extend(e.getAt(a))}return i}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(t){var e=this.getBounds();if(null!==e&&!e.contains(t))return!1;for(var i=!1,n=this.getPaths().getLength(),r=0;r<n;r++)for(var a=this.getPaths().getAt(r),o=a.getLength(),s=o-1,l=0;l<o;l++){var c=a.getAt(l),u=a.getAt(s);(c.lng()<t.lng()&&u.lng()>=t.lng()||u.lng()<t.lng()&&c.lng()>=t.lng())&&c.lat()+(t.lng()-c.lng())/(u.lng()-c.lng())*(u.lat()-c.lat())<t.lat()&&(i=!i),s=l}return i}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(t){return!google.maps.geometry||google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),t)<=this.getRadius()}),google.maps.Rectangle.prototype.containsLatLng=function(t){return this.getBounds().contains(t)},google.maps.LatLngBounds.prototype.containsLatLng=function(t){return this.contains(t)},google.maps.Marker.prototype.setFences=function(t){this.fences=t},google.maps.Marker.prototype.addFence=function(t){this.fences.push(t)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!=n&&n!=1/0&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1}),p)}).call(this,n(1))},function(t,e,i){(function(e,i){
/*!
 * Intro.js v3.4.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2021 Afshin Mehrabani (@afshinmeh).
 * https://raw.githubusercontent.com/usablica/intro.js/master/license.md
 *
 * Date: Thu, 25 Mar 2021 09:48:49 GMT
 */var n;n=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var n=function(){var t={};return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return t[i]=t[i]||0,void 0===e[i]&&(e[i]=t[i]++),e[i]}}();function r(t,e,i){if(t)for(var n=0,r=t.length;n<r;n++)e(t[n],n);"function"==typeof i&&i()}var a=new function(){var t="introjs_event";this._id=function(t,e,i,r){return e+n(i)+(r?"_".concat(n(r)):"")},this.on=function(e,i,n,r,a){var o=this._id.apply(this,arguments),s=function(t){return n.call(r||e,t||window.event)};"addEventListener"in e?e.addEventListener(i,s,a):"attachEvent"in e&&e.attachEvent("on".concat(i),s),e[t]=e[t]||{},e[t][o]=s},this.off=function(e,i,n,r,a){var o=this._id.apply(this,arguments),s=e[t]&&e[t][o];s&&("removeEventListener"in e?e.removeEventListener(i,s,a):"detachEvent"in e&&e.detachEvent("on".concat(i),s),e[t][o]=null)}},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var l=function(t){return t&&t.Math==Math&&t},c=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof o&&o)||function(){return this}()||Function("return this")(),u=function(t){try{return!!t()}catch(t){return!0}},d=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,f={f:p&&!h.call({1:2},1)?function(t){var e=p(this,t);return!!e&&e.enumerable}:h},m=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},g={}.toString,y=function(t){return g.call(t).slice(8,-1)},v="".split,_=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==y(t)?v.call(t,""):Object(t)}:Object,b=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},x=function(t){return _(b(t))},w=function(t){return"object"==typeof t?null!==t:"function"==typeof t},k=function(t,e){if(!w(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!w(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!w(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!w(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},S={}.hasOwnProperty,T=function(t,e){return S.call(t,e)},M=c.document,C=w(M)&&w(M.createElement),D=function(t){return C?M.createElement(t):{}},L=!d&&!u((function(){return 7!=Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:d?A:function(t,e){if(t=x(t),e=k(e,!0),L)try{return A(t,e)}catch(t){}if(T(t,e))return m(!f.f.call(t,e),t[e])}},P=function(t){if(!w(t))throw TypeError(String(t)+" is not an object");return t},I=Object.defineProperty,O={f:d?I:function(t,e,i){if(P(t),e=k(e,!0),P(i),L)try{return I(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},R=d?function(t,e,i){return O.f(t,e,m(1,i))}:function(t,e,i){return t[e]=i,t},z=function(t,e){try{R(c,t,e)}catch(i){c[t]=e}return e},Y=c["__core-js_shared__"]||z("__core-js_shared__",{}),F=Function.toString;"function"!=typeof Y.inspectSource&&(Y.inspectSource=function(t){return F.call(t)});var H,N,B,j=Y.inspectSource,V=c.WeakMap,W="function"==typeof V&&/native code/.test(j(V)),U=s((function(t){(t.exports=function(t,e){return Y[t]||(Y[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),$=0,q=Math.random(),G=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+q).toString(36)},X=U("keys"),Z=function(t){return X[t]||(X[t]=G(t))},J={},K=c.WeakMap;if(W){var Q=Y.state||(Y.state=new K),tt=Q.get,et=Q.has,it=Q.set;H=function(t,e){return e.facade=t,it.call(Q,t,e),e},N=function(t){return tt.call(Q,t)||{}},B=function(t){return et.call(Q,t)}}else{var nt=Z("state");J[nt]=!0,H=function(t,e){return e.facade=t,R(t,nt,e),e},N=function(t){return T(t,nt)?t[nt]:{}},B=function(t){return T(t,nt)}}var rt={set:H,get:N,has:B,enforce:function(t){return B(t)?N(t):H(t,{})},getterFor:function(t){return function(e){var i;if(!w(e)||(i=N(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},at=s((function(t){var e=rt.get,i=rt.enforce,n=String(String).split("String");(t.exports=function(t,e,r,a){var o,s=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||T(r,"name")||R(r,"name",e),(o=i(r)).source||(o.source=n.join("string"==typeof e?e:""))),t!==c?(s?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=r:R(t,e,r)):l?t[e]=r:z(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||j(this)}))})),ot=c,st=function(t){return"function"==typeof t?t:void 0},lt=function(t,e){return arguments.length<2?st(ot[t])||st(c[t]):ot[t]&&ot[t][e]||c[t]&&c[t][e]},ct=Math.ceil,ut=Math.floor,dt=function(t){return isNaN(t=+t)?0:(t>0?ut:ct)(t)},ht=Math.min,pt=function(t){return t>0?ht(dt(t),9007199254740991):0},ft=Math.max,mt=Math.min,gt=function(t,e){var i=dt(t);return i<0?ft(i+e,0):mt(i,e)},yt=function(t){return function(e,i,n){var r,a=x(e),o=pt(a.length),s=gt(n,o);if(t&&i!=i){for(;o>s;)if((r=a[s++])!=r)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===i)return t||s||0;return!t&&-1}},vt={includes:yt(!0),indexOf:yt(!1)},_t=vt.indexOf,bt=function(t,e){var i,n=x(t),r=0,a=[];for(i in n)!T(J,i)&&T(n,i)&&a.push(i);for(;e.length>r;)T(n,i=e[r++])&&(~_t(a,i)||a.push(i));return a},xt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wt=xt.concat("length","prototype"),kt={f:Object.getOwnPropertyNames||function(t){return bt(t,wt)}},St={f:Object.getOwnPropertySymbols},Tt=lt("Reflect","ownKeys")||function(t){var e=kt.f(P(t)),i=St.f;return i?e.concat(i(t)):e},Mt=function(t,e){for(var i=Tt(e),n=O.f,r=E.f,a=0;a<i.length;a++){var o=i[a];T(t,o)||n(t,o,r(e,o))}},Ct=/#|\.prototype\./,Dt=function(t,e){var i=At[Lt(t)];return i==Pt||i!=Et&&("function"==typeof e?u(e):!!e)},Lt=Dt.normalize=function(t){return String(t).replace(Ct,".").toLowerCase()},At=Dt.data={},Et=Dt.NATIVE="N",Pt=Dt.POLYFILL="P",It=Dt,Ot=E.f,Rt=function(t,e){var i,n,r,a,o,s=t.target,l=t.global,u=t.stat;if(i=l?c:u?c[s]||z(s,{}):(c[s]||{}).prototype)for(n in e){if(a=e[n],r=t.noTargetGet?(o=Ot(i,n))&&o.value:i[n],!It(l?n:s+(u?".":"#")+n,t.forced)&&void 0!==r){if(typeof a==typeof r)continue;Mt(a,r)}(t.sham||r&&r.sham)&&R(a,"sham",!0),at(i,n,a,t)}},zt=function(){var t=P(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Yt(t,e){return RegExp(t,e)}var Ft,Ht,Nt={UNSUPPORTED_Y:u((function(){var t=Yt("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:u((function(){var t=Yt("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Bt=RegExp.prototype.exec,jt=String.prototype.replace,Vt=Bt,Wt=(Ft=/a/,Ht=/b*/g,Bt.call(Ft,"a"),Bt.call(Ht,"a"),0!==Ft.lastIndex||0!==Ht.lastIndex),Ut=Nt.UNSUPPORTED_Y||Nt.BROKEN_CARET,$t=void 0!==/()??/.exec("")[1];(Wt||$t||Ut)&&(Vt=function(t){var e,i,n,r,a=this,o=Ut&&a.sticky,s=zt.call(a),l=a.source,c=0,u=t;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),i=new RegExp("^(?:"+l+")",s)),$t&&(i=new RegExp("^"+l+"$(?!\\s)",s)),Wt&&(e=a.lastIndex),n=Bt.call(o?i:a,u),o?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:Wt&&n&&(a.lastIndex=a.global?n.index+n[0].length:e),$t&&n&&n.length>1&&jt.call(n[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n});var qt=Vt;Rt({target:"RegExp",proto:!0,forced:/./.exec!==qt},{exec:qt});var Gt,Xt,Zt="process"==y(c.process),Jt=lt("navigator","userAgent")||"",Kt=c.process,Qt=Kt&&Kt.versions,te=Qt&&Qt.v8;te?Xt=(Gt=te.split("."))[0]+Gt[1]:Jt&&(!(Gt=Jt.match(/Edge\/(\d+)/))||Gt[1]>=74)&&(Gt=Jt.match(/Chrome\/(\d+)/))&&(Xt=Gt[1]);var ee=Xt&&+Xt,ie=!!Object.getOwnPropertySymbols&&!u((function(){return!Symbol.sham&&(Zt?38===ee:ee>37&&ee<41)})),ne=ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,re=U("wks"),ae=c.Symbol,oe=ne?ae:ae&&ae.withoutSetter||G,se=function(t){return T(re,t)&&(ie||"string"==typeof re[t])||(ie&&T(ae,t)?re[t]=ae[t]:re[t]=oe("Symbol."+t)),re[t]},le=se("species"),ce=!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ue="$0"==="a".replace(/./,"$0"),de=se("replace"),he=!!/./[de]&&""===/./[de]("a","$0"),pe=!u((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),fe=function(t,e,i,n){var r=se(t),a=!u((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),o=a&&!u((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[le]=function(){return i},i.flags="",i[r]=/./[r]),i.exec=function(){return e=!0,null},i[r](""),!e}));if(!a||!o||"replace"===t&&(!ce||!ue||he)||"split"===t&&!pe){var s=/./[r],l=i(r,""[t],(function(t,e,i,n,r){return e.exec===qt?a&&!r?{done:!0,value:s.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:ue,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:he}),c=l[0],d=l[1];at(String.prototype,t,c),at(RegExp.prototype,r,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)})}n&&R(RegExp.prototype[r],"sham",!0)},me=function(t){return function(e,i){var n,r,a=String(b(e)),o=dt(i),s=a.length;return o<0||o>=s?t?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===s||(r=a.charCodeAt(o+1))<56320||r>57343?t?a.charAt(o):n:t?a.slice(o,o+2):r-56320+(n-55296<<10)+65536}},ge=(me(!1),me(!0)),ye=function(t,e,i){return e+(i?ge(t,e).length:1)},ve=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==y(t))throw TypeError("RegExp#exec called on incompatible receiver");return qt.call(t,e)};fe("match",1,(function(t,e,i){return[function(e){var i=b(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var r=P(t),a=String(this);if(!r.global)return ve(r,a);var o=r.unicode;r.lastIndex=0;for(var s,l=[],c=0;null!==(s=ve(r,a));){var u=String(s[0]);l[c]=u,""===u&&(r.lastIndex=ye(a,pt(r.lastIndex),o)),c++}return 0===c?null:l}]}));var _e=Array.isArray||function(t){return"Array"==y(t)},be=function(t){return Object(b(t))},xe=function(t,e,i){var n=k(e);n in t?O.f(t,n,m(0,i)):t[n]=i},we=se("species"),ke=function(t,e){var i;return _e(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!_e(i.prototype)?w(i)&&null===(i=i[we])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},Se=se("species"),Te=function(t){return ee>=51||!u((function(){var e=[];return(e.constructor={})[Se]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Me=se("isConcatSpreadable"),Ce=ee>=51||!u((function(){var t=[];return t[Me]=!1,t.concat()[0]!==t})),De=Te("concat"),Le=function(t){if(!w(t))return!1;var e=t[Me];return void 0!==e?!!e:_e(t)};Rt({target:"Array",proto:!0,forced:!Ce||!De},{concat:function(t){var e,i,n,r,a,o=be(this),s=ke(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(Le(a=-1===e?o:arguments[e])){if(l+(r=pt(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in a&&xe(s,l,a[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");xe(s,l++,a)}return s.length=l,s}});var Ae={};Ae[se("toStringTag")]="z";var Ee="[object z]"===String(Ae),Pe=se("toStringTag"),Ie="Arguments"==y(function(){return arguments}()),Oe=Ee?y:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Pe))?i:Ie?y(e):"Object"==(n=y(e))&&"function"==typeof e.callee?"Arguments":n},Re=Ee?{}.toString:function(){return"[object "+Oe(this)+"]"};Ee||at(Object.prototype,"toString",Re,{unsafe:!0});var ze=RegExp.prototype,Ye=ze.toString,Fe=u((function(){return"/a/b"!=Ye.call({source:"a",flags:"b"})})),He="toString"!=Ye.name;(Fe||He)&&at(RegExp.prototype,"toString",(function(){var t=P(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in ze)?zt.call(t):i)}),{unsafe:!0});var Ne=se("match"),Be=function(t){var e;return w(t)&&(void 0!==(e=t[Ne])?!!e:"RegExp"==y(t))},je=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ve=se("species"),We=[].push,Ue=Math.min,$e=!u((function(){return!RegExp(4294967295,"y")}));function qe(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";i.match(e)||t.setAttribute("class","".concat(i," ").concat(e))}else void 0!==t.classList?r(e.split(" "),(function(e){t.classList.add(e)})):t.className.match(e)||(t.className+=" ".concat(e))}function Ge(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i&&i.toLowerCase?i.toLowerCase():i}function Xe(t){var e=t.element;if(this._options.scrollToElement){var i=function(t){var e=window.getComputedStyle(t),i="absolute"===e.position,n=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var r=t;r=r.parentElement;)if(e=window.getComputedStyle(r),(!i||"static"!==e.position)&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.body}(e);i!==document.body&&(i.scrollTop=e.offsetTop-i.offsetTop)}}function Ze(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function Je(t,e,i){var n,r=e.element;if("off"!==t&&this._options.scrollToElement&&(n="tooltip"===t?i.getBoundingClientRect():r.getBoundingClientRect(),!function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(r))){var a=Ze().height;n.bottom-(n.bottom-n.top)<0||r.clientHeight>a?window.scrollBy(0,n.top-(a/2-n.height/2)-this._options.scrollPadding):window.scrollBy(0,n.top-(a/2-n.height/2)+this._options.scrollPadding)}}function Ke(t){t.setAttribute("role","button"),t.tabIndex=0}fe("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(b(this)),r=void 0===i?4294967295:i>>>0;if(0===r)return[];if(void 0===t)return[n];if(!Be(t))return e.call(n,t,r);for(var a,o,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,d=new RegExp(t.source,c+"g");(a=qt.call(d,n))&&!((o=d.lastIndex)>u&&(l.push(n.slice(u,a.index)),a.length>1&&a.index<n.length&&We.apply(l,a.slice(1)),s=a[0].length,u=o,l.length>=r));)d.lastIndex===a.index&&d.lastIndex++;return u===n.length?!s&&d.test("")||l.push(""):l.push(n.slice(u)),l.length>r?l.slice(0,r):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=b(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,r,i):n.call(String(r),e,i)},function(t,r){var a=i(n,t,this,r,n!==e);if(a.done)return a.value;var o=P(t),s=String(this),l=function(t,e){var i,n=P(t).constructor;return void 0===n||null==(i=P(n)[Ve])?e:je(i)}(o,RegExp),c=o.unicode,u=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+($e?"y":"g"),d=new l($e?o:"^(?:"+o.source+")",u),h=void 0===r?4294967295:r>>>0;if(0===h)return[];if(0===s.length)return null===ve(d,s)?[s]:[];for(var p=0,f=0,m=[];f<s.length;){d.lastIndex=$e?f:0;var g,y=ve(d,$e?s:s.slice(f));if(null===y||(g=Ue(pt(d.lastIndex+($e?0:f)),s.length))===p)f=ye(s,f,c);else{if(m.push(s.slice(p,f)),m.length===h)return m;for(var v=1;v<=y.length-1;v++)if(m.push(y[v]),m.length===h)return m;f=p=g}}return m.push(s.slice(p)),m}]}),!$e);var Qe=Object.keys||function(t){return bt(t,xt)},ti=Object.assign,ei=Object.defineProperty,ii=!ti||u((function(){if(d&&1!==ti({b:1},ti(ei({},"a",{enumerable:!0,get:function(){ei(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=ti({},t)[i]||"abcdefghijklmnopqrst"!=Qe(ti({},e)).join("")}))?function(t,e){for(var i=be(t),n=arguments.length,r=1,a=St.f,o=f.f;n>r;)for(var s,l=_(arguments[r++]),c=a?Qe(l).concat(a(l)):Qe(l),u=c.length,h=0;u>h;)s=c[h++],d&&!o.call(l,s)||(i[s]=l[s]);return i}:ti;function ni(t,e){var i=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||i.scrollTop,a=window.pageXOffset||n.scrollLeft||i.scrollLeft;e=e||i;var o=t.getBoundingClientRect(),s=e.getBoundingClientRect(),l=Ge(e,"position"),c={width:o.width,height:o.height};return"body"!==e.tagName.toLowerCase()&&"relative"===l||"sticky"===l?Object.assign(c,{top:o.top-s.top,left:o.left-s.left}):Object.assign(c,{top:o.top+r,left:o.left+a})}function ri(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===Ge(t,"position")||ri(e))}Rt({target:"Object",stat:!0,forced:Object.assign!==ii},{assign:ii});var ai=Math.floor,oi="".replace,si=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,li=/\$([$&'`]|\d{1,2})/g,ci=function(t,e,i,n,r,a){var o=i+t.length,s=n.length,l=li;return void 0!==r&&(r=be(r),l=si),oi.call(a,l,(function(a,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(o);case"<":c=r[l.slice(1,-1)];break;default:var u=+l;if(0===u)return a;if(u>s){var d=ai(u/10);return 0===d?a:d<=s?void 0===n[d-1]?l.charAt(1):n[d-1]+l.charAt(1):a}c=n[u-1]}return void 0===c?"":c}))},ui=Math.max,di=Math.min;function hi(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function pi(t,e){var i="";if(t.style.cssText&&(i+=t.style.cssText),"string"==typeof e)i+=e;else for(var n in e)i+="".concat(n,":").concat(e[n],";");t.style.cssText=i}function fi(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],i=ni(e.element,this._targetElement),n=this._options.helperElementPadding;ri(e.element)?qe(t,"introjs-fixedTooltip"):hi(t,"introjs-fixedTooltip"),"floating"===e.position&&(n=0),pi(t,{width:"".concat(i.width+n,"px"),height:"".concat(i.height+n,"px"),top:"".concat(i.top-n/2,"px"),left:"".concat(i.left-n/2,"px")})}}fe("replace",2,(function(t,e,i,n){var r=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,a=n.REPLACE_KEEPS_$0,o=r?"$":"$0";return[function(i,n){var r=b(this),a=null==i?void 0:i[t];return void 0!==a?a.call(i,r,n):e.call(String(r),i,n)},function(t,n){if(!r&&a||"string"==typeof n&&-1===n.indexOf(o)){var s=i(e,t,this,n);if(s.done)return s.value}var l=P(t),c=String(this),u="function"==typeof n;u||(n=String(n));var d=l.global;if(d){var h=l.unicode;l.lastIndex=0}for(var p=[];;){var f=ve(l,c);if(null===f)break;if(p.push(f),!d)break;""===String(f[0])&&(l.lastIndex=ye(c,pt(l.lastIndex),h))}for(var m,g="",y=0,v=0;v<p.length;v++){f=p[v];for(var _=String(f[0]),b=ui(di(dt(f.index),c.length),0),x=[],w=1;w<f.length;w++)x.push(void 0===(m=f[w])?m:String(m));var k=f.groups;if(u){var S=[_].concat(x,b,c);void 0!==k&&S.push(k);var T=String(n.apply(void 0,S))}else T=ci(_,c,b,x,k,n);b>=y&&(g+=c.slice(y,b)+T,y=b+_.length)}return g+c.slice(y)}]}));var mi,gi=d?Object.defineProperties:function(t,e){P(t);for(var i,n=Qe(e),r=n.length,a=0;r>a;)O.f(t,i=n[a++],e[i]);return t},yi=lt("document","documentElement"),vi=Z("IE_PROTO"),_i=function(){},bi=function(t){return"<script>"+t+"<\/script>"},xi=function(){try{mi=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;xi=mi?function(t){t.write(bi("")),t.close();var e=t.parentWindow.Object;return t=null,e}(mi):((e=D("iframe")).style.display="none",yi.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(bi("document.F=Object")),t.close(),t.F);for(var i=xt.length;i--;)delete xi.prototype[xt[i]];return xi()};J[vi]=!0;var wi=Object.create||function(t,e){var i;return null!==t?(_i.prototype=P(t),i=new _i,_i.prototype=null,i[vi]=t):i=xi(),void 0===e?i:gi(i,e)},ki=se("unscopables"),Si=Array.prototype;null==Si[ki]&&O.f(Si,ki,{configurable:!0,value:wi(null)});var Ti,Mi=vt.includes;Rt({target:"Array",proto:!0},{includes:function(t){return Mi(this,t,arguments.length>1?arguments[1]:void 0)}}),Ti="includes",Si[ki][Ti]=!0;var Ci=Te("slice"),Di=se("species"),Li=[].slice,Ai=Math.max;Rt({target:"Array",proto:!0,forced:!Ci},{slice:function(t,e){var i,n,r,a=x(this),o=pt(a.length),s=gt(t,o),l=gt(void 0===e?o:e,o);if(_e(a)&&("function"!=typeof(i=a.constructor)||i!==Array&&!_e(i.prototype)?w(i)&&null===(i=i[Di])&&(i=void 0):i=void 0,i===Array||void 0===i))return Li.call(a,s,l);for(n=new(void 0===i?Array:i)(Ai(l-s,0)),r=0;s<l;s++,r++)s in a&&xe(n,r,a[s]);return n.length=r,n}});var Ei=function(t){if(Be(t))throw TypeError("The method doesn't accept regular expressions");return t},Pi=se("match");Rt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[Pi]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(b(this)).indexOf(Ei(t),arguments.length>1?arguments[1]:void 0)}});var Ii,Oi,Ri=[].join,zi=_!=Object,Yi=(Ii=",",!!(Oi=[].join)&&u((function(){Oi.call(null,Ii||function(){throw 1},1)})));Rt({target:"Array",proto:!0,forced:zi||!Yi},{join:function(t){return Ri.call(x(this),void 0===t?",":t)}});var Fi=[].push,Hi=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,a=6==t,o=7==t,s=5==t||a;return function(l,c,u,d){for(var h,p,f=be(l),m=_(f),g=function(t,e,i){if(je(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}(c,u,3),y=pt(m.length),v=0,b=d||ke,x=e?b(l,y):i||o?b(l,0):void 0;y>v;v++)if((s||v in m)&&(p=g(h=m[v],v,f),t))if(e)x[v]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:Fi.call(x,h)}else switch(t){case 4:return!1;case 7:Fi.call(x,h)}return a?-1:n||r?r:x}},Ni=[Hi(0),Hi(1),Hi(2),Hi(3),Hi(4),Hi(5),Hi(6),Hi(7)][2];function Bi(t,e,i,n,r){return t.left+e+i.width>n.width?(r.style.left="".concat(n.width-i.width-t.left,"px"),!1):(r.style.left="".concat(e,"px"),!0)}function ji(t,e,i,n){return t.left+t.width-e-i.width<0?(n.style.left="".concat(-t.left,"px"),!1):(n.style.right="".concat(e,"px"),!0)}Rt({target:"Array",proto:!0,forced:!Te("filter")},{filter:function(t){return Ni(this,t,arguments.length>1?arguments[1]:void 0)}});var Vi=Te("splice"),Wi=Math.max,Ui=Math.min;function $i(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function qi(t,e,i){var n=this._options.positionPrecedence.slice(),r=Ze(),a=ni(e).height+10,o=ni(e).width+20,s=t.getBoundingClientRect(),l="floating";s.bottom+a>r.height&&$i(n,"bottom"),s.top-a<0&&$i(n,"top"),s.right+o>r.width&&$i(n,"right"),s.left-o<0&&$i(n,"left");var c,u,d=-1!==(u=(c=i||"").indexOf("-"))?c.substr(u):"";return i&&(i=i.split("-")[0]),n.length&&(l=n.includes(i)?i:n[0]),["top","bottom"].includes(l)&&(l+=function(t,e,i,n){var r=i.width,a=e/2,o=Math.min(r,window.screen.width),s=["-left-aligned","-middle-aligned","-right-aligned"];return o-t<e&&$i(s,"-left-aligned"),(t<a||o-t<a)&&$i(s,"-middle-aligned"),t<e&&$i(s,"-right-aligned"),s.length?s.includes(n)?n:s[0]:"-middle-aligned"}(s.left,o,r,d)),l}function Gi(t,e,i,n){var r,a,o,s,l,c="";if(n=n||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,i.style.display="inherit",this._introItems[this._currentStep])switch(c="string"==typeof(r=this._introItems[this._currentStep]).tooltipClass?r.tooltipClass:this._options.tooltipClass,e.className=["introjs-tooltip",c].filter(Boolean).join(" "),e.setAttribute("role","dialog"),"floating"!==(l=this._introItems[this._currentStep].position)&&this._options.autoPosition&&(l=qi.call(this,t,e,l)),o=ni(t),a=ni(e),s=Ze(),qe(e,"introjs-".concat(l)),l){case"top-right-aligned":i.className="introjs-arrow bottom-right";var u=0;ji(o,u,a,e),e.style.bottom="".concat(o.height+20,"px");break;case"top-middle-aligned":i.className="introjs-arrow bottom-middle";var d=o.width/2-a.width/2;n&&(d+=5),ji(o,d,a,e)&&(e.style.right=null,Bi(o,d,a,s,e)),e.style.bottom="".concat(o.height+20,"px");break;case"top-left-aligned":case"top":i.className="introjs-arrow bottom",Bi(o,n?0:15,a,s,e),e.style.bottom="".concat(o.height+20,"px");break;case"right":e.style.left="".concat(o.width+20,"px"),o.top+a.height>s.height?(i.className="introjs-arrow left-bottom",e.style.top="-".concat(a.height-o.height-20,"px")):i.className="introjs-arrow left";break;case"left":n||!0!==this._options.showStepNumbers||(e.style.top="15px"),o.top+a.height>s.height?(e.style.top="-".concat(a.height-o.height-20,"px"),i.className="introjs-arrow right-bottom"):i.className="introjs-arrow right",e.style.right="".concat(o.width+20,"px");break;case"floating":i.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-".concat(a.width/2,"px"),e.style.marginTop="-".concat(a.height/2,"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",ji(o,u=0,a,e),e.style.top="".concat(o.height+20,"px");break;case"bottom-middle-aligned":i.className="introjs-arrow top-middle",d=o.width/2-a.width/2,n&&(d+=5),ji(o,d,a,e)&&(e.style.right=null,Bi(o,d,a,s,e)),e.style.top="".concat(o.height+20,"px");break;default:i.className="introjs-arrow top",Bi(o,0,a,s,e),e.style.top="".concat(o.height+20,"px")}}function Xi(){r(document.querySelectorAll(".introjs-showElement"),(function(t){hi(t,/introjs-[a-zA-Z]+/g)}))}function Zi(t,e){var i=document.createElement(t);e=e||{};var n=/^(?:role|data-|aria-)/;for(var r in e){var a=e[r];"style"===r?pi(i,a):r.match(n)?i.setAttribute(r,a):i[r]=a}return i}function Ji(t,e,i){if(i){var n=e.style.opacity||"1";pi(e,{opacity:"0"}),window.setTimeout((function(){pi(e,{opacity:n})}),10)}t.appendChild(e)}function Ki(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function Qi(){var t=document.querySelector(".introjs-disableInteraction");null===t&&(t=Zi("div",{className:"introjs-disableInteraction"}),this._targetElement.appendChild(t)),fi.call(this,t)}function tn(t){var e=this;void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var i,n,a,o=this,s=document.querySelector(".introjs-helperLayer"),l=document.querySelector(".introjs-tooltipReferenceLayer"),c="introjs-helperLayer";if("string"==typeof t.highlightClass&&(c+=" ".concat(t.highlightClass)),"string"==typeof this._options.highlightClass&&(c+=" ".concat(this._options.highlightClass)),null!==s){var u=l.querySelector(".introjs-helperNumberLayer"),d=l.querySelector(".introjs-tooltiptext"),h=l.querySelector(".introjs-tooltip-title"),p=l.querySelector(".introjs-arrow"),f=l.querySelector(".introjs-tooltip");a=l.querySelector(".introjs-skipbutton"),n=l.querySelector(".introjs-prevbutton"),i=l.querySelector(".introjs-nextbutton"),s.className=c,f.style.opacity=0,f.style.display="none",Xe.call(o,t),fi.call(o,s),fi.call(o,l),Xi(),o._lastShowElementTimer&&window.clearTimeout(o._lastShowElementTimer),o._lastShowElementTimer=window.setTimeout((function(){null!==u&&(u.innerHTML="".concat(t.step," of ").concat(e._introItems.length)),d.innerHTML=t.intro,h.innerHTML=t.title,f.style.display="block",Gi.call(o,t.element,f,p),o._options.showBullets&&(l.querySelector(".introjs-bullets li > a.active").className="",l.querySelector('.introjs-bullets li > a[data-stepnumber="'.concat(t.step,'"]')).className="active"),l.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:".concat(Ki.call(o),"%;"),l.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",Ki.call(o)),f.style.opacity=1,(null!=i&&/introjs-donebutton/gi.test(i.className)||null!=i)&&i.focus(),Je.call(o,t.scrollTo,t,d)}),350)}else{var m=Zi("div",{className:c}),g=Zi("div",{className:"introjs-tooltipReferenceLayer"}),y=Zi("div",{className:"introjs-arrow"}),v=Zi("div",{className:"introjs-tooltip"}),_=Zi("div",{className:"introjs-tooltiptext"}),b=Zi("div",{className:"introjs-tooltip-header"}),x=Zi("h1",{className:"introjs-tooltip-title"}),w=Zi("div",{className:"introjs-bullets"}),k=Zi("div"),S=Zi("div");pi(m,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(o._options.overlayOpacity.toString(),") 0 0 0 5000px")}),Xe.call(o,t),fi.call(o,m),fi.call(o,g),Ji(this._targetElement,m,!0),Ji(this._targetElement,g),_.innerHTML=t.intro,x.innerHTML=t.title,!1===this._options.showBullets&&(w.style.display="none");var T=Zi("ul");T.setAttribute("role","tablist");var M=function(){o.goToStep(this.getAttribute("data-stepnumber"))};r(this._introItems,(function(e,i){var n=e.step,r=Zi("li"),a=Zi("a");r.setAttribute("role","presentation"),a.setAttribute("role","tab"),a.onclick=M,i===t.step-1&&(a.className="active"),Ke(a),a.innerHTML="&nbsp;",a.setAttribute("data-stepnumber",n),r.appendChild(a),T.appendChild(r)})),w.appendChild(T),k.className="introjs-progress",!1===this._options.showProgress&&(k.style.display="none");var C=Zi("div",{className:"introjs-progressbar"});this._options.progressBarAdditionalClass&&(C.className+=" "+this._options.progressBarAdditionalClass),C.setAttribute("role","progress"),C.setAttribute("aria-valuemin",0),C.setAttribute("aria-valuemax",100),C.setAttribute("aria-valuenow",Ki.call(this)),C.style.cssText="width:".concat(Ki.call(this),"%;"),k.appendChild(C),S.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(S.style.display="none"),b.appendChild(x),v.appendChild(b),v.appendChild(_),v.appendChild(w),v.appendChild(k);var D=Zi("div");!0===this._options.showStepNumbers&&(D.className="introjs-helperNumberLayer",D.innerHTML="".concat(t.step," of ").concat(this._introItems.length),v.appendChild(D)),v.appendChild(y),g.appendChild(v),(i=Zi("a")).onclick=function(){o._introItems.length-1!==o._currentStep?rn.call(o):/introjs-donebutton/gi.test(i.className)&&("function"==typeof o._introCompleteCallback&&o._introCompleteCallback.call(o),Tn.call(o,o._targetElement))},Ke(i),i.innerHTML=this._options.nextLabel,(n=Zi("a")).onclick=function(){0!==o._currentStep&&an.call(o)},Ke(n),n.innerHTML=this._options.prevLabel,Ke(a=Zi("a",{className:"introjs-skipbutton"})),a.innerHTML=this._options.skipLabel,a.onclick=function(){o._introItems.length-1===o._currentStep&&"function"==typeof o._introCompleteCallback&&o._introCompleteCallback.call(o),"function"==typeof o._introSkipCallback&&o._introSkipCallback.call(o),Tn.call(o,o._targetElement)},b.appendChild(a),this._introItems.length>1&&S.appendChild(n),S.appendChild(i),v.appendChild(S),Gi.call(o,t.element,v,y),Je.call(this,t.scrollTo,t,v)}var L=o._targetElement.querySelector(".introjs-disableInteraction");L&&L.parentNode.removeChild(L),t.disableInteraction&&Qi.call(o),0===this._currentStep&&this._introItems.length>1?(null!=i&&(i.className="".concat(this._options.buttonClass," introjs-nextbutton"),i.innerHTML=this._options.nextLabel),!0===this._options.hidePrev?(null!=n&&(n.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=i&&qe(i,"introjs-fullbutton")):null!=n&&(n.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-disabled"))):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=n&&(n.className="".concat(this._options.buttonClass," introjs-prevbutton")),!0===this._options.hideNext?(null!=i&&(i.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=n&&qe(n,"introjs-fullbutton")):null!=i&&(!0===this._options.nextToDone?(i.innerHTML=this._options.doneLabel,qe(i,"".concat(this._options.buttonClass," introjs-nextbutton introjs-donebutton"))):i.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=n&&(n.className="".concat(this._options.buttonClass," introjs-prevbutton")),null!=i&&(i.className="".concat(this._options.buttonClass," introjs-nextbutton"),i.innerHTML=this._options.nextLabel)),null!=n&&n.setAttribute("role","button"),null!=i&&i.setAttribute("role","button"),null!=a&&a.setAttribute("role","button"),null!=i&&i.focus(),function(t){var e=t.element;qe(e,"introjs-showElement");var i=Ge(e,"position");"absolute"!==i&&"relative"!==i&&"sticky"!==i&&"fixed"!==i&&qe(e,"introjs-relativePosition")}(t),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function en(t){this._currentStep=t-2,void 0!==this._introItems&&rn.call(this)}function nn(t){this._currentStepNumber=t,void 0!==this._introItems&&rn.call(this)}function rn(){var t=this;this._direction="forward",void 0!==this._currentStepNumber&&r(this._introItems,(function(e,i){e.step===t._currentStepNumber&&(t._currentStep=i-1,t._currentStepNumber=void 0)})),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var e=this._introItems[this._currentStep],i=!0;return void 0!==this._introBeforeChangeCallback&&(i=this._introBeforeChangeCallback.call(this,e&&e.element)),!1===i?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void Tn.call(this,this._targetElement)):void tn.call(this,e)}function an(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var t=this._introItems[this._currentStep],e=!0;if(void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t&&t.element)),!1===e)return++this._currentStep,!1;tn.call(this,t)}function on(){return this._currentStep}function sn(t){var e=void 0===t.code?t.which:t.code;if(null===e&&(e=null===t.charCode?t.keyCode:t.charCode),"Escape"!==e&&27!==e||!0!==this._options.exitOnEsc){if("ArrowLeft"===e||37===e)an.call(this);else if("ArrowRight"===e||39===e)rn.call(this);else if("Enter"===e||"NumpadEnter"===e||13===e){var i=t.target||t.srcElement;i&&i.className.match("introjs-prevbutton")?an.call(this):i&&i.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),Tn.call(this,this._targetElement)):i&&i.getAttribute("data-stepnumber")?i.click():rn.call(this),t.preventDefault?t.preventDefault():t.returnValue=!1}}else Tn.call(this,this._targetElement)}function ln(e){if(null===e||"object"!==t(e)||void 0!==e.nodeType)return e;var n={};for(var r in e)void 0!==i&&e[r]instanceof i?n[r]=e[r]:n[r]=ln(e[r]);return n}function cn(t){var e=document.querySelector(".introjs-hints");return e?e.querySelectorAll(t):[]}function un(t){var e=cn('.introjs-hint[data-step="'.concat(t,'"]'))[0];_n.call(this),e&&qe(e,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function dn(){var t=this;r(cn(".introjs-hint"),(function(e){un.call(t,e.getAttribute("data-step"))}))}function hn(){var t=this,e=cn(".introjs-hint");e&&e.length?r(e,(function(e){pn.call(t,e.getAttribute("data-step"))})):bn.call(this,this._targetElement)}function pn(t){var e=cn('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&hi(e,/introjs-hidehint/g)}function fn(){var t=this;r(cn(".introjs-hint"),(function(e){mn.call(t,e.getAttribute("data-step"))}))}function mn(t){var e=cn('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode.removeChild(e)}function gn(){var t=this,e=this,i=document.querySelector(".introjs-hints");null===i&&(i=Zi("div",{className:"introjs-hints"})),r(this._introItems,(function(n,r){if(!document.querySelector('.introjs-hint[data-step="'.concat(r,'"]'))){var a=Zi("a",{className:"introjs-hint"});Ke(a),a.onclick=function(t){return function(i){var n=i||window.event;n.stopPropagation&&n.stopPropagation(),null!==n.cancelBubble&&(n.cancelBubble=!0),vn.call(e,t)}}(r),n.hintAnimation||qe(a,"introjs-hint-no-anim"),ri(n.element)&&qe(a,"introjs-fixedhint");var o=Zi("div",{className:"introjs-hint-dot"}),s=Zi("div",{className:"introjs-hint-pulse"});a.appendChild(o),a.appendChild(s),a.setAttribute("data-step",r),n.targetElement=n.element,n.element=a,yn.call(t,n.hintPosition,a,n.targetElement),i.appendChild(a)}})),document.body.appendChild(i),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function yn(t,e,i){var n=e.style,r=ni.call(this,i);switch(t){default:case"top-left":n.left="".concat(r.left,"px"),n.top="".concat(r.top,"px");break;case"top-right":n.left="".concat(r.left+r.width-20,"px"),n.top="".concat(r.top,"px");break;case"bottom-left":n.left="".concat(r.left,"px"),n.top="".concat(r.top+r.height-20,"px");break;case"bottom-right":n.left="".concat(r.left+r.width-20,"px"),n.top="".concat(r.top+r.height-20,"px");break;case"middle-left":n.left="".concat(r.left,"px"),n.top="".concat(r.top+(r.height-20)/2,"px");break;case"middle-right":n.left="".concat(r.left+r.width-20,"px"),n.top="".concat(r.top+(r.height-20)/2,"px");break;case"middle-middle":n.left="".concat(r.left+(r.width-20)/2,"px"),n.top="".concat(r.top+(r.height-20)/2,"px");break;case"bottom-middle":n.left="".concat(r.left+(r.width-20)/2,"px"),n.top="".concat(r.top+r.height-20,"px");break;case"top-middle":n.left="".concat(r.left+(r.width-20)/2,"px"),n.top="".concat(r.top,"px")}}function vn(t){var e=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),i=this._introItems[t];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,e,i,t);var n=_n.call(this);if(parseInt(n,10)!==t){var r=Zi("div",{className:"introjs-tooltip"}),a=Zi("div"),o=Zi("div"),s=Zi("div");r.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},a.className="introjs-tooltiptext";var l=Zi("p");l.innerHTML=i.hint;var c=Zi("a");c.className=this._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=un.bind(this,t),a.appendChild(l),a.appendChild(c),o.className="introjs-arrow",r.appendChild(o),r.appendChild(a),this._currentStep=e.getAttribute("data-step"),s.className="introjs-tooltipReferenceLayer introjs-hintReference",s.setAttribute("data-step",e.getAttribute("data-step")),fi.call(this,s),s.appendChild(r),document.body.appendChild(s),Gi.call(this,e,r,o,!0)}}function _n(){var t=document.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function bn(t){var e=this;if(this._introItems=[],this._options.hints)r(this._options.hints,(function(t){var i=ln(t);"string"==typeof i.element&&(i.element=document.querySelector(i.element)),i.hintPosition=i.hintPosition||e._options.hintPosition,i.hintAnimation=i.hintAnimation||e._options.hintAnimation,null!==i.element&&e._introItems.push(i)}));else{var i=t.querySelectorAll("*[data-hint]");if(!i||!i.length)return!1;r(i,(function(t){var i=t.getAttribute("data-hintanimation");i=i?"true"===i:e._options.hintAnimation,e._introItems.push({element:t,hint:t.getAttribute("data-hint"),hintPosition:t.getAttribute("data-hintposition")||e._options.hintPosition,hintAnimation:i,tooltipClass:t.getAttribute("data-tooltipclass"),position:t.getAttribute("data-position")||e._options.tooltipPosition})}))}gn.call(this),a.on(document,"click",_n,this,!1),a.on(window,"resize",xn,this,!0)}function xn(){var t=this;r(this._introItems,(function(e){var i=e.targetElement,n=e.hintPosition,r=e.element;void 0!==i&&yn.call(t,n,r,i)}))}function wn(){if(fi.call(this,document.querySelector(".introjs-helperLayer")),fi.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),fi.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-arrow"),e=document.querySelector(".introjs-tooltip");Gi.call(this,this._introItems[this._currentStep].element,e,t)}return xn.call(this),this}function kn(){wn.call(this)}function Sn(t,e){if(t&&t.parentElement){var i=t.parentElement;e?(pi(t,{opacity:"0"}),window.setTimeout((function(){i.removeChild(t)}),500)):i.removeChild(t)}}function Tn(t,e){var i=!0;if(void 0!==this._introBeforeExitCallback&&(i=this._introBeforeExitCallback.call(this)),e||!1!==i){var n=t.querySelectorAll(".introjs-overlay");n&&n.length&&r(n,(function(t){return Sn(t)})),Sn(t.querySelector(".introjs-helperLayer"),!0),Sn(t.querySelector(".introjs-tooltipReferenceLayer")),Sn(t.querySelector(".introjs-disableInteraction")),Sn(document.querySelector(".introjsFloatingElement")),Xi(),a.off(window,"keydown",sn,this,!0),a.off(window,"resize",kn,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function Mn(t){var e=this,i=Zi("div",{className:"introjs-overlay"});return pi(i,{top:0,bottom:0,left:0,right:0,position:"fixed"}),t.appendChild(i),!0===this._options.exitOnOverlayClick&&(pi(i,{cursor:"pointer"}),i.onclick=function(){Tn.call(e,t)}),!0}function Cn(t,e){var i=this,n=t.querySelectorAll("*[data-intro]"),o=[];if(this._options.steps)r(this._options.steps,(function(t){var e=ln(t);if(e.step=o.length+1,e.title=e.title||"","string"==typeof e.element&&(e.element=document.querySelector(e.element)),void 0===e.element||null===e.element){var n=document.querySelector(".introjsFloatingElement");null===n&&(n=Zi("div",{className:"introjsFloatingElement"}),document.body.appendChild(n)),e.element=n,e.position="floating"}e.scrollTo=e.scrollTo||i._options.scrollTo,void 0===e.disableInteraction&&(e.disableInteraction=i._options.disableInteraction),null!==e.element&&o.push(e)}));else{var s;if(n.length<1)return!1;r(n,(function(t){if((!e||t.getAttribute("data-intro-group")===e)&&"none"!==t.style.display){var n=parseInt(t.getAttribute("data-step"),10);s=t.hasAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):i._options.disableInteraction,n>0&&(o[n-1]={element:t,title:t.getAttribute("data-title")||"",intro:t.getAttribute("data-intro"),step:parseInt(t.getAttribute("data-step"),10),tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||i._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||i._options.scrollTo,disableInteraction:s})}}));var l=0;r(n,(function(t){if((!e||t.getAttribute("data-intro-group")===e)&&null===t.getAttribute("data-step")){for(;void 0!==o[l];)l++;s=t.hasAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):i._options.disableInteraction,o[l]={element:t,title:t.getAttribute("data-title")||"",intro:t.getAttribute("data-intro"),step:l+1,tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||i._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||i._options.scrollTo,disableInteraction:s}}}))}for(var c=[],u=0;u<o.length;u++)o[u]&&c.push(o[u]);return(o=c).sort((function(t,e){return t.step-e.step})),this._introItems=o,Mn.call(this,t)&&(rn.call(this),this._options.keyboardNavigation&&a.on(window,"keydown",sn,this,!0),a.on(window,"resize",kn,this,!0)),!1}function Dn(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next",prevLabel:"Back",skipLabel:"",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}Rt({target:"Array",proto:!0,forced:!Vi},{splice:function(t,e){var i,n,r,a,o,s,l=be(this),c=pt(l.length),u=gt(t,c),d=arguments.length;if(0===d?i=n=0:1===d?(i=0,n=c-u):(i=d-2,n=Ui(Wi(dt(e),0),c-u)),c+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=ke(l,n),a=0;a<n;a++)(o=u+a)in l&&xe(r,a,l[o]);if(r.length=n,i<n){for(a=u;a<c-n;a++)s=a+i,(o=a+n)in l?l[s]=l[o]:delete l[s];for(a=c;a>c-n+i;a--)delete l[a-1]}else if(i>n)for(a=c-n;a>u;a--)s=a+i-1,(o=a+n-1)in l?l[s]=l[o]:delete l[s];for(a=0;a<i;a++)l[a+u]=arguments[a+2];return l.length=c-n+i,r}});var Ln=function e(i){var r;if("object"===t(i))r=new Dn(i);else if("string"==typeof i){var a=document.querySelector(i);if(!a)throw new Error("There is no element with given selector.");r=new Dn(a)}else r=new Dn(document.body);return e.instances[n(r,"introjs-instance")]=r,r};return Ln.version="3.4.0",Ln.instances={},Ln.fn=Dn.prototype={clone:function(){return new Dn(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var i,n={};for(i in t)n[i]=t[i];for(i in e)n[i]=e[i];return n}(this._options,t),this},start:function(t){return Cn.call(this,this._targetElement,t),this},goToStep:function(t){return en.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return nn.call(this,t),this},nextStep:function(){return rn.call(this),this},previousStep:function(){return an.call(this),this},currentStep:function(){return on.call(this)},exit:function(t){return Tn.call(this,this._targetElement,t),this},refresh:function(){return wn.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onskip:function(t){if("function"!=typeof t)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return bn.call(this,this._targetElement),this},hideHint:function(t){return un.call(this,t),this},hideHints:function(){return dn.call(this),this},showHint:function(t){return pn.call(this,t),this},showHints:function(){return hn.call(this),this},removeHints:function(){return fn.call(this),this},removeHint:function(t){return mn().call(this,t),this},showHintDialog:function(t){return vn.call(this,t),this}},Ln},t.exports=n()}).call(this,i(8),i(1))},function(t,e,i){
/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */
var n;n=function(){return function(){var t={134:function(t,e,i){"use strict";i.d(e,{default:function(){return _}});var n=i(279),r=i.n(n),a=i(370),o=i.n(a),s=i(817),l=i.n(s);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}var e,i,n;return e=t,(i=[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var t="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var e=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(e,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var t=this,e=this.createFakeElement();this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(e),this.selectedText=l()(e),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=l()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==c(t)||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}])&&u(e.prototype,i),n&&u(e,n),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=y(t);if(e){var r=y(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return g(this,i)}}function g(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){var i="data-clipboard-".concat(t);if(e.hasAttribute(i))return e.getAttribute(i)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(a,t);var e,i,n,r=m(a);function a(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this)).resolveOptions(e),i.listenClick(t),i}return e=a,n=[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach((function(t){i=i&&!!document.queryCommandSupported(t)})),i}}],(i=[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===h(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=o()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new d({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return v("action",t)}},{key:"defaultTarget",value:function(t){var e=v("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return v("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}])&&p(e.prototype,i),n&&p(e,n),a}(r())},828:function(t){if("undefined"!=typeof Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,i){var n=i(828);function r(t,e,i,n,r){var o=a.apply(this,arguments);return t.addEventListener(i,o,r),{destroy:function(){t.removeEventListener(i,o,r)}}}function a(t,e,i,r){return function(i){i.delegateTarget=n(i.target,e),i.delegateTarget&&r.call(t,i)}}t.exports=function(t,e,i,n,a){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,i,n,a)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,i){var n=i(879),r=i(438);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(t))return function(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}(t,e,i);if(n.nodeList(t))return function(t,e,i){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,i)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,i)}))}}}(t,e,i);if(n.string(t))return function(t,e,i){return r(document.body,t,e,i)}(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(t){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}},279:function(t){function e(){}e.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function r(){n.off(t,r),e.apply(i,arguments)}return r._=e,this.on(t,r,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var a=0,o=n.length;a<o;a++)n[a].fn!==e&&n[a].fn._!==e&&r.push(n[a]);return r.length?i[t]=r:delete i[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}return i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i(134)}().default},t.exports=n()},function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},a=function(){function t(t){void 0===t&&(t={}),this.opts=n(n({},r),t)}return t.prototype.spin=function(t){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),o(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),t&&t.insertBefore(this.el,t.firstChild||null),function(t,e){var i=Math.round(e.corners*e.width*500)/1e3+"px",n="none";!0===e.shadow?n="0 2px 4px #000":"string"==typeof e.shadow&&(n=e.shadow);for(var r=function(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,i=[],n=0,r=t.split(",");n<r.length;n++){var a=r[n].match(e);if(null!==a){var o=+a[2],s=+a[5],l=a[4],c=a[7];0!==o||l||(l=c),0!==s||c||(c=l),l===c&&i.push({prefix:a[1]||"",x:o,y:s,xUnits:l,yUnits:c,end:a[8]})}}return i}(n),a=0;a<e.lines;a++){var c=~~(360/e.lines*a+e.rotate),u=o(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:s(e.fadeColor,a),borderRadius:i,transformOrigin:"left",transform:"rotate("+c+"deg) translateX("+e.radius+"px)"}),d=a*e.direction/e.lines/e.speed;d-=1/e.speed;var h=o(document.createElement("div"),{width:"100%",height:"100%",background:s(e.color,a),borderRadius:i,boxShadow:l(r,c),animation:1/e.speed+"s linear "+d+"s infinite "+e.animation});u.appendChild(h),t.appendChild(u)}}(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function o(t,e){for(var i in e)t.style[i]=e[i];return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function l(t,e){for(var i=[],n=0,r=t;n<r.length;n++){var a=r[n],o=c(a.x,a.y,e);i.push(a.prefix+o[0]+a.xUnits+" "+o[1]+a.yUnits+a.end)}return i.join(", ")}function c(t,e,i){var n=i*Math.PI/180,r=Math.sin(n),a=Math.cos(n);return[Math.round(1e3*(t*a+e*r))/1e3,Math.round(1e3*(-t*r+e*a))/1e3]}
/*!
 * Ladda
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2018 Hakim El Hattab, http://hakim.se
 */var u=[];function d(t){if(void 0!==t){if(t.classList.contains("ladda-button")||t.classList.add("ladda-button"),t.hasAttribute("data-style")||t.setAttribute("data-style","expand-right"),!t.querySelector(".ladda-label")){var e=document.createElement("span");e.className="ladda-label",i=t,n=e,(r=document.createRange()).selectNodeContents(i),r.surroundContents(n),i.appendChild(n)}var i,n,r,o,s,l=t.querySelector(".ladda-spinner");l||((l=document.createElement("span")).className="ladda-spinner"),t.appendChild(l);var c={start:function(){return o||(o=function(t){var e,i,n=t.offsetHeight;0===n&&(n=parseFloat(window.getComputedStyle(t).height));n>32&&(n*=.8);t.hasAttribute("data-spinner-size")&&(n=parseInt(t.getAttribute("data-spinner-size"),10));t.hasAttribute("data-spinner-color")&&(e=t.getAttribute("data-spinner-color"));t.hasAttribute("data-spinner-lines")&&(i=parseInt(t.getAttribute("data-spinner-lines"),10));var r=.2*n;return new a({color:e||"#fff",lines:i||12,radius:r,length:.6*r,width:r<7?2:3,animation:"ladda-spinner-line-fade",zIndex:"auto",top:"auto",left:"auto",className:""})}(t)),t.disabled=!0,t.setAttribute("data-loading",""),clearTimeout(s),o.spin(l),this.setProgress(0),this},startAfter:function(t){return clearTimeout(s),s=setTimeout((function(){c.start()}),t),this},stop:function(){return c.isLoading()&&(t.disabled=!1,t.removeAttribute("data-loading")),clearTimeout(s),o&&(s=setTimeout((function(){o.stop()}),1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start()},setProgress:function(e){e=Math.max(Math.min(e,1),0);var i=t.querySelector(".ladda-progress");0===e&&i&&i.parentNode?i.parentNode.removeChild(i):(i||((i=document.createElement("div")).className="ladda-progress",t.appendChild(i)),i.style.width=(e||0)*t.offsetWidth+"px")},isLoading:function(){return t.hasAttribute("data-loading")},remove:function(){clearTimeout(s),t.disabled=!1,t.removeAttribute("data-loading"),o&&(o.stop(),o=null),u.splice(u.indexOf(c),1)}};return u.push(c),c}console.warn("Ladda button target must be defined.")}function h(t,e){var i;if("string"==typeof t)i=document.querySelectorAll(t);else{if("object"!=typeof t)throw new Error("target must be string or object");i=[t]}e=e||{};for(var n=0;n<i.length;n++)p(i[n],e)}function p(t,e){if("function"==typeof t.addEventListener){var i=d(t),n=-1;t.addEventListener("click",(function(){var r=!0,a=function(t,e){for(;t.parentNode&&t.tagName!==e;)t=t.parentNode;return e===t.tagName?t:void 0}(t,"FORM");void 0===a||a.hasAttribute("novalidate")||"function"==typeof a.checkValidity&&(r=a.checkValidity()),r&&(i.startAfter(1),"number"==typeof e.timeout&&(clearTimeout(n),n=setTimeout(i.stop,e.timeout)),"function"==typeof e.callback&&e.callback.apply(null,[i]))}),!1)}}},function(t,e,i){i(156),i(160),i(161),i(162),i(164),i(166),i(167),i(169),i(170),i(171),i(172),i(174),i(178),i(181),i(182),i(184),i(186),i(187),i(190),i(192),i(194),i(195),i(198),i(200),i(203),i(204),i(206),i(208),i(210),t.exports=i(211)},function(t,e,i){"use strict";i.r(e);var n=i(1),r=i.n(n);i(157),i(159),i(213);r()(document).ready((function(){setTimeout((function(){r()(".vertical-nav-menu").metisMenu()}),100),r()(".search-icon").click((function(){r()(this).parent().parent().addClass("active")})),r()(".search-wrapper .close").click((function(){r()(this).parent().removeClass("active")})),r()('[data-toggle="popover-custom-content"]').each((function(t,e){r()(this).popover({html:!0,placement:"auto",template:'<div class="popover popover-custom" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',content:function(){var t=r()(this).attr("popover-id");return r()("#popover-content-"+t).html()}})})),r()(".dropdown-menu").on("click",(function(t){var e=r.a._data(document,"events")||{};e=e.click||[];for(var i=0;i<e.length;i++)e[i].selector&&(r()(t.target).is(e[i].selector)&&e[i].handler.call(t.target,t),r()(t.target).parents(e[i].selector).each((function(){e[i].handler.call(this,t)})));t.stopPropagation()})),r()('[data-toggle="popover-custom-bg"]').each((function(t,e){var i=r()(this).attr("data-bg-class");r()(this).popover({trigger:"focus",placement:"top",template:'<div class="popover popover-bg '+i+'" role="tooltip"><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})})),r()((function(){r()('[data-toggle="popover"]').popover()})),r()('[data-toggle="popover-custom"]').each((function(t,e){r()(this).popover({html:!0,container:r()(this).parent().find(".rm-max-width"),content:function(){return r()(this).next(".rm-max-width").find(".popover-custom-content").html()}})})),r()("body").on("click",(function(t){r()('[rel="popover-focus"]').each((function(){r()(this).is(t.target)||0!==r()(this).has(t.target).length||0!==r()(".popover").has(t.target).length||r()(this).popover("hide")}))})),r()(".header-megamenu.nav > li > .nav-link").on("click",(function(t){r()('[data-toggle="popover-custom"]').each((function(){r()(this).is(t.target)||0!==r()(this).has(t.target).length||0!==r()(".popover").has(t.target).length||r()(this).popover("hide")}))})),r()((function(){r()('[data-toggle="tooltip"]').tooltip()})),r()((function(){r()('[data-toggle="tooltip-light"]').tooltip({template:'<div class="tooltip tooltip-light"><div class="tooltip-inner"></div></div>'})})),r()(".open-right-drawer").click((function(){r()(this).addClass("is-active"),r()(".app-drawer-wrapper").addClass("drawer-open"),r()(".app-drawer-overlay").removeClass("d-none")})),r()(".drawer-nav-btn").click((function(){r()(".app-drawer-wrapper").removeClass("drawer-open"),r()(".app-drawer-overlay").addClass("d-none"),r()(".open-right-drawer").removeClass("is-active")})),r()(".app-drawer-overlay").click((function(){r()(this).addClass("d-none"),r()(".app-drawer-wrapper").removeClass("drawer-open"),r()(".open-right-drawer").removeClass("is-active")})),r()(".mobile-toggle-nav").click((function(){r()(this).toggleClass("is-active"),r()(".app-container").toggleClass("sidebar-mobile-open")})),r()(".mobile-toggle-header-nav").click((function(){r()(this).toggleClass("active"),r()(".app-header__content").toggleClass("header-mobile-open")})),r()(".mobile-app-menu-btn").click((function(){r()(".hamburger",this).toggleClass("is-active"),r()(".app-inner-layout").toggleClass("open-mobile-menu")}));var t=function(){document.body.clientWidth<1250?r()(".app-container").addClass("closed-sidebar-mobile closed-sidebar"):r()(".app-container").removeClass("closed-sidebar-mobile closed-sidebar")};r()(window).on("resize",(function(){t()})),t()}))},function(t,e,i){
/*!
  * Bootstrap v4.6.0 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(e),a=n(i);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function c(t){var e=this,i=!1;return r.default(this).one(u.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||u.triggerTransitionEnd(e)}),t),this}var u={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=r.default(t).css("transition-duration"),i=r.default(t).css("transition-delay"),n=parseFloat(e),a=parseFloat(i);return n||a?(e=e.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(e)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){r.default(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n],a=e[n],o=a&&u.isElement(a)?"element":null==(s=a)?""+s:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(o))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+o+'" but expected type "'+r+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===r.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=r.default.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};u.jQueryDetection(),r.default.fn.emulateTransitionEnd=c,r.default.event.special[u.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(r.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var d="alert",h=r.default.fn[d],p=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){r.default.removeData(this._element,"bs.alert"),this._element=null},e._getRootElement=function(t){var e=u.getSelectorFromElement(t),i=!1;return e&&(i=document.querySelector(e)),i||(i=r.default(t).closest(".alert")[0]),i},e._triggerCloseEvent=function(t){var e=r.default.Event("close.bs.alert");return r.default(t).trigger(e),e},e._removeElement=function(t){var e=this;if(r.default(t).removeClass("show"),r.default(t).hasClass("fade")){var i=u.getTransitionDurationFromElement(t);r.default(t).one(u.TRANSITION_END,(function(i){return e._destroyElement(t,i)})).emulateTransitionEnd(i)}else this._destroyElement(t)},e._destroyElement=function(t){r.default(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this),n=i.data("bs.alert");n||(n=new t(this),i.data("bs.alert",n)),"close"===e&&n[e](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),t}();r.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',p._handleDismiss(new p)),r.default.fn[d]=p._jQueryInterface,r.default.fn[d].Constructor=p,r.default.fn[d].noConflict=function(){return r.default.fn[d]=h,p._jQueryInterface};var f=r.default.fn.button,m=function(){function t(t){this._element=t,this.shouldAvoidTriggerChange=!1}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,i=r.default(this._element).closest('[data-toggle="buttons"]')[0];if(i){var n=this._element.querySelector('input:not([type="hidden"])');if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains("active"))t=!1;else{var a=i.querySelector(".active");a&&r.default(a).removeClass("active")}t&&("checkbox"!==n.type&&"radio"!==n.type||(n.checked=!this._element.classList.contains("active")),this.shouldAvoidTriggerChange||r.default(n).trigger("change")),n.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&r.default(this._element).toggleClass("active"))},e.dispose=function(){r.default.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(e,i){return this.each((function(){var n=r.default(this),a=n.data("bs.button");a||(a=new t(this),n.data("bs.button",a)),a.shouldAvoidTriggerChange=i,"toggle"===e&&a[e]()}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),t}();r.default(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var e=t.target,i=e;if(r.default(e).hasClass("btn")||(e=r.default(e).closest(".btn")[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var n=e.querySelector('input:not([type="hidden"])');if(n&&(n.hasAttribute("disabled")||n.classList.contains("disabled")))return void t.preventDefault();"INPUT"!==i.tagName&&"LABEL"===e.tagName||m._jQueryInterface.call(r.default(e),"toggle","INPUT"===i.tagName)}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){var e=r.default(t.target).closest(".btn")[0];r.default(e).toggleClass("focus",/^focus(in)?$/.test(t.type))})),r.default(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,i=t.length;e<i;e++){var n=t[e],r=n.querySelector('input:not([type="hidden"])');r.checked||r.hasAttribute("checked")?n.classList.add("active"):n.classList.remove("active")}for(var a=0,o=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;a<o;a++){var s=t[a];"true"===s.getAttribute("aria-pressed")?s.classList.add("active"):s.classList.remove("active")}})),r.default.fn.button=m._jQueryInterface,r.default.fn.button.Constructor=m,r.default.fn.button.noConflict=function(){return r.default.fn.button=f,m._jQueryInterface};var g="carousel",y=".bs.carousel",v=r.default.fn[g],_={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},b={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},x={TOUCH:"touch",PEN:"pen"},w=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide("next")},e.nextWhenVisible=function(){var t=r.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide("prev")},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(".active.carousel-item");var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)r.default(this._element).one("slid.bs.carousel",(function(){return e.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var n=t>i?"next":"prev";this._slide(n,this._items[t])}},e.dispose=function(){r.default(this._element).off(y),r.default.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=l({},_,t),u.typeCheckConfig(g,t,b),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&r.default(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&r.default(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&x[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&x[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};r.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(r.default(this._element).on("pointerdown.bs.carousel",(function(t){return e(t)})),r.default(this._element).on("pointerup.bs.carousel",(function(t){return i(t)})),this._element.classList.add("pointer-event")):(r.default(this._element).on("touchstart.bs.carousel",(function(t){return e(t)})),r.default(this._element).on("touchmove.bs.carousel",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),r.default(this._element).on("touchend.bs.carousel",(function(t){return i(t)})))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var i="next"===t,n="prev"===t,r=this._getItemIndex(e),a=this._items.length-1;if((n&&0===r||i&&r===a)&&!this._config.wrap)return e;var o=(r+("prev"===t?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},e._triggerSlideEvent=function(t,e){var i=this._getItemIndex(t),n=this._getItemIndex(this._element.querySelector(".active.carousel-item")),a=r.default.Event("slide.bs.carousel",{relatedTarget:t,direction:e,from:n,to:i});return r.default(this._element).trigger(a),a},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));r.default(e).removeClass("active");var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&r.default(i).addClass("active")}},e._updateInterval=function(){var t=this._activeElement||this._element.querySelector(".active.carousel-item");if(t){var e=parseInt(t.getAttribute("data-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}},e._slide=function(t,e){var i,n,a,o=this,s=this._element.querySelector(".active.carousel-item"),l=this._getItemIndex(s),c=e||s&&this._getItemByDirection(t,s),d=this._getItemIndex(c),h=Boolean(this._interval);if("next"===t?(i="carousel-item-left",n="carousel-item-next",a="left"):(i="carousel-item-right",n="carousel-item-prev",a="right"),c&&r.default(c).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(c,a).isDefaultPrevented()&&s&&c){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var p=r.default.Event("slid.bs.carousel",{relatedTarget:c,direction:a,from:l,to:d});if(r.default(this._element).hasClass("slide")){r.default(c).addClass(n),u.reflow(c),r.default(s).addClass(i),r.default(c).addClass(i);var f=u.getTransitionDurationFromElement(s);r.default(s).one(u.TRANSITION_END,(function(){r.default(c).removeClass(i+" "+n).addClass("active"),r.default(s).removeClass("active "+n+" "+i),o._isSliding=!1,setTimeout((function(){return r.default(o._element).trigger(p)}),0)})).emulateTransitionEnd(f)}else r.default(s).removeClass("active"),r.default(c).addClass("active"),this._isSliding=!1,r.default(this._element).trigger(p);h&&this.cycle()}},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this).data("bs.carousel"),n=l({},_,r.default(this).data());"object"==typeof e&&(n=l({},n,e));var a="string"==typeof e?e:n.slide;if(i||(i=new t(this,n),r.default(this).data("bs.carousel",i)),"number"==typeof e)i.to(e);else if("string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}else n.interval&&n.ride&&(i.pause(),i.cycle())}))},t._dataApiClickHandler=function(e){var i=u.getSelectorFromElement(this);if(i){var n=r.default(i)[0];if(n&&r.default(n).hasClass("carousel")){var a=l({},r.default(n).data(),r.default(this).data()),o=this.getAttribute("data-slide-to");o&&(a.interval=!1),t._jQueryInterface.call(r.default(n),a),o&&r.default(n).data("bs.carousel").to(o),e.preventDefault()}}},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return _}}]),t}();r.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",w._dataApiClickHandler),r.default(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,i=t.length;e<i;e++){var n=r.default(t[e]);w._jQueryInterface.call(n,n.data())}})),r.default.fn[g]=w._jQueryInterface,r.default.fn[g].Constructor=w,r.default.fn[g].noConflict=function(){return r.default.fn[g]=v,w._jQueryInterface};var k="collapse",S=r.default.fn[k],T={toggle:!0,parent:""},M={toggle:"boolean",parent:"(string|element)"},C=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),n=0,r=i.length;n<r;n++){var a=i[n],o=u.getSelectorFromElement(a),s=[].slice.call(document.querySelectorAll(o)).filter((function(e){return e===t}));null!==o&&s.length>0&&(this._selector=o,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){r.default(this._element).hasClass("show")?this.hide():this.show()},e.show=function(){var e,i,n=this;if(!(this._isTransitioning||r.default(this._element).hasClass("show")||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof n._config.parent?t.getAttribute("data-parent")===n._config.parent:t.classList.contains("collapse")}))).length&&(e=null),e&&(i=r.default(e).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var a=r.default.Event("show.bs.collapse");if(r.default(this._element).trigger(a),!a.isDefaultPrevented()){e&&(t._jQueryInterface.call(r.default(e).not(this._selector),"hide"),i||r.default(e).data("bs.collapse",null));var o=this._getDimension();r.default(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[o]=0,this._triggerArray.length&&r.default(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(o[0].toUpperCase()+o.slice(1)),l=u.getTransitionDurationFromElement(this._element);r.default(this._element).one(u.TRANSITION_END,(function(){r.default(n._element).removeClass("collapsing").addClass("collapse show"),n._element.style[o]="",n.setTransitioning(!1),r.default(n._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(l),this._element.style[o]=this._element[s]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&r.default(this._element).hasClass("show")){var e=r.default.Event("hide.bs.collapse");if(r.default(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",u.reflow(this._element),r.default(this._element).addClass("collapsing").removeClass("collapse show");var n=this._triggerArray.length;if(n>0)for(var a=0;a<n;a++){var o=this._triggerArray[a],s=u.getSelectorFromElement(o);null!==s&&(r.default([].slice.call(document.querySelectorAll(s))).hasClass("show")||r.default(o).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var l=u.getTransitionDurationFromElement(this._element);r.default(this._element).one(u.TRANSITION_END,(function(){t.setTransitioning(!1),r.default(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(l)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){r.default.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=l({},T,t)).toggle=Boolean(t.toggle),u.typeCheckConfig(k,t,M),t},e._getDimension=function(){return r.default(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var e,i=this;u.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var n='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',a=[].slice.call(e.querySelectorAll(n));return r.default(a).each((function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),e},e._addAriaAndCollapsedClass=function(t,e){var i=r.default(t).hasClass("show");e.length&&r.default(e).toggleClass("collapsed",!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=u.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this),n=i.data("bs.collapse"),a=l({},T,i.data(),"object"==typeof e&&e?e:{});if(!n&&a.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(a.toggle=!1),n||(n=new t(this,a),i.data("bs.collapse",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return T}}]),t}();r.default(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=r.default(this),i=u.getSelectorFromElement(this),n=[].slice.call(document.querySelectorAll(i));r.default(n).each((function(){var t=r.default(this),i=t.data("bs.collapse")?"toggle":e.data();C._jQueryInterface.call(t,i)}))})),r.default.fn[k]=C._jQueryInterface,r.default.fn[k].Constructor=C,r.default.fn[k].noConflict=function(){return r.default.fn[k]=S,C._jQueryInterface};var D="dropdown",L=r.default.fn[D],A=new RegExp("38|40|27"),E={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},P={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},I=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!r.default(this._element).hasClass("disabled")){var e=r.default(this._menu).hasClass("show");t._clearMenus(),e||this.show(!0)}},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||r.default(this._element).hasClass("disabled")||r.default(this._menu).hasClass("show"))){var i={relatedTarget:this._element},n=r.default.Event("show.bs.dropdown",i),o=t._getParentFromElement(this._element);if(r.default(o).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===a.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=o:u.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&r.default(o).addClass("position-static"),this._popper=new a.default(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===r.default(o).closest(".navbar-nav").length&&r.default(document.body).children().on("mouseover",null,r.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),r.default(this._menu).toggleClass("show"),r.default(o).toggleClass("show").trigger(r.default.Event("shown.bs.dropdown",i))}}},e.hide=function(){if(!this._element.disabled&&!r.default(this._element).hasClass("disabled")&&r.default(this._menu).hasClass("show")){var e={relatedTarget:this._element},i=r.default.Event("hide.bs.dropdown",e),n=t._getParentFromElement(this._element);r.default(n).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),r.default(this._menu).toggleClass("show"),r.default(n).toggleClass("show").trigger(r.default.Event("hidden.bs.dropdown",e)))}},e.dispose=function(){r.default.removeData(this._element,"bs.dropdown"),r.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;r.default(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},e._getConfig=function(t){return t=l({},this.constructor.Default,r.default(this._element).data(),t),u.typeCheckConfig(D,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},e._getPlacement=function(){var t=r.default(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=r.default(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":r.default(this._menu).hasClass("dropdown-menu-right")&&(e="bottom-end"),e},e._detectNavbar=function(){return r.default(this._element).closest(".navbar").length>0},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),l({},t,this._config.popperConfig)},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this).data("bs.dropdown");if(i||(i=new t(this,"object"==typeof e?e:null),r.default(this).data("bs.dropdown",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),n=0,a=i.length;n<a;n++){var o=t._getParentFromElement(i[n]),s=r.default(i[n]).data("bs.dropdown"),l={relatedTarget:i[n]};if(e&&"click"===e.type&&(l.clickEvent=e),s){var c=s._menu;if(r.default(o).hasClass("show")&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&r.default.contains(o,e.target))){var u=r.default.Event("hide.bs.dropdown",l);r.default(o).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),i[n].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),r.default(c).removeClass("show"),r.default(o).removeClass("show").trigger(r.default.Event("hidden.bs.dropdown",l)))}}}},t._getParentFromElement=function(t){var e,i=u.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if(!(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||r.default(e.target).closest(".dropdown-menu").length):!A.test(e.which))&&!this.disabled&&!r.default(this).hasClass("disabled")){var i=t._getParentFromElement(this),n=r.default(i).hasClass("show");if(n||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!n||27===e.which||32===e.which)return 27===e.which&&r.default(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void r.default(this).trigger("click");var a=[].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return r.default(t).is(":visible")}));if(0!==a.length){var o=a.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<a.length-1&&o++,o<0&&(o=0),a[o].focus()}}}},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return E}},{key:"DefaultType",get:function(){return P}}]),t}();r.default(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',I._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",I._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",I._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),I._jQueryInterface.call(r.default(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),r.default.fn[D]=I._jQueryInterface,r.default.fn[D].Constructor=I,r.default.fn[D].noConflict=function(){return r.default.fn[D]=L,I._jQueryInterface};var O=r.default.fn.modal,R={backdrop:!0,keyboard:!0,focus:!0,show:!0},z={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Y=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){r.default(this._element).hasClass("fade")&&(this._isTransitioning=!0);var i=r.default.Event("show.bs.modal",{relatedTarget:t});r.default(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),r.default(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return e.hide(t)})),r.default(this._dialog).on("mousedown.dismiss.bs.modal",(function(){r.default(e._element).one("mouseup.dismiss.bs.modal",(function(t){r.default(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=r.default.Event("hide.bs.modal");if(r.default(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var n=r.default(this._element).hasClass("fade");if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),r.default(document).off("focusin.bs.modal"),r.default(this._element).removeClass("show"),r.default(this._element).off("click.dismiss.bs.modal"),r.default(this._dialog).off("mousedown.dismiss.bs.modal"),n){var a=u.getTransitionDurationFromElement(this._element);r.default(this._element).one(u.TRANSITION_END,(function(t){return e._hideModal(t)})).emulateTransitionEnd(a)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return r.default(t).off(".bs.modal")})),r.default(document).off("focusin.bs.modal"),r.default.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=l({},R,t),u.typeCheckConfig("modal",t,z),t},e._triggerBackdropTransition=function(){var t=this,e=r.default.Event("hidePrevented.bs.modal");if(r.default(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._element.scrollHeight>document.documentElement.clientHeight;i||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var n=u.getTransitionDurationFromElement(this._dialog);r.default(this._element).off(u.TRANSITION_END),r.default(this._element).one(u.TRANSITION_END,(function(){t._element.classList.remove("modal-static"),i||r.default(t._element).one(u.TRANSITION_END,(function(){t._element.style.overflowY=""})).emulateTransitionEnd(t._element,n)})).emulateTransitionEnd(n),this._element.focus()}},e._showElement=function(t){var e=this,i=r.default(this._element).hasClass("fade"),n=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),r.default(this._dialog).hasClass("modal-dialog-scrollable")&&n?n.scrollTop=0:this._element.scrollTop=0,i&&u.reflow(this._element),r.default(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var a=r.default.Event("shown.bs.modal",{relatedTarget:t}),o=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,r.default(e._element).trigger(a)};if(i){var s=u.getTransitionDurationFromElement(this._dialog);r.default(this._dialog).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},e._enforceFocus=function(){var t=this;r.default(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(e){document!==e.target&&t._element!==e.target&&0===r.default(t._element).has(e.target).length&&t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown?r.default(this._element).on("keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||r.default(this._element).off("keydown.dismiss.bs.modal")},e._setResizeEvent=function(){var t=this;this._isShown?r.default(window).on("resize.bs.modal",(function(e){return t.handleUpdate(e)})):r.default(window).off("resize.bs.modal")},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){r.default(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),r.default(t._element).trigger("hidden.bs.modal")}))},e._removeBackdrop=function(){this._backdrop&&(r.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,i=r.default(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),r.default(this._backdrop).appendTo(document.body),r.default(this._element).on("click.dismiss.bs.modal",(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())})),i&&u.reflow(this._backdrop),r.default(this._backdrop).addClass("show"),!t)return;if(!i)return void t();var n=u.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){r.default(this._backdrop).removeClass("show");var a=function(){e._removeBackdrop(),t&&t()};if(r.default(this._element).hasClass("fade")){var o=u.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(u.TRANSITION_END,a).emulateTransitionEnd(o)}else a()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),i=[].slice.call(document.querySelectorAll(".sticky-top"));r.default(e).each((function(e,i){var n=i.style.paddingRight,a=r.default(i).css("padding-right");r.default(i).data("padding-right",n).css("padding-right",parseFloat(a)+t._scrollbarWidth+"px")})),r.default(i).each((function(e,i){var n=i.style.marginRight,a=r.default(i).css("margin-right");r.default(i).data("margin-right",n).css("margin-right",parseFloat(a)-t._scrollbarWidth+"px")}));var n=document.body.style.paddingRight,a=r.default(document.body).css("padding-right");r.default(document.body).data("padding-right",n).css("padding-right",parseFloat(a)+this._scrollbarWidth+"px")}r.default(document.body).addClass("modal-open")},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));r.default(t).each((function(t,e){var i=r.default(e).data("padding-right");r.default(e).removeData("padding-right"),e.style.paddingRight=i||""}));var e=[].slice.call(document.querySelectorAll(".sticky-top"));r.default(e).each((function(t,e){var i=r.default(e).data("margin-right");void 0!==i&&r.default(e).css("margin-right",i).removeData("margin-right")}));var i=r.default(document.body).data("padding-right");r.default(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,i){return this.each((function(){var n=r.default(this).data("bs.modal"),a=l({},R,r.default(this).data(),"object"==typeof e&&e?e:{});if(n||(n=new t(this,a),r.default(this).data("bs.modal",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e](i)}else a.show&&n.show(i)}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return R}}]),t}();r.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var e,i=this,n=u.getSelectorFromElement(this);n&&(e=document.querySelector(n));var a=r.default(e).data("bs.modal")?"toggle":l({},r.default(e).data(),r.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var o=r.default(e).one("show.bs.modal",(function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){r.default(i).is(":visible")&&i.focus()}))}));Y._jQueryInterface.call(r.default(e),a,this)})),r.default.fn.modal=Y._jQueryInterface,r.default.fn.modal.Constructor=Y,r.default.fn.modal.noConflict=function(){return r.default.fn.modal=O,Y._jQueryInterface};var F=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],H={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},N=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,B=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function j(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);for(var n=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),a=[].slice.call(n.body.querySelectorAll("*")),o=function(t,i){var n=a[t],o=n.nodeName.toLowerCase();if(-1===r.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var s=[].slice.call(n.attributes),l=[].concat(e["*"]||[],e[o]||[]);s.forEach((function(t){(function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===F.indexOf(i)||Boolean(t.nodeValue.match(N)||t.nodeValue.match(B));for(var n=e.filter((function(t){return t instanceof RegExp})),r=0,a=n.length;r<a;r++)if(i.match(n[r]))return!0;return!1})(t,l)||n.removeAttribute(t.nodeName)}))},s=0,l=a.length;s<l;s++)o(s);return n.body.innerHTML}var V="tooltip",W=r.default.fn[V],U=new RegExp("(^|\\s)bs-tooltip\\S+","g"),$=["sanitize","whiteList","sanitizeFn"],q={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},G={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},X={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:H,popperConfig:null},Z={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},J=function(){function t(t,e){if(void 0===a.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=r.default(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),r.default(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(r.default(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),r.default.removeData(this.element,this.constructor.DATA_KEY),r.default(this.element).off(this.constructor.EVENT_KEY),r.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&r.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===r.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e=r.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){r.default(this.element).trigger(e);var i=u.findShadowRoot(this.element),n=r.default.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;var o=this.getTipElement(),s=u.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&r.default(o).addClass("fade");var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var d=this._getContainer();r.default(o).data(this.constructor.DATA_KEY,this),r.default.contains(this.element.ownerDocument.documentElement,this.tip)||r.default(o).appendTo(d),r.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new a.default(this.element,o,this._getPopperConfig(c)),r.default(o).addClass("show"),r.default(o).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&r.default(document.body).children().on("mouseover",null,r.default.noop);var h=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,r.default(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};if(r.default(this.tip).hasClass("fade")){var p=u.getTransitionDurationFromElement(this.tip);r.default(this.tip).one(u.TRANSITION_END,h).emulateTransitionEnd(p)}else h()}},e.hide=function(t){var e=this,i=this.getTipElement(),n=r.default.Event(this.constructor.Event.HIDE),a=function(){"show"!==e._hoverState&&i.parentNode&&i.parentNode.removeChild(i),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),r.default(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(r.default(this.element).trigger(n),!n.isDefaultPrevented()){if(r.default(i).removeClass("show"),"ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,r.default(this.tip).hasClass("fade")){var o=u.getTransitionDurationFromElement(i);r.default(i).one(u.TRANSITION_END,a).emulateTransitionEnd(o)}else a();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){r.default(this.getTipElement()).addClass("bs-tooltip-"+t)},e.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(r.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),r.default(t).removeClass("fade show")},e.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=j(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?r.default(e).parent().is(t)||t.empty().append(e):t.text(r.default(e).text())},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return l({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:u.isElement(this.config.container)?r.default(this.config.container):r.default(document).find(this.config.container)},e._getAttachment=function(t){return G[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)r.default(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var i="hover"===e?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,n="hover"===e?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;r.default(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(n,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},r.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||r.default(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),r.default(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),r.default(e.getTipElement()).hasClass("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){"show"===e._hoverState&&e.show()}),e.config.delay.show):e.show())},e._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||r.default(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),r.default(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){"out"===e._hoverState&&e.hide()}),e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=r.default(this.element).data();return Object.keys(e).forEach((function(t){-1!==$.indexOf(t)&&delete e[t]})),"number"==typeof(t=l({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u.typeCheckConfig(V,t,this.constructor.DefaultType),t.sanitize&&(t.template=j(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=r.default(this.getTipElement()),e=t.attr("class").match(U);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(r.default(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this),n=i.data("bs.tooltip"),a="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,a),i.data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return X}},{key:"NAME",get:function(){return V}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Z}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return q}}]),t}();r.default.fn[V]=J._jQueryInterface,r.default.fn[V].Constructor=J,r.default.fn[V].noConflict=function(){return r.default.fn[V]=W,J._jQueryInterface};var K="popover",Q=r.default.fn[K],tt=new RegExp("(^|\\s)bs-popover\\S+","g"),et=l({},J.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),it=l({},J.DefaultType,{content:"(string|element|function)"}),nt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},rt=function(t){var e,i;function n(){return t.apply(this,arguments)||this}i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var a=n.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(t){r.default(this.getTipElement()).addClass("bs-popover-"+t)},a.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},a.setContent=function(){var t=r.default(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var t=r.default(this.getTipElement()),e=t.attr("class").match(tt);null!==e&&e.length>0&&t.removeClass(e.join(""))},n._jQueryInterface=function(t){return this.each((function(){var e=r.default(this).data("bs.popover"),i="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new n(this,i),r.default(this).data("bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},s(n,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return et}},{key:"NAME",get:function(){return K}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return nt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return it}}]),n}(J);r.default.fn[K]=rt._jQueryInterface,r.default.fn[K].Constructor=rt,r.default.fn[K].noConflict=function(){return r.default.fn[K]=Q,rt._jQueryInterface};var at="scrollspy",ot=r.default.fn[at],st={offset:10,method:"auto",target:""},lt={offset:"number",method:"string",target:"(string|element)"},ct=function(){function t(t,e){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,r.default(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return i._process(t)})),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?e:this._config.method,n="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var e,a=u.getSelectorFromElement(t);if(a&&(e=document.querySelector(a)),e){var o=e.getBoundingClientRect();if(o.width||o.height)return[r.default(e)[i]().top+n,a]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){r.default.removeData(this._element,"bs.scrollspy"),r.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=l({},st,"object"==typeof t&&t?t:{})).target&&u.isElement(t.target)){var e=r.default(t.target).attr("id");e||(e=u.getUID(at),r.default(t.target).attr("id",e)),t.target="#"+e}return u.typeCheckConfig(at,t,lt),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),i=r.default([].slice.call(document.querySelectorAll(e.join(","))));i.hasClass("dropdown-item")?(i.closest(".dropdown").find(".dropdown-toggle").addClass("active"),i.addClass("active")):(i.addClass("active"),i.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),i.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),r.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this).data("bs.scrollspy");if(i||(i=new t(this,"object"==typeof e&&e),r.default(this).data("bs.scrollspy",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return st}}]),t}();r.default(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var i=r.default(t[e]);ct._jQueryInterface.call(i,i.data())}})),r.default.fn[at]=ct._jQueryInterface,r.default.fn[at].Constructor=ct,r.default.fn[at].noConflict=function(){return r.default.fn[at]=ot,ct._jQueryInterface};var ut=r.default.fn.tab,dt=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&r.default(this._element).hasClass("active")||r.default(this._element).hasClass("disabled"))){var e,i,n=r.default(this._element).closest(".nav, .list-group")[0],a=u.getSelectorFromElement(this._element);if(n){var o="UL"===n.nodeName||"OL"===n.nodeName?"> li > .active":".active";i=(i=r.default.makeArray(r.default(n).find(o)))[i.length-1]}var s=r.default.Event("hide.bs.tab",{relatedTarget:this._element}),l=r.default.Event("show.bs.tab",{relatedTarget:i});if(i&&r.default(i).trigger(s),r.default(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){a&&(e=document.querySelector(a)),this._activate(this._element,n);var c=function(){var e=r.default.Event("hidden.bs.tab",{relatedTarget:t._element}),n=r.default.Event("shown.bs.tab",{relatedTarget:i});r.default(i).trigger(e),r.default(t._element).trigger(n)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){r.default.removeData(this._element,"bs.tab"),this._element=null},e._activate=function(t,e,i){var n=this,a=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?r.default(e).children(".active"):r.default(e).find("> li > .active"))[0],o=i&&a&&r.default(a).hasClass("fade"),s=function(){return n._transitionComplete(t,a,i)};if(a&&o){var l=u.getTransitionDurationFromElement(a);r.default(a).removeClass("show").one(u.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},e._transitionComplete=function(t,e,i){if(e){r.default(e).removeClass("active");var n=r.default(e.parentNode).find("> .dropdown-menu .active")[0];n&&r.default(n).removeClass("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(r.default(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),u.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&r.default(t.parentNode).hasClass("dropdown-menu")){var a=r.default(t).closest(".dropdown")[0];if(a){var o=[].slice.call(a.querySelectorAll(".dropdown-toggle"));r.default(o).addClass("active")}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this),n=i.data("bs.tab");if(n||(n=new t(this),i.data("bs.tab",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),t}();r.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),dt._jQueryInterface.call(r.default(this),"show")})),r.default.fn.tab=dt._jQueryInterface,r.default.fn.tab.Constructor=dt,r.default.fn.tab.noConflict=function(){return r.default.fn.tab=ut,dt._jQueryInterface};var ht=r.default.fn.toast,pt={animation:"boolean",autohide:"boolean",delay:"number"},ft={animation:!0,autohide:!0,delay:500},mt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this,e=r.default.Event("show.bs.toast");if(r.default(this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var i=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),r.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),u.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var n=u.getTransitionDurationFromElement(this._element);r.default(this._element).one(u.TRANSITION_END,i).emulateTransitionEnd(n)}else i()}},e.hide=function(){if(this._element.classList.contains("show")){var t=r.default.Event("hide.bs.toast");r.default(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),r.default(this._element).off("click.dismiss.bs.toast"),r.default.removeData(this._element,"bs.toast"),this._element=null,this._config=null},e._getConfig=function(t){return t=l({},ft,r.default(this._element).data(),"object"==typeof t&&t?t:{}),u.typeCheckConfig("toast",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;r.default(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},e._close=function(){var t=this,e=function(){t._element.classList.add("hide"),r.default(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);r.default(this._element).one(u.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(e){return this.each((function(){var i=r.default(this),n=i.data("bs.toast");if(n||(n=new t(this,"object"==typeof e&&e),i.data("bs.toast",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e](this)}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return pt}},{key:"Default",get:function(){return ft}}]),t}();r.default.fn.toast=mt._jQueryInterface,r.default.fn.toast.Constructor=mt,r.default.fn.toast.noConflict=function(){return r.default.fn.toast=ht,mt._jQueryInterface},t.Alert=p,t.Button=m,t.Carousel=w,t.Collapse=C,t.Dropdown=I,t.Modal=Y,t.Popover=rt,t.Scrollspy=ct,t.Tab=dt,t.Toast=mt,t.Tooltip=J,t.Util=u,Object.defineProperty(t,"__esModule",{value:!0})}(e,i(1),i(158))},function(t,e,i){"use strict";i.r(e),function(t){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var r=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),n))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function o(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=o(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(i+r+n)?t:l(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),d=i&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?u:10===t?d:u||d}function p(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===o(i,"position")?p(i):i:t?t.ownerDocument.documentElement:document.documentElement}function f(t){return null!==t.parentNode?f(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,r=i?e:t,a=document.createRange();a.setStart(n,0),a.setEnd(r,0);var o,s,l=a.commonAncestorContainer;if(t!==l&&e!==l||n.contains(r))return"BODY"===(s=(o=l).nodeName)||"HTML"!==s&&p(o.firstElementChild)!==o?p(l):l;var c=f(t);return c.host?m(c.host,e):m(t,f(e).host)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i="top"===e?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||r;return a[i]}return t[i]}function y(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g(e,"top"),r=g(e,"left"),a=i?-1:1;return t.top+=n*a,t.bottom+=n*a,t.left+=r*a,t.right+=r*a,t}function v(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"])+parseFloat(t["border"+n+"Width"])}function _(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],h(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,i=t.documentElement,n=h(10)&&getComputedStyle(i);return{height:_("Height",e,i,n),width:_("Width",e,i,n)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),k=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function T(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function M(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var i=g(t,"top"),n=g(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?b(t.ownerDocument):{},s=a.width||t.clientWidth||r.width,l=a.height||t.clientHeight||r.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var d=o(t);c-=v(d,"x"),u-=v(d,"y"),r.width-=c,r.height-=u}return T(r)}function C(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=h(10),r="HTML"===e.nodeName,a=M(t),s=M(e),c=l(t),u=o(e),d=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);i&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=T({top:a.top-s.top-d,left:a.left-s.left-p,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!n&&r){var m=parseFloat(u.marginTop),g=parseFloat(u.marginLeft);f.top-=d-m,f.bottom-=d-m,f.left-=p-g,f.right-=p-g,f.marginTop=m,f.marginLeft=g}return(n&&!i?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(f=y(f,e)),f}function D(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=C(t,i),r=Math.max(i.clientWidth,window.innerWidth||0),a=Math.max(i.clientHeight,window.innerHeight||0),o=e?0:g(i),s=e?0:g(i,"left"),l={top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:r,height:a};return T(l)}function L(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===o(t,"position"))return!0;var i=s(t);return!!i&&L(i)}function A(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===o(e,"transform");)e=e.parentElement;return e||document.documentElement}function E(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=r?A(t):m(t,c(e));if("viewport"===n)a=D(o,r);else{var u=void 0;"scrollParent"===n?"BODY"===(u=l(s(e))).nodeName&&(u=t.ownerDocument.documentElement):u="window"===n?t.ownerDocument.documentElement:n;var d=C(u,o,r);if("HTML"!==u.nodeName||L(o))a=d;else{var h=b(t.ownerDocument),p=h.height,f=h.width;a.top+=d.top-d.marginTop,a.bottom=p+d.top,a.left+=d.left-d.marginLeft,a.right=f+d.left}}var g="number"==typeof(i=i||0);return a.left+=g?i:i.left||0,a.top+=g?i:i.top||0,a.right-=g?i:i.right||0,a.bottom-=g?i:i.bottom||0,a}function P(t){return t.width*t.height}function I(t,e,i,n,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=E(i,n,a,r),s={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(s).map((function(t){return S({key:t},s[t],{area:P(s[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function O(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=n?A(e):m(e,c(i));return C(i,r,n)}function R(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function z(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function Y(t,e,i){i=i.split("-")[0];var n=R(t),r={width:n.width,height:n.height},a=-1!==["right","left"].indexOf(i),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",c=a?"width":"height";return r[o]=e[o]+e[l]/2-n[l]/2,r[s]=i===s?e[s]-n[c]:e[z(s)],r}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function H(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===i}));var n=F(t,(function(t){return t[e]===i}));return t.indexOf(n)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&a(i)&&(e.offsets.popper=T(e.offsets.popper),e.offsets.reference=T(e.offsets.reference),e=i(e,t))})),e}function N(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=I(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Y(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=H(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function B(t,e){return t.some((function(t){var i=t.name;return t.enabled&&i===e}))}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var r=e[n],a=r?""+r+i:t;if(void 0!==document.body.style[a])return a}return null}function V(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function W(t){var e=t.ownerDocument;return e?e.defaultView:window}function U(t,e,i,n){i.updateBound=n,W(t).addEventListener("resize",i.updateBound,{passive:!0});var r=l(t);return function t(e,i,n,r){var a="BODY"===e.nodeName,o=a?e.ownerDocument.defaultView:e;o.addEventListener(i,n,{passive:!0}),a||t(l(o.parentNode),i,n,r),r.push(o)}(r,"scroll",i.updateBound,i.scrollParents),i.scrollElement=r,i.eventsEnabled=!0,i}function $(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}function q(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,W(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function G(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function X(t,e){Object.keys(e).forEach((function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&G(e[i])&&(n="px"),t.style[i]=e[i]+n}))}var Z=i&&/Firefox/i.test(navigator.userAgent);function J(t,e,i){var n=F(t,(function(t){return t.name===e})),r=!!n&&t.some((function(t){return t.name===i&&t.enabled&&t.order<n.order}));if(!r){var a="`"+e+"`",o="`"+i+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}var K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=K.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Q.indexOf(t),n=Q.slice(i+1).concat(Q.slice(0,i));return e?n.reverse():n}var et="flip",it="clockwise",nt="counterclockwise";function rt(t,e,i,n){var r=[0,0],a=-1!==["right","left"].indexOf(n),o=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=o.indexOf(F(o,(function(t){return-1!==t.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return(c=c.map((function(t,n){var r=(1===n?!a:a)?"height":"width",o=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,o=!0,t):o?(t[t.length-1]+=e,o=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,i,n){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],o=r[2];if(!a)return t;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=i;break;case"%":case"%r":default:s=n}return T(s)[e]/100*a}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(t,r,e,i)}))}))).forEach((function(t,e){t.forEach((function(i,n){G(i)&&(r[e]+=i*("-"===t[n-1]?-1:1))}))})),r}var at={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var r=t.offsets,a=r.reference,o=r.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",c=s?"width":"height",u={start:k({},l,a[l]),end:k({},l,a[l]+a[c]-o[c])};t.offsets.popper=S({},o,u[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,n=t.placement,r=t.offsets,a=r.popper,o=r.reference,s=n.split("-")[0],l=void 0;return l=G(+i)?[+i,0]:rt(i,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||p(t.instance.popper);t.instance.reference===i&&(i=p(i));var n=j("transform"),r=t.instance.popper.style,a=r.top,o=r.left,s=r[n];r.top="",r.left="",r[n]="";var l=E(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);r.top=a,r.left=o,r[n]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,d={primary:function(t){var i=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(i=Math.max(u[t],l[t])),k({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=u[i];return u[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(u[i],l[t]-("right"===t?u.width:u.height))),k({},i,n)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=S({},u,d[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,r=t.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(r),s=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return i[s]<a(n[l])&&(t.offsets.popper[l]=a(n[l])-i[c]),i[l]>a(n[s])&&(t.offsets.popper[l]=a(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!J(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],a=t.offsets,s=a.popper,l=a.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",m=R(n)[u];l[f]-m<s[h]&&(t.offsets.popper[h]-=s[h]-(l[f]-m)),l[h]+m>s[f]&&(t.offsets.popper[h]+=l[h]+m-s[f]),t.offsets.popper=T(t.offsets.popper);var g=l[h]+l[u]/2-m/2,y=o(t.instance.popper),v=parseFloat(y["margin"+d]),_=parseFloat(y["border"+d+"Width"]),b=g-t.offsets.popper[h]-v-_;return b=Math.max(Math.min(s[u]-m,b),0),t.arrowElement=n,t.offsets.arrow=(k(i={},h,Math.round(b)),k(i,p,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(B(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=E(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],r=z(n),a=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case et:o=[n,r];break;case it:o=tt(n);break;case nt:o=tt(n,!0);break;default:o=e.behavior}return o.forEach((function(s,l){if(n!==s||o.length===l+1)return t;n=t.placement.split("-")[0],r=z(n);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,h="left"===n&&d(c.right)>d(u.left)||"right"===n&&d(c.left)<d(u.right)||"top"===n&&d(c.bottom)>d(u.top)||"bottom"===n&&d(c.top)<d(u.bottom),p=d(c.left)<d(i.left),f=d(c.right)>d(i.right),m=d(c.top)<d(i.top),g=d(c.bottom)>d(i.bottom),y="left"===n&&p||"right"===n&&f||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),_=!!e.flipVariations&&(v&&"start"===a&&p||v&&"end"===a&&f||!v&&"start"===a&&m||!v&&"end"===a&&g),b=!!e.flipVariationsByContent&&(v&&"start"===a&&f||v&&"end"===a&&p||!v&&"start"===a&&g||!v&&"end"===a&&m),x=_||b;(h||y||x)&&(t.flipped=!0,(h||y)&&(n=o[l+1]),x&&(a=function(t){return"end"===t?"start":"start"===t?"end":t}(a)),t.placement=n+(a?"-"+a:""),t.offsets.popper=S({},t.offsets.popper,Y(t.instance.popper,t.offsets.reference,t.placement)),t=H(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,r=n.popper,a=n.reference,o=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return r[o?"left":"top"]=a[i]-(s?r[o?"width":"height"]:0),t.placement=z(e),t.offsets.popper=T(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!J(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=F(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,r=t.offsets.popper,a=F(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:e.gpuAcceleration,s=p(t.instance.popper),l=M(s),c={position:r.position},u=function(t,e){var i=t.offsets,n=i.popper,r=i.reference,a=Math.round,o=Math.floor,s=function(t){return t},l=a(r.width),c=a(n.width),u=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?u||d||l%2==c%2?a:o:s,p=e?a:s;return{left:h(l%2==1&&c%2==1&&!d&&e?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:h(n.right)}}(t,window.devicePixelRatio<2||!Z),d="bottom"===i?"top":"bottom",h="right"===n?"left":"right",f=j("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,o&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var y="bottom"===d?-1:1,v="right"===h?-1:1;c[d]=g*y,c[h]=m*v,c.willChange=d+", "+h}var _={"x-placement":t.placement};return t.attributes=S({},_,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return X(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach((function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&X(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,r){var a=O(r,e,t,i.positionFixed),o=I(i.placement,a,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",o),X(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},ot=function(){function t(e,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=r(this.update.bind(this)),this.options=S({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){n.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},n.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(t,[{key:"update",value:function(){return N.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return $.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),t}();ot.Utils=("undefined"!=typeof window?window:t).PopperUtils,ot.placements=K,ot.Defaults=at,e.default=ot}.call(this,i(8))},function(t,e,i){
/*!
* metismenu https://github.com/onokumus/metismenu#readme
* A collapsible jQuery menu plugin
* @version 3.0.7
* @author Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* @license: MIT 
*/
t.exports=function(t){"use strict";var e=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t);const i=(t=>{const e="transitionend",i={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd(i){t(i).trigger(e)},supportsTransitionEnd:()=>Boolean(e)};return t.fn.mmEmulateTransitionEnd=function(e){let n=!1;return t(this).one(i.TRANSITION_END,()=>{n=!0}),setTimeout(()=>{n||i.triggerTransitionEnd(this)},e),this},t.event.special[i.TRANSITION_END]={bindType:e,delegateType:e,handle(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},i})(e.default),n="metisMenu",r="metisMenu",a=e.default.fn[n],o={toggle:!0,preventDefault:!0,triggerElement:"a",parentTrigger:"li",subMenu:"ul"},s="show.metisMenu",l="shown.metisMenu",c="hide.metisMenu",u="hidden.metisMenu",d="click.metisMenu.data-api",h="mm-active",p="mm-show",f="mm-collapse",m="mm-collapsing";class g{constructor(t,e){this.element=t,this.config={...o,...e},this.transitioning=null,this.init()}init(){const t=this,i=this.config,n=e.default(this.element);n.addClass("metismenu"),n.find(`${i.parentTrigger}.${h}`).children(i.triggerElement).attr("aria-expanded","true"),n.find(`${i.parentTrigger}.${h}`).parents(i.parentTrigger).addClass(h),n.find(`${i.parentTrigger}.${h}`).parents(i.parentTrigger).children(i.triggerElement).attr("aria-expanded","true"),n.find(`${i.parentTrigger}.${h}`).has(i.subMenu).children(i.subMenu).addClass(`${f} ${p}`),n.find(i.parentTrigger).not("."+h).has(i.subMenu).children(i.subMenu).addClass(f),n.find(i.parentTrigger).children(i.triggerElement).on(d,(function(n){const r=e.default(this);if("true"===r.attr("aria-disabled"))return;i.preventDefault&&"#"===r.attr("href")&&n.preventDefault();const a=r.parent(i.parentTrigger),o=a.siblings(i.parentTrigger),s=o.children(i.triggerElement);a.hasClass(h)?(r.attr("aria-expanded","false"),t.removeActive(a)):(r.attr("aria-expanded","true"),t.setActive(a),i.toggle&&(t.removeActive(o),s.attr("aria-expanded","false"))),i.onTransitionStart&&i.onTransitionStart(n)}))}setActive(t){e.default(t).addClass(h);const i=e.default(t).children(this.config.subMenu);i.length>0&&!i.hasClass(p)&&this.show(i)}removeActive(t){e.default(t).removeClass(h);const i=e.default(t).children(`${this.config.subMenu}.${p}`);i.length>0&&this.hide(i)}show(t){if(this.transitioning||e.default(t).hasClass(m))return;const n=e.default(t),r=e.default.Event(s);if(n.trigger(r),!r.isDefaultPrevented()){if(n.parent(this.config.parentTrigger).addClass(h),this.config.toggle){const t=n.parent(this.config.parentTrigger).siblings().children(`${this.config.subMenu}.${p}`);this.hide(t)}n.removeClass(f).addClass(m).height(0),this.setTransitioning(!0),n.height(t[0].scrollHeight).one(i.TRANSITION_END,()=>{this.config&&this.element&&(n.removeClass(m).addClass(`${f} ${p}`).height(""),this.setTransitioning(!1),n.trigger(l))}).mmEmulateTransitionEnd(350)}}hide(t){if(this.transitioning||!e.default(t).hasClass(p))return;const n=e.default(t),r=e.default.Event(c);if(n.trigger(r),r.isDefaultPrevented())return;n.parent(this.config.parentTrigger).removeClass(h),n.height(n.height())[0].offsetHeight,n.addClass(m).removeClass(f).removeClass(p),this.setTransitioning(!0);const a=()=>{this.config&&this.element&&(this.transitioning&&this.config.onTransitionEnd&&this.config.onTransitionEnd(),this.setTransitioning(!1),n.trigger(u),n.removeClass(m).addClass(f))};0===n.height()||"none"===n.css("display")?a():n.height(0).one(i.TRANSITION_END,a).mmEmulateTransitionEnd(350)}setTransitioning(t){this.transitioning=t}dispose(){e.default.removeData(this.element,r),e.default(this.element).find(this.config.parentTrigger).children(this.config.triggerElement).off(d),this.transitioning=null,this.config=null,this.element=null}static jQueryInterface(t){return this.each((function(){const i=e.default(this);let n=i.data(r);const a={...o,...i.data(),..."object"==typeof t&&t?t:{}};if(n||(n=new g(this,a),i.data(r,n)),"string"==typeof t){if(void 0===n[t])throw new Error(`No method named "${t}"`);n[t]()}}))}}return e.default.fn[n]=g.jQueryInterface,e.default.fn[n].Constructor=g,e.default.fn[n].noConflict=()=>(e.default.fn[n]=a,g.jQueryInterface),g}(i(1))},function(t,e,i){(function(t){t(document).ready((function(){t(".btn-open-options").click((function(){t(".ui-theme-settings").toggleClass("settings-open")})),t(".close-sidebar-btn").click((function(){var e=t(this).attr("data-class");t(".app-container").toggleClass(e);var i=t(this);i.hasClass("is-active")?i.removeClass("is-active"):i.addClass("is-active")})),t(".switch-container-class").on("click",(function(){var e=t(this).attr("data-class");t(".app-container").toggleClass(e),t(this).parent().find(".switch-container-class").removeClass("active"),t(this).addClass("active")})),t(".switch-theme-class").on("click",(function(){var e=t(this).attr("data-class");"app-theme-white"==e&&(t(".app-container").removeClass("app-theme-gray"),t(".app-container").addClass(e)),"app-theme-gray"==e&&(t(".app-container").removeClass("app-theme-white"),t(".app-container").addClass(e)),"body-tabs-line"==e&&(t(".app-container").removeClass("body-tabs-shadow"),t(".app-container").addClass(e)),"body-tabs-shadow"==e&&(t(".app-container").removeClass("body-tabs-line"),t(".app-container").addClass(e)),t(this).parent().find(".switch-theme-class").removeClass("active"),t(this).addClass("active")})),t(".switch-header-cs-class").on("click",(function(){var e=t(this).attr("data-class");t(".switch-header-cs-class").removeClass("active"),t(this).addClass("active"),t(".app-header").attr("class","app-header"),t(".app-header").addClass("header-shadow "+e)})),t(".switch-sidebar-cs-class").on("click",(function(){var e=t(this).attr("data-class");t(".switch-sidebar-cs-class").removeClass("active"),t(this).addClass("active"),t(".app-sidebar").attr("class","app-sidebar"),t(".app-sidebar").addClass("sidebar-shadow "+e)}))}))}).call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(154);t(document).ready((function(){e.a(".ladda-button",{timeout:2e3})}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(163);t(document).ready((function(){t.blockUI.defaults={timeout:2e3,fadeIn:200,fadeOut:400},t(".block-page-btn-example-1").click((function(){t.blockUI({message:t(".body-block-example-1")})})),t(".block-page-btn-example-2").click((function(){t.blockUI({message:t(".body-block-example-2")})})),t(".block-page-btn-example-3").click((function(){t.blockUI({message:t(".body-block-example-3")})})),t(".block-element-btn-example-1").click((function(){t(".element-block-example").block({message:t('<div class="loader mx-auto">\n                            <div class="ball-grid-pulse">\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                                <div class="bg-white"></div>\n                            </div>\n                        </div>')})})),t(".block-element-btn-example-2").click((function(){t(".element-block-example").block({message:t('<div class="loader mx-auto">\n                            <div class="line-scale-pulse-out">\n                                <div class="bg-success"></div>\n                                <div class="bg-success"></div>\n                                <div class="bg-success"></div>\n                                <div class="bg-success"></div>\n                                <div class="bg-success"></div>\n                            </div>\n                        </div>')})})),t(".block-element-btn-example-3").click((function(){t(".element-block-example").block({message:t('<div class="loader mx-auto">\n                            <div class="ball-pulse-sync">\n                                <div class="bg-warning"></div>\n                                <div class="bg-warning"></div>\n                                <div class="bg-warning"></div>\n                            </div>\n                        </div>')})}))}))}.call(this,i(1))},function(t,e,i){var n,r,a;
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */!function(){"use strict";r=[i(1)],void 0===(a="function"==typeof(n=function(t){t.fn._fadeIn=t.fn.fadeIn;var e=t.noop||function(){},i=/MSIE/.test(navigator.userAgent),n=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),r=(document.documentMode,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){s(window,t)},t.unblockUI=function(t){l(window,t)},t.growlUI=function(e,i,n,r){var a=t('<div class="growlUI"></div>');e&&a.append("<h1>"+e+"</h1>"),i&&a.append("<h2>"+i+"</h2>"),void 0===n&&(n=3e3);var o=function(e){e=e||{},t.blockUI({message:a,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:n,centerY:!1,showOverlay:!1,onUnblock:r,css:t.blockUI.defaults.growlCSS})};o();a.css("opacity");a.mouseover((function(){o({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)})).mouseout((function(){t(".blockMsg").fadeOut(1e3)}))},t.fn.block=function(e){if(this[0]===window)return t.blockUI(e),this;var i=t.extend({},t.blockUI.defaults,e||{});return this.each((function(){var e=t(this);i.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})})),this.each((function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,s(this,e)}))},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each((function(){l(this,e)}))},t.blockUI.version=2.7,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var a=null,o=[];function s(s,c){var d,f,m=s==window,g=c&&void 0!==c.message?c.message:void 0;if(!(c=t.extend({},t.blockUI.defaults,c||{})).ignoreIfBlocked||!t(s).data("blockUI.isBlocked")){if(c.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,c.overlayCSS||{}),d=t.extend({},t.blockUI.defaults.css,c.css||{}),c.onOverlayClick&&(c.overlayCSS.cursor="pointer"),f=t.extend({},t.blockUI.defaults.themedCSS,c.themedCSS||{}),g=void 0===g?c.message:g,m&&a&&l(window,{fadeOut:0}),g&&"string"!=typeof g&&(g.parentNode||g.jquery)){var y=g.jquery?g[0]:g,v={};t(s).data("blockUI.history",v),v.el=y,v.parent=y.parentNode,v.display=y.style.display,v.position=y.style.position,v.parent&&v.parent.removeChild(y)}t(s).data("blockUI.onUnblock",c.onUnblock);var _,b,x,w,k=c.baseZ;_=i||c.forceIframe?t('<iframe class="blockUI" style="z-index:'+k+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+c.iframeSrc+'"></iframe>'):t('<div class="blockUI" style="display:none"></div>'),b=c.theme?t('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+k+++';display:none"></div>'):t('<div class="blockUI blockOverlay" style="z-index:'+k+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),c.theme&&m?(w='<div class="blockUI '+c.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(k+10)+';display:none;position:fixed">',c.title&&(w+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),w+='<div class="ui-widget-content ui-dialog-content"></div>',w+="</div>"):c.theme?(w='<div class="blockUI '+c.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(k+10)+';display:none;position:absolute">',c.title&&(w+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),w+='<div class="ui-widget-content ui-dialog-content"></div>',w+="</div>"):w=m?'<div class="blockUI '+c.blockMsgClass+' blockPage" style="z-index:'+(k+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+c.blockMsgClass+' blockElement" style="z-index:'+(k+10)+';display:none;position:absolute"></div>',x=t(w),g&&(c.theme?(x.css(f),x.addClass("ui-widget-content")):x.css(d)),c.theme||b.css(c.overlayCSS),b.css("position",m?"fixed":"absolute"),(i||c.forceIframe)&&_.css("opacity",0);var S=[_,b,x],T=t(m?"body":s);t.each(S,(function(){this.appendTo(T)})),c.theme&&c.draggable&&t.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var M=r&&(!t.support.boxModel||t("object,embed",m?null:s).length>0);if(n||M){if(m&&c.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(n||!t.support.boxModel)&&!m)var C=p(s,"borderTopWidth"),D=p(s,"borderLeftWidth"),L=C?"(0 - "+C+")":0,A=D?"(0 - "+D+")":0;t.each(S,(function(t,e){var i=e[0].style;if(i.position="absolute",t<2)m?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+c.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),A&&i.setExpression("left",A),L&&i.setExpression("top",L);else if(c.centerY)m&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!c.centerY&&m){var n="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(c.css&&c.css.top?parseInt(c.css.top,10):0)+') + "px"';i.setExpression("top",n)}}))}if(g&&(c.theme?x.find(".ui-widget-content").append(g):x.append(g),(g.jquery||g.nodeType)&&t(g).show()),(i||c.forceIframe)&&c.showOverlay&&_.show(),c.fadeIn){var E=c.onBlock?c.onBlock:e,P=c.showOverlay&&!g?E:e,I=g?E:e;c.showOverlay&&b._fadeIn(c.fadeIn,P),g&&x._fadeIn(c.fadeIn,I)}else c.showOverlay&&b.show(),g&&x.show(),c.onBlock&&c.onBlock.bind(x)();if(u(1,s,c),m?(a=x[0],o=t(c.focusableElements,a),c.focusInput&&setTimeout(h,20)):function(t,e,i){var n=t.parentNode,r=t.style,a=(n.offsetWidth-t.offsetWidth)/2-p(n,"borderLeftWidth"),o=(n.offsetHeight-t.offsetHeight)/2-p(n,"borderTopWidth");e&&(r.left=a>0?a+"px":"0");i&&(r.top=o>0?o+"px":"0")}(x[0],c.centerX,c.centerY),c.timeout){var O=setTimeout((function(){m?t.unblockUI(c):t(s).unblock(c)}),c.timeout);t(s).data("blockUI.timeout",O)}}}function l(e,i){var n,r,s=e==window,l=t(e),d=l.data("blockUI.history"),h=l.data("blockUI.timeout");h&&(clearTimeout(h),l.removeData("blockUI.timeout")),i=t.extend({},t.blockUI.defaults,i||{}),u(0,e,i),null===i.onUnblock&&(i.onUnblock=l.data("blockUI.onUnblock"),l.removeData("blockUI.onUnblock")),r=s?t("body").children().filter(".blockUI").add("body > .blockUI"):l.find(">.blockUI"),i.cursorReset&&(r.length>1&&(r[1].style.cursor=i.cursorReset),r.length>2&&(r[2].style.cursor=i.cursorReset)),s&&(a=o=null),i.fadeOut?(n=r.length,r.stop().fadeOut(i.fadeOut,(function(){0==--n&&c(r,d,i,e)}))):c(r,d,i,e)}function c(e,i,n,r){var a=t(r);if(!a.data("blockUI.isBlocked")){e.each((function(t,e){this.parentNode&&this.parentNode.removeChild(this)})),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),a.removeData("blockUI.history")),a.data("blockUI.static")&&a.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(r,n);var o=t(document.body),s=o.width(),l=o[0].style.width;o.width(s-1).width(s),o[0].style.width=l}}function u(e,i,n){var r=i==window,o=t(i);if((e||(!r||a)&&(r||o.data("blockUI.isBlocked")))&&(o.data("blockUI.isBlocked",e),r&&n.bindEvents&&(!e||n.showOverlay))){var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(s,n,d):t(document).unbind(s,d)}}function d(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&a&&e.data.constrainTabKey){var i=o,n=!e.shiftKey&&e.target===i[i.length-1],r=e.shiftKey&&e.target===i[0];if(n||r)return setTimeout((function(){h(r)}),10),!1}var s=e.data,l=t(e.target);return l.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(e),l.parents("div."+s.blockMsgClass).length>0||0===l.parents().children().filter("div.blockUI").length}function h(t){if(o){var e=o[!0===t?o.length-1:0];e&&e.focus()}}function p(e,i){return parseInt(t.css(e,i),10)||0}})?n.apply(e,r):n)||(t.exports=a)}()},function(t,e,i){"use strict";i.r(e),function(t){i(165);t(document).ready((function(){t(".circle-progress-primary").circleProgress({value:.64,size:52,lineCap:"round",fill:{color:"#3f6ad8"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-success").circleProgress({value:.81,size:52,lineCap:"round",fill:{color:"#3ac47d"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-danger").circleProgress({value:.23,size:52,lineCap:"round",fill:{color:"#d92550"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-info").circleProgress({value:.69,size:52,lineCap:"round",fill:{color:"#16aaff"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-alternate").circleProgress({value:.69,size:52,lineCap:"round",fill:{color:"#6f42c1"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-dark").circleProgress({value:.69,size:52,lineCap:"round",fill:{color:"#6c757d"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-warning").circleProgress({value:.23,size:52,lineCap:"round",fill:{color:"#fd7e14"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-success-xl").circleProgress({value:.16,size:114,lineCap:"round",fill:{color:"#3ac47d"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html('<span class="fsize-2">'+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-gradient-xl").circleProgress({value:.51,size:114,lineCap:"round",fill:{gradient:["#fdb83a","#fd7e14"]}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html('<span class="fsize-2">'+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-danger-xl").circleProgress({value:.51,size:114,lineCap:"round",fill:{gradient:["#ff1e41","#ff8130"]}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html('<span class="fsize-2">'+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-gradient").circleProgress({value:.72,size:52,lineCap:"round",fill:{gradient:["#ff1e41","#ff8130"]}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-gradient-lg").circleProgress({value:.64,size:64,lineCap:"round",fill:{gradient:["#ff1e41","#ff8130"]}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-gradient-alt-lg").circleProgress({value:.58,size:64,lineCap:"round",fill:{gradient:["#007bff","#16aaff"]}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"%<span>")})),t(".circle-progress-gradient-alt-sm").circleProgress({value:.58,size:46,lineCap:"round",fill:{gradient:["#007bff","#16aaff"]}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"<span>")})),t(".circle-progress-danger-sm").circleProgress({value:.62,size:46,lineCap:"round",fill:{color:"#d92550"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"<span>")})),t(".circle-progress-warning-sm").circleProgress({value:.72,size:46,lineCap:"round",fill:{color:"#fd7e14"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"<span>")})),t(".circle-progress-success-sm").circleProgress({value:.81,size:46,lineCap:"round",fill:{color:"#3ac47d"}}).on("circle-animation-progress",(function(e,i,n){t(this).find("small").html("<span>"+n.toFixed(2).substr(2)+"<span>")}))}))}.call(this,i(1))},function(t,e,i){var n,r,a;
/**
 * jquery-circle-progress - jQuery Plugin to draw animated circular progress bars:
 * {@link http://kottenator.github.io/jquery-circle-progress/}
 *
 * @author Rostyslav Bryzgunov <kottenator@gmail.com>
 * @version 1.2.2
 * @licence MIT
 * @preserve
 */r=[i(1)],void 0===(a="function"==typeof(n=function(t){function e(t){this.init(t)}e.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:e,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(e){t.extend(this,e),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function(){this.canvas||(this.canvas=t("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var e=this.canvas;if(e.width=this.size,e.height=this.size,this.ctx=e.getContext("2d"),window.devicePixelRatio>1){var i=window.devicePixelRatio;e.style.width=e.style.height=this.size+"px",e.width=e.height=this.size*i,this.ctx.scale(i,i)}},initFill:function(){var e,i=this,n=this.fill,r=this.ctx,a=this.size;if(!n)throw Error("The fill is not specified!");if("string"==typeof n&&(n={color:n}),n.color&&(this.arcFill=n.color),n.gradient){var o=n.gradient;if(1==o.length)this.arcFill=o[0];else if(o.length>1){for(var s=n.gradientAngle||0,l=n.gradientDirection||[a/2*(1-Math.cos(s)),a/2*(1+Math.sin(s)),a/2*(1+Math.cos(s)),a/2*(1-Math.sin(s))],c=r.createLinearGradient.apply(r,l),u=0;u<o.length;u++){var d=o[u],h=u/(o.length-1);t.isArray(d)&&(h=d[1],d=d[0]),c.addColorStop(h,d)}this.arcFill=c}}function p(){var n=t("<canvas>")[0];n.width=i.size,n.height=i.size,n.getContext("2d").drawImage(e,0,0,a,a),i.arcFill=i.ctx.createPattern(n,"no-repeat"),i.drawFrame(i.lastFrameValue)}n.image&&(n.image instanceof Image?e=n.image:(e=new Image).src=n.image,e.complete?p():e.onload=p)},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(t){this.lastFrameValue=t,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(t),this.drawArc(t)},drawArc:function(t){if(0!==t){var e=this.ctx,i=this.radius,n=this.getThickness(),r=this.startAngle;e.save(),e.beginPath(),this.reverse?e.arc(i,i,i-n/2,r-2*Math.PI*t,r):e.arc(i,i,i-n/2,r,r+2*Math.PI*t),e.lineWidth=n,e.lineCap=this.lineCap,e.strokeStyle=this.arcFill,e.stroke(),e.restore()}},drawEmptyArc:function(t){var e=this.ctx,i=this.radius,n=this.getThickness(),r=this.startAngle;t<1&&(e.save(),e.beginPath(),t<=0?e.arc(i,i,i-n/2,0,2*Math.PI):this.reverse?e.arc(i,i,i-n/2,r,r-2*Math.PI*t):e.arc(i,i,i-n/2,r+2*Math.PI*t,r),e.lineWidth=n,e.strokeStyle=this.emptyFill,e.stroke(),e.restore())},drawAnimated:function(e){var i=this,n=this.el,r=t(this.canvas);r.stop(!0,!1),n.trigger("circle-animation-start"),r.css({animationProgress:0}).animate({animationProgress:1},t.extend({},this.animation,{step:function(t){var r=i.animationStartValue*(1-t)+e*t;i.drawFrame(r),n.trigger("circle-animation-progress",[t,r])}})).promise().always((function(){n.trigger("circle-animation-end")}))},getThickness:function(){return t.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(t){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=t,this.draw()}},t.circleProgress={defaults:e.prototype},t.easing.circleProgressEasing=function(t){return t<.5?.5*(t*=2)*t*t:1-.5*(t=2-2*t)*t*t},t.fn.circleProgress=function(i,n){var r="circle-progress",a=this.data(r);if("widget"==i){if(!a)throw Error('Calling "widget" method on not initialized instance is forbidden');return a.canvas}if("value"==i){if(!a)throw Error('Calling "value" method on not initialized instance is forbidden');if(void 0===n)return a.getValue();var o=arguments[1];return this.each((function(){t(this).data(r).setValue(o)}))}return this.each((function(){var n=t(this),a=n.data(r),o=t.isPlainObject(i)?i:{};if(a)a.init(o);else{var s=t.extend({},n.data());"string"==typeof s.fill&&(s.fill=JSON.parse(s.fill)),"string"==typeof s.animation&&(s.animation=JSON.parse(s.animation)),(o=t.extend(s,o)).el=n,a=new e(o),n.data(r,a)}}))}})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){"use strict";i.r(e),function(t){var e=i(6);t(document).ready((function(){var i={useEasing:!0,separator:",",decimal:".",prefix:"$"},n={useEasing:!0,separator:",",decimal:".",prefix:"",suffix:"k"},r={useEasing:!0,separator:",",decimal:".",prefix:"",suffix:" %"},a={useEasing:!0,separator:",",decimal:".",prefix:"",suffix:" "},o=u(0,983),s=u(0,97),l=u(0,187),c=u(0,345);function u(t,e){return Math.floor(Math.random()*(e-t+1)+t)}t(".count-up-wrapper").each((function(){var t=new e.a("count-up-wrapper",o,i);t.error?console.error(t.error):t.start(),t.update(s)})),t(".count-up-wrapper-2").each((function(){var t=new e.a("count-up-wrapper-2",s,n);t.error?console.error(t.error):t.start(),t.update(o)})),t(".count-up-wrapper-2").each((function(){var t=new e.a("count-up-wrapper-6",c,n);t.error?console.error(t.error):t.start(),t.update(c)})),t(".count-up-wrapper-2").each((function(){var t=new e.a("count-up-wrapper-5",c,n);t.error?console.error(t.error):t.start(),t.update(c)})),t(".count-up-wrapper-3").each((function(){var t=new e.a("count-up-wrapper-3",l,r);t.error?console.error(t.error):t.start(),t.update(l)})),t(".count-up-wrapper-3").each((function(){var t=new e.a("count-up-wrapper-7",l,r);t.error?console.error(t.error):t.start(),t.update(o)})),t(".count-up-wrapper-3").each((function(){var t=new e.a("count-up-wrapper-8",l,r);t.error?console.error(t.error):t.start(),t.update(l)})),t(".count-up-wrapper-4").each((function(){var t=new e.a("count-up-wrapper-4",o,a);t.error?console.error(t.error):t.start(),t.update(o)}))}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(3),n=i.n(e);t(document).ready((function(){t((function(){var e,i=-1,r=0;t("#closeButton").click((function(){t(this).is(":checked")?t("#addBehaviorOnToastCloseClick").prop("disabled",!1):(t("#addBehaviorOnToastCloseClick").prop("disabled",!0),t("#addBehaviorOnToastCloseClick").prop("checked",!1))})),t("#showtoast").click((function(){var a,o=t("#toastTypeGroup input:radio:checked").val(),s=t("#message").val(),l=t("#title").val()||"",c=t("#showDuration"),u=t("#hideDuration"),d=t("#timeOut"),h=t("#extendedTimeOut"),p=t("#showEasing"),f=t("#hideEasing"),m=t("#showMethod"),g=t("#hideMethod"),y=r++,v=t("#addClear").prop("checked");n.a.options={closeButton:t("#closeButton").prop("checked"),debug:t("#debugInfo").prop("checked"),newestOnTop:t("#newestOnTop").prop("checked"),progressBar:t("#progressBar").prop("checked"),rtl:t("#rtl").prop("checked"),positionClass:t("#positionGroup input:radio:checked").val()||"toast-top-right",preventDuplicates:t("#preventDuplicates").prop("checked"),onclick:null},t("#addBehaviorOnToastClick").prop("checked")&&(n.a.options.onclick=function(){alert("You can perform some custom action after a toast goes away")}),t("#addBehaviorOnToastCloseClick").prop("checked")&&(n.a.options.onCloseClick=function(){alert("You can perform some custom action when the close button is clicked")}),c.val().length&&(n.a.options.showDuration=parseInt(c.val())),u.val().length&&(n.a.options.hideDuration=parseInt(u.val())),d.val().length&&(n.a.options.timeOut=v?0:parseInt(d.val())),h.val().length&&(n.a.options.extendedTimeOut=v?0:parseInt(h.val())),p.val().length&&(n.a.options.showEasing=p.val()),f.val().length&&(n.a.options.hideEasing=f.val()),m.val().length&&(n.a.options.showMethod=m.val()),g.val().length&&(n.a.options.hideMethod=g.val()),v&&(s=function(t){return t=t||"Clear itself?",t+='<br /><br /><button type="button" class="btn clear">Yes</button>'}(s),n.a.options.tapToDismiss=!1),s||(++i===(a=["My name is Inigo Montoya. You killed my father. Prepare to die!",'<div><input class="input-small" value="textbox"/>&nbsp;<a href="http://johnpapa.net" target="_blank">This is a hyperlink</a></div><div><button type="button" id="okBtn" class="btn btn-primary">Close me</button><button type="button" id="surpriseBtn" class="btn" style="margin: 0 8px 0 8px">Surprise me</button></div>',"Are you the six fingered man?","Inconceivable!","I do not think that means what you think it means.","Have fun storming the castle!"]).length&&(i=0),s=a[i]),t("#toastrOptions").text('Command: toastr["'+o+'"]("'+s+(l?'", "'+l:"")+'")\n\ntoastr.options = '+JSON.stringify(n.a.options,null,2));var _=n.a[o](s,l);e=_,void 0!==_&&(_.find("#okBtn").length&&_.delegate("#okBtn","click",(function(){alert("you clicked me. i was toast #"+y+". goodbye!"),_.remove()})),_.find("#surpriseBtn").length&&_.delegate("#surpriseBtn","click",(function(){alert("Surprise! you clicked me. i was toast #"+y+". You could perform an action here.")})),_.find(".clear").length&&_.delegate(".clear","click",(function(){n.a.clear(_,{force:!0})})))})),t("#clearlasttoast").click((function(){n.a.clear(e)})),t("#cleartoasts").click((function(){n.a.clear()}))})),t(".show-toastr-example").click((function(){n.a.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-bottom-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},n.a.info("You don't have any new items in your calendar today!","Example Toastr")}))}))}.call(this,i(1))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){"use strict";i.r(e),function(t){var e=i(7),n=i.n(e);t(document).ready((function(){t(".btn-show-swal").each((function(){t(this).click((function(){var e=t(this).attr("data-type");n.a.fire({title:"Type: "+e,text:"Do you want to continue",type:e,confirmButtonText:"Cool"})}))})),t(".btn-show-swal-basic").click((function(){n.a.fire({text:"The Internet?",title:"That thing is still around?",type:"question"})})),t(".btn-show-swal-basic-2").click((function(){n.a.fire({type:"error",title:"Oops...",text:"Something went wrong!",footer:"<a href>Why do I have this issue?</a>"})})),t(".btn-show-swal-basic-3").click((function(){n.a.fire({title:"Custom animation with Animate.css",animation:!1,customClass:"animated lightSpeedIn"})}))}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(10);t(document).ready((function(){setTimeout((function(){if(t(".scrollbar-container")[0]){t(".scrollbar-container").each((function(){new e.a(t(this)[0],{wheelSpeed:2,wheelPropagation:!1,minScrollbarLength:20})}));new e.a(".scrollbar-sidebar",{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20})}}),1e3)}))}.call(this,i(1))},function(t,e,i){(function(t){t(document).ready((function(){}))}).call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(173);t(document).ready((function(){setTimeout((function(){t(".slick-slider").slick({dots:!0,slidesToShow:1,slidesToScroll:1}),t(".slick-slider-3").slick({dots:!0,slidesToShow:1,slidesToScroll:1}),t(".slick-slider-2").slick({className:"center",centerMode:!0,infinite:!0,centerPadding:"60px",slidesToShow:3,speed:500,dots:!0}),t(".slick-slider-variable").slick({className:"slider variable-width",dots:!0,infinite:!0,centerMode:!0,slidesToShow:1,slidesToScroll:1,variableWidth:!0}),t(".slick-slider-responsive").slick({dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(".slick-slider-inverted").slick({infinite:!0,slidesToShow:1,speed:500,dots:!0,adaptiveHeight:!0})}),2e3)}))}.call(this,i(1))},function(t,e,i){var n,r,a;!function(o){"use strict";r=[i(1)],void 0===(a="function"==typeof(n=function(t){var e=window.Slick||{};(i=0,e=function(e,n){var r,a=this;a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.focussed=!1,a.interrupted=!1,a.hidden="hidden",a.paused=!0,a.positionProp=null,a.respondTo=null,a.rowCount=1,a.shouldClick=!0,a.$slider=t(e),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,r=t(e).data("slick")||{},a.options=t.extend({},a.defaults,n,r),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,void 0!==document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=t.proxy(a.autoPlay,a),a.autoPlayClear=t.proxy(a.autoPlayClear,a),a.autoPlayIterator=t.proxy(a.autoPlayIterator,a),a.changeSlide=t.proxy(a.changeSlide,a),a.clickHandler=t.proxy(a.clickHandler,a),a.selectHandler=t.proxy(a.selectHandler,a),a.setPosition=t.proxy(a.setPosition,a),a.swipeHandler=t.proxy(a.swipeHandler,a),a.dragHandler=t.proxy(a.dragHandler,a),a.keyHandler=t.proxy(a.keyHandler,a),a.instanceUid=i++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.registerBreakpoints(),a.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var r=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=r.slideCount)return!1;r.unload(),"number"==typeof i?0===i&&0===r.$slides.length?t(e).appendTo(r.$slideTrack):n?t(e).insertBefore(r.$slides.eq(i)):t(e).insertAfter(r.$slides.eq(i)):!0===n?t(e).prependTo(r.$slideTrack):t(e).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each((function(e,i){t(i).attr("data-slick-index",e)})),r.$slidesCache=r.$slides,r.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},r=this;r.animateHeight(),!0===r.options.rtl&&!1===r.options.vertical&&(e=-e),!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:e},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:e},r.options.speed,r.options.easing,i):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),t({animStart:r.currentLeft}).animate({animStart:e},{duration:r.options.speed,easing:r.options.easing,step:function(t){t=Math.ceil(t),!1===r.options.vertical?(n[r.animType]="translate("+t+"px, 0px)",r.$slideTrack.css(n)):(n[r.animType]="translate(0px,"+t+"px)",r.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(r.applyTransition(),e=Math.ceil(e),!1===r.options.vertical?n[r.animType]="translate3d("+e+"px, 0px, 0px)":n[r.animType]="translate3d(0px,"+e+"px, 0px)",r.$slideTrack.css(n),i&&setTimeout((function(){r.disableTransition(),i.call()}),r.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=t(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each((function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)}))},e.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each((function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")})),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,r,a,o,s=this;if(n=document.createDocumentFragment(),a=s.$slider.children(),s.options.rows>0){for(o=s.options.slidesPerRow*s.options.rows,r=Math.ceil(a.length/o),t=0;t<r;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var c=document.createElement("div");for(i=0;i<s.options.slidesPerRow;i++){var u=t*o+(e*s.options.slidesPerRow+i);a.get(u)&&c.appendChild(a.get(u))}l.appendChild(c)}n.appendChild(l)}s.$slider.empty().append(n),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,r,a,o=this,s=!1,l=o.$slider.width(),c=window.innerWidth||t(window).width();if("window"===o.respondTo?a=c:"slider"===o.respondTo?a=l:"min"===o.respondTo&&(a=Math.min(c,l)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in r=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?a<o.breakpoints[n]&&(r=o.breakpoints[n]):a>o.breakpoints[n]&&(r=o.breakpoints[n]));null!==r?null!==o.activeBreakpoint?(r!==o.activeBreakpoint||i)&&(o.activeBreakpoint=r,"unslick"===o.breakpointSettings[r]?o.unslick(r):(o.options=t.extend({},o.originalSettings,o.breakpointSettings[r]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=r):(o.activeBreakpoint=r,"unslick"===o.breakpointSettings[r]?o.unslick(r):(o.options=t.extend({},o.originalSettings,o.breakpointSettings[r]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=r):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),s=r),e||!1===s||o.$slider.trigger("breakpoint",[o,s])}},e.prototype.changeSlide=function(e,i){var n,r,a=this,o=t(e.currentTarget);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),n=a.slideCount%a.options.slidesToScroll!=0?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,e.data.message){case"previous":r=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-r,!1,i);break;case"next":r=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+r,!1,i);break;case"index":var s=0===e.data.index?0:e.data.index||o.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(s),!1,i),o.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>0&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){t(this).attr("style",t(this).data("originalStyling"))})),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout((function(){i.disableTransition(t),e.call()}),i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",(function(i){i.stopImmediatePropagation();var n=t(this);setTimeout((function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())}),0)}))},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},e.prototype.getLeft=function(t){var e,i,n,r,a=this,o=0;return a.slideOffset=0,i=a.$slides.first().outerHeight(!0),!0===a.options.infinite?(a.slideCount>a.options.slidesToShow&&(a.slideOffset=a.slideWidth*a.options.slidesToShow*-1,r=-1,!0===a.options.vertical&&!0===a.options.centerMode&&(2===a.options.slidesToShow?r=-1.5:1===a.options.slidesToShow&&(r=-2)),o=i*a.options.slidesToShow*r),a.slideCount%a.options.slidesToScroll!=0&&t+a.options.slidesToScroll>a.slideCount&&a.slideCount>a.options.slidesToShow&&(t>a.slideCount?(a.slideOffset=(a.options.slidesToShow-(t-a.slideCount))*a.slideWidth*-1,o=(a.options.slidesToShow-(t-a.slideCount))*i*-1):(a.slideOffset=a.slideCount%a.options.slidesToScroll*a.slideWidth*-1,o=a.slideCount%a.options.slidesToScroll*i*-1))):t+a.options.slidesToShow>a.slideCount&&(a.slideOffset=(t+a.options.slidesToShow-a.slideCount)*a.slideWidth,o=(t+a.options.slidesToShow-a.slideCount)*i),a.slideCount<=a.options.slidesToShow&&(a.slideOffset=0,o=0),!0===a.options.centerMode&&a.slideCount<=a.options.slidesToShow?a.slideOffset=a.slideWidth*Math.floor(a.options.slidesToShow)/2-a.slideWidth*a.slideCount/2:!0===a.options.centerMode&&!0===a.options.infinite?a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)-a.slideWidth:!0===a.options.centerMode&&(a.slideOffset=0,a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)),e=!1===a.options.vertical?t*a.slideWidth*-1+a.slideOffset:t*i*-1+o,!0===a.options.variableWidth&&(n=a.slideCount<=a.options.slidesToShow||!1===a.options.infinite?a.$slideTrack.children(".slick-slide").eq(t):a.$slideTrack.children(".slick-slide").eq(t+a.options.slidesToShow),e=!0===a.options.rtl?n[0]?-1*(a.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===a.options.centerMode&&(n=a.slideCount<=a.options.slidesToShow||!1===a.options.infinite?a.$slideTrack.children(".slick-slide").eq(t):a.$slideTrack.children(".slick-slide").eq(t+a.options.slidesToShow+1),e=!0===a.options.rtl?n[0]?-1*(a.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(a.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)r.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each((function(r,a){if(a.offsetLeft-i+t(a).outerWidth()/2>-1*n.swipeLeft)return e=a,!1})),Math.abs(t(e).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this,i=Math.ceil(e.slideCount/e.options.slidesToShow),n=e.getNavigableIndexes().filter((function(t){return t>=0&&t<e.slideCount}));e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each((function(i){var r=n.indexOf(i);if(t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+i,tabindex:-1}),-1!==r){var a="slick-slide-control"+e.instanceUid+r;t("#"+a).length&&t(this).attr({"aria-describedby":a})}})),e.$dots.attr("role","tablist").find("li").each((function(r){var a=n[r];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+r,"aria-controls":"slick-slide"+e.instanceUid+a,"aria-label":r+1+" of "+i,"aria-selected":null,tabindex:"-1"})})).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var r=e.currentSlide,a=r+e.options.slidesToShow;r<a;r++)e.options.focusOnChange?e.$slides.eq(r).attr({tabindex:"0"}):e.$slides.eq(r).removeAttr("tabindex");e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){var e,i,n,r=this;function a(e){t("img[data-lazy]",e).each((function(){var e=t(this),i=t(this).attr("data-lazy"),n=t(this).attr("data-srcset"),a=t(this).attr("data-sizes")||r.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,(function(){n&&(e.attr("srcset",n),a&&e.attr("sizes",a)),e.attr("src",i).animate({opacity:1},200,(function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")})),r.$slider.trigger("lazyLoaded",[r,e,i])}))},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,i])},o.src=i}))}if(!0===r.options.centerMode?!0===r.options.infinite?n=(i=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(i=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),n=r.options.slidesToShow/2+1+2+r.currentSlide):(i=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(i+r.options.slidesToShow),!0===r.options.fade&&(i>0&&i--,n<=r.slideCount&&n++)),e=r.$slider.find(".slick-slide").slice(i,n),"anticipated"===r.options.lazyLoad)for(var o=i-1,s=n,l=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)o<0&&(o=r.slideCount-1),e=(e=e.add(l.eq(o))).add(l.eq(s)),o--,s++;a(e),r.slideCount<=r.options.slidesToShow?a(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?a(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&a(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,e]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange&&t(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,r,a,o,s=this,l=t("img[data-lazy]",s.$slider);l.length?(i=l.first(),n=i.attr("data-lazy"),r=i.attr("data-srcset"),a=i.attr("data-sizes")||s.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){r&&(i.attr("srcset",r),a&&i.attr("sizes",a)),i.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,i,n]),s.progressiveLazyLoad()},o.onerror=function(){e<3?setTimeout((function(){s.progressiveLazyLoad(e+1)}),500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,i,n]),s.progressiveLazyLoad())},o.src=n):s.$slider.trigger("allImagesLoaded",[s])},e.prototype.refresh=function(e){var i,n,r=this;n=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>n&&(r.currentSlide=n),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),i=r.currentSlide,r.destroy(!0),t.extend(r,r.initials,{currentSlide:i}),r.init(),e||r.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,r=this,a=r.options.responsive||null;if("array"===t.type(a)&&a.length){for(e in r.respondTo=r.options.respondTo||"window",a)if(n=r.breakpoints.length-1,a.hasOwnProperty(e)){for(i=a[e].breakpoint;n>=0;)r.breakpoints[n]&&r.breakpoints[n]===i&&r.breakpoints.splice(n,1),n--;r.breakpoints.push(i),r.breakpointSettings[i]=a[e].settings}r.breakpoints.sort((function(t,e){return r.options.mobileFirst?t-e:e-t}))}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout((function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()}),50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;if(t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,n.slideCount<1||t<0||t>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},e.prototype.setCSS=function(t){var e,i,n=this,r={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",r[n.positionProp]=t,!1===n.transformsEnabled?n.$slideTrack.css(r):(r={},!1===n.cssTransitions?(r[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(r)):(r[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(r)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each((function(n,r){e=i.slideWidth*n*-1,!0===i.options.rtl?t(r).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(r).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})})),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,n,r,a,o=this,s=!1;if("object"===t.type(arguments[0])?(n=arguments[0],s=arguments[1],a="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],r=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?a="responsive":void 0!==arguments[1]&&(a="single")),"single"===a)o.options[n]=r;else if("multiple"===a)t.each(n,(function(t,e){o.options[t]=e}));else if("responsive"===a)for(i in r)if("array"!==t.type(o.options.responsive))o.options.responsive=[r[i]];else{for(e=o.options.responsive.length-1;e>=0;)o.options.responsive[e].breakpoint===r[i].breakpoint&&o.options.responsive.splice(e,1),e--;o.options.responsive.push(r[i])}s&&(o.unload(),o.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,i,n,r,a=this;if(i=a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),a.$slides.eq(t).addClass("slick-current"),!0===a.options.centerMode){var o=a.options.slidesToShow%2==0?1:0;e=Math.floor(a.options.slidesToShow/2),!0===a.options.infinite&&(t>=e&&t<=a.slideCount-1-e?a.$slides.slice(t-e+o,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=a.options.slidesToShow+t,i.slice(n-e+1+o,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-a.options.slidesToShow).addClass("slick-center"):t===a.slideCount-1&&i.eq(a.options.slidesToShow).addClass("slick-center")),a.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=a.slideCount-a.options.slidesToShow?a.$slides.slice(t,t+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=a.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=a.slideCount%a.options.slidesToShow,n=!0===a.options.infinite?a.options.slidesToShow+t:t,a.options.slidesToShow==a.options.slidesToScroll&&a.slideCount-t<a.options.slidesToShow?i.slice(n-(a.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==a.options.lazyLoad&&"anticipated"!==a.options.lazyLoad||a.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,r=this;if(!0===r.options.fade&&(r.options.centerMode=!1),!0===r.options.infinite&&!1===r.options.fade&&(i=null,r.slideCount>r.options.slidesToShow)){for(n=!0===r.options.centerMode?r.options.slidesToShow+1:r.options.slidesToShow,e=r.slideCount;e>r.slideCount-n;e-=1)i=e-1,t(r.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(e=0;e<n+r.slideCount;e+=1)i=e,t(r.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each((function(){t(this).attr("id","")}))}},e.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),r=parseInt(n.attr("data-slick-index"));r||(r=0),i.slideCount<=i.options.slidesToShow?i.slideHandler(r,!1,!0):i.slideHandler(r)},e.prototype.slideHandler=function(t,e,i){var n,r,a,o,s,l,c=this;if(e=e||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===t))if(!1===e&&c.asNavFor(t),n=t,s=c.getLeft(n),o=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?o:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(t<0||t>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(o,(function(){c.postSlide(n)})):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(t<0||t>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(o,(function(){c.postSlide(n)})):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),r=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,r]),a=c.currentSlide,c.currentSlide=r,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(l=(l=c.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==i?(c.fadeSlideOut(a),c.fadeSlide(r,(function(){c.postSlide(r)}))):c.postSlide(r),void c.animateHeight();!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(s,(function(){c.postSlide(r)})):c.postSlide(r)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,r=this;return t=r.touchObject.startX-r.touchObject.curX,e=r.touchObject.startY-r.touchObject.curY,i=Math.atan2(e,t),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0||n<=360&&n>=315?!1===r.options.rtl?"left":"right":n>=135&&n<=225?!1===r.options.rtl?"right":"left":!0===r.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,r,a,o,s=this;return a=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||a&&1!==a.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==a?a[0].pageX:t.clientX,s.touchObject.curY=void 0!==a?a[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),o=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&o>4?(s.scrolling=!0,!1):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=o),i=s.swipeDirection(),void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&(s.swiping=!0,t.preventDefault()),r=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),n=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(n=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+n*r:s.swipeLeft=e+n*(s.$list.height()/s.listWidth)*r,!0===s.options.verticalSwiping&&(s.swipeLeft=e+n*r),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},e.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode||t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode)&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,n=this,r=arguments[0],a=Array.prototype.slice.call(arguments,1),o=n.length;for(t=0;t<o;t++)if("object"==typeof r||void 0===r?n[t].slick=new e(n[t],r):i=n[t].slick[r].apply(n[t].slick,a),void 0!==i)return i;return n};var i})?n.apply(e,r):n)||(t.exports=a)}()},function(t,e,i){"use strict";i.r(e),function(t){i(175);t(document).ready((function(){t("#calendar-list").fullCalendar({header:{left:"prev,next today",center:"title",right:"listDay,listWeek,month"},themeSystem:"bootstrap4",bootstrapFontAwesome:!0,views:{listDay:{buttonText:"list day"},listWeek:{buttonText:"list week"}},defaultView:"listWeek",defaultDate:"2018-03-12",navLinks:!0,editable:!0,eventLimit:!0,events:[{title:"All Day Event",start:"2018-03-01"},{title:"Long Event",start:"2018-03-07",end:"2018-03-10"},{id:999,title:"Repeating Event",start:"2018-03-09T16:00:00"},{id:999,title:"Repeating Event",start:"2018-03-16T16:00:00"},{title:"Conference",start:"2018-03-11",end:"2018-03-13"},{title:"Meeting",start:"2018-03-12T10:30:00",end:"2018-03-12T12:30:00"},{title:"Lunch",start:"2018-03-12T12:00:00"},{title:"Meeting",start:"2018-03-12T14:30:00"},{title:"Happy Hour",start:"2018-03-12T17:30:00"},{title:"Dinner",start:"2018-03-12T20:00:00"},{title:"Birthday Party",start:"2018-03-13T07:00:00"},{title:"Click for Google",url:"http://google.com/",start:"2018-03-28"}]}),t("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay"},themeSystem:"bootstrap4",bootstrapFontAwesome:!0,defaultDate:"2018-03-12",navLinks:!0,editable:!0,eventLimit:!0,events:[{title:"All Day Event",start:"2018-03-01"},{title:"Long Event",start:"2018-03-07",end:"2018-03-10"},{id:999,title:"Repeating Event",start:"2018-03-09T16:00:00"},{id:999,title:"Repeating Event",start:"2018-03-16T16:00:00"},{title:"Conference",start:"2018-03-11",end:"2018-03-13"},{title:"Meeting",start:"2018-03-12T10:30:00",end:"2018-03-12T12:30:00"},{title:"Lunch",start:"2018-03-12T12:00:00"},{title:"Meeting",start:"2018-03-12T14:30:00"},{title:"Happy Hour",start:"2018-03-12T17:30:00"},{title:"Dinner",start:"2018-03-12T20:00:00"},{title:"Birthday Party",start:"2018-03-13T07:00:00"},{title:"Click for Google",url:"http://google.com/",start:"2018-03-28"}]}),t("#calendar-bg-events").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listMonth"},themeSystem:"bootstrap4",bootstrapFontAwesome:!0,defaultDate:"2018-03-12",navLinks:!0,businessHours:!0,editable:!0,events:[{title:"Business Lunch",start:"2018-03-03T13:00:00",constraint:"businessHours"},{title:"Meeting",start:"2018-03-13T11:00:00",constraint:"availableForMeeting",color:"#257e4a"},{title:"Conference",start:"2018-03-18",end:"2018-03-20"},{title:"Party",start:"2018-03-29T20:00:00"},{id:"availableForMeeting",start:"2018-03-11T10:00:00",end:"2018-03-11T16:00:00",rendering:"background"},{id:"availableForMeeting",start:"2018-03-13T10:00:00",end:"2018-03-13T16:00:00",rendering:"background"},{start:"2018-03-24",end:"2018-03-28",overlap:!1,rendering:"background",color:"var(--danger)"},{start:"2018-03-06",end:"2018-03-08",overlap:!1,rendering:"background",color:"var(--success)"}]})}))}.call(this,i(1))},function(t,e,i){
/*!
 * FullCalendar v3.10.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2018 Adam Shaw
 */
var n;"undefined"!=typeof self&&self,n=function(t,e){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=256)}([function(e,i){e.exports=t},,function(t,e){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,i){t.exports=e},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(3);function a(t){t.height("")}function o(t){var e,i=t[0].offsetWidth-t[0].clientWidth,n=t[0].offsetHeight-t[0].clientHeight;return i=s(i),e={left:0,right:0,top:0,bottom:n=s(n)},null===l&&(l=function(){var t=r("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=t.children().offset().left>t.offset().left;return t.remove(),e}()),l&&"rtl"===t.css("direction")?e.left=i:e.right=i,e}function s(t){return t=Math.max(0,t),t=Math.round(t)}e.compensateScroll=function(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})},e.uncompensateScroll=function(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})},e.disableCursor=function(){r("body").addClass("fc-not-allowed")},e.enableCursor=function(){r("body").removeClass("fc-not-allowed")},e.distributeHeight=function(t,e,i){var n=Math.floor(e/t.length),o=Math.floor(e-n*(t.length-1)),s=[],l=[],c=[],u=0;a(t),t.each((function(e,i){var a=e===t.length-1?o:n,d=r(i).outerHeight(!0);d<a?(s.push(i),l.push(d),c.push(r(i).height())):u+=d})),i&&(e-=u,n=Math.floor(e/s.length),o=Math.floor(e-n*(s.length-1))),r(s).each((function(t,e){var i=t===s.length-1?o:n,a=l[t],u=i-(a-c[t]);a<i&&r(e).height(u)}))},e.undistributeHeight=a,e.matchCellWidths=function(t){var e=0;return t.find("> *").each((function(t,i){var n=r(i).outerWidth();n>e&&(e=n)})),e++,t.width(e),e},e.subtractInnerElHeight=function(t,e){var i,n=t.add(e);return n.css({position:"relative",left:-1}),i=t.outerHeight()-e.outerHeight(),n.css({position:"",left:""}),i},e.getScrollParent=function(t){var e=t.css("position"),i=t.parents().filter((function(){var t=r(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==e&&i.length?i:r(t[0].ownerDocument||document)},e.getOuterRect=function(t,e){var i=t.offset(),n=i.left-(e?e.left:0),r=i.top-(e?e.top:0);return{left:n,right:n+t.outerWidth(),top:r,bottom:r+t.outerHeight()}},e.getClientRect=function(t,e){var i=t.offset(),n=o(t),r=i.left+c(t,"border-left-width")+n.left-(e?e.left:0),a=i.top+c(t,"border-top-width")+n.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:a,bottom:a+t[0].clientHeight}},e.getContentRect=function(t,e){var i=t.offset(),n=i.left+c(t,"border-left-width")+c(t,"padding-left")-(e?e.left:0),r=i.top+c(t,"border-top-width")+c(t,"padding-top")-(e?e.top:0);return{left:n,right:n+t.width(),top:r,bottom:r+t.height()}},e.getScrollbarWidths=o;var l=null;function c(t,e){return parseFloat(t.css(e))||0}function u(t){t.preventDefault()}function d(t,e,i,n,r){if(i.func)return i.func(t,e);var a=t[i.field],o=e[i.field];return null==a&&n&&(a=n[i.field]),null==o&&r&&(o=r[i.field]),h(a,o)*(i.order||1)}function h(t,e){return t||e?null==e?-1:null==t?1:"string"===r.type(t)||"string"===r.type(e)?String(t).localeCompare(String(e)):t-e:0}function p(t,i){var n,r,a;for(n=0;n<e.unitsDesc.length&&!((a=f(r=e.unitsDesc[n],t,i))>=1&&b(a));n++);return r}function f(t,e,i){return null!=i?i.diff(e,t,!0):n.isDuration(e)?e.as(t):e.end.diff(e.start,t,!0)}function m(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=window.console;if(i&&i.log)return i.log.apply(i,t)}e.isPrimaryMouseButton=function(t){return 1===t.which&&!t.ctrlKey},e.getEvX=function(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageX:t.pageX},e.getEvY=function(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageY:t.pageY},e.getEvIsTouch=function(t){return/^touch/.test(t.type)},e.preventSelection=function(t){t.addClass("fc-unselectable").on("selectstart",u)},e.allowSelection=function(t){t.removeClass("fc-unselectable").off("selectstart",u)},e.preventDefault=u,e.intersectRects=function(t,e){var i={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return i.left<i.right&&i.top<i.bottom&&i},e.constrainPoint=function(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}},e.getRectCenter=function(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}},e.diffPoints=function(t,e){return{left:t.left-e.left,top:t.top-e.top}},e.parseFieldSpecs=function(t){var e,i,n=[],a=[];for("string"==typeof t?a=t.split(/\s*,\s*/):"function"==typeof t?a=[t]:r.isArray(t)&&(a=t),e=0;e<a.length;e++)"string"==typeof(i=a[e])?n.push("-"===i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&n.push({func:i});return n},e.compareByFieldSpecs=function(t,e,i,n,r){var a,o;for(a=0;a<i.length;a++)if(o=d(t,e,i[a],n,r))return o;return 0},e.compareByFieldSpec=d,e.flexibleCompare=h,e.dayIDs=["sun","mon","tue","wed","thu","fri","sat"],e.unitsDesc=["year","month","week","day","hour","minute","second","millisecond"],e.diffDayTime=function(t,e){return n.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days"),ms:t.time()-e.time()})},e.diffDay=function(t,e){return n.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days")})},e.diffByUnit=function(t,e,i){return n.duration(Math.round(t.diff(e,i,!0)),i)},e.computeGreatestUnit=p,e.computeDurationGreatestUnit=function(t,e){var i=p(t);return"week"===i&&"object"==typeof e&&e.days&&(i="day"),i},e.divideRangeByDuration=function(t,e,i){var n;return m(i)?(e-t)/i:(n=i.asMonths(),Math.abs(n)>=1&&b(n)?e.diff(t,"months",!0)/n:e.diff(t,"days",!0)/i.asDays())},e.divideDurationByDuration=function(t,e){var i,n;return m(t)||m(e)?t/e:(i=t.asMonths(),n=e.asMonths(),Math.abs(i)>=1&&b(i)&&Math.abs(n)>=1&&b(n)?i/n:t.asDays()/e.asDays())},e.multiplyDuration=function(t,e){var i;return m(t)?n.duration(t*e):(i=t.asMonths(),Math.abs(i)>=1&&b(i)?n.duration({months:i*e}):n.duration({days:t.asDays()*e}))},e.durationHasTime=m,e.isNativeDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date},e.isTimeString=function(t){return"string"==typeof t&&/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)},e.log=g,e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=window.console;return i&&i.warn?i.warn.apply(i,t):g.apply(null,t)};var y={}.hasOwnProperty;function v(t,e){return y.call(t,e)}function _(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function b(t){return t%1==0}e.mergeProps=function t(e,i){var n,r,a,o,s,l,c={};if(i)for(n=0;n<i.length;n++){for(r=i[n],a=[],o=e.length-1;o>=0;o--)if("object"==typeof(s=e[o][r]))a.unshift(s);else if(void 0!==s){c[r]=s;break}a.length&&(c[r]=t(a))}for(n=e.length-1;n>=0;n--)for(r in l=e[n])r in c||(c[r]=l[r]);return c},e.copyOwnProps=function(t,e){for(var i in t)v(t,i)&&(e[i]=t[i])},e.hasOwnProp=v,e.applyAll=function(t,e,i){if(r.isFunction(t)&&(t=[t]),t){var n=void 0,a=void 0;for(n=0;n<t.length;n++)a=t[n].apply(e,i)||a;return a}},e.removeMatching=function(t,e){for(var i=0,n=0;n<t.length;)e(t[n])?(t.splice(n,1),i++):n++;return i},e.removeExact=function(t,e){for(var i=0,n=0;n<t.length;)t[n]===e?(t.splice(n,1),i++):n++;return i},e.isArraysEqual=function(t,e){var i,n=t.length;if(null==n||n!==e.length)return!1;for(i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},e.firstDefined=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0;i<t.length;i++)if(void 0!==t[i])return t[i]},e.htmlEscape=_,e.stripHtmlEntities=function(t){return t.replace(/&.*?;/g,"")},e.cssToStr=function(t){var e=[];return r.each(t,(function(t,i){null!=i&&e.push(t+":"+i)})),e.join(";")},e.attrsToStr=function(t){var e=[];return r.each(t,(function(t,i){null!=i&&e.push(t+'="'+_(i)+'"')})),e.join(" ")},e.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.compareNumbers=function(t,e){return t-e},e.isInt=b,e.proxy=function(t,e){var i=t[e];return function(){return i.apply(t,arguments)}},e.debounce=function(t,e,i){var n,r,a,o,s;void 0===i&&(i=!1);var l=function(){var c=+new Date-o;c<e?n=setTimeout(l,e-c):(n=null,i||(s=t.apply(a,r),a=r=null))};return function(){a=this,r=arguments,o=+new Date;var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(s=t.apply(a,r),a=r=null),s}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(11),a=function(){function t(t,e){this.isStart=!0,this.isEnd=!0,n.isMoment(t)&&(t=t.clone().stripZone()),n.isMoment(e)&&(e=e.clone().stripZone()),t&&(this.startMs=t.valueOf()),e&&(this.endMs=e.valueOf())}return t.invertRanges=function(e,i){var n,r,a=[],s=i.startMs;for(e.sort(o),n=0;n<e.length;n++)(r=e[n]).startMs>s&&a.push(new t(s,r.startMs)),r.endMs>s&&(s=r.endMs);return s<i.endMs&&a.push(new t(s,i.endMs)),a},t.prototype.intersect=function(e){var i=this.startMs,n=this.endMs,r=null;return null!=e.startMs&&(i=null==i?e.startMs:Math.max(i,e.startMs)),null!=e.endMs&&(n=null==n?e.endMs:Math.min(n,e.endMs)),(null==i||null==n||i<n)&&((r=new t(i,n)).isStart=this.isStart&&i===this.startMs,r.isEnd=this.isEnd&&n===this.endMs),r},t.prototype.intersectsWith=function(t){return(null==this.endMs||null==t.startMs||this.endMs>t.startMs)&&(null==this.startMs||null==t.endMs||this.startMs<t.endMs)},t.prototype.containsRange=function(t){return(null==this.startMs||null!=t.startMs&&t.startMs>=this.startMs)&&(null==this.endMs||null!=t.endMs&&t.endMs<=this.endMs)},t.prototype.containsDate=function(t){var e=t.valueOf();return(null==this.startMs||e>=this.startMs)&&(null==this.endMs||e<this.endMs)},t.prototype.constrainDate=function(t){var e=t.valueOf();return null!=this.startMs&&e<this.startMs&&(e=this.startMs),null!=this.endMs&&e>=this.endMs&&(e=this.endMs-1),e},t.prototype.equals=function(t){return this.startMs===t.startMs&&this.endMs===t.endMs},t.prototype.clone=function(){var e=new t(this.startMs,this.endMs);return e.isStart=this.isStart,e.isEnd=this.isEnd,e},t.prototype.getStart=function(){return null!=this.startMs?r.default.utc(this.startMs).stripZone():null},t.prototype.getEnd=function(){return null!=this.endMs?r.default.utc(this.endMs).stripZone():null},t.prototype.as=function(t){return n.utc(this.endMs).diff(n.utc(this.startMs),t,!0)},t}();function o(t,e){return t.startMs-e.startMs}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(52),o=i(35),s=i(36),l=function(t){function e(i){var n=t.call(this)||this;return n.calendar=i,n.className=[],n.uid=String(e.uuid++),n}return n.__extends(e,t),e.parse=function(t,e){var i=new this(e);return!("object"!=typeof t||!i.applyProps(t))&&i},e.normalizeId=function(t){return t?String(t):null},e.prototype.fetch=function(t,e,i){},e.prototype.removeEventDefsById=function(t){},e.prototype.removeAllEventDefs=function(){},e.prototype.getPrimitive=function(t){},e.prototype.parseEventDefs=function(t){var e,i,n=[];for(e=0;e<t.length;e++)(i=this.parseEventDef(t[e]))&&n.push(i);return n},e.prototype.parseEventDef=function(t){var e=this.calendar.opt("eventDataTransform"),i=this.eventDataTransform;return e&&(t=e(t,this.calendar)),i&&(t=i(t,this.calendar)),s.default.parse(t,this)},e.prototype.applyManualStandardProps=function(t){return null!=t.id&&(this.id=e.normalizeId(t.id)),r.isArray(t.className)?this.className=t.className:"string"==typeof t.className&&(this.className=t.className.split(/\s+/)),!0},e.uuid=0,e.defineStandardProps=a.default.defineStandardProps,e.copyVerbatimStandardProps=a.default.copyVerbatimStandardProps,e}(o.default);e.default=l,a.default.mixInto(l),l.defineStandardProps({id:!1,className:!1,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0,editable:!0,startEditable:!0,durationEditable:!0,rendering:!0,overlap:!0,constraint:!0,allDayDefault:!0,eventDataTransform:!0})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(15),o=0,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.listenTo=function(t,e,i){if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&this.listenTo(t,n,e[n]);else"string"==typeof e&&t.on(e+"."+this.getListenerNamespace(),r.proxy(i,this))},e.prototype.stopListeningTo=function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},e.prototype.getListenerNamespace=function(){return null==this.listenerId&&(this.listenerId=o++),"_listener"+this.listenerId},e}(a.default);e.default=s},,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(37),a=i(53),o=i(16),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.buildInstances=function(){return[this.buildInstance()]},e.prototype.buildInstance=function(){return new a.default(this,this.dateProfile)},e.prototype.isAllDay=function(){return this.dateProfile.isAllDay()},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dateProfile=this.dateProfile,e},e.prototype.rezone=function(){var t=this.source.calendar,e=this.dateProfile;this.dateProfile=new o.default(t.moment(e.start),e.end?t.moment(e.end):null,t)},e.prototype.applyManualStandardProps=function(e){var i=t.prototype.applyManualStandardProps.call(this,e),n=o.default.parse(e,this.source);return!!n&&(this.dateProfile=n,null!=e.date&&(this.miscProps.date=e.date),i)},e}(r.default);e.default=s,s.defineStandardProps({start:!1,date:!1,end:!1,allDay:!1})},,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(3),a=i(4),o=/^\s*\d{4}-\d\d$/,s=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,l=n.fn;e.newMomentProto=l;var c=r.extend({},l);e.oldMomentProto=c;var u=n.momentProperties;u.push("_fullCalendar"),u.push("_ambigTime"),u.push("_ambigZone"),e.oldMomentFormat=function(t,e){return c.format.call(t,e)};var d=function(){return h(arguments)};function h(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var l,c,u,d,h=t[0],p=1===t.length&&"string"==typeof h;return n.isMoment(h)||a.isNativeDate(h)||void 0===h?d=n.apply(null,t):(l=!1,c=!1,p?o.test(h)?(t=[h+="-01"],l=!0,c=!0):(u=s.exec(h))&&(l=!u[5],c=!0):r.isArray(h)&&(c=!0),d=e||l?n.utc.apply(n,t):n.apply(null,t),l?(d._ambigTime=!0,d._ambigZone=!0):i&&(c?d._ambigZone=!0:p&&d.utcOffset(h))),d._fullCalendar=!0,d}e.default=d,d.utc=function(){var t=h(arguments,!0);return t.hasTime()&&t.utc(),t},d.parseZone=function(){return h(arguments,!0,!0)},l.week=l.weeks=function(t){var e=this._locale._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?c.isoWeek.apply(this,arguments):c.week.apply(this,arguments)},l.time=function(t){if(!this._fullCalendar)return c.time.apply(this,arguments);if(null==t)return n.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,n.isDuration(t)||n.isMoment(t)||(t=n.duration(t));var e=0;return n.isDuration(t)&&(e=24*Math.floor(t.asDays())),this.hours(e+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},l.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},l.hasTime=function(){return!this._ambigTime},l.stripZone=function(){var t;return this._ambigZone||(t=this._ambigTime,this.utc(!0),this._ambigTime=t||!1,this._ambigZone=!0),this},l.hasZone=function(){return!this._ambigZone},l.local=function(t){return c.local.call(this,this._ambigZone||t),this._ambigTime=!1,this._ambigZone=!1,this},l.utc=function(t){return c.utc.call(this,t),this._ambigTime=!1,this._ambigZone=!1,this},l.utcOffset=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),c.utcOffset.apply(this,arguments)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.isAllDay=!1,this.unzonedRange=t,this.isAllDay=e}return t.prototype.toLegacy=function(t){return{start:t.msToMoment(this.unzonedRange.startMs,this.isAllDay),end:t.msToMoment(this.unzonedRange.endMs,this.isAllDay)}},t}();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.on=function(t,e){return r(this).on(t,this._prepareIntercept(e)),this},e.prototype.one=function(t,e){return r(this).one(t,this._prepareIntercept(e)),this},e.prototype._prepareIntercept=function(t){var e=function(e,i){return t.apply(i.context||this,i.args||[])};return t.guid||(t.guid=r.guid++),e.guid=t.guid,e},e.prototype.off=function(t,e){return r(this).off(t,e),this},e.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return r(this).triggerHandler(t,{args:e}),this},e.prototype.triggerWith=function(t,e,i){return r(this).triggerHandler(t,{context:e,args:i}),this},e.prototype.hasHandlers=function(t){var e=r._data(this,"events");return e&&e[t]&&e[t].length>0},e}(i(15).default);e.default=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.view=t._getView(),this.component=t}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.end=function(){},t}();e.default=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.mixInto=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach((function(i){t.prototype[i]||(t.prototype[i]=e.prototype[i])}))},t.mixOver=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach((function(i){t.prototype[i]=e.prototype[i]}))},t}();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),r=function(){function t(t,e,i){this.start=t,this.end=e||null,this.unzonedRange=this.buildUnzonedRange(i)}return t.parse=function(e,i){var n=e.start||e.date,r=e.end;if(!n)return!1;var a=i.calendar,o=a.moment(n),s=r?a.moment(r):null,l=e.allDay,c=a.opt("forceEventDuration");return!!o.isValid()&&(null==l&&null==(l=i.allDayDefault)&&(l=a.opt("allDayDefault")),!0===l?(o.stripTime(),s&&s.stripTime()):!1===l&&(o.hasTime()||o.time(0),s&&!s.hasTime()&&s.time(0)),!s||s.isValid()&&s.isAfter(o)||(s=null),!s&&c&&(s=a.getDefaultEventEnd(!o.hasTime(),o)),new t(o,s,a))},t.isStandardProp=function(t){return"start"===t||"date"===t||"end"===t||"allDay"===t},t.prototype.isAllDay=function(){return!(this.start.hasTime()||this.end&&this.end.hasTime())},t.prototype.buildUnzonedRange=function(t){var e=this.start.clone().stripZone().valueOf(),i=this.getEnd(t).stripZone().valueOf();return new n.default(e,i)},t.prototype.getEnd=function(t){return this.end?this.end.clone():t.getDefaultEventEnd(this.isAllDay(),this.start)},t}();e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=function(t){function e(e,i){var n=t.call(this,i)||this;return n.component=e,n}return n.__extends(e,t),e.prototype.handleInteractionStart=function(e){var i,n,a,o=this.subjectEl;this.component.hitsNeeded(),this.computeScrollBounds(),e?(a=n={left:r.getEvX(e),top:r.getEvY(e)},o&&(i=r.getOuterRect(o),a=r.constrainPoint(a,i)),this.origHit=this.queryHit(a.left,a.top),o&&this.options.subjectCenter&&(this.origHit&&(i=r.intersectRects(this.origHit,i)||i),a=r.getRectCenter(i)),this.coordAdjust=r.diffPoints(a,n)):(this.origHit=null,this.coordAdjust=null),t.prototype.handleInteractionStart.call(this,e)},e.prototype.handleDragStart=function(e){var i;t.prototype.handleDragStart.call(this,e),(i=this.queryHit(r.getEvX(e),r.getEvY(e)))&&this.handleHitOver(i)},e.prototype.handleDrag=function(e,i,n){var a;t.prototype.handleDrag.call(this,e,i,n),o(a=this.queryHit(r.getEvX(n),r.getEvY(n)),this.hit)||(this.hit&&this.handleHitOut(),a&&this.handleHitOver(a))},e.prototype.handleDragEnd=function(e){this.handleHitDone(),t.prototype.handleDragEnd.call(this,e)},e.prototype.handleHitOver=function(t){var e=o(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},e.prototype.handleHitOut=function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},e.prototype.handleHitDone=function(){this.hit&&this.trigger("hitDone",this.hit)},e.prototype.handleInteractionEnd=function(e,i){t.prototype.handleInteractionEnd.call(this,e,i),this.origHit=null,this.hit=null,this.component.hitsNotNeeded()},e.prototype.handleScrollEnd=function(){t.prototype.handleScrollEnd.call(this),this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},e.prototype.queryHit=function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)},e}(i(59).default);function o(t,e){return!t&&!e||!(!t||!e)&&t.component===e.component&&s(t,e)&&s(e,t)}function s(t,e){for(var i in t)if(!/^(component|left|right|top|bottom)$/.test(i)&&t[i]!==e[i])return!1;return!0}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.version="3.10.0",e.internalApiVersion=12;var n=i(4);e.applyAll=n.applyAll,e.debounce=n.debounce,e.isInt=n.isInt,e.htmlEscape=n.htmlEscape,e.cssToStr=n.cssToStr,e.proxy=n.proxy,e.capitaliseFirstLetter=n.capitaliseFirstLetter,e.getOuterRect=n.getOuterRect,e.getClientRect=n.getClientRect,e.getContentRect=n.getContentRect,e.getScrollbarWidths=n.getScrollbarWidths,e.preventDefault=n.preventDefault,e.parseFieldSpecs=n.parseFieldSpecs,e.compareByFieldSpecs=n.compareByFieldSpecs,e.compareByFieldSpec=n.compareByFieldSpec,e.flexibleCompare=n.flexibleCompare,e.computeGreatestUnit=n.computeGreatestUnit,e.divideRangeByDuration=n.divideRangeByDuration,e.divideDurationByDuration=n.divideDurationByDuration,e.multiplyDuration=n.multiplyDuration,e.durationHasTime=n.durationHasTime,e.log=n.log,e.warn=n.warn,e.removeExact=n.removeExact,e.intersectRects=n.intersectRects,e.allowSelection=n.allowSelection,e.attrsToStr=n.attrsToStr,e.compareNumbers=n.compareNumbers,e.compensateScroll=n.compensateScroll,e.computeDurationGreatestUnit=n.computeDurationGreatestUnit,e.constrainPoint=n.constrainPoint,e.copyOwnProps=n.copyOwnProps,e.diffByUnit=n.diffByUnit,e.diffDay=n.diffDay,e.diffDayTime=n.diffDayTime,e.diffPoints=n.diffPoints,e.disableCursor=n.disableCursor,e.distributeHeight=n.distributeHeight,e.enableCursor=n.enableCursor,e.firstDefined=n.firstDefined,e.getEvIsTouch=n.getEvIsTouch,e.getEvX=n.getEvX,e.getEvY=n.getEvY,e.getRectCenter=n.getRectCenter,e.getScrollParent=n.getScrollParent,e.hasOwnProp=n.hasOwnProp,e.isArraysEqual=n.isArraysEqual,e.isNativeDate=n.isNativeDate,e.isPrimaryMouseButton=n.isPrimaryMouseButton,e.isTimeString=n.isTimeString,e.matchCellWidths=n.matchCellWidths,e.mergeProps=n.mergeProps,e.preventSelection=n.preventSelection,e.removeMatching=n.removeMatching,e.stripHtmlEntities=n.stripHtmlEntities,e.subtractInnerElHeight=n.subtractInnerElHeight,e.uncompensateScroll=n.uncompensateScroll,e.undistributeHeight=n.undistributeHeight,e.dayIDs=n.dayIDs,e.unitsDesc=n.unitsDesc;var r=i(49);e.formatDate=r.formatDate,e.formatRange=r.formatRange,e.queryMostGranularFormatUnit=r.queryMostGranularFormatUnit;var a=i(32);e.datepickerLocale=a.datepickerLocale,e.locale=a.locale,e.getMomentLocaleData=a.getMomentLocaleData,e.populateInstanceComputableOptions=a.populateInstanceComputableOptions;var o=i(19);e.eventDefsToEventInstances=o.eventDefsToEventInstances,e.eventFootprintToComponentFootprint=o.eventFootprintToComponentFootprint,e.eventInstanceToEventRange=o.eventInstanceToEventRange,e.eventInstanceToUnzonedRange=o.eventInstanceToUnzonedRange,e.eventRangeToEventFootprint=o.eventRangeToEventFootprint;var s=i(11);e.moment=s.default;var l=i(13);e.EmitterMixin=l.default;var c=i(7);e.ListenerMixin=c.default;var u=i(51);e.Model=u.default;var d=i(217);e.Constraints=d.default;var h=i(55);e.DateProfileGenerator=h.default;var p=i(5);e.UnzonedRange=p.default;var f=i(12);e.ComponentFootprint=f.default;var m=i(218);e.BusinessHourGenerator=m.default;var g=i(219);e.EventPeriod=g.default;var y=i(220);e.EventManager=y.default;var v=i(37);e.EventDef=v.default;var _=i(39);e.EventDefMutation=_.default;var b=i(36);e.EventDefParser=b.default;var x=i(53);e.EventInstance=x.default;var w=i(50);e.EventRange=w.default;var k=i(54);e.RecurringEventDef=k.default;var S=i(9);e.SingleEventDef=S.default;var T=i(40);e.EventDefDateMutation=T.default;var M=i(16);e.EventDateProfile=M.default;var C=i(38);e.EventSourceParser=C.default;var D=i(6);e.EventSource=D.default;var L=i(57);e.defineThemeSystem=L.defineThemeSystem,e.getThemeSystemClass=L.getThemeSystemClass;var A=i(20);e.EventInstanceGroup=A.default;var E=i(56);e.ArrayEventSource=E.default;var P=i(223);e.FuncEventSource=P.default;var I=i(224);e.JsonFeedEventSource=I.default;var O=i(34);e.EventFootprint=O.default;var R=i(35);e.Class=R.default;var z=i(15);e.Mixin=z.default;var Y=i(58);e.CoordCache=Y.default;var F=i(225);e.Iterator=F.default;var H=i(59);e.DragListener=H.default;var N=i(17);e.HitDragListener=N.default;var B=i(226);e.MouseFollower=B.default;var j=i(52);e.ParsableModelMixin=j.default;var V=i(227);e.Popover=V.default;var W=i(21);e.Promise=W.default;var U=i(228);e.TaskQueue=U.default;var $=i(229);e.RenderQueue=$.default;var q=i(41);e.Scroller=q.default;var G=i(22);e.Theme=G.default;var X=i(230);e.Component=X.default;var Z=i(231);e.DateComponent=Z.default;var J=i(42);e.InteractiveDateComponent=J.default;var K=i(232);e.Calendar=K.default;var Q=i(43);e.View=Q.default;var tt=i(24);e.defineView=tt.defineView,e.getViewConfig=tt.getViewConfig;var et=i(60);e.DayTableMixin=et.default;var it=i(61);e.BusinessHourRenderer=it.default;var nt=i(44);e.EventRenderer=nt.default;var rt=i(62);e.FillRenderer=rt.default;var at=i(63);e.HelperRenderer=at.default;var ot=i(233);e.ExternalDropping=ot.default;var st=i(234);e.EventResizing=st.default;var lt=i(64);e.EventPointing=lt.default;var ct=i(235);e.EventDragging=ct.default;var ut=i(236);e.DateSelecting=ut.default;var dt=i(237);e.DateClicking=dt.default;var ht=i(14);e.Interaction=ht.default;var pt=i(65);e.StandardInteractionsMixin=pt.default;var ft=i(238);e.AgendaView=ft.default;var mt=i(239);e.TimeGrid=mt.default;var gt=i(240);e.TimeGridEventRenderer=gt.default;var yt=i(242);e.TimeGridFillRenderer=yt.default;var vt=i(241);e.TimeGridHelperRenderer=vt.default;var _t=i(66);e.DayGrid=_t.default;var bt=i(243);e.DayGridEventRenderer=bt.default;var xt=i(245);e.DayGridFillRenderer=xt.default;var wt=i(244);e.DayGridHelperRenderer=wt.default;var kt=i(67);e.BasicView=kt.default;var St=i(68);e.BasicViewDateProfileGenerator=St.default;var Tt=i(246);e.MonthView=Tt.default;var Mt=i(247);e.MonthViewDateProfileGenerator=Mt.default;var Ct=i(248);e.ListView=Ct.default;var Dt=i(250);e.ListEventPointing=Dt.default;var Lt=i(249);e.ListEventRenderer=Lt.default},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(50),r=i(34),a=i(12);e.eventDefsToEventInstances=function(t,e){var i,n=[];for(i=0;i<t.length;i++)n.push.apply(n,t[i].buildInstances(e));return n},e.eventInstanceToEventRange=function(t){return new n.default(t.dateProfile.unzonedRange,t.def,t)},e.eventRangeToEventFootprint=function(t){return new r.default(new a.default(t.unzonedRange,t.eventDef.isAllDay()),t.eventDef,t.eventInstance)},e.eventInstanceToUnzonedRange=function(t){return t.dateProfile.unzonedRange},e.eventFootprintToComponentFootprint=function(t){return t.componentFootprint}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),r=i(19),a=i(50),o=function(){function t(t){this.eventInstances=t||[]}return t.prototype.getAllEventRanges=function(t){return t?this.sliceNormalRenderRanges(t):this.eventInstances.map(r.eventInstanceToEventRange)},t.prototype.sliceRenderRanges=function(t){return this.isInverse()?this.sliceInverseRenderRanges(t):this.sliceNormalRenderRanges(t)},t.prototype.sliceNormalRenderRanges=function(t){var e,i,n,r=this.eventInstances,o=[];for(e=0;e<r.length;e++)(n=(i=r[e]).dateProfile.unzonedRange.intersect(t))&&o.push(new a.default(n,i.def,i));return o},t.prototype.sliceInverseRenderRanges=function(t){var e=this.eventInstances.map(r.eventInstanceToUnzonedRange),i=this.getEventDef();return(e=n.default.invertRanges(e,t)).map((function(t){return new a.default(t,i)}))},t.prototype.isInverse=function(){return this.getEventDef().hasInverseRendering()},t.prototype.getEventDef=function(){return this.explicitEventDef||this.eventInstances[0].def},t}();e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r={construct:function(t){var e=n.Deferred(),i=e.promise();return"function"==typeof t&&t((function(t){e.resolve(t),a(i,t)}),(function(){e.reject(),o(i)})),i},resolve:function(t){var e=n.Deferred().resolve(t).promise();return a(e,t),e},reject:function(){var t=n.Deferred().reject().promise();return o(t),t}};function a(t,e){t.then=function(i){return"function"==typeof i?r.resolve(i(e)):t}}function o(t){t.then=function(e,i){return"function"==typeof i&&i(),t}}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=function(){function t(t){this.optionsManager=t,this.processIconOverride()}return t.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.optionsManager.get(this.iconOverrideOption))},t.prototype.setIconOverride=function(t){var e,i;if(n.isPlainObject(t)){for(i in e=n.extend({},this.iconClasses),t)e[i]=this.applyIconOverridePrefix(t[i]);this.iconClasses=e}else!1===t&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(t){var e=this.iconOverridePrefix;return e&&0!==t.indexOf(e)&&(t=e+t),t},t.prototype.getClass=function(t){return this.classes[t]||""},t.prototype.getIconClass=function(t){var e=this.iconClasses[t];return e?this.baseIconClass+" "+e:""},t.prototype.getCustomButtonIconClass=function(t){var e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(e):""},t}();e.default=r,r.prototype.classes={},r.prototype.iconClasses={},r.prototype.baseIconClass="",r.prototype.iconOverridePrefix=""},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(18),a=i(13),o=i(7);r.touchMouseIgnoreWait=500;var s=null,l=0,c=function(){function t(){this.isTouching=!1,this.mouseIgnoreDepth=0}return t.get=function(){return s||(s=new t).bind(),s},t.needed=function(){t.get(),l++},t.unneeded=function(){--l||(s.unbind(),s=null)},t.prototype.bind=function(){var t=this;this.listenTo(n(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu}),window.addEventListener("touchmove",this.handleTouchMoveProxy=function(e){t.handleTouchMove(n.Event(e))},{passive:!1}),window.addEventListener("scroll",this.handleScrollProxy=function(e){t.handleScroll(n.Event(e))},!0)},t.prototype.unbind=function(){this.stopListeningTo(n(document)),window.removeEventListener("touchmove",this.handleTouchMoveProxy,{passive:!1}),window.removeEventListener("scroll",this.handleScrollProxy,!0)},t.prototype.handleTouchStart=function(t){this.stopTouch(t,!0),this.isTouching=!0,this.trigger("touchstart",t)},t.prototype.handleTouchMove=function(t){this.isTouching&&this.trigger("touchmove",t)},t.prototype.handleTouchCancel=function(t){this.isTouching&&(this.trigger("touchcancel",t),this.stopTouch(t))},t.prototype.handleTouchEnd=function(t){this.stopTouch(t)},t.prototype.handleMouseDown=function(t){this.shouldIgnoreMouse()||this.trigger("mousedown",t)},t.prototype.handleMouseMove=function(t){this.shouldIgnoreMouse()||this.trigger("mousemove",t)},t.prototype.handleMouseUp=function(t){this.shouldIgnoreMouse()||this.trigger("mouseup",t)},t.prototype.handleClick=function(t){this.shouldIgnoreMouse()||this.trigger("click",t)},t.prototype.handleSelectStart=function(t){this.trigger("selectstart",t)},t.prototype.handleContextMenu=function(t){this.trigger("contextmenu",t)},t.prototype.handleScroll=function(t){this.trigger("scroll",t)},t.prototype.stopTouch=function(t,e){void 0===e&&(e=!1),this.isTouching&&(this.isTouching=!1,this.trigger("touchend",t),e||this.startTouchMouseIgnore())},t.prototype.startTouchMouseIgnore=function(){var t=this,e=r.touchMouseIgnoreWait;e&&(this.mouseIgnoreDepth++,setTimeout((function(){t.mouseIgnoreDepth--}),e))},t.prototype.shouldIgnoreMouse=function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)},t}();e.default=c,o.default.mixInto(c),a.default.mixInto(c)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(18);e.viewHash={},n.views=e.viewHash,e.defineView=function(t,i){e.viewHash[t]=i},e.getViewConfig=function(t){return e.viewHash[t]}},,,,,,,,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(0),a=i(18),o=i(33),s=i(4);e.localeOptionHash={},a.locales=e.localeOptionHash;var l={buttonText:function(t){return{prev:s.stripHtmlEntities(t.prevText),next:s.stripHtmlEntities(t.nextText),today:s.stripHtmlEntities(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},c={dayOfMonthFormat:function(t,e){var i=t.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},u={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};function d(t,i){var r,a;r=e.localeOptionHash[t]||(e.localeOptionHash[t]={}),i&&(r=e.localeOptionHash[t]=o.mergeOptions([r,i])),a=h(t),n.each(c,(function(t,e){null==r[t]&&(r[t]=e(a,r))})),o.globalDefaults.locale=t}function h(t){return r.localeData(t)||r.localeData("en")}e.populateInstanceComputableOptions=function(t){n.each(u,(function(e,i){null==t[e]&&(t[e]=i(t))}))},e.datepickerLocale=function(t,i,r){var a=e.localeOptionHash[t]||(e.localeOptionHash[t]={});a.isRTL=r.isRTL,a.weekNumberTitle=r.weekHeader,n.each(l,(function(t,e){a[t]=e(r)}));var o=n.datepicker;o&&(o.regional[i]=o.regional[t]=r,o.regional.en=o.regional[""],o.setDefaults(r))},e.locale=d,e.getMomentLocaleData=h,d("en",o.englishDefaults)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(4);e.globalDefaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",columnHeader:!0,defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,locale:null,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},allDayText:"all-day",agendaEventMinHeight:0,theme:!1,dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},e.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},e.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var r=["header","footer","buttonText","buttonIcons","themeButtonIcons"];e.mergeOptions=function(t){return n.mergeProps(t,r)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,i){this.componentFootprint=t,this.eventDef=e,i&&(this.eventInstance=i)}return t.prototype.getEventLegacy=function(){return(this.eventInstance||this.eventDef).toLegacy()},t}();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=function(){function t(){}return t.extend=function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(this);return r.copyOwnProps(t,e.prototype),e},t.mixin=function(t){r.copyOwnProps(t,this.prototype)},t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(4),a=i(9),o=i(54);e.default={parse:function(t,e){return r.isTimeString(t.start)||n.isDuration(t.start)||r.isTimeString(t.end)||n.isDuration(t.end)?o.default.parse(t,e):a.default.parse(t,e)}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(52),a=function(){function t(t){this.source=t,this.className=[],this.miscProps={}}return t.parse=function(t,e){var i=new this(e);return!!i.applyProps(t)&&i},t.normalizeId=function(t){return String(t)},t.generateId=function(){return"_fc"+t.uuid++},t.prototype.clone=function(){var e=new this.constructor(this.source);return e.id=this.id,e.rawId=this.rawId,e.uid=this.uid,t.copyVerbatimStandardProps(this,e),e.className=this.className.slice(),e.miscProps=n.extend({},this.miscProps),e},t.prototype.hasInverseRendering=function(){return"inverse-background"===this.getRendering()},t.prototype.hasBgRendering=function(){var t=this.getRendering();return"inverse-background"===t||"background"===t},t.prototype.getRendering=function(){return null!=this.rendering?this.rendering:this.source.rendering},t.prototype.getConstraint=function(){return null!=this.constraint?this.constraint:null!=this.source.constraint?this.source.constraint:this.source.calendar.opt("eventConstraint")},t.prototype.getOverlap=function(){return null!=this.overlap?this.overlap:null!=this.source.overlap?this.source.overlap:this.source.calendar.opt("eventOverlap")},t.prototype.isStartExplicitlyEditable=function(){return null!=this.startEditable?this.startEditable:this.source.startEditable},t.prototype.isDurationExplicitlyEditable=function(){return null!=this.durationEditable?this.durationEditable:this.source.durationEditable},t.prototype.isExplicitlyEditable=function(){return null!=this.editable?this.editable:this.source.editable},t.prototype.toLegacy=function(){var e=n.extend({},this.miscProps);return e._id=this.uid,e.source=this.source,e.className=this.className.slice(),e.allDay=this.isAllDay(),null!=this.rawId&&(e.id=this.rawId),t.copyVerbatimStandardProps(this,e),e},t.prototype.applyManualStandardProps=function(e){return null!=e.id?this.id=t.normalizeId(this.rawId=e.id):this.id=t.generateId(),null!=e._id?this.uid=String(e._id):this.uid=t.generateId(),n.isArray(e.className)&&(this.className=e.className),"string"==typeof e.className&&(this.className=e.className.split(/\s+/)),!0},t.prototype.applyMiscProps=function(t){n.extend(this.miscProps,t)},t.uuid=0,t.defineStandardProps=r.default.defineStandardProps,t.copyVerbatimStandardProps=r.default.copyVerbatimStandardProps,t}();e.default=a,r.default.mixInto(a),a.defineStandardProps({_id:!1,id:!1,className:!1,source:!1,title:!0,url:!0,rendering:!0,constraint:!0,overlap:!0,editable:!0,startEditable:!0,durationEditable:!0,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={sourceClasses:[],registerClass:function(t){this.sourceClasses.unshift(t)},parse:function(t,e){var i,n,r=this.sourceClasses;for(i=0;i<r.length;i++)if(n=r[i].parse(t,e))return n}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=i(16),a=i(37),o=i(40),s=i(9),l=function(){function t(){}return t.createFromRawProps=function(e,i,s){var l,c,u,d,h=e.def,p={},f={},m={},g={},y=null,v=null;for(l in i)r.default.isStandardProp(l)?p[l]=i[l]:h.isStandardProp(l)?f[l]=i[l]:h.miscProps[l]!==i[l]&&(m[l]=i[l]);return(c=r.default.parse(p,h.source))&&(u=o.default.createFromDiff(e.dateProfile,c,s)),f.id!==h.id&&(y=f.id),n.isArraysEqual(f.className,h.className)||(v=f.className),a.default.copyVerbatimStandardProps(f,g),(d=new t).eventDefId=y,d.className=v,d.verbatimStandardProps=g,d.miscProps=m,u&&(d.dateMutation=u),d},t.prototype.mutateSingle=function(t){var e;return this.dateMutation&&(e=t.dateProfile,t.dateProfile=this.dateMutation.buildNewDateProfile(e,t.source.calendar)),null!=this.eventDefId&&(t.id=a.default.normalizeId(t.rawId=this.eventDefId)),this.className&&(t.className=this.className),this.verbatimStandardProps&&s.default.copyVerbatimStandardProps(this.verbatimStandardProps,t),this.miscProps&&t.applyMiscProps(this.miscProps),e?function(){t.dateProfile=e}:function(){}},t.prototype.setDateMutation=function(t){t&&!t.isEmpty()?this.dateMutation=t:this.dateMutation=null},t.prototype.isEmpty=function(){return!this.dateMutation},t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=i(16),a=function(){function t(){this.clearEnd=!1,this.forceTimed=!1,this.forceAllDay=!1}return t.createFromDiff=function(e,i,r){var a,o,s,l=e.end&&!i.end,c=e.isAllDay()&&!i.isAllDay(),u=!e.isAllDay()&&i.isAllDay();function d(t,e){return r?n.diffByUnit(t,e,r):i.isAllDay()?n.diffDay(t,e):n.diffDayTime(t,e)}return a=d(i.start,e.start),i.end&&(o=d(i.unzonedRange.getEnd(),e.unzonedRange.getEnd()).subtract(a)),(s=new t).clearEnd=l,s.forceTimed=c,s.forceAllDay=u,s.setDateDelta(a),s.setEndDelta(o),s},t.prototype.buildNewDateProfile=function(t,e){var i=t.start.clone(),n=null,a=!1;return t.end&&!this.clearEnd?n=t.end.clone():this.endDelta&&!n&&(n=e.getDefaultEventEnd(t.isAllDay(),i)),this.forceTimed?(a=!0,i.hasTime()||i.time(0),n&&!n.hasTime()&&n.time(0)):this.forceAllDay&&(i.hasTime()&&i.stripTime(),n&&n.hasTime()&&n.stripTime()),this.dateDelta&&(a=!0,i.add(this.dateDelta),n&&n.add(this.dateDelta)),this.endDelta&&(a=!0,n.add(this.endDelta)),this.startDelta&&(a=!0,i.add(this.startDelta)),a&&(i=e.applyTimezone(i),n&&(n=e.applyTimezone(n))),!n&&e.opt("forceEventDuration")&&(n=e.getDefaultEventEnd(t.isAllDay(),i)),new r.default(i,n,e)},t.prototype.setDateDelta=function(t){t&&t.valueOf()?this.dateDelta=t:this.dateDelta=null},t.prototype.setStartDelta=function(t){t&&t.valueOf()?this.startDelta=t:this.startDelta=null},t.prototype.setEndDelta=function(t){t&&t.valueOf()?this.endDelta=t:this.endDelta=null},t.prototype.isEmpty=function(){return!(this.clearEnd||this.forceTimed||this.forceAllDay||this.dateDelta||this.startDelta||this.endDelta)},t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=function(t){function e(e){var i=t.call(this)||this;return e=e||{},i.overflowX=e.overflowX||e.overflow||"auto",i.overflowY=e.overflowY||e.overflow||"auto",i}return n.__extends(e,t),e.prototype.render=function(){this.el=this.renderEl(),this.applyOverflow()},e.prototype.renderEl=function(){return this.scrollEl=r('<div class="fc-scroller"></div>')},e.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},e.prototype.destroy=function(){this.el.remove()},e.prototype.applyOverflow=function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},e.prototype.lockOverflow=function(t){var e=this.overflowX,i=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===i&&(i=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":i})},e.prototype.setHeight=function(t){this.scrollEl.height(t)},e.prototype.getScrollTop=function(){return this.scrollEl.scrollTop()},e.prototype.setScrollTop=function(t){this.scrollEl.scrollTop(t)},e.prototype.getClientWidth=function(){return this.scrollEl[0].clientWidth},e.prototype.getClientHeight=function(){return this.scrollEl[0].clientHeight},e.prototype.getScrollbarWidths=function(){return a.getScrollbarWidths(this.scrollEl)},e}(i(35).default);e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(231),s=i(23),l=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.segSelector=".fc-event-container > *",n.dateSelectingClass&&(n.dateClicking=new n.dateClickingClass(n)),n.dateSelectingClass&&(n.dateSelecting=new n.dateSelectingClass(n)),n.eventPointingClass&&(n.eventPointing=new n.eventPointingClass(n)),n.eventDraggingClass&&n.eventPointing&&(n.eventDragging=new n.eventDraggingClass(n,n.eventPointing)),n.eventResizingClass&&n.eventPointing&&(n.eventResizing=new n.eventResizingClass(n,n.eventPointing)),n.externalDroppingClass&&(n.externalDropping=new n.externalDroppingClass(n)),n}return n.__extends(e,t),e.prototype.setElement=function(e){t.prototype.setElement.call(this,e),this.dateClicking&&this.dateClicking.bindToEl(e),this.dateSelecting&&this.dateSelecting.bindToEl(e),this.bindAllSegHandlersToEl(e)},e.prototype.removeElement=function(){this.endInteractions(),t.prototype.removeElement.call(this)},e.prototype.executeEventUnrender=function(){this.endInteractions(),t.prototype.executeEventUnrender.call(this)},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.bindToDocument()},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.unbindFromDocument()},e.prototype.bindDateHandlerToEl=function(t,e,i){var n=this;this.el.on(e,(function(t){if(!r(t.target).is(n.segSelector+":not(.fc-helper),"+n.segSelector+":not(.fc-helper) *,.fc-more,a[data-goto]"))return i.call(n,t)}))},e.prototype.bindAllSegHandlersToEl=function(t){[this.eventPointing,this.eventDragging,this.eventResizing].forEach((function(e){e&&e.bindToEl(t)}))},e.prototype.bindSegHandlerToEl=function(t,e,i){var n=this;t.on(e,this.segSelector,(function(t){var e=r(t.currentTarget);if(!e.is(".fc-helper")){var a=e.data("fc-seg");if(a&&!n.shouldIgnoreEventPointing())return i.call(n,a,t)}}))},e.prototype.shouldIgnoreMouse=function(){return s.default.get().shouldIgnoreMouse()},e.prototype.shouldIgnoreTouch=function(){var t=this._getView();return t.isSelected||t.selectedEvent},e.prototype.shouldIgnoreEventPointing=function(){return this.eventDragging&&this.eventDragging.isDragging||this.eventResizing&&this.eventResizing.isResizing},e.prototype.canStartSelection=function(t,e){return a.getEvIsTouch(e)&&!this.canStartResize(t,e)&&(this.isEventDefDraggable(t.footprint.eventDef)||this.isEventDefResizable(t.footprint.eventDef))},e.prototype.canStartDrag=function(t,e){return!this.canStartResize(t,e)&&this.isEventDefDraggable(t.footprint.eventDef)},e.prototype.canStartResize=function(t,e){var i=this._getView(),n=t.footprint.eventDef;return(!a.getEvIsTouch(e)||i.isEventDefSelected(n))&&this.isEventDefResizable(n)&&r(e.target).is(".fc-resizer")},e.prototype.endInteractions=function(){[this.dateClicking,this.dateSelecting,this.eventPointing,this.eventDragging,this.eventResizing].forEach((function(t){t&&t.end()}))},e.prototype.isEventDefDraggable=function(t){return this.isEventDefStartEditable(t)},e.prototype.isEventDefStartEditable=function(t){var e=t.isStartExplicitlyEditable();return null==e&&null==(e=this.opt("eventStartEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.isEventDefGenerallyEditable=function(t){var e=t.isExplicitlyEditable();return null==e&&(e=this.opt("editable")),e},e.prototype.isEventDefResizableFromStart=function(t){return this.opt("eventResizableFromStart")&&this.isEventDefResizable(t)},e.prototype.isEventDefResizableFromEnd=function(t){return this.isEventDefResizable(t)},e.prototype.isEventDefResizable=function(t){var e=t.isDurationExplicitlyEditable();return null==e&&null==(e=this.opt("eventDurationEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.diffDates=function(t,e){return this.largeUnit?a.diffByUnit(t,e,this.largeUnit):a.diffDayTime(t,e)},e.prototype.isEventInstanceGroupAllowed=function(t){var e,i=this._getView(),n=this.dateProfile,r=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<r.length;e++)if(!n.validUnzonedRange.containsRange(r[e].componentFootprint.unzonedRange))return!1;return i.calendar.constraints.isEventInstanceGroupAllowed(t)},e.prototype.isExternalInstanceGroupAllowed=function(t){var e,i=this._getView(),n=this.dateProfile,r=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<r.length;e++)if(!n.validUnzonedRange.containsRange(r[e].componentFootprint.unzonedRange))return!1;for(e=0;e<r.length;e++)if(!i.calendar.constraints.isSelectionFootprintAllowed(r[e].componentFootprint))return!1;return!0},e}(o.default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(0),o=i(4),s=i(229),l=i(55),c=i(42),u=i(23),d=i(5),h=function(t){function e(e,i){var n=t.call(this,null,i.options)||this;return n.batchRenderDepth=0,n.isSelected=!1,n.calendar=e,n.viewSpec=i,n.type=i.type,n.name=n.type,n.initRenderQueue(),n.initHiddenDays(),n.dateProfileGenerator=new n.dateProfileGeneratorClass(n),n.bindBaseRenderHandlers(),n.eventOrderSpecs=o.parseFieldSpecs(n.opt("eventOrder")),n.initialize&&n.initialize(),n}return n.__extends(e,t),e.prototype._getView=function(){return this},e.prototype.opt=function(t){return this.options[t]},e.prototype.initRenderQueue=function(){this.renderQueue=new s.default({event:this.opt("eventRenderWait")}),this.renderQueue.on("start",this.onRenderQueueStart.bind(this)),this.renderQueue.on("stop",this.onRenderQueueStop.bind(this)),this.on("before:change",this.startBatchRender),this.on("change",this.stopBatchRender)},e.prototype.onRenderQueueStart=function(){this.calendar.freezeContentHeight(),this.addScroll(this.queryScroll())},e.prototype.onRenderQueueStop=function(){this.calendar.updateViewSize()&&this.popScroll(),this.calendar.thawContentHeight()},e.prototype.startBatchRender=function(){this.batchRenderDepth++||this.renderQueue.pause()},e.prototype.stopBatchRender=function(){--this.batchRenderDepth||this.renderQueue.resume()},e.prototype.requestRender=function(t,e,i){this.renderQueue.queue(t,e,i)},e.prototype.whenSizeUpdated=function(t){this.renderQueue.isRunning?this.renderQueue.one("stop",t.bind(this)):t.call(this)},e.prototype.computeTitle=function(t){var e;return e=/^(year|month)$/.test(t.currentRangeUnit)?t.currentUnzonedRange:t.activeUnzonedRange,this.formatRange({start:this.calendar.msToMoment(e.startMs,t.isRangeAllDay),end:this.calendar.msToMoment(e.endMs,t.isRangeAllDay)},t.isRangeAllDay,this.opt("titleFormat")||this.computeTitleFormat(t),this.opt("titleRangeSeparator"))},e.prototype.computeTitleFormat=function(t){var e=t.currentRangeUnit;return"year"===e?"YYYY":"month"===e?this.opt("monthYearFormat"):t.currentUnzonedRange.as("days")>1?"ll":"LL"},e.prototype.setDate=function(t){var e=this.get("dateProfile"),i=this.dateProfileGenerator.build(t,void 0,!0);e&&e.activeUnzonedRange.equals(i.activeUnzonedRange)||this.set("dateProfile",i)},e.prototype.unsetDate=function(){this.unset("dateProfile")},e.prototype.fetchInitialEvents=function(t){var e=this.calendar,i=t.isRangeAllDay&&!this.usesMinMaxTime;return e.requestEvents(e.msToMoment(t.activeUnzonedRange.startMs,i),e.msToMoment(t.activeUnzonedRange.endMs,i))},e.prototype.bindEventChanges=function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},e.prototype.unbindEventChanges=function(){this.stopListeningTo(this.calendar,"eventsReset")},e.prototype.setEvents=function(t){this.set("currentEvents",t),this.set("hasEvents",!0)},e.prototype.unsetEvents=function(){this.unset("currentEvents"),this.unset("hasEvents")},e.prototype.resetEvents=function(t){this.startBatchRender(),this.unsetEvents(),this.setEvents(t),this.stopBatchRender()},e.prototype.requestDateRender=function(t){var e=this;this.requestRender((function(){e.executeDateRender(t)}),"date","init")},e.prototype.requestDateUnrender=function(){var t=this;this.requestRender((function(){t.executeDateUnrender()}),"date","destroy")},e.prototype.executeDateRender=function(e){t.prototype.executeDateRender.call(this,e),this.render&&this.render(),this.trigger("datesRendered"),this.addScroll({isDateInit:!0}),this.startNowIndicator()},e.prototype.executeDateUnrender=function(){this.unselect(),this.stopNowIndicator(),this.trigger("before:datesUnrendered"),this.destroy&&this.destroy(),t.prototype.executeDateUnrender.call(this)},e.prototype.bindBaseRenderHandlers=function(){var t=this;this.on("datesRendered",(function(){t.whenSizeUpdated(t.triggerViewRender)})),this.on("before:datesUnrendered",(function(){t.triggerViewDestroy()}))},e.prototype.triggerViewRender=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerViewDestroy=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.requestEventsRender=function(t){var e=this;this.requestRender((function(){e.executeEventRender(t),e.whenSizeUpdated(e.triggerAfterEventsRendered)}),"event","init")},e.prototype.requestEventsUnrender=function(){var t=this;this.requestRender((function(){t.triggerBeforeEventsDestroyed(),t.executeEventUnrender()}),"event","destroy")},e.prototype.requestBusinessHoursRender=function(t){var e=this;this.requestRender((function(){e.renderBusinessHours(t)}),"businessHours","init")},e.prototype.requestBusinessHoursUnrender=function(){var t=this;this.requestRender((function(){t.unrenderBusinessHours()}),"businessHours","destroy")},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.listenTo(u.default.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.stopListeningTo(u.default.get())},e.prototype.startNowIndicator=function(){var t,e,i,n=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(e=o.proxy(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),i=this.initialNowDate.clone().startOf(t).add(1,t).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout((function(){n.nowIndicatorTimeoutID=null,e(),i=+a.duration(1,t),i=Math.max(100,i),n.nowIndicatorIntervalID=setInterval(e,i)}),i))},e.prototype.updateNowIndicator=function(){this.isDatesRendered&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add((new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},e.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},e.prototype.updateSize=function(e,i,n){this.setHeight?this.setHeight(e,i):t.prototype.updateSize.call(this,e,i,n),this.updateNowIndicator()},e.prototype.addScroll=function(t){var e=this.queuedScroll||(this.queuedScroll={});r.extend(e,t)},e.prototype.popScroll=function(){this.applyQueuedScroll(),this.queuedScroll=null},e.prototype.applyQueuedScroll=function(){this.queuedScroll&&this.applyScroll(this.queuedScroll)},e.prototype.queryScroll=function(){var t={};return this.isDatesRendered&&r.extend(t,this.queryDateScroll()),t},e.prototype.applyScroll=function(t){t.isDateInit&&this.isDatesRendered&&r.extend(t,this.computeInitialDateScroll()),this.isDatesRendered&&this.applyDateScroll(t)},e.prototype.computeInitialDateScroll=function(){return{}},e.prototype.queryDateScroll=function(){return{}},e.prototype.applyDateScroll=function(t){},e.prototype.reportEventDrop=function(t,e,i,n){var r=this.calendar.eventManager.mutateEventsWithId(t.def.id,e),o=e.dateMutation;o&&(t.dateProfile=o.buildNewDateProfile(t.dateProfile,this.calendar)),this.triggerEventDrop(t,o&&o.dateDelta||a.duration(),r,i,n)},e.prototype.triggerEventDrop=function(t,e,i,n,r){this.publiclyTrigger("eventDrop",{context:n[0],args:[t.toLegacy(),e,i,r,{},this]})},e.prototype.reportExternalDrop=function(t,e,i,n,r,a){e&&this.calendar.eventManager.addEventDef(t,i),this.triggerExternalDrop(t,e,n,r,a)},e.prototype.triggerExternalDrop=function(t,e,i,n,r){this.publiclyTrigger("drop",{context:i[0],args:[t.dateProfile.start.clone(),n,r,this]}),e&&this.publiclyTrigger("eventReceive",{context:this,args:[t.buildInstance().toLegacy(),this]})},e.prototype.reportEventResize=function(t,e,i,n){var r=this.calendar.eventManager.mutateEventsWithId(t.def.id,e);t.dateProfile=e.dateMutation.buildNewDateProfile(t.dateProfile,this.calendar);var a=e.dateMutation.endDelta||e.dateMutation.startDelta;this.triggerEventResize(t,a,r,i,n)},e.prototype.triggerEventResize=function(t,e,i,n,r){this.publiclyTrigger("eventResize",{context:n[0],args:[t.toLegacy(),e,i,r,{},this]})},e.prototype.select=function(t,e){this.unselect(e),this.renderSelectionFootprint(t),this.reportSelection(t,e)},e.prototype.renderSelectionFootprint=function(e){this.renderSelection?this.renderSelection(e.toLegacy(this.calendar)):t.prototype.renderSelectionFootprint.call(this,e)},e.prototype.reportSelection=function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},e.prototype.triggerSelect=function(t,e){var i=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("select",{context:this,args:[i.start,i.end,e,this]})},e.prototype.unselect=function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",{context:this,args:[t,this]}))},e.prototype.selectEventInstance=function(t){this.selectedEventInstance&&this.selectedEventInstance===t||(this.unselectEventInstance(),this.getEventSegs().forEach((function(e){e.footprint.eventInstance===t&&e.el&&e.el.addClass("fc-selected")})),this.selectedEventInstance=t)},e.prototype.unselectEventInstance=function(){this.selectedEventInstance&&(this.getEventSegs().forEach((function(t){t.el&&t.el.removeClass("fc-selected")})),this.selectedEventInstance=null)},e.prototype.isEventDefSelected=function(t){return this.selectedEventInstance&&this.selectedEventInstance.def.id===t.id},e.prototype.handleDocumentMousedown=function(t){o.isPrimaryMouseButton(t)&&this.processUnselect(t)},e.prototype.processUnselect=function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},e.prototype.processRangeUnselect=function(t){var e;this.isSelected&&this.opt("unselectAuto")&&((e=this.opt("unselectCancel"))&&r(t.target).closest(e).length||this.unselect(t))},e.prototype.processEventUnselect=function(t){this.selectedEventInstance&&(r(t.target).closest(".fc-selected").length||this.unselectEventInstance())},e.prototype.triggerBaseRendered=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerBaseUnrendered=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.triggerDayClick=function(t,e,i){var n=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("dayClick",{context:e,args:[n.start,i,this]})},e.prototype.isDateInOtherMonth=function(t,e){return!1},e.prototype.getUnzonedRangeOption=function(t){var e=this.opt(t);if("function"==typeof e&&(e=e.apply(null,Array.prototype.slice.call(arguments,1))),e)return this.calendar.parseUnzonedRange(e)},e.prototype.initHiddenDays=function(){var t,e=this.opt("hiddenDays")||[],i=[],n=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;t<7;t++)(i[t]=-1!==r.inArray(t,e))||n++;if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=i},e.prototype.trimHiddenDays=function(t){var e=t.getStart(),i=t.getEnd();return e&&(e=this.skipHiddenDays(e)),i&&(i=this.skipHiddenDays(i,-1,!0)),null===e||null===i||e<i?new d.default(e,i):null},e.prototype.isHiddenDay=function(t){return a.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},e.prototype.skipHiddenDays=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=!1);for(var n=t.clone();this.isHiddenDayHash[(n.day()+(i?e:0)+7)%7];)n.add(e,"days");return n},e}(c.default);e.default=h,h.prototype.usesMinMaxTime=!1,h.prototype.dateProfileGeneratorClass=l.default,h.watch("displayingDates",["isInDom","dateProfile"],(function(t){this.requestDateRender(t.dateProfile)}),(function(){this.requestDateUnrender()})),h.watch("displayingBusinessHours",["displayingDates","businessHourGenerator"],(function(t){this.requestBusinessHoursRender(t.businessHourGenerator)}),(function(){this.requestBusinessHoursUnrender()})),h.watch("initialEvents",["dateProfile"],(function(t){return this.fetchInitialEvents(t.dateProfile)})),h.watch("bindingEvents",["initialEvents"],(function(t){this.setEvents(t.initialEvents),this.bindEventChanges()}),(function(){this.unbindEventChanges(),this.unsetEvents()})),h.watch("displayingEvents",["displayingDates","hasEvents"],(function(){this.requestEventsRender(this.get("currentEvents"))}),(function(){this.requestEventsUnrender()})),h.watch("title",["dateProfile"],(function(t){return this.title=this.computeTitle(t.dateProfile)})),h.watch("legacyDateProps",["dateProfile"],(function(t){var e=this.calendar,i=t.dateProfile;this.start=e.msToMoment(i.activeUnzonedRange.startMs,i.isRangeAllDay),this.end=e.msToMoment(i.activeUnzonedRange.endMs,i.isRangeAllDay),this.intervalStart=e.msToMoment(i.currentUnzonedRange.startMs,i.isRangeAllDay),this.intervalEnd=e.msToMoment(i.currentUnzonedRange.endMs,i.isRangeAllDay)}))},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=function(){function t(t,e){this.view=t._getView(),this.component=t,this.fillRenderer=e}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.rangeUpdated=function(){var t,e;this.eventTimeFormat=this.opt("eventTimeFormat")||this.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=this.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(e=this.opt("displayEventEnd"))&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},t.prototype.render=function(t){var e,i,n,r=this.component._getDateProfile(),a=[],o=[];for(e in t)n=(i=t[e]).sliceRenderRanges(r.activeUnzonedRange),i.getEventDef().hasBgRendering()?a.push.apply(a,n):o.push.apply(o,n);this.renderBgRanges(a),this.renderFgRanges(o)},t.prototype.unrender=function(){this.unrenderBgRanges(),this.unrenderFgRanges()},t.prototype.renderFgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),i=this.component.eventFootprintsToSegs(e);i=this.renderFgSegEls(i),!1!==this.renderFgSegs(i)&&(this.fgSegs=i)},t.prototype.unrenderFgRanges=function(){this.unrenderFgSegs(this.fgSegs||[]),this.fgSegs=null},t.prototype.renderBgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),i=this.component.eventFootprintsToSegs(e);!1!==this.renderBgSegs(i)&&(this.bgSegs=i)},t.prototype.unrenderBgRanges=function(){this.unrenderBgSegs(),this.bgSegs=null},t.prototype.getSegs=function(){return(this.bgSegs||[]).concat(this.fgSegs||[])},t.prototype.renderFgSegs=function(t){return!1},t.prototype.unrenderFgSegs=function(t){},t.prototype.renderBgSegs=function(t){var e=this;if(!this.fillRenderer)return!1;this.fillRenderer.renderSegs("bgEvent",t,{getClasses:function(t){return e.getBgClasses(t.footprint.eventDef)},getCss:function(t){return{"background-color":e.getBgColor(t.footprint.eventDef)}},filterEl:function(t,i){return e.filterEventRenderEl(t.footprint,i)}})},t.prototype.unrenderBgSegs=function(){this.fillRenderer&&this.fillRenderer.unrender("bgEvent")},t.prototype.renderFgSegEls=function(t,e){var i=this;void 0===e&&(e=!1);var r,a=this.view.hasPublicHandlers("eventRender"),o="",s=[];if(t.length){for(r=0;r<t.length;r++)this.beforeFgSegHtml(t[r]),o+=this.fgSegHtml(t[r],e);n(o).each((function(e,r){var o=t[e],l=n(r);a&&(l=i.filterEventRenderEl(o.footprint,l)),l&&(l.data("fc-seg",o),o.el=l,s.push(o))}))}return s},t.prototype.beforeFgSegHtml=function(t){},t.prototype.fgSegHtml=function(t,e){},t.prototype.getSegClasses=function(t,e,i){var n=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(this.getClasses(t.footprint.eventDef));return e&&n.push("fc-draggable"),i&&n.push("fc-resizable"),this.view.isEventDefSelected(t.footprint.eventDef)&&n.push("fc-selected"),n},t.prototype.filterEventRenderEl=function(t,e){var i=t.getEventLegacy(),r=this.view.publiclyTrigger("eventRender",{context:i,args:[i,e,this.view]});return!1===r?e=null:r&&!0!==r&&(e=n(r)),e},t.prototype.getTimeText=function(t,e,i){return this._getTimeText(t.eventInstance.dateProfile.start,t.eventInstance.dateProfile.end,t.componentFootprint.isAllDay,e,i)},t.prototype._getTimeText=function(t,e,i,n,r){return null==n&&(n=this.eventTimeFormat),null==r&&(r=this.displayEventEnd),this.displayEventTime&&!i?r&&e?this.view.formatRange({start:t,end:e},!1,n):t.format(n):""},t.prototype.computeEventTimeFormat=function(){return this.opt("smallTimeFormat")},t.prototype.computeDisplayEventTime=function(){return!0},t.prototype.computeDisplayEventEnd=function(){return!0},t.prototype.getBgClasses=function(t){var e=this.getClasses(t);return e.push("fc-bgevent"),e},t.prototype.getClasses=function(t){var e,i=this.getStylingObjs(t),n=[];for(e=0;e<i.length;e++)n.push.apply(n,i[e].eventClassName||i[e].className||[]);return n},t.prototype.getSkinCss=function(t){return{"background-color":this.getBgColor(t),"border-color":this.getBorderColor(t),color:this.getTextColor(t)}},t.prototype.getBgColor=function(t){var e,i,n=this.getStylingObjs(t);for(e=0;e<n.length&&!i;e++)i=n[e].eventBackgroundColor||n[e].eventColor||n[e].backgroundColor||n[e].color;return i||(i=this.opt("eventBackgroundColor")||this.opt("eventColor")),i},t.prototype.getBorderColor=function(t){var e,i,n=this.getStylingObjs(t);for(e=0;e<n.length&&!i;e++)i=n[e].eventBorderColor||n[e].eventColor||n[e].borderColor||n[e].color;return i||(i=this.opt("eventBorderColor")||this.opt("eventColor")),i},t.prototype.getTextColor=function(t){var e,i,n=this.getStylingObjs(t);for(e=0;e<n.length&&!i;e++)i=n[e].eventTextColor||n[e].textColor;return i||(i=this.opt("eventTextColor")),i},t.prototype.getStylingObjs=function(t){var e=this.getFallbackStylingObjs(t);return e.unshift(t),e},t.prototype.getFallbackStylingObjs=function(t){return[t.source]},t.prototype.sortEventSegs=function(t){t.sort(r.proxy(this,"compareEventSegs"))},t.prototype.compareEventSegs=function(t,e){var i=t.footprint,n=e.footprint,a=i.componentFootprint,o=n.componentFootprint,s=a.unzonedRange,l=o.unzonedRange;return s.startMs-l.startMs||l.endMs-l.startMs-(s.endMs-s.startMs)||o.isAllDay-a.isAllDay||r.compareByFieldSpecs(i.eventDef,n.eventDef,this.view.eventOrderSpecs,i.eventDef.miscProps,n.eventDef.miscProps)},t}();e.default=a},,,,,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(11);function r(t){return"en"!==t.locale()?t.clone().locale("en"):t}n.newMomentProto.format=function(){return this._fullCalendar&&arguments[0]?l(this,arguments[0]):this._ambigTime?n.oldMomentFormat(r(this),"YYYY-MM-DD"):this._ambigZone?n.oldMomentFormat(r(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?n.oldMomentFormat(r(this)):n.oldMomentProto.format.apply(this,arguments)},n.newMomentProto.toISOString=function(){return this._ambigTime?n.oldMomentFormat(r(this),"YYYY-MM-DD"):this._ambigZone?n.oldMomentFormat(r(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?n.oldMomentProto.toISOString.apply(r(this),arguments):n.oldMomentProto.toISOString.apply(this,arguments)};var a=new RegExp("([^]*)","g"),o={t:function(t){return n.oldMomentFormat(t,"a").charAt(0)},T:function(t){return n.oldMomentFormat(t,"A").charAt(0)}},s={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};function l(t,e){return function(t,e){return g(m(t,e).join(""))}(u(e).fakeFormatString,t)}e.formatDate=l,e.formatRange=function(t,e,i,r,a){return t=n.default.parseZone(t),e=n.default.parseZone(e),function(t,e,i,n,r){var a,o,s,l=t.sameUnits,c=e.clone().stripZone(),u=i.clone().stripZone(),d=m(t.fakeFormatString,e),h=m(t.fakeFormatString,i),p="",f="",y="",v="",_="";for(a=0;a<l.length&&(!l[a]||c.isSame(u,l[a]));a++)p+=d[a];for(o=l.length-1;o>a&&(!l[o]||c.isSame(u,l[o]))&&(o-1!==a||"."!==d[o]);o--)f=d[o]+f;for(s=a;s<=o;s++)y+=d[s],v+=h[s];return(y||v)&&(_=r?v+n+y:y+n+v),g(p+_+f)}(u(i=t.localeData().longDateFormat(i)||i),t,e,r||" - ",a)};var c={};function u(t){return c[t]||(c[t]=function(t){var e=d(t);return{fakeFormatString:p(e),sameUnits:f(e)}}(t))}function d(t){for(var e,i=[],n=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=n.exec(t);)e[1]?i.push.apply(i,h(e[1])):e[2]?i.push({maybe:d(e[2])}):e[3]?i.push({token:e[3]}):e[5]&&i.push.apply(i,h(e[5]));return i}function h(t){return". "===t?["."," "]:[t]}function p(t){var e,i,n=[];for(e=0;e<t.length;e++)"string"==typeof(i=t[e])?n.push("["+i+"]"):i.token?i.token in o?n.push("["+i.token+"]"):n.push(i.token):i.maybe&&n.push(""+p(i.maybe)+"");return n.join("\v")}function f(t){var e,i,n,r=[];for(e=0;e<t.length;e++)(i=t[e]).token?(n=s[i.token.charAt(0)],r.push(n?n.unit:"second")):i.maybe?r.push.apply(r,f(i.maybe)):r.push(null);return r}function m(t,e){var i,r,a=[],s=n.oldMomentFormat(e,t).split("\v");for(i=0;i<s.length;i++)""===(r=s[i]).charAt(0)?a.push(o[r.substring(1)](e)):a.push(r);return a}function g(t){return t.replace(a,(function(t,e){return e.match(/[1-9]/)?e:""}))}e.queryMostGranularFormatUnit=function(t){var e,i,n,r,a=d(t);for(e=0;e<a.length;e++)(i=a[e]).token&&(n=s[i.token.charAt(0)])&&(!r||n.value>r.value)&&(r=n);return r?r.unit:null}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){this.unzonedRange=t,this.eventDef=e,i&&(this.eventInstance=i)};e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(35),a=i(13),o=i(7),s=function(t){function e(){var e=t.call(this)||this;return e._watchers={},e._props={},e.applyGlobalWatchers(),e.constructed(),e}return n.__extends(e,t),e.watch=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.prototype.hasOwnProperty("_globalWatchArgs")||(this.prototype._globalWatchArgs=Object.create(this.prototype._globalWatchArgs)),this.prototype._globalWatchArgs[t]=e},e.prototype.constructed=function(){},e.prototype.applyGlobalWatchers=function(){var t,e=this._globalWatchArgs;for(t in e)this.watch.apply(this,[t].concat(e[t]))},e.prototype.has=function(t){return t in this._props},e.prototype.get=function(t){return void 0===t?this._props:this._props[t]},e.prototype.set=function(t,e){var i;"string"==typeof t?(i={})[t]=void 0===e?null:e:i=t,this.setProps(i)},e.prototype.reset=function(t){var e,i=this._props,n={};for(e in i)n[e]=void 0;for(e in t)n[e]=t[e];this.setProps(n)},e.prototype.unset=function(t){var e,i,n={};for(e="string"==typeof t?[t]:t,i=0;i<e.length;i++)n[e[i]]=void 0;this.setProps(n)},e.prototype.setProps=function(t){var e,i,n={},r=0;for(e in t)"object"!=typeof(i=t[e])&&i===this._props[e]||(n[e]=i,r++);if(r){for(e in this.trigger("before:batchChange",n),n)i=n[e],this.trigger("before:change",e,i),this.trigger("before:change:"+e,i);for(e in n)void 0===(i=n[e])?delete this._props[e]:this._props[e]=i,this.trigger("change:"+e,i),this.trigger("change",e,i);this.trigger("batchChange",n)}},e.prototype.watch=function(t,e,i,n){var r=this;this.unwatch(t),this._watchers[t]=this._watchDeps(e,(function(e){var n=i.call(r,e);n&&n.then?(r.unset(t),n.then((function(e){r.set(t,e)}))):r.set(t,n)}),(function(e){r.unset(t),n&&n.call(r,e)}))},e.prototype.unwatch=function(t){var e=this._watchers[t];e&&(delete this._watchers[t],e.teardown())},e.prototype._watchDeps=function(t,e,i){var n=this,r=0,a=t.length,o=0,s={},l=[],c=!1,u=function(t,e){n.on(t,e),l.push([t,e])};return t.forEach((function(t){var n=!1;"?"===t.charAt(0)&&(t=t.substring(1),n=!0),u("before:change:"+t,(function(t){1==++r&&o===a&&(c=!0,i(s),c=!1)})),u("change:"+t,(function(i){!function(t,i,n){void 0===i?(n||void 0===s[t]||o--,delete s[t]):(n||void 0!==s[t]||o++,s[t]=i),--r||o===a&&(c||e(s))}(t,i,n)}))})),t.forEach((function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),n.has(t)?(s[t]=n.get(t),o++):e&&o++})),o===a&&e(s),{teardown:function(){for(var t=0;t<l.length;t++)n.off(l[t][0],l[t][1]);l=null,o===a&&i()},flash:function(){o===a&&(i(),e(s))}}},e.prototype.flash=function(t){var e=this._watchers[t];e&&e.flash()},e}(r.default);e.default=s,s.prototype._globalWatchArgs={},a.default.mixInto(s),o.default.mixInto(s)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.defineStandardProps=function(t){var e=this.prototype;e.hasOwnProperty("standardPropMap")||(e.standardPropMap=Object.create(e.standardPropMap)),r.copyOwnProps(t,e.standardPropMap)},e.copyVerbatimStandardProps=function(t,e){var i,n=this.prototype.standardPropMap;for(i in n)null!=t[i]&&!0===n[i]&&(e[i]=t[i])},e.prototype.applyProps=function(t){var e,i=this.standardPropMap,n={},r={};for(e in t)!0===i[e]?this[e]=t[e]:!1===i[e]?n[e]=t[e]:r[e]=t[e];return this.applyMiscProps(r),this.applyManualStandardProps(n)},e.prototype.applyManualStandardProps=function(t){return!0},e.prototype.applyMiscProps=function(t){},e.prototype.isStandardProp=function(t){return t in this.standardPropMap},e}(i(15).default);e.default=a,a.prototype.standardPropMap={}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.def=t,this.dateProfile=e}return t.prototype.toLegacy=function(){var t=this.dateProfile,e=this.def.toLegacy();return e.start=t.start.clone(),e.end=t.end?t.end.clone():null,e},t}();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(0),o=i(37),s=i(53),l=i(16),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.isAllDay=function(){return!this.startTime&&!this.endTime},e.prototype.buildInstances=function(t){for(var e,i,n,r=this.source.calendar,a=t.getStart(),o=t.getEnd(),c=[];a.isBefore(o);)this.dowHash&&!this.dowHash[a.day()]||(i=(e=r.applyTimezone(a)).clone(),n=null,this.startTime?i.time(this.startTime):i.stripTime(),this.endTime&&(n=e.clone().time(this.endTime)),c.push(new s.default(this,new l.default(i,n,r)))),a.add(1,"days");return c},e.prototype.setDow=function(t){this.dowHash||(this.dowHash={});for(var e=0;e<t.length;e++)this.dowHash[t[e]]=!0},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.startTime&&(e.startTime=a.duration(this.startTime)),e.endTime&&(e.endTime=a.duration(this.endTime)),this.dowHash&&(e.dowHash=r.extend({},this.dowHash)),e},e}(o.default);e.default=c,c.prototype.applyProps=function(t){var e=o.default.prototype.applyProps.call(this,t);return t.start&&(this.startTime=a.duration(t.start)),t.end&&(this.endTime=a.duration(t.end)),t.dow&&this.setDow(t.dow),e},c.defineStandardProps({start:!1,end:!1,dow:!1})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(4),a=i(5),o=function(){function t(t){this._view=t}return t.prototype.opt=function(t){return this._view.opt(t)},t.prototype.trimHiddenDays=function(t){return this._view.trimHiddenDays(t)},t.prototype.msToUtcMoment=function(t,e){return this._view.calendar.msToUtcMoment(t,e)},t.prototype.buildPrev=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).subtract(t.dateIncrement);return this.build(e,-1)},t.prototype.buildNext=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).add(t.dateIncrement);return this.build(e,1)},t.prototype.build=function(t,e,i){void 0===i&&(i=!1);var r,a,o,s,l,c,u,d,h=!t.hasTime();return r=this.buildValidRange(),r=this.trimHiddenDays(r),i&&(t=this.msToUtcMoment(r.constrainDate(t),h)),s=this.buildCurrentRangeInfo(t,e),l=/^(year|month|week|day)$/.test(s.unit),c=this.buildRenderRange(this.trimHiddenDays(s.unzonedRange),s.unit,l),u=(c=this.trimHiddenDays(c)).clone(),this.opt("showNonCurrentDates")||(u=u.intersect(s.unzonedRange)),a=n.duration(this.opt("minTime")),o=n.duration(this.opt("maxTime")),(u=(u=this.adjustActiveRange(u,a,o)).intersect(r))&&(t=this.msToUtcMoment(u.constrainDate(t),h)),d=s.unzonedRange.intersectsWith(r),{validUnzonedRange:r,currentUnzonedRange:s.unzonedRange,currentRangeUnit:s.unit,isRangeAllDay:l,activeUnzonedRange:u,renderUnzonedRange:c,minTime:a,maxTime:o,isValid:d,date:t,dateIncrement:this.buildDateIncrement(s.duration)}},t.prototype.buildValidRange=function(){return this._view.getUnzonedRangeOption("validRange",this._view.calendar.getNow())||new a.default},t.prototype.buildCurrentRangeInfo=function(t,e){var i,n=this._view.viewSpec,a=null,o=null,s=null;return n.duration?(a=n.duration,o=n.durationUnit,s=this.buildRangeFromDuration(t,e,a,o)):(i=this.opt("dayCount"))?(o="day",s=this.buildRangeFromDayCount(t,e,i)):(s=this.buildCustomVisibleRange(t))?o=r.computeGreatestUnit(s.getStart(),s.getEnd()):(a=this.getFallbackDuration(),o=r.computeGreatestUnit(a),s=this.buildRangeFromDuration(t,e,a,o)),{duration:a,unit:o,unzonedRange:s}},t.prototype.getFallbackDuration=function(){return n.duration({days:1})},t.prototype.adjustActiveRange=function(t,e,i){var n=t.getStart(),r=t.getEnd();return this._view.usesMinMaxTime&&(e<0&&n.time(0).add(e),i>864e5&&r.time(i-864e5)),new a.default(n,r)},t.prototype.buildRangeFromDuration=function(t,e,i,o){var s,l,c,u,d,h=this.opt("dateAlignment");function p(){c=t.clone().startOf(h),u=c.clone().add(i),d=new a.default(c,u)}return h||((s=this.opt("dateIncrement"))?(l=n.duration(s),h=l<i?r.computeDurationGreatestUnit(l,s):o):h=o),i.as("days")<=1&&this._view.isHiddenDay(c)&&(c=this._view.skipHiddenDays(c,e)).startOf("day"),p(),this.trimHiddenDays(d)||(t=this._view.skipHiddenDays(t,e),p()),d},t.prototype.buildRangeFromDayCount=function(t,e,i){var n,r,o=this.opt("dateAlignment"),s=0;if(o||-1!==e){n=t.clone(),o&&n.startOf(o),n.startOf("day"),r=(n=this._view.skipHiddenDays(n)).clone();do{r.add(1,"day"),this._view.isHiddenDay(r)||s++}while(s<i)}else{r=t.clone().startOf("day").add(1,"day"),n=(r=this._view.skipHiddenDays(r,-1,!0)).clone();do{n.add(-1,"day"),this._view.isHiddenDay(n)||s++}while(s<i)}return new a.default(n,r)},t.prototype.buildCustomVisibleRange=function(t){var e=this._view.getUnzonedRangeOption("visibleRange",this._view.calendar.applyTimezone(t));return!e||null!=e.startMs&&null!=e.endMs?e:null},t.prototype.buildRenderRange=function(t,e,i){return t.clone()},t.prototype.buildDateIncrement=function(t){var e,i=this.opt("dateIncrement");return i?n.duration(i):(e=this.opt("dateAlignment"))?n.duration(1,e):t||n.duration({days:1})},t}();e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(21),s=i(6),l=i(9),c=function(t){function e(e){var i=t.call(this,e)||this;return i.eventDefs=[],i}return n.__extends(e,t),e.parse=function(t,e){var i;return r.isArray(t.events)?i=t:r.isArray(t)&&(i={events:t}),!!i&&s.default.parse.call(this,i,e)},e.prototype.setRawEventDefs=function(t){this.rawEventDefs=t,this.eventDefs=this.parseEventDefs(t)},e.prototype.fetch=function(t,e,i){var n,r=this.eventDefs;if(null!=this.currentTimezone&&this.currentTimezone!==i)for(n=0;n<r.length;n++)r[n]instanceof l.default&&r[n].rezone();return this.currentTimezone=i,o.default.resolve(r)},e.prototype.addEventDef=function(t){this.eventDefs.push(t)},e.prototype.removeEventDefsById=function(t){return a.removeMatching(this.eventDefs,(function(e){return e.id===t}))},e.prototype.removeAllEventDefs=function(){this.eventDefs=[]},e.prototype.getPrimitive=function(){return this.rawEventDefs},e.prototype.applyManualStandardProps=function(e){var i=t.prototype.applyManualStandardProps.call(this,e);return this.setRawEventDefs(e.events),i},e}(s.default);e.default=c,c.defineStandardProps({events:!1})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(221),r=i(222),a={};e.defineThemeSystem=function(t,e){a[t]=e},e.getThemeSystemClass=function(t){return t?!0===t?r.default:a[t]:n.default}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=function(){function t(t){this.isHorizontal=!1,this.isVertical=!1,this.els=n(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?n(t.offsetParent):null}return t.prototype.build=function(){var t=this.forcedOffsetParentEl;!t&&this.els.length>0&&(t=this.els.eq(0).offsetParent()),this.origin=t?t.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},t.prototype.clear=function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},t.prototype.ensureBuilt=function(){this.origin||this.build()},t.prototype.buildElHorizontals=function(){var t=[],e=[];this.els.each((function(i,r){var a=n(r),o=a.offset().left,s=a.outerWidth();t.push(o),e.push(o+s)})),this.lefts=t,this.rights=e},t.prototype.buildElVerticals=function(){var t=[],e=[];this.els.each((function(i,r){var a=n(r),o=a.offset().top,s=a.outerHeight();t.push(o),e.push(o+s)})),this.tops=t,this.bottoms=e},t.prototype.getHorizontalIndex=function(t){this.ensureBuilt();var e,i=this.lefts,n=this.rights,r=i.length;for(e=0;e<r;e++)if(t>=i[e]&&t<n[e])return e},t.prototype.getVerticalIndex=function(t){this.ensureBuilt();var e,i=this.tops,n=this.bottoms,r=i.length;for(e=0;e<r;e++)if(t>=i[e]&&t<n[e])return e},t.prototype.getLeftOffset=function(t){return this.ensureBuilt(),this.lefts[t]},t.prototype.getLeftPosition=function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},t.prototype.getRightOffset=function(t){return this.ensureBuilt(),this.rights[t]},t.prototype.getRightPosition=function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},t.prototype.getWidth=function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},t.prototype.getTopOffset=function(t){return this.ensureBuilt(),this.tops[t]},t.prototype.getTopPosition=function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},t.prototype.getBottomOffset=function(t){return this.ensureBuilt(),this.bottoms[t]},t.prototype.getBottomPosition=function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},t.prototype.getHeight=function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},t.prototype.queryBoundingRect=function(){var t;return this.els.length>0&&!(t=r.getScrollParent(this.els.eq(0))).is(document)&&!t.is("html,body")?r.getClientRect(t):null},t.prototype.isPointInBounds=function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},t.prototype.isLeftInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},t.prototype.isTopInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom},t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=i(7),o=i(23),s=function(){function t(t){this.isInteracting=!1,this.isDistanceSurpassed=!1,this.isDelayEnded=!1,this.isDragging=!1,this.isTouch=!1,this.isGeneric=!1,this.shouldCancelTouchScroll=!0,this.scrollAlwaysKills=!1,this.isAutoScroll=!1,this.scrollSensitivity=30,this.scrollSpeed=200,this.scrollIntervalMs=50,this.options=t||{}}return t.prototype.startInteraction=function(t,e){if(void 0===e&&(e={}),"mousedown"===t.type){if(o.default.get().shouldIgnoreMouse())return;if(!r.isPrimaryMouseButton(t))return;t.preventDefault()}this.isInteracting||(this.delay=r.firstDefined(e.delay,this.options.delay,0),this.minDistance=r.firstDefined(e.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,r.preventSelection(n("body")),this.isInteracting=!0,this.isTouch=r.getEvIsTouch(t),this.isGeneric="dragstart"===t.type,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=r.getEvX(t),this.originY=r.getEvY(t),this.scrollEl=r.getScrollParent(n(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},t.prototype.handleInteractionStart=function(t){this.trigger("interactionStart",t)},t.prototype.endInteraction=function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),r.allowSelection(n("body")))},t.prototype.handleInteractionEnd=function(t,e){this.trigger("interactionEnd",t,e||!1)},t.prototype.bindHandlers=function(){var t=o.default.get();this.isGeneric?this.listenTo(n(document),{drag:this.handleMove,dragstop:this.endInteraction}):this.isTouch?this.listenTo(t,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}):this.listenTo(t,{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t,{selectstart:r.preventDefault,contextmenu:r.preventDefault})},t.prototype.unbindHandlers=function(){this.stopListeningTo(o.default.get()),this.stopListeningTo(n(document))},t.prototype.startDrag=function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},t.prototype.handleDragStart=function(t){this.trigger("dragStart",t)},t.prototype.handleMove=function(t){var e=r.getEvX(t)-this.originX,i=r.getEvY(t)-this.originY,n=this.minDistance;this.isDistanceSurpassed||e*e+i*i>=n*n&&this.handleDistanceSurpassed(t),this.isDragging&&this.handleDrag(e,i,t)},t.prototype.handleDrag=function(t,e,i){this.trigger("drag",t,e,i),this.updateAutoScroll(i)},t.prototype.endDrag=function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},t.prototype.handleDragEnd=function(t){this.trigger("dragEnd",t)},t.prototype.startDelay=function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout((function(){e.handleDelayEnd(t)}),this.delay):this.handleDelayEnd(t)},t.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},t.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},t.prototype.handleTouchMove=function(t){this.isDragging&&this.shouldCancelTouchScroll&&t.preventDefault(),this.handleMove(t)},t.prototype.handleMouseMove=function(t){this.handleMove(t)},t.prototype.handleTouchScroll=function(t){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(t,!0)},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.options[t]&&this.options[t].apply(this,e),this["_"+t]&&this["_"+t].apply(this,e)},t.prototype.initAutoScroll=function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",r.debounce(this.handleDebouncedScroll,100))},t.prototype.destroyAutoScroll=function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},t.prototype.computeScrollBounds=function(){this.isAutoScroll&&(this.scrollBounds=r.getOuterRect(this.scrollEl))},t.prototype.updateAutoScroll=function(t){var e,i,n,a,o=this.scrollSensitivity,s=this.scrollBounds,l=0,c=0;s&&(e=(o-(r.getEvY(t)-s.top))/o,i=(o-(s.bottom-r.getEvY(t)))/o,n=(o-(r.getEvX(t)-s.left))/o,a=(o-(s.right-r.getEvX(t)))/o,e>=0&&e<=1?l=e*this.scrollSpeed*-1:i>=0&&i<=1&&(l=i*this.scrollSpeed),n>=0&&n<=1?c=n*this.scrollSpeed*-1:a>=0&&a<=1&&(c=a*this.scrollSpeed)),this.setScrollVel(l,c)},t.prototype.setScrollVel=function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(r.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},t.prototype.constrainScrollVel=function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},t.prototype.scrollIntervalFunc=function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},t.prototype.endAutoScroll=function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},t.prototype.handleDebouncedScroll=function(){this.scrollIntervalId||this.handleScrollEnd()},t.prototype.handleScrollEnd=function(){},t}();e.default=s,a.default.mixInto(s)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.updateDayTable=function(){for(var t,e,i,n=this,r=n.view,a=r.calendar,o=a.msToUtcMoment(n.dateProfile.renderUnzonedRange.startMs,!0),s=a.msToUtcMoment(n.dateProfile.renderUnzonedRange.endMs,!0),l=-1,c=[],u=[];o.isBefore(s);)r.isHiddenDay(o)?c.push(l+.5):(l++,c.push(l),u.push(o.clone())),o.add(1,"days");if(this.breakOnWeeks){for(e=u[0].day(),t=1;t<u.length&&u[t].day()!==e;t++);i=Math.ceil(u.length/t)}else i=1,t=u.length;this.dayDates=u,this.dayIndices=c,this.daysPerRow=t,this.rowCnt=i,this.updateDayTableCols()},e.prototype.updateDayTableCols=function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.opt("columnHeaderFormat")||this.opt("columnFormat")||this.computeColHeadFormat()},e.prototype.computeColCnt=function(){return this.daysPerRow},e.prototype.getCellDate=function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},e.prototype.getCellRange=function(t,e){var i=this.getCellDate(t,e),n=i.clone().add(1,"days");return{start:i,end:n}},e.prototype.getCellDayIndex=function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},e.prototype.getColDayIndex=function(t){return this.isRTL?this.colCnt-1-t:t},e.prototype.getDateDayIndex=function(t){var e=this.dayIndices,i=t.diff(this.dayDates[0],"days");return i<0?e[0]-1:i>=e.length?e[e.length-1]+1:e[i]},e.prototype.computeColHeadFormat=function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.opt("dayOfMonthFormat"):"dddd"},e.prototype.sliceRangeByRow=function(t){var e,i,n,r,a,o=this.daysPerRow,s=this.view.computeDayRange(t),l=this.getDateDayIndex(s.start),c=this.getDateDayIndex(s.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)n=(i=e*o)+o-1,r=Math.max(l,i),a=Math.min(c,n),(r=Math.ceil(r))<=(a=Math.floor(a))&&u.push({row:e,firstRowDayIndex:r-i,lastRowDayIndex:a-i,isStart:r===l,isEnd:a===c});return u},e.prototype.sliceRangeByDay=function(t){var e,i,n,r,a,o,s=this.daysPerRow,l=this.view.computeDayRange(t),c=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(n=(i=e*s)+s-1,r=i;r<=n;r++)a=Math.max(c,r),o=Math.min(u,r),(a=Math.ceil(a))<=(o=Math.floor(o))&&d.push({row:e,firstRowDayIndex:a-i,lastRowDayIndex:o-i,isStart:a===c,isEnd:o===u});return d},e.prototype.renderHeadHtml=function(){var t=this.view.calendar.theme;return'<div class="fc-row '+t.getClass("headerRow")+'"><table class="'+t.getClass("tableGrid")+'"><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},e.prototype.renderHeadIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderHeadTrHtml=function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},e.prototype.renderHeadDateCellsHtml=function(){var t,e,i=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),i.push(this.renderHeadDateCellHtml(e));return i.join("")},e.prototype.renderHeadDateCellHtml=function(t,e,i){var n,a=this,o=a.view,s=a.dateProfile.activeUnzonedRange.containsDate(t),l=["fc-day-header",o.calendar.theme.getClass("widgetHeader")];return n="function"==typeof a.opt("columnHeaderHtml")?a.opt("columnHeaderHtml")(t):"function"==typeof a.opt("columnHeaderText")?r.htmlEscape(a.opt("columnHeaderText")(t)):r.htmlEscape(t.format(a.colHeadFormat)),1===a.rowCnt?l=l.concat(a.getDayClasses(t,!0)):l.push("fc-"+r.dayIDs[t.day()]),'<th class="'+l.join(" ")+'"'+(1===(s&&a.rowCnt)?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(i?" "+i:"")+">"+(s?o.buildGotoAnchorHtml({date:t,forceOff:a.rowCnt>1||1===a.colCnt},n):n)+"</th>"},e.prototype.renderBgTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},e.prototype.renderBgIntroHtml=function(t){return this.renderIntroHtml()},e.prototype.renderBgCellsHtml=function(t){var e,i,n=[];for(e=0;e<this.colCnt;e++)i=this.getCellDate(t,e),n.push(this.renderBgCellHtml(i));return n.join("")},e.prototype.renderBgCellHtml=function(t,e){var i=this,n=i.view,r=i.dateProfile.activeUnzonedRange.containsDate(t),a=i.getDayClasses(t);return a.unshift("fc-day",n.calendar.theme.getClass("widgetContent")),'<td class="'+a.join(" ")+'"'+(r?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e?" "+e:"")+"></td>"},e.prototype.renderIntroHtml=function(){},e.prototype.bookendCells=function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))},e}(i(15).default);e.default=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.component=t,this.fillRenderer=e}return t.prototype.render=function(t){var e=this.component,i=e._getDateProfile().activeUnzonedRange,n=t.buildEventInstanceGroup(e.hasAllDayBusinessHours,i),r=n?e.eventRangesToEventFootprints(n.sliceRenderRanges(i)):[];this.renderEventFootprints(r)},t.prototype.renderEventFootprints=function(t){var e=this.component.eventFootprintsToSegs(t);this.renderSegs(e),this.segs=e},t.prototype.renderSegs=function(t){this.fillRenderer&&this.fillRenderer.renderSegs("businessHours",t,{getClasses:function(t){return["fc-nonbusiness","fc-bgevent"]}})},t.prototype.unrender=function(){this.fillRenderer&&this.fillRenderer.unrender("businessHours"),this.segs=null},t.prototype.getSegs=function(){return this.segs||[]},t}();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=function(){function t(t){this.fillSegTag="div",this.component=t,this.elsByFill={}}return t.prototype.renderFootprint=function(t,e,i){this.renderSegs(t,this.component.componentFootprintToSegs(e),i)},t.prototype.renderSegs=function(t,e,i){var n;return e=this.buildSegEls(t,e,i),(n=this.attachSegEls(t,e))&&this.reportEls(t,n),e},t.prototype.unrender=function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},t.prototype.buildSegEls=function(t,e,i){var r,a=this,o="",s=[];if(e.length){for(r=0;r<e.length;r++)o+=this.buildSegHtml(t,e[r],i);n(o).each((function(t,r){var o=e[t],l=n(r);i.filterEl&&(l=i.filterEl(o,l)),l&&(l=n(l)).is(a.fillSegTag)&&(o.el=l,s.push(o))}))}return s},t.prototype.buildSegHtml=function(t,e,i){var n=i.getClasses?i.getClasses(e):[],a=r.cssToStr(i.getCss?i.getCss(e):{});return"<"+this.fillSegTag+(n.length?' class="'+n.join(" ")+'"':"")+(a?' style="'+a+'"':"")+" />"},t.prototype.attachSegEls=function(t,e){},t.prototype.reportEls=function(t,e){this.elsByFill[t]?this.elsByFill[t]=this.elsByFill[t].add(e):this.elsByFill[t]=n(e)},t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(34),a=i(6),o=function(){function t(t,e){this.view=t._getView(),this.component=t,this.eventRenderer=e}return t.prototype.renderComponentFootprint=function(t){this.renderEventFootprints([this.fabricateEventFootprint(t)])},t.prototype.renderEventDraggingFootprints=function(t,e,i){this.renderEventFootprints(t,e,"fc-dragging",i?null:this.view.opt("dragOpacity"))},t.prototype.renderEventResizingFootprints=function(t,e,i){this.renderEventFootprints(t,e,"fc-resizing")},t.prototype.renderEventFootprints=function(t,e,i,n){var r,a=this.component.eventFootprintsToSegs(t),o="fc-helper "+(i||"");for(a=this.eventRenderer.renderFgSegEls(a),r=0;r<a.length;r++)a[r].el.addClass(o);if(null!=n)for(r=0;r<a.length;r++)a[r].el.css("opacity",n);this.helperEls=this.renderSegs(a,e)},t.prototype.renderSegs=function(t,e){},t.prototype.unrender=function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},t.prototype.fabricateEventFootprint=function(t){var e,i=this.view.calendar,o=i.footprintToDateProfile(t),s=new n.default(new a.default(i));return s.dateProfile=o,e=s.buildInstance(),new r.default(t,s,e)},t}();e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(23),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"click",this.handleClick.bind(this)),e.bindSegHandlerToEl(t,"mouseenter",this.handleMouseover.bind(this)),e.bindSegHandlerToEl(t,"mouseleave",this.handleMouseout.bind(this))},e.prototype.handleClick=function(t,e){!1===this.component.publiclyTrigger("eventClick",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]})&&e.preventDefault()},e.prototype.handleMouseover=function(t,e){r.default.get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=t,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.addClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseover",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]}))},e.prototype.handleMouseout=function(t,e){this.mousedOverSeg&&(this.mousedOverSeg=null,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.removeClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseout",{context:t.el[0],args:[t.footprint.getEventLegacy(),e||{},this.view]}))},e.prototype.end=function(){this.mousedOverSeg&&this.handleMouseout(this.mousedOverSeg)},e}(i(14).default);e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(15),a=i(237),o=i(236),s=i(64),l=i(235),c=i(234),u=i(233),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(r.default);e.default=d,d.prototype.dateClickingClass=a.default,d.prototype.dateSelectingClass=o.default,d.prototype.eventPointingClass=s.default,d.prototype.eventDraggingClass=l.default,d.prototype.eventResizingClass=c.default,d.prototype.externalDroppingClass=u.default},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(58),s=i(227),l=i(5),c=i(12),u=i(34),d=i(61),h=i(65),p=i(42),f=i(60),m=i(243),g=i(244),y=i(245),v=function(t){function e(e){var i=t.call(this,e)||this;return i.cellWeekNumbersVisible=!1,i.bottomCoordPadding=0,i.isRigid=!1,i.hasAllDayBusinessHours=!0,i}return n.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,i,n=this.sliceRangeByRow(t.unzonedRange);for(e=0;e<n.length;e++)i=n[e],this.isRTL?(i.leftCol=this.daysPerRow-1-i.lastRowDayIndex,i.rightCol=this.daysPerRow-1-i.firstRowDayIndex):(i.leftCol=i.firstRowDayIndex,i.rightCol=i.lastRowDayIndex);return n},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderGrid()},e.prototype.unrenderDates=function(){this.removeSegPopover()},e.prototype.renderGrid=function(){var t,e,i=this.view,n=this.rowCnt,r=this.colCnt,a="";for(this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),t=0;t<n;t++)a+=this.renderDayRowHtml(t,this.isRigid);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day, .fc-disabled-day"),this.rowCoordCache=new o.default({els:this.rowEls,isVertical:!0}),this.colCoordCache=new o.default({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<n;t++)for(e=0;e<r;e++)this.publiclyTrigger("dayRender",{context:i,args:[this.getCellDate(t,e),this.getCellEl(t,e),i]})},e.prototype.renderDayRowHtml=function(t,e){var i=this.view.calendar.theme,n=["fc-row","fc-week",i.getClass("dayRow")];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table class="'+i.getClass("tableGrid")+'">'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},e.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.cellWeekNumbersVisible},e.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},e.prototype.renderNumberTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},e.prototype.renderNumberIntroHtml=function(t){return this.renderIntroHtml()},e.prototype.renderNumberCellsHtml=function(t){var e,i,n=[];for(e=0;e<this.colCnt;e++)i=this.getCellDate(t,e),n.push(this.renderNumberCellHtml(i));return n.join("")},e.prototype.renderNumberCellHtml=function(t){var e,i,n=this.view,r="",a=this.dateProfile.activeUnzonedRange.containsDate(t),o=this.getIsDayNumbersVisible()&&a;return o||this.cellWeekNumbersVisible?((e=this.getDayClasses(t)).unshift("fc-day-top"),this.cellWeekNumbersVisible&&(i="ISO"===t._locale._fullCalendar_weekCalc?1:t._locale.firstDayOfWeek()),r+='<td class="'+e.join(" ")+'"'+(a?' data-date="'+t.format()+'"':"")+">",this.cellWeekNumbersVisible&&t.day()===i&&(r+=n.buildGotoAnchorHtml({date:t,type:"week"},{class:"fc-week-number"},t.format("w"))),o&&(r+=n.buildGotoAnchorHtml(t,{class:"fc-day-number"},t.format("D"))),r+="</td>"):"<td/>"},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},e.prototype.releaseHits=function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},e.prototype.queryHit=function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var i=this.colCoordCache.getHorizontalIndex(t),n=this.rowCoordCache.getVerticalIndex(e);if(null!=n&&null!=i)return this.getCellHit(n,i)}},e.prototype.getHitFootprint=function(t){var e=this.getCellRange(t.row,t.col);return new c.default(new l.default(e.start,e.end),!0)},e.prototype.getHitEl=function(t){return this.getCellEl(t.row,t.col)},e.prototype.getCellHit=function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},e.prototype.getCellEl=function(t,e){return this.cellEls.eq(t*this.colCnt+e)},e.prototype.executeEventUnrender=function(){this.removeSegPopover(),t.prototype.executeEventUnrender.call(this)},e.prototype.getOwnEventSegs=function(){return t.prototype.getOwnEventSegs.call(this).concat(this.popoverSegs||[])},e.prototype.renderDrag=function(t,e,i){var n;for(n=0;n<t.length;n++)this.renderHighlight(t[n].componentFootprint);if(t.length&&e&&e.component!==this)return this.helperRenderer.renderEventDraggingFootprints(t,e,i),!0},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,i){var n;for(n=0;n<t.length;n++)this.renderHighlight(t[n].componentFootprint);this.helperRenderer.renderEventResizingFootprints(t,e,i)},e.prototype.unrenderEventResize=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},e.prototype.limitRows=function(t){var e,i,n=this.eventRenderer.rowStructs||[];for(e=0;e<n.length;e++)this.unlimitRow(e),!1!==(i=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,i)},e.prototype.computeRowLevelLimit=function(t){var e,i,n,a=this.rowEls.eq(t).height(),o=this.eventRenderer.rowStructs[t].tbodyEl.children();function s(t,e){n=Math.max(n,r(e).outerHeight())}for(e=0;e<o.length;e++)if(i=o.eq(e).removeClass("fc-limited"),n=0,i.find("> td > :first-child").each(s),i.position().top+n>a)return e;return!1},e.prototype.limitRow=function(t,e){var i,n,a,o,s,l,c,u,d,h,p,f,m,g,y,v=this,_=this.eventRenderer.rowStructs[t],b=[],x=0,w=function(i){for(;x<i;)(l=v.getCellSegs(t,x,e)).length&&(d=n[e-1][x],y=v.renderMoreLink(t,x,l),g=r("<div/>").append(y),d.append(g),b.push(g[0])),x++};if(e&&e<_.segLevels.length){for(i=_.segLevels[e-1],n=_.cellMatrix,a=_.tbodyEl.children().slice(e).addClass("fc-limited").get(),o=0;o<i.length;o++){for(w((s=i[o]).leftCol),u=[],c=0;x<=s.rightCol;)l=this.getCellSegs(t,x,e),u.push(l),c+=l.length,x++;if(c){for(h=(d=n[e-1][s.leftCol]).attr("rowspan")||1,p=[],f=0;f<u.length;f++)m=r('<td class="fc-more-cell"/>').attr("rowspan",h),l=u[f],y=this.renderMoreLink(t,s.leftCol+f,[s].concat(l)),g=r("<div/>").append(y),m.append(g),p.push(m[0]),b.push(m[0]);d.addClass("fc-limited").after(r(p)),a.push(d[0])}}w(this.colCnt),_.moreEls=r(b),_.limitedEls=r(a)}},e.prototype.unlimitRow=function(t){var e=this.eventRenderer.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},e.prototype.renderMoreLink=function(t,e,i){var n=this,a=this.view;return r('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",(function(o){var s=n.opt("eventLimitClick"),l=n.getCellDate(t,e),c=r(o.currentTarget),u=n.getCellEl(t,e),d=n.getCellSegs(t,e),h=n.resliceDaySegs(d,l),p=n.resliceDaySegs(i,l);"function"==typeof s&&(s=n.publiclyTrigger("eventLimitClick",{context:a,args:[{date:l.clone(),dayEl:u,moreEl:c,segs:h,hiddenSegs:p},o,a]})),"popover"===s?n.showSegPopover(t,e,c,h):"string"==typeof s&&a.calendar.zoomTo(l,s)}))},e.prototype.showSegPopover=function(t,e,i,n){var r,a,o=this,l=this.view,c=i.parent();r=1===this.rowCnt?l.el:this.rowEls.eq(t),a={className:"fc-more-popover "+l.calendar.theme.getClass("popover"),content:this.renderSegPopoverContent(t,e,n),parentEl:l.el,top:r.offset().top,autoHide:!0,viewportConstrain:this.opt("popoverViewportConstrain"),hide:function(){o.popoverSegs&&o.triggerBeforeEventSegsDestroyed(o.popoverSegs),o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?a.right=c.offset().left+c.outerWidth()+1:a.left=c.offset().left-1,this.segPopover=new s.default(a),this.segPopover.show(),this.bindAllSegHandlersToEl(this.segPopover.el),this.triggerAfterEventSegsRendered(n)},e.prototype.renderSegPopoverContent=function(t,e,i){var n,o=this.view.calendar.theme,s=this.getCellDate(t,e).format(this.opt("dayPopoverFormat")),l=r('<div class="fc-header '+o.getClass("popoverHeader")+'"><span class="fc-close '+o.getIconClass("close")+'"></span><span class="fc-title">'+a.htmlEscape(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(i=this.eventRenderer.renderFgSegEls(i,!0),this.popoverSegs=i,n=0;n<i.length;n++)this.hitsNeeded(),i[n].hit=this.getCellHit(t,e),this.hitsNotNeeded(),c.append(i[n].el);return l},e.prototype.resliceDaySegs=function(t,e){var i,n,a,o=e.clone(),s=o.clone().add(1,"days"),d=new l.default(o,s),h=[];for(i=0;i<t.length;i++)(a=(n=t[i]).footprint.componentFootprint.unzonedRange.intersect(d))&&h.push(r.extend({},n,{footprint:new u.default(new c.default(a,n.footprint.componentFootprint.isAllDay),n.footprint.eventDef,n.footprint.eventInstance),isStart:n.isStart&&a.isStart,isEnd:n.isEnd&&a.isEnd}));return this.eventRenderer.sortEventSegs(h),h},e.prototype.getMoreLinkText=function(t){var e=this.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},e.prototype.getCellSegs=function(t,e,i){for(var n,r=this.eventRenderer.rowStructs[t].segMatrix,a=i||0,o=[];a<r.length;)(n=r[a][e])&&o.push(n),a++;return o},e}(p.default);e.default=v,v.prototype.eventRendererClass=m.default,v.prototype.businessHourRendererClass=d.default,v.prototype.helperRendererClass=g.default,v.prototype.fillRendererClass=y.default,h.default.mixInto(v),f.default.mixInto(v)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(41),s=i(43),l=i(68),c=i(66),u=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.dayGrid=n.instantiateDayGrid(),n.dayGrid.isRigid=n.hasRigidRows(),n.opt("weekNumbers")&&(n.opt("weekNumbersWithinDays")?(n.dayGrid.cellWeekNumbersVisible=!0,n.dayGrid.colWeekNumbersVisible=!1):(n.dayGrid.cellWeekNumbersVisible=!1,n.dayGrid.colWeekNumbersVisible=!0)),n.addChild(n.dayGrid),n.scroller=new o.default({overflowX:"hidden",overflowY:"auto"}),n}return n.__extends(e,t),e.prototype.instantiateDayGrid=function(){return new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colWeekNumbersVisible=!1,e}return n.__extends(e,t),e.prototype.renderHeadIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<th class="fc-week-number '+t.calendar.theme.getClass("widgetHeader")+'" '+t.weekNumberStyleAttr()+"><span>"+a.htmlEscape(this.opt("weekNumberTitle"))+"</span></th>":""},e.prototype.renderNumberIntroHtml=function(t){var e=this.view,i=this.getCellDate(t,0);return this.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+e.buildGotoAnchorHtml({date:i,type:"week",forceOff:1===this.colCnt},i.format("w"))+"</td>":""},e.prototype.renderBgIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number '+t.calendar.theme.getClass("widgetContent")+'" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.renderIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.getIsNumbersVisible=function(){return c.default.prototype.getIsNumbersVisible.apply(this,arguments)||this.colWeekNumbersVisible},e}(this.dayGridClass))(this)},e.prototype.executeDateRender=function(e){this.dayGrid.breakOnWeeks=/year|month|week/.test(e.currentRangeUnit),t.prototype.executeDateRender.call(this,e)},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-day-grid-container"),e=r('<div class="fc-day-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.dayGrid.headContainerEl=this.el.find(".fc-head-container"),this.dayGrid.setElement(e)},e.prototype.unrenderSkeleton=function(){this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},e.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},e.prototype.hasRigidRows=function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},e.prototype.updateSize=function(e,i,n){var r,o,s=this.opt("eventLimit"),l=this.dayGrid.headContainerEl.find(".fc-row");this.dayGrid.rowEls?(t.prototype.updateSize.call(this,e,i,n),this.dayGrid.colWeekNumbersVisible&&(this.weekNumberWidth=a.matchCellWidths(this.el.find(".fc-week-number"))),this.scroller.clear(),a.uncompensateScroll(l),this.dayGrid.removeSegPopover(),s&&"number"==typeof s&&this.dayGrid.limitRows(s),r=this.computeScrollerHeight(e),this.setGridHeight(r,i),s&&"number"!=typeof s&&this.dayGrid.limitRows(s),i||(this.scroller.setHeight(r),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(a.compensateScroll(l,o),r=this.computeScrollerHeight(e),this.scroller.setHeight(r)),this.scroller.lockOverflow(o))):i||(r=this.computeScrollerHeight(e),this.scroller.setHeight(r))},e.prototype.computeScrollerHeight=function(t){return t-a.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.setGridHeight=function(t,e){e?a.undistributeHeight(this.dayGrid.rowEls):a.distributeHeight(this.dayGrid.rowEls,t,!0)},e.prototype.computeInitialDateScroll=function(){return{top:0}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){void 0!==t.top&&this.scroller.setScrollTop(t.top)},e}(s.default);e.default=u,u.prototype.dateProfileGeneratorClass=l.default,u.prototype.dayGridClass=c.default},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.buildRenderRange=function(e,i,n){var a=t.prototype.buildRenderRange.call(this,e,i,n),o=this.msToUtcMoment(a.startMs,n),s=this.msToUtcMoment(a.endMs,n);return/^(year|month)$/.test(i)&&(o.startOf("week"),s.weekday()&&s.add(1,"week").startOf("week")),new r.default(o,s)},e}(i(55).default);e.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),r=i(12),a=i(36),o=i(6),s=i(19),l=function(){function t(t,e){this.eventManager=t,this._calendar=e}return t.prototype.opt=function(t){return this._calendar.opt(t)},t.prototype.isEventInstanceGroupAllowed=function(t){var e,i=t.getEventDef(),n=this.eventRangesToEventFootprints(t.getAllEventRanges()),r=this.getPeerEventInstances(i).map(s.eventInstanceToEventRange),a=this.eventRangesToEventFootprints(r),o=i.getConstraint(),l=i.getOverlap(),c=this.opt("eventAllow");for(e=0;e<n.length;e++)if(!this.isFootprintAllowed(n[e].componentFootprint,a,o,l,n[e].eventInstance))return!1;if(c)for(e=0;e<n.length;e++)if(!1===c(n[e].componentFootprint.toLegacy(this._calendar),n[e].getEventLegacy()))return!1;return!0},t.prototype.getPeerEventInstances=function(t){return this.eventManager.getEventInstancesWithoutId(t.id)},t.prototype.isSelectionFootprintAllowed=function(t){var e,i=this.eventManager.getEventInstances().map(s.eventInstanceToEventRange),n=this.eventRangesToEventFootprints(i);return!(!this.isFootprintAllowed(t,n,this.opt("selectConstraint"),this.opt("selectOverlap"))||(e=this.opt("selectAllow"))&&!1===e(t.toLegacy(this._calendar)))},t.prototype.isFootprintAllowed=function(t,e,i,n,r){var a,o;if(null!=i&&(a=this.constraintValToFootprints(i,t.isAllDay),!this.isFootprintWithinConstraints(t,a)))return!1;if(o=this.collectOverlapEventFootprints(e,t),!1===n){if(o.length)return!1}else if("function"==typeof n&&!function(t,e,i){var n;for(n=0;n<t.length;n++)if(!e(t[n].eventInstance.toLegacy(),i?i.toLegacy():null))return!1;return!0}(o,n,r))return!1;return!(r&&!function(t,e){var i,n,r,a,o=e.toLegacy();for(i=0;i<t.length;i++){if(n=t[i].eventInstance,r=n.def,!1===(a=r.getOverlap()))return!1;if("function"==typeof a&&!a(n.toLegacy(),o))return!1}return!0}(o,r))},t.prototype.isFootprintWithinConstraints=function(t,e){var i;for(i=0;i<e.length;i++)if(this.footprintContainsFootprint(e[i],t))return!0;return!1},t.prototype.constraintValToFootprints=function(t,e){var i;return"businessHours"===t?this.buildCurrentBusinessFootprints(e):"object"==typeof t?(i=this.parseEventDefToInstances(t))?this.eventInstancesToFootprints(i):this.parseFootprints(t):null!=t?(i=this.eventManager.getEventInstancesWithId(t),this.eventInstancesToFootprints(i)):void 0},t.prototype.buildCurrentBusinessFootprints=function(t){var e=this._calendar.view,i=e.get("businessHourGenerator"),n=e.dateProfile.activeUnzonedRange,r=i.buildEventInstanceGroup(t,n);return r?this.eventInstancesToFootprints(r.eventInstances):[]},t.prototype.eventInstancesToFootprints=function(t){var e=t.map(s.eventInstanceToEventRange);return this.eventRangesToEventFootprints(e).map(s.eventFootprintToComponentFootprint)},t.prototype.collectOverlapEventFootprints=function(t,e){var i,n=[];for(i=0;i<t.length;i++)this.footprintsIntersect(e,t[i].componentFootprint)&&n.push(t[i]);return n},t.prototype.parseEventDefToInstances=function(t){var e=this.eventManager,i=a.default.parse(t,new o.default(this._calendar));return!!i&&i.buildInstances(e.currentPeriod.unzonedRange)},t.prototype.eventRangesToEventFootprints=function(t){var e,i=[];for(e=0;e<t.length;e++)i.push.apply(i,this.eventRangeToEventFootprints(t[e]));return i},t.prototype.eventRangeToEventFootprints=function(t){return[s.eventRangeToEventFootprint(t)]},t.prototype.parseFootprints=function(t){var e,i;return t.start&&((e=this._calendar.moment(t.start)).isValid()||(e=null)),t.end&&((i=this._calendar.moment(t.end)).isValid()||(i=null)),[new r.default(new n.default(e,i),e&&!e.hasTime()||i&&!i.hasTime())]},t.prototype.footprintContainsFootprint=function(t,e){return t.unzonedRange.containsRange(e.unzonedRange)},t.prototype.footprintsIntersect=function(t,e){return t.unzonedRange.intersectsWith(e.unzonedRange)},t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(19),a=i(20),o=i(54),s=i(6),l={start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},c=function(){function t(t,e){this.rawComplexDef=t,this.calendar=e}return t.prototype.buildEventInstanceGroup=function(t,e){var i,n=this.buildEventDefs(t);if(n.length)return(i=new a.default(r.eventDefsToEventInstances(n,e))).explicitEventDef=n[0],i},t.prototype.buildEventDefs=function(t){var e,i=this.rawComplexDef,r=[],a=!1,o=[];for(!0===i?r=[{}]:n.isPlainObject(i)?r=[i]:n.isArray(i)&&(r=i,a=!0),e=0;e<r.length;e++)a&&!r[e].dow||o.push(this.buildEventDef(t,r[e]));return o},t.prototype.buildEventDef=function(t,e){var i=n.extend({},l,e);return t&&(i.start=null,i.end=null),o.default.parse(i,new s.default(this.calendar))},t}();e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=i(21),o=i(13),s=i(5),l=i(20),c=function(){function t(t,e,i){this.pendingCnt=0,this.freezeDepth=0,this.stuntedReleaseCnt=0,this.releaseCnt=0,this.start=t,this.end=e,this.timezone=i,this.unzonedRange=new s.default(t.clone().stripZone(),e.clone().stripZone()),this.requestsByUid={},this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={}}return t.prototype.isWithinRange=function(t,e){return!t.isBefore(this.start)&&!e.isAfter(this.end)},t.prototype.requestSources=function(t){this.freeze();for(var e=0;e<t.length;e++)this.requestSource(t[e]);this.thaw()},t.prototype.requestSource=function(t){var e=this,i={source:t,status:"pending",eventDefs:null};this.requestsByUid[t.uid]=i,this.pendingCnt+=1,t.fetch(this.start,this.end,this.timezone).then((function(t){"cancelled"!==i.status&&(i.status="completed",i.eventDefs=t,e.addEventDefs(t),e.pendingCnt--,e.tryRelease())}),(function(){"cancelled"!==i.status&&(i.status="failed",e.pendingCnt--,e.tryRelease())}))},t.prototype.purgeSource=function(t){var e=this.requestsByUid[t.uid];e&&(delete this.requestsByUid[t.uid],"pending"===e.status?(e.status="cancelled",this.pendingCnt--,this.tryRelease()):"completed"===e.status&&e.eventDefs.forEach(this.removeEventDef.bind(this)))},t.prototype.purgeAllSources=function(){var t,e,i=this.requestsByUid,n=0;for(t in i)"pending"===(e=i[t]).status?e.status="cancelled":"completed"===e.status&&n++;this.requestsByUid={},this.pendingCnt=0,n&&this.removeAllEventDefs()},t.prototype.getEventDefByUid=function(t){return this.eventDefsByUid[t]},t.prototype.getEventDefsById=function(t){var e=this.eventDefsById[t];return e?e.slice():[]},t.prototype.addEventDefs=function(t){for(var e=0;e<t.length;e++)this.addEventDef(t[e])},t.prototype.addEventDef=function(t){var e,i=this.eventDefsById,n=t.id,r=i[n]||(i[n]=[]),a=t.buildInstances(this.unzonedRange);for(r.push(t),this.eventDefsByUid[t.uid]=t,e=0;e<a.length;e++)this.addEventInstance(a[e],n)},t.prototype.removeEventDefsById=function(t){var e=this;this.getEventDefsById(t).forEach((function(t){e.removeEventDef(t)}))},t.prototype.removeAllEventDefs=function(){var t=n.isEmptyObject(this.eventDefsByUid);this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={},t||this.tryRelease()},t.prototype.removeEventDef=function(t){var e=this.eventDefsById,i=e[t.id];delete this.eventDefsByUid[t.uid],i&&(r.removeExact(i,t),i.length||delete e[t.id],this.removeEventInstancesForDef(t))},t.prototype.getEventInstances=function(){var t,e=this.eventInstanceGroupsById,i=[];for(t in e)i.push.apply(i,e[t].eventInstances);return i},t.prototype.getEventInstancesWithId=function(t){var e=this.eventInstanceGroupsById[t];return e?e.eventInstances.slice():[]},t.prototype.getEventInstancesWithoutId=function(t){var e,i=this.eventInstanceGroupsById,n=[];for(e in i)e!==t&&n.push.apply(n,i[e].eventInstances);return n},t.prototype.addEventInstance=function(t,e){var i=this.eventInstanceGroupsById;(i[e]||(i[e]=new l.default)).eventInstances.push(t),this.tryRelease()},t.prototype.removeEventInstancesForDef=function(t){var e,i=this.eventInstanceGroupsById,n=i[t.id];n&&(e=r.removeMatching(n.eventInstances,(function(e){return e.def===t})),n.eventInstances.length||delete i[t.id],e&&this.tryRelease())},t.prototype.tryRelease=function(){this.pendingCnt||(this.freezeDepth?this.stuntedReleaseCnt++:this.release())},t.prototype.release=function(){this.releaseCnt++,this.trigger("release",this.eventInstanceGroupsById)},t.prototype.whenReleased=function(){var t=this;return this.releaseCnt?a.default.resolve(this.eventInstanceGroupsById):a.default.construct((function(e){t.one("release",e)}))},t.prototype.freeze=function(){this.freezeDepth++||(this.stuntedReleaseCnt=0)},t.prototype.thaw=function(){--this.freezeDepth||!this.stuntedReleaseCnt||this.pendingCnt||this.release()},t}();e.default=c,o.default.mixInto(c)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=i(219),o=i(56),s=i(6),l=i(38),c=i(9),u=i(20),d=i(13),h=i(7),p=function(){function t(t){this.calendar=t,this.stickySource=new o.default(t),this.otherSources=[]}return t.prototype.requestEvents=function(t,e,i,n){return!n&&this.currentPeriod&&this.currentPeriod.isWithinRange(t,e)&&i===this.currentPeriod.timezone||this.setPeriod(new a.default(t,e,i)),this.currentPeriod.whenReleased()},t.prototype.addSource=function(t){this.otherSources.push(t),this.currentPeriod&&this.currentPeriod.requestSource(t)},t.prototype.removeSource=function(t){r.removeExact(this.otherSources,t),this.currentPeriod&&this.currentPeriod.purgeSource(t)},t.prototype.removeAllSources=function(){this.otherSources=[],this.currentPeriod&&this.currentPeriod.purgeAllSources()},t.prototype.refetchSource=function(t){var e=this.currentPeriod;e&&(e.freeze(),e.purgeSource(t),e.requestSource(t),e.thaw())},t.prototype.refetchAllSources=function(){var t=this.currentPeriod;t&&(t.freeze(),t.purgeAllSources(),t.requestSources(this.getSources()),t.thaw())},t.prototype.getSources=function(){return[this.stickySource].concat(this.otherSources)},t.prototype.multiQuerySources=function(t){t?n.isArray(t)||(t=[t]):t=[];var e,i=[];for(e=0;e<t.length;e++)i.push.apply(i,this.querySources(t[e]));return i},t.prototype.querySources=function(t){var e,i,r=this.otherSources;for(e=0;e<r.length;e++)if((i=r[e])===t)return[i];return(i=this.getSourceById(s.default.normalizeId(t)))?[i]:(t=l.default.parse(t,this.calendar))?n.grep(r,(function(e){return i=e,t.getPrimitive()===i.getPrimitive();var i})):void 0},t.prototype.getSourceById=function(t){return n.grep(this.otherSources,(function(e){return e.id&&e.id===t}))[0]},t.prototype.setPeriod=function(t){this.currentPeriod&&(this.unbindPeriod(this.currentPeriod),this.currentPeriod=null),this.currentPeriod=t,this.bindPeriod(t),t.requestSources(this.getSources())},t.prototype.bindPeriod=function(t){this.listenTo(t,"release",(function(t){this.trigger("release",t)}))},t.prototype.unbindPeriod=function(t){this.stopListeningTo(t)},t.prototype.getEventDefByUid=function(t){if(this.currentPeriod)return this.currentPeriod.getEventDefByUid(t)},t.prototype.addEventDef=function(t,e){e&&this.stickySource.addEventDef(t),this.currentPeriod&&this.currentPeriod.addEventDef(t)},t.prototype.removeEventDefsById=function(t){this.getSources().forEach((function(e){e.removeEventDefsById(t)})),this.currentPeriod&&this.currentPeriod.removeEventDefsById(t)},t.prototype.removeAllEventDefs=function(){this.getSources().forEach((function(t){t.removeAllEventDefs()})),this.currentPeriod&&this.currentPeriod.removeAllEventDefs()},t.prototype.mutateEventsWithId=function(t,e){var i,n=this.currentPeriod,r=[];return n?(n.freeze(),(i=n.getEventDefsById(t)).forEach((function(t){n.removeEventDef(t),r.push(e.mutateSingle(t)),n.addEventDef(t)})),n.thaw(),function(){n.freeze();for(var t=0;t<i.length;t++)n.removeEventDef(i[t]),r[t](),n.addEventDef(i[t]);n.thaw()}):function(){}},t.prototype.buildMutatedEventInstanceGroup=function(t,e){var i,n,r=this.getEventDefsById(t),a=[];for(i=0;i<r.length;i++)(n=r[i].clone())instanceof c.default&&(e.mutateSingle(n),a.push.apply(a,n.buildInstances()));return new u.default(a)},t.prototype.freeze=function(){this.currentPeriod&&this.currentPeriod.freeze()},t.prototype.thaw=function(){this.currentPeriod&&this.currentPeriod.thaw()},t.prototype.getEventDefsById=function(t){return this.currentPeriod.getEventDefsById(t)},t.prototype.getEventInstances=function(){return this.currentPeriod.getEventInstances()},t.prototype.getEventInstancesWithId=function(t){return this.currentPeriod.getEventInstancesWithId(t)},t.prototype.getEventInstancesWithoutId=function(t){return this.currentPeriod.getEventInstancesWithoutId(t)},t}();e.default=p,d.default.mixInto(p),h.default.mixInto(p)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(i(22).default);e.default=r,r.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button",cornerLeft:"fc-corner-left",cornerRight:"fc-corner-right",stateDefault:"fc-state-default",stateActive:"fc-state-active",stateDisabled:"fc-state-disabled",stateHover:"fc-state-hover",stateDown:"fc-state-down",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},r.prototype.baseIconClass="fc-icon",r.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-left-single-arrow",next:"fc-icon-right-single-arrow",prevYear:"fc-icon-left-double-arrow",nextYear:"fc-icon-right-double-arrow"},r.prototype.iconOverrideOption="buttonIcons",r.prototype.iconOverrideCustomButtonOption="icon",r.prototype.iconOverridePrefix="fc-icon-"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(i(22).default);e.default=r,r.prototype.classes={widget:"ui-widget",widgetHeader:"ui-widget-header",widgetContent:"ui-widget-content",buttonGroup:"fc-button-group",button:"ui-button",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",stateDefault:"ui-state-default",stateActive:"ui-state-active",stateDisabled:"ui-state-disabled",stateHover:"ui-state-hover",stateDown:"ui-state-down",today:"ui-state-highlight",popoverHeader:"ui-widget-header",popoverContent:"ui-widget-content",headerRow:"ui-widget-header",dayRow:"ui-widget-content",listView:"ui-widget-content"},r.prototype.baseIconClass="ui-icon",r.prototype.iconClasses={close:"ui-icon-closethick",prev:"ui-icon-circle-triangle-w",next:"ui-icon-circle-triangle-e",prevYear:"ui-icon-seek-prev",nextYear:"ui-icon-seek-next"},r.prototype.iconOverrideOption="themeButtonIcons",r.prototype.iconOverrideCustomButtonOption="themeIcon",r.prototype.iconOverridePrefix="ui-icon-"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(21),o=i(6),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.parse=function(t,e){var i;return r.isFunction(t.events)?i=t:r.isFunction(t)&&(i={events:t}),!!i&&o.default.parse.call(this,i,e)},e.prototype.fetch=function(t,e,i){var n=this;return this.calendar.pushLoading(),a.default.construct((function(r){n.func.call(n.calendar,t.clone(),e.clone(),i,(function(t){n.calendar.popLoading(),r(n.parseEventDefs(t))}))}))},e.prototype.getPrimitive=function(){return this.func},e.prototype.applyManualStandardProps=function(e){var i=t.prototype.applyManualStandardProps.call(this,e);return this.func=e.events,i},e}(o.default);e.default=s,s.defineStandardProps({events:!1})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(21),s=i(6),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.parse=function(t,e){var i;return"string"==typeof t.url?i=t:"string"==typeof t&&(i={url:t}),!!i&&s.default.parse.call(this,i,e)},e.prototype.fetch=function(t,i,n){var s=this,l=this.ajaxSettings,c=l.success,u=l.error,d=this.buildRequestParams(t,i,n);return this.calendar.pushLoading(),o.default.construct((function(t,i){r.ajax(r.extend({},e.AJAX_DEFAULTS,l,{url:s.url,data:d,success:function(e,n,o){var l;s.calendar.popLoading(),e?(l=a.applyAll(c,s,[e,n,o]),r.isArray(l)&&(e=l),t(s.parseEventDefs(e))):i()},error:function(t,e,n){s.calendar.popLoading(),a.applyAll(u,s,[t,e,n]),i()}}))}))},e.prototype.buildRequestParams=function(t,e,i){var n,a,o,s,l=this.calendar,c=this.ajaxSettings,u={};return null==(n=this.startParam)&&(n=l.opt("startParam")),null==(a=this.endParam)&&(a=l.opt("endParam")),null==(o=this.timezoneParam)&&(o=l.opt("timezoneParam")),s=r.isFunction(c.data)?c.data():c.data||{},r.extend(u,s),u[n]=t.format(),u[a]=e.format(),i&&"local"!==i&&(u[o]=i),u},e.prototype.getPrimitive=function(){return this.url},e.prototype.applyMiscProps=function(t){this.ajaxSettings=t},e.AJAX_DEFAULTS={dataType:"json",cache:!1},e}(s.default);e.default=l,l.defineStandardProps({url:!0,startParam:!0,endParam:!0,timezoneParam:!0})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.items=t||[]}return t.prototype.proxyCall=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=[];return this.items.forEach((function(i){n.push(i[t].apply(i,e))})),n},t}();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=i(7),o=function(){function t(t,e){this.isFollowing=!1,this.isHidden=!1,this.isAnimating=!1,this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?n(e.parentEl):t.parent()}return t.prototype.start=function(t){this.isFollowing||(this.isFollowing=!0,this.y0=r.getEvY(t),this.x0=r.getEvX(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),r.getEvIsTouch(t)?this.listenTo(n(document),"touchmove",this.handleMove):this.listenTo(n(document),"mousemove",this.handleMove))},t.prototype.stop=function(t,e){var i=this,r=this.options.revertDuration,a=function(){i.isAnimating=!1,i.removeElement(),i.top0=i.left0=null,e&&e()};this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(n(document)),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:a})):a())},t.prototype.getEl=function(){var t=this.el;return t||((t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.updatePosition=function(){var t,e;this.getEl(),null==this.top0&&(t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},t.prototype.handleMove=function(t){this.topDelta=r.getEvY(t)-this.y0,this.leftDelta=r.getEvX(t)-this.x0,this.isHidden||this.updatePosition()},t.prototype.hide=function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},t.prototype.show=function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())},t}();e.default=o,a.default.mixInto(o)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=i(7),o=function(){function t(t){this.isHidden=!0,this.margin=10,this.options=t||{}}return t.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},t.prototype.hide=function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},t.prototype.render=function(){var t=this,e=this.options;this.el=n('<div class="fc-popover"/>').addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",(function(){t.hide()})),e.autoHide&&this.listenTo(n(document),"mousedown",this.documentMousedown)},t.prototype.documentMousedown=function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},t.prototype.removeElement=function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(n(document),"mousedown")},t.prototype.position=function(){var t,e,i,a,o,s=this.options,l=this.el.offsetParent().offset(),c=this.el.outerWidth(),u=this.el.outerHeight(),d=n(window),h=r.getScrollParent(this.el);a=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-c:0,h.is(window)||h.is(document)?(h=d,t=0,e=0):(t=(i=h.offset()).top,e=i.left),t+=d.scrollTop(),e+=d.scrollLeft(),!1!==s.viewportConstrain&&(a=Math.min(a,t+h.outerHeight()-u-this.margin),a=Math.max(a,t+this.margin),o=Math.min(o,e+h.outerWidth()-c-this.margin),o=Math.max(o,e+this.margin)),this.el.css({top:a-l.top,left:o-l.left})},t.prototype.trigger=function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},t}();e.default=o,a.default.mixInto(o)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(13),r=function(){function t(){this.q=[],this.isPaused=!1,this.isRunning=!1}return t.prototype.queue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.q.push.apply(this.q,t),this.tryStart()},t.prototype.pause=function(){this.isPaused=!0},t.prototype.resume=function(){this.isPaused=!1,this.tryStart()},t.prototype.getIsIdle=function(){return!this.isRunning&&!this.isPaused},t.prototype.tryStart=function(){!this.isRunning&&this.canRunNext()&&(this.isRunning=!0,this.trigger("start"),this.runRemaining())},t.prototype.canRunNext=function(){return!this.isPaused&&this.q.length},t.prototype.runRemaining=function(){var t,e,i=this;do{if(t=this.q.shift(),(e=this.runTask(t))&&e.then)return void e.then((function(){i.canRunNext()&&i.runRemaining()}))}while(this.canRunNext());this.trigger("stop"),this.isRunning=!1,this.tryStart()},t.prototype.runTask=function(t){return t()},t}();e.default=r,n.default.mixInto(r)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(e){var i=t.call(this)||this;return i.waitsByNamespace=e||{},i}return n.__extends(e,t),e.prototype.queue=function(t,e,i){var n,r={func:t,namespace:e,type:i};e&&(n=this.waitsByNamespace[e]),this.waitNamespace&&(e===this.waitNamespace&&null!=n?this.delayWait(n):(this.clearWait(),this.tryStart())),this.compoundTask(r)&&(this.waitNamespace||null==n?this.tryStart():this.startWait(e,n))},e.prototype.startWait=function(t,e){this.waitNamespace=t,this.spawnWait(e)},e.prototype.delayWait=function(t){clearTimeout(this.waitId),this.spawnWait(t)},e.prototype.spawnWait=function(t){var e=this;this.waitId=setTimeout((function(){e.waitNamespace=null,e.tryStart()}),t)},e.prototype.clearWait=function(){this.waitNamespace&&(clearTimeout(this.waitId),this.waitId=null,this.waitNamespace=null)},e.prototype.canRunNext=function(){if(!t.prototype.canRunNext.call(this))return!1;if(this.waitNamespace){for(var e=this.q,i=0;i<e.length;i++)if(e[i].namespace!==this.waitNamespace)return!0;return!1}return!0},e.prototype.runTask=function(t){t.func()},e.prototype.compoundTask=function(t){var e,i,n=this.q,r=!0;if(t.namespace&&"destroy"===t.type)for(e=n.length-1;e>=0;e--)if((i=n[e]).namespace===t.namespace)switch(i.type){case"init":r=!1;case"add":case"remove":n.splice(e,1)}return r&&n.push(t),r},e}(i(228).default);e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.setElement=function(t){this.el=t,this.bindGlobalHandlers(),this.renderSkeleton(),this.set("isInDom",!0)},e.prototype.removeElement=function(){this.unset("isInDom"),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.el.remove()},e.prototype.bindGlobalHandlers=function(){},e.prototype.unbindGlobalHandlers=function(){},e.prototype.renderSkeleton=function(){},e.prototype.unrenderSkeleton=function(){},e}(i(51).default);e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(0),o=i(4),s=i(11),l=i(49),c=i(230),u=i(19),d=function(t){function e(i,n){var r=t.call(this)||this;return r.isRTL=!1,r.hitsNeededDepth=0,r.hasAllDayBusinessHours=!1,r.isDatesRendered=!1,i&&(r.view=i),n&&(r.options=n),r.uid=String(e.guid++),r.childrenByUid={},r.nextDayThreshold=a.duration(r.opt("nextDayThreshold")),r.isRTL=r.opt("isRTL"),r.fillRendererClass&&(r.fillRenderer=new r.fillRendererClass(r)),r.eventRendererClass&&(r.eventRenderer=new r.eventRendererClass(r,r.fillRenderer)),r.helperRendererClass&&r.eventRenderer&&(r.helperRenderer=new r.helperRendererClass(r,r.eventRenderer)),r.businessHourRendererClass&&r.fillRenderer&&(r.businessHourRenderer=new r.businessHourRendererClass(r,r.fillRenderer)),r}return n.__extends(e,t),e.prototype.addChild=function(t){return!this.childrenByUid[t.uid]&&(this.childrenByUid[t.uid]=t,!0)},e.prototype.removeChild=function(t){return!!this.childrenByUid[t.uid]&&(delete this.childrenByUid[t.uid],!0)},e.prototype.updateSize=function(t,e,i){this.callChildren("updateSize",arguments)},e.prototype.opt=function(t){return this._getView().opt(t)},e.prototype.publiclyTrigger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this._getCalendar();return i.publiclyTrigger.apply(i,t)},e.prototype.hasPublicHandlers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this._getCalendar();return i.hasPublicHandlers.apply(i,t)},e.prototype.executeDateRender=function(t){this.dateProfile=t,this.renderDates(t),this.isDatesRendered=!0,this.callChildren("executeDateRender",arguments)},e.prototype.executeDateUnrender=function(){this.callChildren("executeDateUnrender",arguments),this.dateProfile=null,this.unrenderDates(),this.isDatesRendered=!1},e.prototype.renderDates=function(t){},e.prototype.unrenderDates=function(){},e.prototype.getNowIndicatorUnit=function(){},e.prototype.renderNowIndicator=function(t){this.callChildren("renderNowIndicator",arguments)},e.prototype.unrenderNowIndicator=function(){this.callChildren("unrenderNowIndicator",arguments)},e.prototype.renderBusinessHours=function(t){this.businessHourRenderer&&this.businessHourRenderer.render(t),this.callChildren("renderBusinessHours",arguments)},e.prototype.unrenderBusinessHours=function(){this.callChildren("unrenderBusinessHours",arguments),this.businessHourRenderer&&this.businessHourRenderer.unrender()},e.prototype.executeEventRender=function(t){this.eventRenderer?(this.eventRenderer.rangeUpdated(),this.eventRenderer.render(t)):this.renderEvents&&this.renderEvents(h(t)),this.callChildren("executeEventRender",arguments)},e.prototype.executeEventUnrender=function(){this.callChildren("executeEventUnrender",arguments),this.eventRenderer?this.eventRenderer.unrender():this.destroyEvents&&this.destroyEvents()},e.prototype.getBusinessHourSegs=function(){var t=this.getOwnBusinessHourSegs();return this.iterChildren((function(e){t.push.apply(t,e.getBusinessHourSegs())})),t},e.prototype.getOwnBusinessHourSegs=function(){return this.businessHourRenderer?this.businessHourRenderer.getSegs():[]},e.prototype.getEventSegs=function(){var t=this.getOwnEventSegs();return this.iterChildren((function(e){t.push.apply(t,e.getEventSegs())})),t},e.prototype.getOwnEventSegs=function(){return this.eventRenderer?this.eventRenderer.getSegs():[]},e.prototype.triggerAfterEventsRendered=function(){this.triggerAfterEventSegsRendered(this.getEventSegs()),this.publiclyTrigger("eventAfterAllRender",{context:this,args:[this]})},e.prototype.triggerAfterEventSegsRendered=function(t){var e=this;this.hasPublicHandlers("eventAfterRender")&&t.forEach((function(t){var i;t.el&&(i=t.footprint.getEventLegacy(),e.publiclyTrigger("eventAfterRender",{context:i,args:[i,t.el,e]}))}))},e.prototype.triggerBeforeEventsDestroyed=function(){this.triggerBeforeEventSegsDestroyed(this.getEventSegs())},e.prototype.triggerBeforeEventSegsDestroyed=function(t){var e=this;this.hasPublicHandlers("eventDestroy")&&t.forEach((function(t){var i;t.el&&(i=t.footprint.getEventLegacy(),e.publiclyTrigger("eventDestroy",{context:i,args:[i,t.el,e]}))}))},e.prototype.showEventsWithId=function(t){this.getEventSegs().forEach((function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","")})),this.callChildren("showEventsWithId",arguments)},e.prototype.hideEventsWithId=function(t){this.getEventSegs().forEach((function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","hidden")})),this.callChildren("hideEventsWithId",arguments)},e.prototype.renderDrag=function(t,e,i){var n=!1;return this.iterChildren((function(r){r.renderDrag(t,e,i)&&(n=!0)})),n},e.prototype.unrenderDrag=function(){this.callChildren("unrenderDrag",arguments)},e.prototype.renderEventResize=function(t,e,i){this.callChildren("renderEventResize",arguments)},e.prototype.unrenderEventResize=function(){this.callChildren("unrenderEventResize",arguments)},e.prototype.renderSelectionFootprint=function(t){this.renderHighlight(t),this.callChildren("renderSelectionFootprint",arguments)},e.prototype.unrenderSelection=function(){this.unrenderHighlight(),this.callChildren("unrenderSelection",arguments)},e.prototype.renderHighlight=function(t){this.fillRenderer&&this.fillRenderer.renderFootprint("highlight",t,{getClasses:function(){return["fc-highlight"]}}),this.callChildren("renderHighlight",arguments)},e.prototype.unrenderHighlight=function(){this.fillRenderer&&this.fillRenderer.unrender("highlight"),this.callChildren("unrenderHighlight",arguments)},e.prototype.hitsNeeded=function(){this.hitsNeededDepth++||this.prepareHits(),this.callChildren("hitsNeeded",arguments)},e.prototype.hitsNotNeeded=function(){this.hitsNeededDepth&&!--this.hitsNeededDepth&&this.releaseHits(),this.callChildren("hitsNotNeeded",arguments)},e.prototype.prepareHits=function(){},e.prototype.releaseHits=function(){},e.prototype.queryHit=function(t,e){var i,n,r=this.childrenByUid;for(i in r)if(n=r[i].queryHit(t,e))break;return n},e.prototype.getSafeHitFootprint=function(t){var e=this.getHitFootprint(t);return this.dateProfile.activeUnzonedRange.containsRange(e.unzonedRange)?e:null},e.prototype.getHitFootprint=function(t){},e.prototype.getHitEl=function(t){},e.prototype.eventRangesToEventFootprints=function(t){var e,i=[];for(e=0;e<t.length;e++)i.push.apply(i,this.eventRangeToEventFootprints(t[e]));return i},e.prototype.eventRangeToEventFootprints=function(t){return[u.eventRangeToEventFootprint(t)]},e.prototype.eventFootprintsToSegs=function(t){var e,i=[];for(e=0;e<t.length;e++)i.push.apply(i,this.eventFootprintToSegs(t[e]));return i},e.prototype.eventFootprintToSegs=function(t){var e,i,n,r=t.componentFootprint.unzonedRange;for(e=this.componentFootprintToSegs(t.componentFootprint),i=0;i<e.length;i++)n=e[i],r.isStart||(n.isStart=!1),r.isEnd||(n.isEnd=!1),n.footprint=t;return e},e.prototype.componentFootprintToSegs=function(t){return[]},e.prototype.callChildren=function(t,e){this.iterChildren((function(i){i[t].apply(i,e)}))},e.prototype.iterChildren=function(t){var e,i=this.childrenByUid;for(e in i)t(i[e])},e.prototype._getCalendar=function(){return this.calendar||this.view.calendar},e.prototype._getView=function(){return this.view},e.prototype._getDateProfile=function(){return this._getView().get("dateProfile")},e.prototype.buildGotoAnchorHtml=function(t,e,i){var n,a,l,c;return r.isPlainObject(t)?(n=t.date,a=t.type,l=t.forceOff):n=t,c={date:(n=s.default(n)).format("YYYY-MM-DD"),type:a||"day"},"string"==typeof e&&(i=e,e=null),e=e?" "+o.attrsToStr(e):"",i=i||"",!l&&this.opt("navLinks")?"<a"+e+' data-goto="'+o.htmlEscape(JSON.stringify(c))+'">'+i+"</a>":"<span"+e+">"+i+"</span>"},e.prototype.getAllDayHtml=function(){return this.opt("allDayHtml")||o.htmlEscape(this.opt("allDayText"))},e.prototype.getDayClasses=function(t,e){var i,n=this._getView(),r=[];return this.dateProfile.activeUnzonedRange.containsDate(t)?(r.push("fc-"+o.dayIDs[t.day()]),n.isDateInOtherMonth(t,this.dateProfile)&&r.push("fc-other-month"),i=n.calendar.getNow(),t.isSame(i,"day")?(r.push("fc-today"),!0!==e&&r.push(n.calendar.theme.getClass("today"))):t<i?r.push("fc-past"):r.push("fc-future")):r.push("fc-disabled-day"),r},e.prototype.formatRange=function(t,e,i,n){var r=t.end;return e&&(r=r.clone().subtract(1)),l.formatRange(t.start,r,i,n,this.isRTL)},e.prototype.currentRangeAs=function(t){return this._getDateProfile().currentUnzonedRange.as(t)},e.prototype.computeDayRange=function(t){var e=this._getCalendar(),i=e.msToUtcMoment(t.startMs,!0),n=e.msToUtcMoment(t.endMs),r=+n.time(),a=n.clone().stripTime();return r&&r>=this.nextDayThreshold&&a.add(1,"days"),a<=i&&(a=i.clone().add(1,"days")),{start:i,end:a}},e.prototype.isMultiDayRange=function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1},e.guid=0,e}(c.default);function h(t){var e,i,n,r=[];for(e in t)for(i=t[e].eventInstances,n=0;n<i.length;n++)r.push(i[n].toLegacy());return r}e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(0),a=i(4),o=i(33),s=i(225),l=i(23),c=i(13),u=i(7),d=i(257),h=i(258),p=i(259),f=i(217),m=i(32),g=i(11),y=i(5),v=i(12),_=i(16),b=i(220),x=i(218),w=i(38),k=i(36),S=i(9),T=i(39),M=i(6),C=i(57),D=function(){function t(t,e){this.loadingLevel=0,this.ignoreUpdateViewSize=0,this.freezeContentHeightDepth=0,l.default.needed(),this.el=t,this.viewsByType={},this.optionsManager=new h.default(this,e),this.viewSpecManager=new p.default(this.optionsManager,this),this.initMomentInternals(),this.initCurrentDate(),this.initEventManager(),this.constraints=new f.default(this.eventManager,this),this.constructed()}return t.prototype.constructed=function(){},t.prototype.getView=function(){return this.view},t.prototype.publiclyTrigger=function(t,e){var i,r,a=this.opt(t);if(n.isPlainObject(e)?(i=e.context,r=e.args):n.isArray(e)&&(r=e),null==i&&(i=this.el[0]),r||(r=[]),this.triggerWith(t,i,r),a)return a.apply(i,r)},t.prototype.hasPublicHandlers=function(t){return this.hasHandlers(t)||this.opt(t)},t.prototype.option=function(t,e){var i;if("string"==typeof t){if(void 0===e)return this.optionsManager.get(t);(i={})[t]=e,this.optionsManager.add(i)}else"object"==typeof t&&this.optionsManager.add(t)},t.prototype.opt=function(t){return this.optionsManager.get(t)},t.prototype.instantiateView=function(t){var e=this.viewSpecManager.getViewSpec(t);if(!e)throw new Error('View type "'+t+'" is not valid');return new e.class(this,e)},t.prototype.isValidViewType=function(t){return Boolean(this.viewSpecManager.getViewSpec(t))},t.prototype.changeView=function(t,e){e&&(e.start&&e.end?this.optionsManager.recordOverrides({visibleRange:e}):this.currentDate=this.moment(e).stripZone()),this.renderView(t)},t.prototype.zoomTo=function(t,e){var i;e=e||"day",i=this.viewSpecManager.getViewSpec(e)||this.viewSpecManager.getUnitViewSpec(e),this.currentDate=t.clone(),this.renderView(i?i.type:null)},t.prototype.initCurrentDate=function(){var t=this.opt("defaultDate");this.currentDate=null!=t?this.moment(t).stripZone():this.getNow()},t.prototype.prev=function(){var t=this.view,e=t.dateProfileGenerator.buildPrev(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.next=function(){var t=this.view,e=t.dateProfileGenerator.buildNext(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.prevYear=function(){this.currentDate.add(-1,"years"),this.renderView()},t.prototype.nextYear=function(){this.currentDate.add(1,"years"),this.renderView()},t.prototype.today=function(){this.currentDate=this.getNow(),this.renderView()},t.prototype.gotoDate=function(t){this.currentDate=this.moment(t).stripZone(),this.renderView()},t.prototype.incrementDate=function(t){this.currentDate.add(r.duration(t)),this.renderView()},t.prototype.getDate=function(){return this.applyTimezone(this.currentDate)},t.prototype.pushLoading=function(){this.loadingLevel++||this.publiclyTrigger("loading",[!0,this.view])},t.prototype.popLoading=function(){--this.loadingLevel||this.publiclyTrigger("loading",[!1,this.view])},t.prototype.render=function(){this.contentEl?this.elementVisible()&&(this.calcSize(),this.updateViewSize()):this.initialRender()},t.prototype.initialRender=function(){var t=this,e=this.el;e.addClass("fc"),e.on("click.fc","a[data-goto]",(function(e){var i=n(e.currentTarget).data("goto"),r=t.moment(i.date),o=i.type,s=t.view.opt("navLink"+a.capitaliseFirstLetter(o)+"Click");"function"==typeof s?s(r,e):("string"==typeof s&&(o=s),t.zoomTo(r,o))})),this.optionsManager.watch("settingTheme",["?theme","?themeSystem"],(function(i){var n=new(C.getThemeSystemClass(i.themeSystem||i.theme))(t.optionsManager),r=n.getClass("widget");t.theme=n,r&&e.addClass(r)}),(function(){var i=t.theme.getClass("widget");t.theme=null,i&&e.removeClass(i)})),this.optionsManager.watch("settingBusinessHourGenerator",["?businessHours"],(function(e){t.businessHourGenerator=new x.default(e.businessHours,t),t.view&&t.view.set("businessHourGenerator",t.businessHourGenerator)}),(function(){t.businessHourGenerator=null})),this.optionsManager.watch("applyingDirClasses",["?isRTL","?locale"],(function(t){e.toggleClass("fc-ltr",!t.isRTL),e.toggleClass("fc-rtl",t.isRTL)})),this.contentEl=n("<div class='fc-view-container'/>").prependTo(e),this.initToolbars(),this.renderHeader(),this.renderFooter(),this.renderView(this.opt("defaultView")),this.opt("handleWindowResize")&&n(window).resize(this.windowResizeProxy=a.debounce(this.windowResize.bind(this),this.opt("windowResizeDelay")))},t.prototype.destroy=function(){this.view&&this.clearView(),this.toolbarsManager.proxyCall("removeElement"),this.contentEl.remove(),this.el.removeClass("fc fc-ltr fc-rtl"),this.optionsManager.unwatch("settingTheme"),this.optionsManager.unwatch("settingBusinessHourGenerator"),this.el.off(".fc"),this.windowResizeProxy&&(n(window).unbind("resize",this.windowResizeProxy),this.windowResizeProxy=null),l.default.unneeded()},t.prototype.elementVisible=function(){return this.el.is(":visible")},t.prototype.bindViewHandlers=function(t){var e=this;t.watch("titleForCalendar",["title"],(function(i){t===e.view&&e.setToolbarsTitle(i.title)})),t.watch("dateProfileForCalendar",["dateProfile"],(function(i){t===e.view&&(e.currentDate=i.dateProfile.date,e.updateToolbarButtons(i.dateProfile))}))},t.prototype.unbindViewHandlers=function(t){t.unwatch("titleForCalendar"),t.unwatch("dateProfileForCalendar")},t.prototype.renderView=function(t){var e,i=this.view;this.freezeContentHeight(),i&&t&&i.type!==t&&this.clearView(),!this.view&&t&&(e=this.view=this.viewsByType[t]||(this.viewsByType[t]=this.instantiateView(t)),this.bindViewHandlers(e),e.startBatchRender(),e.setElement(n("<div class='fc-view fc-"+t+"-view' />").appendTo(this.contentEl)),this.toolbarsManager.proxyCall("activateButton",t)),this.view&&(this.view.get("businessHourGenerator")!==this.businessHourGenerator&&this.view.set("businessHourGenerator",this.businessHourGenerator),this.view.setDate(this.currentDate),e&&e.stopBatchRender()),this.thawContentHeight()},t.prototype.clearView=function(){var t=this.view;this.toolbarsManager.proxyCall("deactivateButton",t.type),this.unbindViewHandlers(t),t.removeElement(),t.unsetDate(),this.view=null},t.prototype.reinitView=function(){var t=this.view,e=t.queryScroll();this.freezeContentHeight(),this.clearView(),this.calcSize(),this.renderView(t.type),this.view.applyScroll(e),this.thawContentHeight()},t.prototype.getSuggestedViewHeight=function(){return null==this.suggestedViewHeight&&this.calcSize(),this.suggestedViewHeight},t.prototype.isHeightAuto=function(){return"auto"===this.opt("contentHeight")||"auto"===this.opt("height")},t.prototype.updateViewSize=function(t){void 0===t&&(t=!1);var e,i=this.view;if(!this.ignoreUpdateViewSize&&i)return t&&(this.calcSize(),e=i.queryScroll()),this.ignoreUpdateViewSize++,i.updateSize(this.getSuggestedViewHeight(),this.isHeightAuto(),t),this.ignoreUpdateViewSize--,t&&i.applyScroll(e),!0},t.prototype.calcSize=function(){this.elementVisible()&&this._calcSize()},t.prototype._calcSize=function(){var t=this.opt("contentHeight"),e=this.opt("height");this.suggestedViewHeight="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-this.queryToolbarsHeight():"function"==typeof e?e()-this.queryToolbarsHeight():"parent"===e?this.el.parent().height()-this.queryToolbarsHeight():Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),.5))},t.prototype.windowResize=function(t){t.target===window&&this.view&&this.view.isDatesRendered&&this.updateViewSize(!0)&&this.publiclyTrigger("windowResize",[this.view])},t.prototype.freezeContentHeight=function(){this.freezeContentHeightDepth++||this.forceFreezeContentHeight()},t.prototype.forceFreezeContentHeight=function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},t.prototype.thawContentHeight=function(){this.freezeContentHeightDepth--,this.contentEl.css({width:"",height:"",overflow:""}),this.freezeContentHeightDepth&&this.forceFreezeContentHeight()},t.prototype.initToolbars=function(){this.header=new d.default(this,this.computeHeaderOptions()),this.footer=new d.default(this,this.computeFooterOptions()),this.toolbarsManager=new s.default([this.header,this.footer])},t.prototype.computeHeaderOptions=function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},t.prototype.computeFooterOptions=function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},t.prototype.renderHeader=function(){var t=this.header;t.setToolbarOptions(this.computeHeaderOptions()),t.render(),t.el&&this.el.prepend(t.el)},t.prototype.renderFooter=function(){var t=this.footer;t.setToolbarOptions(this.computeFooterOptions()),t.render(),t.el&&this.el.append(t.el)},t.prototype.setToolbarsTitle=function(t){this.toolbarsManager.proxyCall("updateTitle",t)},t.prototype.updateToolbarButtons=function(t){var e=this.getNow(),i=this.view,n=i.dateProfileGenerator.build(e),r=i.dateProfileGenerator.buildPrev(i.get("dateProfile")),a=i.dateProfileGenerator.buildNext(i.get("dateProfile"));this.toolbarsManager.proxyCall(n.isValid&&!t.currentUnzonedRange.containsDate(e)?"enableButton":"disableButton","today"),this.toolbarsManager.proxyCall(r.isValid?"enableButton":"disableButton","prev"),this.toolbarsManager.proxyCall(a.isValid?"enableButton":"disableButton","next")},t.prototype.queryToolbarsHeight=function(){return this.toolbarsManager.items.reduce((function(t,e){return t+(e.el?e.el.outerHeight(!0):0)}),0)},t.prototype.select=function(t,e){this.view.select(this.buildSelectFootprint.apply(this,arguments))},t.prototype.unselect=function(){this.view&&this.view.unselect()},t.prototype.buildSelectFootprint=function(t,e){var i,n=this.moment(t).stripZone();return i=e?this.moment(e).stripZone():n.hasTime()?n.clone().add(this.defaultTimedEventDuration):n.clone().add(this.defaultAllDayEventDuration),new v.default(new y.default(n,i),!n.hasTime())},t.prototype.initMomentInternals=function(){var t=this;this.defaultAllDayEventDuration=r.duration(this.opt("defaultAllDayEventDuration")),this.defaultTimedEventDuration=r.duration(this.opt("defaultTimedEventDuration")),this.optionsManager.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],(function(e){var i,n=e.weekNumberCalculation,r=e.firstDay;"iso"===n&&(n="ISO");var a=Object.create(m.getMomentLocaleData(e.locale));e.monthNames&&(a._months=e.monthNames),e.monthNamesShort&&(a._monthsShort=e.monthNamesShort),e.dayNames&&(a._weekdays=e.dayNames),e.dayNamesShort&&(a._weekdaysShort=e.dayNamesShort),null==r&&"ISO"===n&&(r=1),null!=r&&((i=Object.create(a._week)).dow=r,a._week=i),"ISO"!==n&&"local"!==n&&"function"!=typeof n||(a._fullCalendar_weekCalc=n),t.localeData=a,t.currentDate&&t.localizeMoment(t.currentDate)}))},t.prototype.moment=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return"local"===this.opt("timezone")?(t=g.default.apply(null,e)).hasTime()&&t.local():t="UTC"===this.opt("timezone")?g.default.utc.apply(null,e):g.default.parseZone.apply(null,e),this.localizeMoment(t),t},t.prototype.msToMoment=function(t,e){var i=g.default.utc(t);return e?i.stripTime():i=this.applyTimezone(i),this.localizeMoment(i),i},t.prototype.msToUtcMoment=function(t,e){var i=g.default.utc(t);return e&&i.stripTime(),this.localizeMoment(i),i},t.prototype.localizeMoment=function(t){t._locale=this.localeData},t.prototype.getIsAmbigTimezone=function(){return"local"!==this.opt("timezone")&&"UTC"!==this.opt("timezone")},t.prototype.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,i=this.moment(t.toArray()),n=t.time().asMilliseconds()-i.time().asMilliseconds();return n&&(e=i.clone().add(n),t.time().asMilliseconds()-e.time().asMilliseconds()==0&&(i=e)),i},t.prototype.footprintToDateProfile=function(t,e){void 0===e&&(e=!1);var i,n=g.default.utc(t.unzonedRange.startMs);return e||(i=g.default.utc(t.unzonedRange.endMs)),t.isAllDay?(n.stripTime(),i&&i.stripTime()):(n=this.applyTimezone(n),i&&(i=this.applyTimezone(i))),this.localizeMoment(n),i&&this.localizeMoment(i),new _.default(n,i,this)},t.prototype.getNow=function(){var t=this.opt("now");return"function"==typeof t&&(t=t()),this.moment(t).stripZone()},t.prototype.humanizeDuration=function(t){return t.locale(this.opt("locale")).humanize()},t.prototype.parseUnzonedRange=function(t){var e=null,i=null;return t.start&&(e=this.moment(t.start).stripZone()),t.end&&(i=this.moment(t.end).stripZone()),e||i?e&&i&&i.isBefore(e)?null:new y.default(e,i):null},t.prototype.initEventManager=function(){var t=this,e=new b.default(this),i=this.opt("eventSources")||[],n=this.opt("events");this.eventManager=e,n&&i.unshift(n),e.on("release",(function(e){t.trigger("eventsReset",e)})),e.freeze(),i.forEach((function(i){var n=w.default.parse(i,t);n&&e.addSource(n)})),e.thaw()},t.prototype.requestEvents=function(t,e){return this.eventManager.requestEvents(t,e,this.opt("timezone"),!this.opt("lazyFetching"))},t.prototype.getEventEnd=function(t){return t.end?t.end.clone():this.getDefaultEventEnd(t.allDay,t.start)},t.prototype.getDefaultEventEnd=function(t,e){var i=e.clone();return t?i.stripTime().add(this.defaultAllDayEventDuration):i.add(this.defaultTimedEventDuration),this.getIsAmbigTimezone()&&i.stripZone(),i},t.prototype.rerenderEvents=function(){this.view.flash("displayingEvents")},t.prototype.refetchEvents=function(){this.eventManager.refetchAllSources()},t.prototype.renderEvents=function(t,e){this.eventManager.freeze();for(var i=0;i<t.length;i++)this.renderEvent(t[i],e);this.eventManager.thaw()},t.prototype.renderEvent=function(t,e){void 0===e&&(e=!1);var i=this.eventManager,n=k.default.parse(t,t.source||i.stickySource);n&&i.addEventDef(n,e)},t.prototype.removeEvents=function(t){var e,i=this.eventManager,n=[],r={};if(null==t)i.removeAllEventDefs();else{for(i.getEventInstances().forEach((function(t){n.push(t.toLegacy())})),n=L(n,t),e=0;e<n.length;e++)r[this.eventManager.getEventDefByUid(n[e]._id).id]=!0;for(e in i.freeze(),r)i.removeEventDefsById(e);i.thaw()}},t.prototype.clientEvents=function(t){var e=[];return this.eventManager.getEventInstances().forEach((function(t){e.push(t.toLegacy())})),L(e,t)},t.prototype.updateEvents=function(t){this.eventManager.freeze();for(var e=0;e<t.length;e++)this.updateEvent(t[e]);this.eventManager.thaw()},t.prototype.updateEvent=function(t){var e,i,n=this.eventManager.getEventDefByUid(t._id);n instanceof S.default&&(e=n.buildInstance(),i=T.default.createFromRawProps(e,t,null),this.eventManager.mutateEventsWithId(n.id,i))},t.prototype.getEventSources=function(){return this.eventManager.otherSources.slice()},t.prototype.getEventSourceById=function(t){return this.eventManager.getSourceById(M.default.normalizeId(t))},t.prototype.addEventSource=function(t){var e=w.default.parse(t,this);e&&this.eventManager.addSource(e)},t.prototype.removeEventSources=function(t){var e,i,n=this.eventManager;if(null==t)this.eventManager.removeAllSources();else{for(e=n.multiQuerySources(t),n.freeze(),i=0;i<e.length;i++)n.removeSource(e[i]);n.thaw()}},t.prototype.removeEventSource=function(t){var e,i=this.eventManager,n=i.querySources(t);for(i.freeze(),e=0;e<n.length;e++)i.removeSource(n[e]);i.thaw()},t.prototype.refetchEventSources=function(t){var e,i=this.eventManager,n=i.multiQuerySources(t);for(i.freeze(),e=0;e<n.length;e++)i.refetchSource(n[e]);i.thaw()},t.defaults=o.globalDefaults,t.englishDefaults=o.englishDefaults,t.rtlDefaults=o.rtlDefaults,t}();function L(t,e){return null==e?t:n.isFunction(e)?t.filter(e):(e+="",t.filter((function(t){return t.id==e||t._id===e})))}e.default=D,c.default.mixInto(D),u.default.mixInto(D)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(0),o=i(18),s=i(4),l=i(11),c=i(7),u=i(17),d=i(9),h=i(20),p=i(6),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return n.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToDocument=function(){this.listenTo(r(document),{dragstart:this.handleDragStart,sortstart:this.handleDragStart})},e.prototype.unbindFromDocument=function(){this.stopListeningTo(r(document))},e.prototype.handleDragStart=function(t,e){var i,n;this.opt("droppable")&&(i=r((e?e.item:null)||t.target),n=this.opt("dropAccept"),(r.isFunction(n)?n.call(i[0],i):i.is(n))&&(this.isDragging||this.listenToExternalDrag(i,t,e)))},e.prototype.listenToExternalDrag=function(t,e,i){var n,l=this,c=this.component,d=this.view,p=function(t){var e,i,n,s,l=o.dataAttrPrefix;return l&&(l+="-"),(e=t.data(l+"event")||null)&&(e="object"==typeof e?r.extend({},e):{},null==(i=e.start)&&(i=e.time),n=e.duration,s=e.stick,delete e.start,delete e.time,delete e.duration,delete e.stick),null==i&&(i=t.data(l+"start")),null==i&&(i=t.data(l+"time")),null==n&&(n=t.data(l+"duration")),null==s&&(s=t.data(l+"stick")),i=null!=i?a.duration(i):null,n=null!=n?a.duration(n):null,s=Boolean(s),{eventProps:e,startTime:i,duration:n,stick:s}}(t);(this.dragListener=new u.default(c,{interactionStart:function(){l.isDragging=!0},hitOver:function(t){var e,i=!0,r=t.component.getSafeHitFootprint(t);r&&(n=l.computeExternalDrop(r,p))?(e=new h.default(n.buildInstances()),i=p.eventProps?c.isEventInstanceGroupAllowed(e):c.isExternalInstanceGroupAllowed(e)):i=!1,i||(n=null,s.disableCursor()),n&&c.renderDrag(c.eventRangesToEventFootprints(e.sliceRenderRanges(c.dateProfile.renderUnzonedRange,d.calendar)))},hitOut:function(){n=null},hitDone:function(){s.enableCursor(),c.unrenderDrag()},interactionEnd:function(e){n&&d.reportExternalDrop(n,Boolean(p.eventProps),Boolean(p.stick),t,e,i),l.isDragging=!1,l.dragListener=null}})).startDrag(e)},e.prototype.computeExternalDrop=function(t,e){var i,n=this.view.calendar,a=l.default.utc(t.unzonedRange.startMs).stripZone();return t.isAllDay&&(e.startTime?a.time(e.startTime):a.stripTime()),e.duration&&(i=a.clone().add(e.duration)),a=n.applyTimezone(a),i&&(i=n.applyTimezone(i)),d.default.parse(r.extend({},e.eventProps,{start:a,end:i}),new p.default(n))},e}(i(14).default);e.default=f,c.default.mixInto(f),o.dataAttrPrefix=""},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(39),s=i(40),l=i(17),c=function(t){function e(e,i){var n=t.call(this,e)||this;return n.isResizing=!1,n.eventPointing=i,n}return n.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMouseDown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMouseDown=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,r(e.target).is(".fc-start-resizer")).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,r(e.target).is(".fc-start-resizer")).startInteraction(e)},e.prototype.buildDragListener=function(t,e){var i,n,r=this,o=this.component,s=this.view,c=s.calendar,u=c.eventManager,d=t.el,h=t.footprint.eventDef,p=t.footprint.eventInstance;return this.dragListener=new l.default(o,{scroll:this.opt("dragScroll"),subjectEl:d,interactionStart:function(){i=!1},dragStart:function(e){i=!0,r.eventPointing.handleMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(i,l,d){var p,f=!0,m=o.getSafeHitFootprint(d),g=o.getSafeHitFootprint(i);m&&g&&(n=e?r.computeEventStartResizeMutation(m,g,t.footprint):r.computeEventEndResizeMutation(m,g,t.footprint))?(p=u.buildMutatedEventInstanceGroup(h.id,n),f=o.isEventInstanceGroupAllowed(p)):f=!1,f?n.isEmpty()&&(n=null):(n=null,a.disableCursor()),n&&(s.hideEventsWithId(t.footprint.eventDef.id),s.renderEventResize(o.eventRangesToEventFootprints(p.sliceRenderRanges(o.dateProfile.renderUnzonedRange,c)),t))},hitOut:function(){n=null},hitDone:function(){s.unrenderEventResize(t),s.showEventsWithId(t.footprint.eventDef.id),a.enableCursor()},interactionEnd:function(e){i&&r.segResizeStop(t,e),n&&s.reportEventResize(p,n,d,e),r.dragListener=null}})},e.prototype.segResizeStart=function(t,e){this.isResizing=!0,this.component.publiclyTrigger("eventResizeStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segResizeStop=function(t,e){this.isResizing=!1,this.component.publiclyTrigger("eventResizeStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventStartResizeMutation=function(t,e,i){var n,r,a=i.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getStart(),t.unzonedRange.getStart());return a.getStart().add(l)<a.getEnd()&&((n=new s.default).setStartDelta(l),(r=new o.default).setDateMutation(n),r)},e.prototype.computeEventEndResizeMutation=function(t,e,i){var n,r,a=i.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getEnd(),t.unzonedRange.getEnd());return a.getEnd().add(l)>a.getStart()&&((n=new s.default).setEndDelta(l),(r=new o.default).setDateMutation(n),r)},e}(i(14).default);e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=i(39),o=i(40),s=i(59),l=i(17),c=i(226),u=function(t){function e(e,i){var n=t.call(this,e)||this;return n.isDragging=!1,n.eventPointing=i,n}return n.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.getSelectionDelay=function(){var t=this.opt("eventLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMousedown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMousedown=function(t,e){!this.component.shouldIgnoreMouse()&&this.component.canStartDrag(t,e)&&this.buildDragListener(t).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){var i=this.component,n={delay:this.view.isEventDefSelected(t.footprint.eventDef)?0:this.getSelectionDelay()};i.canStartDrag(t,e)?this.buildDragListener(t).startInteraction(e,n):i.canStartSelection(t,e)&&this.buildSelectListener(t).startInteraction(e,n)},e.prototype.buildSelectListener=function(t){var e=this,i=this.view,n=t.footprint.eventDef,r=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var a=this.dragListener=new s.default({dragStart:function(t){a.isTouch&&!i.isEventDefSelected(n)&&r&&i.selectEventInstance(r)},interactionEnd:function(t){e.dragListener=null}});return a},e.prototype.buildDragListener=function(t){var e,i,n,a=this,o=this.component,s=this.view,u=s.calendar,d=u.eventManager,h=t.el,p=t.footprint.eventDef,f=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var m=this.dragListener=new l.default(s,{scroll:this.opt("dragScroll"),subjectEl:h,subjectCenter:!0,interactionStart:function(n){t.component=o,e=!1,(i=new c.default(t.el,{additionalClass:"fc-dragging",parentEl:s.el,opacity:m.isTouch?null:a.opt("dragOpacity"),revertDuration:a.opt("dragRevertDuration"),zIndex:2})).hide(),i.start(n)},dragStart:function(i){m.isTouch&&!s.isEventDefSelected(p)&&f&&s.selectEventInstance(f),e=!0,a.eventPointing.handleMouseout(t,i),a.segDragStart(t,i),s.hideEventsWithId(t.footprint.eventDef.id)},hitOver:function(e,l,c){var h,f,g,y=!0;t.hit&&(c=t.hit),h=c.component.getSafeHitFootprint(c),f=e.component.getSafeHitFootprint(e),h&&f&&(n=a.computeEventDropMutation(h,f,p))?(g=d.buildMutatedEventInstanceGroup(p.id,n),y=o.isEventInstanceGroupAllowed(g)):y=!1,y||(n=null,r.disableCursor()),n&&s.renderDrag(o.eventRangesToEventFootprints(g.sliceRenderRanges(o.dateProfile.renderUnzonedRange,u)),t,m.isTouch)?i.hide():i.show(),l&&(n=null)},hitOut:function(){s.unrenderDrag(t),i.show(),n=null},hitDone:function(){r.enableCursor()},interactionEnd:function(r){delete t.component,i.stop(!n,(function(){e&&(s.unrenderDrag(t),a.segDragStop(t,r)),s.showEventsWithId(t.footprint.eventDef.id),n&&s.reportEventDrop(f,n,h,r)})),a.dragListener=null}});return m},e.prototype.segDragStart=function(t,e){this.isDragging=!0,this.component.publiclyTrigger("eventDragStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segDragStop=function(t,e){this.isDragging=!1,this.component.publiclyTrigger("eventDragStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventDropMutation=function(t,e,i){var n=new a.default;return n.setDateMutation(this.computeEventDateMutation(t,e)),n},e.prototype.computeEventDateMutation=function(t,e){var i,n,r=t.unzonedRange.getStart(),a=e.unzonedRange.getStart(),s=!1,l=!1,c=!1;return t.isAllDay!==e.isAllDay&&(s=!0,e.isAllDay?(c=!0,r.stripTime()):l=!0),i=this.component.diffDates(a,r),(n=new o.default).clearEnd=s,n.forceTimed=l,n.forceAllDay=c,n.setDateDelta(i),n},e}(i(14).default);e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=i(17),o=i(12),s=i(5),l=function(t){function e(e){var i=t.call(this,e)||this;return i.dragListener=i.buildDragListener(),i}return n.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.getDelay=function(){var t=this.opt("selectLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this,i=this.component,n=this.dragListener;i.bindDateHandlerToEl(t,"mousedown",(function(t){e.opt("selectable")&&!i.shouldIgnoreMouse()&&n.startInteraction(t,{distance:e.opt("selectMinDistance")})})),i.bindDateHandlerToEl(t,"touchstart",(function(t){e.opt("selectable")&&!i.shouldIgnoreTouch()&&n.startInteraction(t,{delay:e.getDelay()})})),r.preventSelection(t)},e.prototype.buildDragListener=function(){var t,e=this,i=this.component;return new a.default(i,{scroll:this.opt("dragScroll"),interactionStart:function(){t=null},dragStart:function(t){e.view.unselect(t)},hitOver:function(n,a,o){var s,l;o&&(s=i.getSafeHitFootprint(o),l=i.getSafeHitFootprint(n),(t=s&&l?e.computeSelection(s,l):null)?i.renderSelectionFootprint(t):!1===t&&r.disableCursor())},hitOut:function(){t=null,i.unrenderSelection()},hitDone:function(){r.enableCursor()},interactionEnd:function(i,n){!n&&t&&e.view.reportSelection(t,i)}})},e.prototype.computeSelection=function(t,e){var i=this.computeSelectionFootprint(t,e);return!(i&&!this.isSelectionFootprintAllowed(i))&&i},e.prototype.computeSelectionFootprint=function(t,e){var i=[t.unzonedRange.startMs,t.unzonedRange.endMs,e.unzonedRange.startMs,e.unzonedRange.endMs];return i.sort(r.compareNumbers),new o.default(new s.default(i[0],i[3]),t.isAllDay)},e.prototype.isSelectionFootprintAllowed=function(t){return this.component.dateProfile.validUnzonedRange.containsRange(t.unzonedRange)&&this.view.calendar.constraints.isSelectionFootprintAllowed(t)},e}(i(14).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(17),a=function(t){function e(e){var i=t.call(this,e)||this;return i.dragListener=i.buildDragListener(),i}return n.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){var e=this.component,i=this.dragListener;e.bindDateHandlerToEl(t,"mousedown",(function(t){e.shouldIgnoreMouse()||i.startInteraction(t)})),e.bindDateHandlerToEl(t,"touchstart",(function(t){e.shouldIgnoreTouch()||i.startInteraction(t)}))},e.prototype.buildDragListener=function(){var t,e=this,i=this.component,n=new r.default(i,{scroll:this.opt("dragScroll"),interactionStart:function(){t=n.origHit},hitOver:function(e,i,n){i||(t=null)},hitOut:function(){t=null},interactionEnd:function(n,r){var a;!r&&t&&(a=i.getSafeHitFootprint(t))&&e.view.triggerDayClick(a,i.getHitEl(t),n)}});return n.shouldCancelTouchScroll=!1,n.scrollAlwaysKills=!0,n},e}(i(14).default);e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n,r,a=i(2),o=i(0),s=i(3),l=i(4),c=i(41),u=i(43),d=i(239),h=i(66),p=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.usesMinMaxTime=!0,n.timeGrid=n.instantiateTimeGrid(),n.addChild(n.timeGrid),n.opt("allDaySlot")&&(n.dayGrid=n.instantiateDayGrid(),n.addChild(n.dayGrid)),n.scroller=new c.default({overflowX:"hidden",overflowY:"auto"}),n}return a.__extends(e,t),e.prototype.instantiateTimeGrid=function(){var t=new this.timeGridClass(this);return l.copyOwnProps(n,t),t},e.prototype.instantiateDayGrid=function(){var t=new this.dayGridClass(this);return l.copyOwnProps(r,t),t},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-time-grid-container"),e=s('<div class="fc-time-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.timeGrid.headContainerEl=this.el.find(".fc-head-container"),this.timeGrid.setElement(e),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight())},e.prototype.unrenderSkeleton=function(){this.timeGrid.removeElement(),this.dayGrid&&this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+t.getClass("widgetHeader")+'"/>':"")+"</td></tr></tbody></table>"},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.updateSize=function(e,i,n){var r,a,o;if(t.prototype.updateSize.call(this,e,i,n),this.axisWidth=l.matchCellWidths(this.el.find(".fc-axis")),this.timeGrid.colEls){var s=this.el.find(".fc-row:not(.fc-scroller *)");this.timeGrid.bottomRuleEl.hide(),this.scroller.clear(),l.uncompensateScroll(s),this.dayGrid&&(this.dayGrid.removeSegPopover(),(r=this.opt("eventLimit"))&&"number"!=typeof r&&(r=5),r&&this.dayGrid.limitRows(r)),i||(a=this.computeScrollerHeight(e),this.scroller.setHeight(a),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(l.compensateScroll(s,o),a=this.computeScrollerHeight(e),this.scroller.setHeight(a)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<a&&this.timeGrid.bottomRuleEl.show())}else i||(a=this.computeScrollerHeight(e),this.scroller.setHeight(a))},e.prototype.computeScrollerHeight=function(t){return t-l.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeInitialDateScroll=function(){var t=o.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){void 0!==t.top&&this.scroller.setScrollTop(t.top)},e.prototype.getHitFootprint=function(t){return t.component.getHitFootprint(t)},e.prototype.getHitEl=function(t){return t.component.getHitEl(t)},e.prototype.executeEventRender=function(t){var e,i,n={},r={};for(e in t)(i=t[e]).getEventDef().isAllDay()?n[e]=i:r[e]=i;this.timeGrid.executeEventRender(r),this.dayGrid&&this.dayGrid.executeEventRender(n)},e.prototype.renderDrag=function(t,e,i){var n=f(t),r=!1;return r=this.timeGrid.renderDrag(n.timed,e,i),this.dayGrid&&(r=this.dayGrid.renderDrag(n.allDay,e,i)||r),r},e.prototype.renderEventResize=function(t,e,i){var n=f(t);this.timeGrid.renderEventResize(n.timed,e,i),this.dayGrid&&this.dayGrid.renderEventResize(n.allDay,e,i)},e.prototype.renderSelectionFootprint=function(t){t.isAllDay?this.dayGrid&&this.dayGrid.renderSelectionFootprint(t):this.timeGrid.renderSelectionFootprint(t)},e}(u.default);function f(t){var e,i=[],n=[];for(e=0;e<t.length;e++)t[e].componentFootprint.isAllDay?i.push(t[e]):n.push(t[e]);return{allDay:i,timed:n}}e.default=p,p.prototype.timeGridClass=d.default,p.prototype.dayGridClass=h.default,n={renderHeadIntroHtml:function(){var t,e=this.view,i=e.calendar,n=i.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,!0);return this.opt("weekNumbers")?(t=n.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+i.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+e.buildGotoAnchorHtml({date:n,type:"week",forceOff:this.colCnt>1},l.htmlEscape(t))+"</th>"):'<th class="fc-axis '+i.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},r={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"><span>"+t.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(0),o=i(4),s=i(42),l=i(61),c=i(65),u=i(60),d=i(58),h=i(5),p=i(12),f=i(240),m=i(241),g=i(242),y=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],v=function(t){function e(e){var i=t.call(this,e)||this;return i.processOptions(),i}return n.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,i=this.sliceRangeByTimes(t.unzonedRange);for(e=0;e<i.length;e++)this.isRTL?i[e].col=this.daysPerRow-1-i[e].dayIndex:i[e].col=i[e].dayIndex;return i},e.prototype.sliceRangeByTimes=function(t){var e,i,n=[];for(i=0;i<this.daysPerRow;i++)(e=t.intersect(this.dayRanges[i]))&&n.push({startMs:e.startMs,endMs:e.endMs,isStart:e.isStart,isEnd:e.isEnd,dayIndex:i});return n},e.prototype.processOptions=function(){var t,e=this.opt("slotDuration"),i=this.opt("snapDuration");e=a.duration(e),i=i?a.duration(i):e,this.slotDuration=e,this.snapDuration=i,this.snapsPerSlot=e/i,t=this.opt("slotLabelFormat"),r.isArray(t)&&(t=t[t.length-1]),this.labelFormat=t||this.opt("smallTimeFormat"),t=this.opt("slotLabelInterval"),this.labelInterval=t?a.duration(t):this.computeLabelInterval(e)},e.prototype.computeLabelInterval=function(t){var e,i,n;for(e=y.length-1;e>=0;e--)if(i=a.duration(y[e]),n=o.divideDurationByDuration(i,t),o.isInt(n)&&n>1)return i;return a.duration(t)},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderSlats(),this.renderColumns()},e.prototype.unrenderDates=function(){this.unrenderColumns()},e.prototype.renderSkeleton=function(){var t=this.view.calendar.theme;this.el.html('<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+t.getClass("widgetHeader")+'" style="display:none" />'),this.bottomRuleEl=this.el.find("hr")},e.prototype.renderSlats=function(){var t=this.view.calendar.theme;this.slatContainerEl=this.el.find("> .fc-slats").html('<table class="'+t.getClass("tableGrid")+'">'+this.renderSlatRowHtml()+"</table>"),this.slatEls=this.slatContainerEl.find("tr"),this.slatCoordCache=new d.default({els:this.slatEls,isVertical:!0})},e.prototype.renderSlatRowHtml=function(){for(var t,e,i,n=this.view,r=n.calendar,s=r.theme,l=this.isRTL,c=this.dateProfile,u="",d=a.duration(+c.minTime),h=a.duration(0);d<c.maxTime;)t=r.msToUtcMoment(c.renderUnzonedRange.startMs).time(d),e=o.isInt(o.divideDurationByDuration(h,this.labelInterval)),i='<td class="fc-axis fc-time '+s.getClass("widgetContent")+'" '+n.axisStyleAttr()+">"+(e?"<span>"+o.htmlEscape(t.format(this.labelFormat))+"</span>":"")+"</td>",u+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(e?"":' class="fc-minor"')+">"+(l?"":i)+'<td class="'+s.getClass("widgetContent")+'"/>'+(l?i:"")+"</tr>",d.add(this.slotDuration),h.add(this.slotDuration);return u},e.prototype.renderColumns=function(){var t=this.dateProfile,e=this.view.calendar.theme;this.dayRanges=this.dayDates.map((function(e){return new h.default(e.clone().add(t.minTime),e.clone().add(t.maxTime))})),this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),this.el.find("> .fc-bg").html('<table class="'+e.getClass("tableGrid")+'">'+this.renderBgTrHtml(0)+"</table>"),this.colEls=this.el.find(".fc-day, .fc-disabled-day"),this.colCoordCache=new d.default({els:this.colEls,isHorizontal:!0}),this.renderContentSkeleton()},e.prototype.unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var t,e,i="";for(t=0;t<this.colCnt;t++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';e=this.contentSkeletonEl=r('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=e.find(".fc-content-col"),this.helperContainerEls=e.find(".fc-helper-container"),this.fgContainerEls=e.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=e.find(".fc-bgevent-container"),this.highlightContainerEls=e.find(".fc-highlight-container"),this.businessContainerEls=e.find(".fc-business-container"),this.bookendCells(e.find("tr")),this.el.append(e)},e.prototype.unrenderContentSkeleton=function(){this.contentSkeletonEl&&(this.contentSkeletonEl.remove(),this.contentSkeletonEl=null,this.colContainerEls=null,this.helperContainerEls=null,this.fgContainerEls=null,this.bgContainerEls=null,this.highlightContainerEls=null,this.businessContainerEls=null)},e.prototype.groupSegsByCol=function(t){var e,i=[];for(e=0;e<this.colCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].col].push(t[e]);return i},e.prototype.attachSegsByCol=function(t,e){var i,n,r;for(i=0;i<this.colCnt;i++)for(n=t[i],r=0;r<n.length;r++)e.eq(i).append(n[r].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(t){if(this.colContainerEls){var e,i=this.componentFootprintToSegs(new p.default(new h.default(t,t.valueOf()+1),!1)),n=this.computeDateTop(t,t),a=[];for(e=0;e<i.length;e++)a.push(r('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",n).appendTo(this.colContainerEls.eq(i[e].col))[0]);i.length>0&&a.push(r('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",n).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=r(a)}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},e.prototype.updateSize=function(e,i,n){t.prototype.updateSize.call(this,e,i,n),this.slatCoordCache.build(),n&&this.updateSegVerticals([].concat(this.eventRenderer.getSegs(),this.businessSegs||[]))},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.outerHeight()},e.prototype.computeDateTop=function(t,e){return this.computeTimeTop(a.duration(t-e.clone().stripTime()))},e.prototype.computeTimeTop=function(t){var e,i,n=this.slatEls.length,r=(t-this.dateProfile.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(n,r),e=Math.floor(r),i=r-(e=Math.min(e,n-1)),this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*i},e.prototype.updateSegVerticals=function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},e.prototype.computeSegVerticals=function(t){var e,i,n,r=this.opt("agendaEventMinHeight");for(e=0;e<t.length;e++)i=t[e],n=this.dayDates[i.dayIndex],i.top=this.computeDateTop(i.startMs,n),i.bottom=Math.max(i.top+r,this.computeDateTop(i.endMs,n))},e.prototype.assignSegVerticals=function(t){var e,i;for(e=0;e<t.length;e++)(i=t[e]).el.css(this.generateSegVerticalCss(i))},e.prototype.generateSegVerticalCss=function(t){return{top:t.top,bottom:-t.bottom}},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.slatCoordCache.build()},e.prototype.releaseHits=function(){this.colCoordCache.clear()},e.prototype.queryHit=function(t,e){var i=this.snapsPerSlot,n=this.colCoordCache,r=this.slatCoordCache;if(n.isLeftInBounds(t)&&r.isTopInBounds(e)){var a=n.getHorizontalIndex(t),o=r.getVerticalIndex(e);if(null!=a&&null!=o){var s=r.getTopOffset(o),l=r.getHeight(o),c=(e-s)/l,u=Math.floor(c*i),d=s+u/i*l,h=s+(u+1)/i*l;return{col:a,snap:o*i+u,component:this,left:n.getLeftOffset(a),right:n.getRightOffset(a),top:d,bottom:h}}}},e.prototype.getHitFootprint=function(t){var e,i=this.getCellDate(0,t.col),n=this.computeSnapTime(t.snap);return i.time(n),e=i.clone().add(this.snapDuration),new p.default(new h.default(i,e),!1)},e.prototype.computeSnapTime=function(t){return a.duration(this.dateProfile.minTime+this.snapDuration*t)},e.prototype.getHitEl=function(t){return this.colEls.eq(t.col)},e.prototype.renderDrag=function(t,e,i){var n;if(e){if(t.length)return this.helperRenderer.renderEventDraggingFootprints(t,e,i),!0}else for(n=0;n<t.length;n++)this.renderHighlight(t[n].componentFootprint)},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,i){this.helperRenderer.renderEventResizingFootprints(t,e,i)},e.prototype.unrenderEventResize=function(){this.helperRenderer.unrender()},e.prototype.renderSelectionFootprint=function(t){this.opt("selectHelper")?this.helperRenderer.renderComponentFootprint(t):this.renderHighlight(t)},e.prototype.unrenderSelection=function(){this.helperRenderer.unrender(),this.unrenderHighlight()},e}(s.default);e.default=v,v.prototype.eventRendererClass=f.default,v.prototype.businessHourRendererClass=l.default,v.prototype.helperRendererClass=m.default,v.prototype.fillRendererClass=g.default,c.default.mixInto(v),u.default.mixInto(v)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.timeGrid=e,n}return n.__extends(e,t),e.prototype.renderFgSegs=function(t){this.renderFgSegsIntoContainers(t,this.timeGrid.fgContainerEls)},e.prototype.renderFgSegsIntoContainers=function(t,e){var i,n;for(i=this.timeGrid.groupSegsByCol(t),n=0;n<this.timeGrid.colCnt;n++)this.updateFgSegCoords(i[n]);this.timeGrid.attachSegsByCol(i,e)},e.prototype.unrenderFgSegs=function(){this.fgSegs&&this.fgSegs.forEach((function(t){t.el.remove()}))},e.prototype.computeEventTimeFormat=function(){return this.opt("noMeridiemTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.fgSegHtml=function(t,e){var i,n,a,o=this.view,s=o.calendar,l=t.footprint.componentFootprint,c=l.isAllDay,u=t.footprint.eventDef,d=o.isEventDefDraggable(u),h=!e&&t.isStart&&o.isEventDefResizableFromStart(u),p=!e&&t.isEnd&&o.isEventDefResizableFromEnd(u),f=this.getSegClasses(t,d,h||p),m=r.cssToStr(this.getSkinCss(u));if(f.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayRange(l.unzonedRange)){if(t.isStart||t.isEnd){var g=s.msToMoment(t.startMs),y=s.msToMoment(t.endMs);i=this._getTimeText(g,y,c),n=this._getTimeText(g,y,c,"LT"),a=this._getTimeText(g,y,c,null,!1)}}else i=this.getTimeText(t.footprint),n=this.getTimeText(t.footprint,"LT"),a=this.getTimeText(t.footprint,null,!1);return'<a class="'+f.join(" ")+'"'+(u.url?' href="'+r.htmlEscape(u.url)+'"':"")+(m?' style="'+m+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+r.htmlEscape(a)+'" data-full="'+r.htmlEscape(n)+'"><span>'+r.htmlEscape(i)+"</span></div>":"")+(u.title?'<div class="fc-title">'+r.htmlEscape(u.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(p?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e.prototype.updateFgSegCoords=function(t){this.timeGrid.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.timeGrid.assignSegVerticals(t),this.assignFgSegHorizontals(t)},e.prototype.computeFgSegHorizontals=function(t){var e,i,n;if(this.sortEventSegs(t),function(t){var e,i,n,r,a;for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for((r=i[n]).forwardSegs=[],a=e+1;a<t.length;a++)s(r,t[a],r.forwardSegs)}(e=function(t){var e,i,n,r=[];for(e=0;e<t.length;e++){for(i=t[e],n=0;n<r.length&&s(i,r[n]).length;n++);i.level=n,(r[n]||(r[n]=[])).push(i)}return r}(t)),i=e[0]){for(n=0;n<i.length;n++)o(i[n]);for(n=0;n<i.length;n++)this.computeFgSegForwardBack(i[n],0,0)}},e.prototype.computeFgSegForwardBack=function(t,e,i){var n,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,i),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-i)/(e+1),n=0;n<r.length;n++)this.computeFgSegForwardBack(r[n],0,t.forwardCoord)},e.prototype.sortForwardSegs=function(t){t.sort(r.proxy(this,"compareForwardSegs"))},e.prototype.compareForwardSegs=function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},e.prototype.assignFgSegHorizontals=function(t){var e,i;for(e=0;e<t.length;e++)(i=t[e]).el.css(this.generateFgSegHorizontalCss(i)),i.footprint.eventDef.title&&i.bottom-i.top<30&&i.el.addClass("fc-short")},e.prototype.generateFgSegHorizontalCss=function(t){var e,i,n=this.opt("slotEventOverlap"),r=t.backwardCoord,a=t.forwardCoord,o=this.timeGrid.generateSegVerticalCss(t),s=this.timeGrid.isRTL;return n&&(a=Math.min(1,r+2*(a-r))),s?(e=1-a,i=r):(e=r,i=1-a),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*i+"%",n&&t.forwardPressure&&(o[s?"marginLeft":"marginRight"]=20),o},e}(i(44).default);function o(t){var e,i,n=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<n.length;e++)o(i=n[e]),r=Math.max(r,1+i.forwardPressure);t.forwardPressure=r}}function s(t,e,i){void 0===i&&(i=[]);for(var n=0;n<e.length;n++)r=t,a=e[n],r.bottom>a.top&&r.top<a.bottom&&i.push(e[n]);var r,a;return i}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.renderSegs=function(t,e){var i,n,a,o=[];for(this.eventRenderer.renderFgSegsIntoContainers(t,this.component.helperContainerEls),i=0;i<t.length;i++)n=t[i],e&&e.col===n.col&&(a=e.el,n.el.css({left:a.css("left"),right:a.css("right"),"margin-left":a.css("margin-left"),"margin-right":a.css("margin-right")})),o.push(n.el[0]);return r(o)},e}(i(63).default);e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.attachSegEls=function(t,e){var i,n=this.component;return"bgEvent"===t?i=n.bgContainerEls:"businessHours"===t?i=n.businessContainerEls:"highlight"===t&&(i=n.highlightContainerEls),n.updateSegVerticals(e),n.attachSegsByCol(n.groupSegsByCol(e),i),e.map((function(t){return t.el[0]}))},e}(i(62).default);e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.dayGrid=e,n}return n.__extends(e,t),e.prototype.renderBgRanges=function(e){e=r.grep(e,(function(t){return t.eventDef.isAllDay()})),t.prototype.renderBgRanges.call(this,e)},e.prototype.renderFgSegs=function(t){var e=this.rowStructs=this.renderSegRows(t);this.dayGrid.rowEls.each((function(t,i){r(i).find(".fc-content-skeleton > table").append(e[t].tbodyEl)}))},e.prototype.unrenderFgSegs=function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},e.prototype.renderSegRows=function(t){var e,i,n=[];for(e=this.groupSegRows(t),i=0;i<e.length;i++)n.push(this.renderSegRow(i,e[i]));return n},e.prototype.renderSegRow=function(t,e){var i,n,a,o,s,l,c,u=this.dayGrid.colCnt,d=this.buildSegLevels(e),h=Math.max(1,d.length),p=r("<tbody/>"),f=[],m=[],g=[];function y(t){for(;a<t;)(c=(g[i-1]||[])[a])?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=r("<td/>"),o.append(c)),m[i][a]=c,g[i][a]=c,a++}for(i=0;i<h;i++){if(n=d[i],a=0,o=r("<tr/>"),f.push([]),m.push([]),g.push([]),n)for(s=0;s<n.length;s++){for(y((l=n[s]).leftCol),c=r('<td class="fc-event-container"/>').append(l.el),l.leftCol!==l.rightCol?c.attr("colspan",l.rightCol-l.leftCol+1):g[i][a]=c;a<=l.rightCol;)m[i][a]=c,f[i][a]=l,a++;o.append(c)}y(u),this.dayGrid.bookendCells(o),p.append(o)}return{row:t,tbodyEl:p,cellMatrix:m,segMatrix:f,segLevels:d,segs:e}},e.prototype.buildSegLevels=function(t){var e,i,n,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(i=t[e],n=0;n<r.length&&s(i,r[n]);n++);i.level=n,(r[n]||(r[n]=[])).push(i)}for(n=0;n<r.length;n++)r[n].sort(l);return r},e.prototype.groupSegRows=function(t){var e,i=[];for(e=0;e<this.dayGrid.rowCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].row].push(t[e]);return i},e.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},e.prototype.fgSegHtml=function(t,e){var i,n,r=this.view,o=t.footprint.eventDef,s=t.footprint.componentFootprint.isAllDay,l=r.isEventDefDraggable(o),c=!e&&s&&t.isStart&&r.isEventDefResizableFromStart(o),u=!e&&s&&t.isEnd&&r.isEventDefResizableFromEnd(o),d=this.getSegClasses(t,l,c||u),h=a.cssToStr(this.getSkinCss(o)),p="";return d.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(i=this.getTimeText(t.footprint))&&(p='<span class="fc-time">'+a.htmlEscape(i)+"</span>"),n='<span class="fc-title">'+(a.htmlEscape(o.title||"")||"&nbsp;")+"</span>",'<a class="'+d.join(" ")+'"'+(o.url?' href="'+a.htmlEscape(o.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(this.dayGrid.isRTL?n+" "+p:p+" "+n)+"</div>"+(c?'<div class="fc-resizer fc-start-resizer" />':"")+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e}(i(44).default);function s(t,e){var i,n;for(i=0;i<e.length;i++)if((n=e[i]).leftCol<=t.rightCol&&n.rightCol>=t.leftCol)return!0;return!1}function l(t,e){return t.leftCol-e.leftCol}e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.renderSegs=function(t,e){var i,n=[];return i=this.eventRenderer.renderSegRows(t),this.component.rowEls.each((function(t,a){var o,s,l=r(a),c=r('<div class="fc-helper-skeleton"><table/></div>');e&&e.row===t?s=e.el.position().top:((o=l.find(".fc-content-skeleton tbody")).length||(o=l.find(".fc-content-skeleton table")),s=o.position().top),c.css("top",s).find("table").append(i[t].tbodyEl),l.append(c),n.push(c[0])})),r(n)},e}(i(63).default);e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillSegTag="td",e}return n.__extends(e,t),e.prototype.attachSegEls=function(t,e){var i,n,r,a=[];for(i=0;i<e.length;i++)n=e[i],r=this.renderFillRow(t,n),this.component.rowEls.eq(n.row).append(r),a.push(r[0]);return a},e.prototype.renderFillRow=function(t,e){var i,n,a,o=this.component.colCnt,s=e.leftCol,l=e.rightCol+1;return i="businessHours"===t?"bgevent":t.toLowerCase(),a=(n=r('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),s>0&&a.append(new Array(s+1).join("<td/>")),a.append(e.el.attr("colspan",l-s)),l<o&&a.append(new Array(o-l+1).join("<td/>")),this.component.bookendCells(a),n},e}(i(62).default);e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(0),a=i(4),o=i(67),s=i(247),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.setGridHeight=function(t,e){e&&(t*=this.dayGrid.rowCnt/6),a.distributeHeight(this.dayGrid.rowEls,t,!e)},e.prototype.isDateInOtherMonth=function(t,e){return t.month()!==r.utc(e.currentUnzonedRange.startMs).month()},e}(o.default);e.default=l,l.prototype.dateProfileGeneratorClass=s.default},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(68),a=i(5),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.buildRenderRange=function(e,i,n){var r,o=t.prototype.buildRenderRange.call(this,e,i,n),s=this.msToUtcMoment(o.startMs,n),l=this.msToUtcMoment(o.endMs,n);return this.opt("fixedWeekCount")&&(r=Math.ceil(l.diff(s,"weeks",!0)),l.add(6-r,"weeks")),new a.default(s,l)},e}(r.default);e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(5),s=i(43),l=i(41),c=i(249),u=i(250),d=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.segSelector=".fc-list-item",n.scroller=new l.default({overflowX:"hidden",overflowY:"auto"}),n}return n.__extends(e,t),e.prototype.renderSkeleton=function(){this.el.addClass("fc-list-view "+this.calendar.theme.getClass("listView")),this.scroller.render(),this.scroller.el.appendTo(this.el),this.contentEl=this.scroller.scrollEl},e.prototype.unrenderSkeleton=function(){this.scroller.destroy()},e.prototype.updateSize=function(e,i,n){t.prototype.updateSize.call(this,e,i,n),this.scroller.clear(),i||this.scroller.setHeight(this.computeScrollerHeight(e))},e.prototype.computeScrollerHeight=function(t){return t-a.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.renderDates=function(t){for(var e=this.calendar,i=e.msToUtcMoment(t.renderUnzonedRange.startMs,!0),n=e.msToUtcMoment(t.renderUnzonedRange.endMs,!0),r=[],a=[];i<n;)r.push(i.clone()),a.push(new o.default(i,i.clone().add(1,"day"))),i.add(1,"day");this.dayDates=r,this.dayRanges=a},e.prototype.componentFootprintToSegs=function(t){var e,i,n,r=this.dayRanges,a=[];for(e=0;e<r.length;e++)if((i=t.unzonedRange.intersect(r[e]))&&(n={startMs:i.startMs,endMs:i.endMs,isStart:i.isStart,isEnd:i.isEnd,dayIndex:e},a.push(n),!n.isEnd&&!t.isAllDay&&e+1<r.length&&t.unzonedRange.endMs<r[e+1].startMs+this.nextDayThreshold)){n.endMs=t.unzonedRange.endMs,n.isEnd=!0;break}return a},e.prototype.renderEmptyMessage=function(){this.contentEl.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+a.htmlEscape(this.opt("noEventsMessage"))+"</div></div></div>")},e.prototype.renderSegList=function(t){var e,i,n,a=this.groupSegsByDay(t),o=r('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody/></table>'),s=o.find("tbody");for(e=0;e<a.length;e++)if(i=a[e])for(s.append(this.dayHeaderHtml(this.dayDates[e])),this.eventRenderer.sortEventSegs(i),n=0;n<i.length;n++)s.append(i[n].el);this.contentEl.empty().append(o)},e.prototype.groupSegsByDay=function(t){var e,i,n=[];for(e=0;e<t.length;e++)(n[(i=t[e]).dayIndex]||(n[i.dayIndex]=[])).push(i);return n},e.prototype.dayHeaderHtml=function(t){var e=this.opt("listDayFormat"),i=this.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+t.format("YYYY-MM-DD")+'"><td class="'+(this.calendar.theme.getClass("tableListHeading")||this.calendar.theme.getClass("widgetHeader"))+'" colspan="3">'+(e?this.buildGotoAnchorHtml(t,{class:"fc-list-heading-main"},a.htmlEscape(t.format(e))):"")+(i?this.buildGotoAnchorHtml(t,{class:"fc-list-heading-alt"},a.htmlEscape(t.format(i))):"")+"</td></tr>"},e}(s.default);e.default=d,d.prototype.eventRendererClass=c.default,d.prototype.eventPointingClass=u.default},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.renderFgSegs=function(t){t.length?this.component.renderSegList(t):this.component.renderEmptyMessage()},e.prototype.fgSegHtml=function(t){var e,i=this.view,n=i.calendar,a=n.theme,o=t.footprint,s=o.eventDef,l=o.componentFootprint,c=s.url,u=["fc-list-item"].concat(this.getClasses(s)),d=this.getBgColor(s);return e=l.isAllDay?i.getAllDayHtml():i.isMultiDayRange(l.unzonedRange)?t.isStart||t.isEnd?r.htmlEscape(this._getTimeText(n.msToMoment(t.startMs),n.msToMoment(t.endMs),l.isAllDay)):i.getAllDayHtml():r.htmlEscape(this.getTimeText(o)),c&&u.push("fc-has-url"),'<tr class="'+u.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+a.getClass("widgetContent")+'">'+(e||"")+"</td>":"")+'<td class="fc-list-item-marker '+a.getClass("widgetContent")+'"><span class="fc-event-dot"'+(d?' style="background-color:'+d+'"':"")+'></span></td><td class="fc-list-item-title '+a.getClass("widgetContent")+'"><a'+(c?' href="'+r.htmlEscape(c)+'"':"")+">"+r.htmlEscape(s.title||"")+"</a></td></tr>"},e.prototype.computeEventTimeFormat=function(){return this.opt("mediumTimeFormat")},e}(i(44).default);e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.handleClick=function(e,i){var n;t.prototype.handleClick.call(this,e,i),r(i.target).closest("a[href]").length||(n=e.footprint.eventDef.url)&&!i.isDefaultPrevented()&&(window.location.href=n)},e}(i(64).default);e.default=a},,,,,,function(t,e,i){var n=i(3),r=i(18),a=i(4),o=i(232);i(11),i(49),i(260),i(261),i(264),i(265),i(266),i(267),n.fullCalendar=r,n.fn.fullCalendar=function(t){var e=Array.prototype.slice.call(arguments,1),i=this;return this.each((function(r,s){var l,c=n(s),u=c.data("fullCalendar");"string"==typeof t?"getCalendar"===t?r||(i=u):"destroy"===t?u&&(u.destroy(),c.removeData("fullCalendar")):u?n.isFunction(u[t])?(l=u[t].apply(u,e),r||(i=l),"destroy"===t&&c.removeData("fullCalendar")):a.warn("'"+t+"' is an unknown FullCalendar method."):a.warn("Attempting to call a FullCalendar method on an element with no calendar."):u||(u=new o.default(c,t),c.data("fullCalendar",u),u.render())})),i},t.exports=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(4),a=function(){function t(t,e){this.el=null,this.viewsWithButtons=[],this.calendar=t,this.toolbarOptions=e}return t.prototype.setToolbarOptions=function(t){this.toolbarOptions=t},t.prototype.render=function(){var t=this.toolbarOptions.layout,e=this.el;t?(e?e.empty():e=this.el=n("<div class='fc-toolbar "+this.toolbarOptions.extraClasses+"'/>"),e.append(this.renderSection("left")).append(this.renderSection("right")).append(this.renderSection("center")).append('<div class="fc-clear"/>')):this.removeElement()},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.renderSection=function(t){var e=this,i=this.calendar,a=i.theme,o=i.optionsManager,s=i.viewSpecManager,l=n('<div class="fc-'+t+'"/>'),c=this.toolbarOptions.layout[t],u=o.get("customButtons")||{},d=o.overrides.buttonText||{},h=o.get("buttonText")||{};return c&&n.each(c.split(" "),(function(t,o){var c,p=n(),f=!0;n.each(o.split(","),(function(t,o){var l,c,m,g,y,v,_,b,x;"title"===o?(p=p.add(n("<h2>&nbsp;</h2>")),f=!1):((l=u[o])?(m=function(t){l.click&&l.click.call(b[0],t)},(g=a.getCustomButtonIconClass(l))||(g=a.getIconClass(o))||(y=l.text)):(c=s.getViewSpec(o))?(e.viewsWithButtons.push(o),m=function(){i.changeView(o)},(y=c.buttonTextOverride)||(g=a.getIconClass(o))||(y=c.buttonTextDefault)):i[o]&&(m=function(){i[o]()},(y=d[o])||(g=a.getIconClass(o))||(y=h[o])),m&&(_=["fc-"+o+"-button",a.getClass("button"),a.getClass("stateDefault")],y?(v=r.htmlEscape(y),x=""):g&&(v="<span class='"+g+"'></span>",x=' aria-label="'+o+'"'),b=n('<button type="button" class="'+_.join(" ")+'"'+x+">"+v+"</button>").click((function(t){b.hasClass(a.getClass("stateDisabled"))||(m(t),(b.hasClass(a.getClass("stateActive"))||b.hasClass(a.getClass("stateDisabled")))&&b.removeClass(a.getClass("stateHover")))})).mousedown((function(){b.not("."+a.getClass("stateActive")).not("."+a.getClass("stateDisabled")).addClass(a.getClass("stateDown"))})).mouseup((function(){b.removeClass(a.getClass("stateDown"))})).hover((function(){b.not("."+a.getClass("stateActive")).not("."+a.getClass("stateDisabled")).addClass(a.getClass("stateHover"))}),(function(){b.removeClass(a.getClass("stateHover")).removeClass(a.getClass("stateDown"))})),p=p.add(b)))})),f&&p.first().addClass(a.getClass("cornerLeft")).end().last().addClass(a.getClass("cornerRight")).end(),p.length>1?(c=n("<div/>"),f&&c.addClass(a.getClass("buttonGroup")),c.append(p),l.append(c)):l.append(p)})),l},t.prototype.updateTitle=function(t){this.el&&this.el.find("h2").text(t)},t.prototype.activateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").addClass(this.calendar.theme.getClass("stateActive"))},t.prototype.deactivateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").removeClass(this.calendar.theme.getClass("stateActive"))},t.prototype.disableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!0).addClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.enableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.getViewsWithButtons=function(){return this.viewsWithButtons},t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(3),a=i(4),o=i(33),s=i(32),l=function(t){function e(e,i){var n=t.call(this)||this;return n._calendar=e,n.overrides=r.extend({},i),n.dynamicOverrides={},n.compute(),n}return n.__extends(e,t),e.prototype.add=function(t){var e,i=0;for(e in this.recordOverrides(t),t)i++;if(1===i){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void this._calendar.updateViewSize(!0);if("defaultDate"===e)return;if("businessHours"===e)return;if(/^(event|select)(Overlap|Constraint|Allow)$/.test(e))return;if("timezone"===e)return void this._calendar.view.flash("initialEvents")}this._calendar.renderHeader(),this._calendar.renderFooter(),this._calendar.viewsByType={},this._calendar.reinitView()},e.prototype.compute=function(){var t,e,i,n;t=a.firstDefined(this.dynamicOverrides.locale,this.overrides.locale),(e=s.localeOptionHash[t])||(t=o.globalDefaults.locale,e=s.localeOptionHash[t]||{}),i=a.firstDefined(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,o.globalDefaults.isRTL)?o.rtlDefaults:{},this.dirDefaults=i,this.localeDefaults=e,n=o.mergeOptions([o.globalDefaults,i,e,this.overrides,this.dynamicOverrides]),s.populateInstanceComputableOptions(n),this.reset(n)},e.prototype.recordOverrides=function(t){var e;for(e in t)this.dynamicOverrides[e]=t[e];this._calendar.viewSpecManager.clearCache(),this.compute()},e}(i(51).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(3),a=i(24),o=i(4),s=i(33),l=i(32),c=function(){function t(t,e){this.optionsManager=t,this._calendar=e,this.clearCache()}return t.prototype.clearCache=function(){this.viewSpecCache={}},t.prototype.getViewSpec=function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},t.prototype.getUnitViewSpec=function(t){var e,i,n;if(-1!==r.inArray(t,o.unitsDesc))for(e=this._calendar.header.getViewsWithButtons(),r.each(a.viewHash,(function(t){e.push(t)})),i=0;i<e.length;i++)if((n=this.getViewSpec(e[i]))&&n.singleUnit===t)return n},t.prototype.buildViewSpec=function(t){for(var e,i,r,l,c,u=this.optionsManager.overrides.views||{},d=[],h=[],p=[],f=t;f;)e=a.viewHash[f],i=u[f],f=null,"function"==typeof e&&(e={class:e}),e&&(d.unshift(e),h.unshift(e.defaults||{}),r=r||e.duration,f=f||e.type),i&&(p.unshift(i),r=r||i.duration,f=f||i.type);return(e=o.mergeProps(d)).type=t,!!e.class&&((r=r||this.optionsManager.dynamicOverrides.duration||this.optionsManager.overrides.duration)&&(l=n.duration(r)).valueOf()&&(c=o.computeDurationGreatestUnit(l,r),e.duration=l,e.durationUnit=c,1===l.as(c)&&(e.singleUnit=c,p.unshift(u[c]||{}))),e.defaults=s.mergeOptions(h),e.overrides=s.mergeOptions(p),this.buildViewSpecOptions(e),this.buildViewSpecButtonText(e,t),e)},t.prototype.buildViewSpecOptions=function(t){var e=this.optionsManager;t.options=s.mergeOptions([s.globalDefaults,t.defaults,e.dirDefaults,e.localeDefaults,e.overrides,t.overrides,e.dynamicOverrides]),l.populateInstanceComputableOptions(t.options)},t.prototype.buildViewSpecButtonText=function(t,e){var i=this.optionsManager;function n(i){var n=i.buttonText||{};return n[e]||(t.buttonTextKey?n[t.buttonTextKey]:null)||(t.singleUnit?n[t.singleUnit]:null)}t.buttonTextOverride=n(i.dynamicOverrides)||n(i.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(i.localeDefaults)||n(i.dirDefaults)||t.defaults.buttonText||n(s.globalDefaults)||(t.duration?this._calendar.humanizeDuration(t.duration):null)||e},t}();e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(38),r=i(56),a=i(223),o=i(224);n.default.registerClass(r.default),n.default.registerClass(a.default),n.default.registerClass(o.default)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(57),r=i(221),a=i(222),o=i(262),s=i(263);n.defineThemeSystem("standard",r.default),n.defineThemeSystem("jquery-ui",a.default),n.defineThemeSystem("bootstrap3",o.default),n.defineThemeSystem("bootstrap4",s.default)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(i(22).default);e.default=r,r.prototype.classes={widget:"fc-bootstrap3",tableGrid:"table-bordered",tableList:"table",tableListHeading:"active",buttonGroup:"btn-group",button:"btn btn-default",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"panel panel-default",popoverHeader:"panel-heading",popoverContent:"panel-body",headerRow:"panel-default",dayRow:"panel-default",listView:"panel panel-default"},r.prototype.baseIconClass="glyphicon",r.prototype.iconClasses={close:"glyphicon-remove",prev:"glyphicon-chevron-left",next:"glyphicon-chevron-right",prevYear:"glyphicon-backward",nextYear:"glyphicon-forward"},r.prototype.iconOverrideOption="bootstrapGlyphicons",r.prototype.iconOverrideCustomButtonOption="bootstrapGlyphicon",r.prototype.iconOverridePrefix="glyphicon-"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(i(22).default);e.default=r,r.prototype.classes={widget:"fc-bootstrap4",tableGrid:"table-bordered",tableList:"table",tableListHeading:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"card card-primary",popoverHeader:"card-header",popoverContent:"card-body",headerRow:"table-bordered",dayRow:"table-bordered",listView:"card card-primary"},r.prototype.baseIconClass="fa",r.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},r.prototype.iconOverrideOption="bootstrapFontAwesome",r.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",r.prototype.iconOverridePrefix="fa-"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),r=i(67),a=i(246);n.defineView("basic",{class:r.default}),n.defineView("basicDay",{type:"basic",duration:{days:1}}),n.defineView("basicWeek",{type:"basic",duration:{weeks:1}}),n.defineView("month",{class:a.default,duration:{months:1},defaults:{fixedWeekCount:!0}})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),r=i(238);n.defineView("agenda",{class:r.default,defaults:{allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0}}),n.defineView("agendaDay",{type:"agenda",duration:{days:1}}),n.defineView("agendaWeek",{type:"agenda",duration:{weeks:1}})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),r=i(248);n.defineView("list",{class:r.default,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}}),n.defineView("listDay",{type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}}),n.defineView("listWeek",{type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}}),n.defineView("listMonth",{type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}}),n.defineView("listYear",{type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}])},t.exports=n(i(0),i(1))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){var n={"./af":13,"./af.js":13,"./ar":14,"./ar-dz":15,"./ar-dz.js":15,"./ar-kw":16,"./ar-kw.js":16,"./ar-ly":17,"./ar-ly.js":17,"./ar-ma":18,"./ar-ma.js":18,"./ar-sa":19,"./ar-sa.js":19,"./ar-tn":20,"./ar-tn.js":20,"./ar.js":14,"./az":21,"./az.js":21,"./be":22,"./be.js":22,"./bg":23,"./bg.js":23,"./bm":24,"./bm.js":24,"./bn":25,"./bn-bd":26,"./bn-bd.js":26,"./bn.js":25,"./bo":27,"./bo.js":27,"./br":28,"./br.js":28,"./bs":29,"./bs.js":29,"./ca":30,"./ca.js":30,"./cs":31,"./cs.js":31,"./cv":32,"./cv.js":32,"./cy":33,"./cy.js":33,"./da":34,"./da.js":34,"./de":35,"./de-at":36,"./de-at.js":36,"./de-ch":37,"./de-ch.js":37,"./de.js":35,"./dv":38,"./dv.js":38,"./el":39,"./el.js":39,"./en-au":40,"./en-au.js":40,"./en-ca":41,"./en-ca.js":41,"./en-gb":42,"./en-gb.js":42,"./en-ie":43,"./en-ie.js":43,"./en-il":44,"./en-il.js":44,"./en-in":45,"./en-in.js":45,"./en-nz":46,"./en-nz.js":46,"./en-sg":47,"./en-sg.js":47,"./eo":48,"./eo.js":48,"./es":49,"./es-do":50,"./es-do.js":50,"./es-mx":51,"./es-mx.js":51,"./es-us":52,"./es-us.js":52,"./es.js":49,"./et":53,"./et.js":53,"./eu":54,"./eu.js":54,"./fa":55,"./fa.js":55,"./fi":56,"./fi.js":56,"./fil":57,"./fil.js":57,"./fo":58,"./fo.js":58,"./fr":59,"./fr-ca":60,"./fr-ca.js":60,"./fr-ch":61,"./fr-ch.js":61,"./fr.js":59,"./fy":62,"./fy.js":62,"./ga":63,"./ga.js":63,"./gd":64,"./gd.js":64,"./gl":65,"./gl.js":65,"./gom-deva":66,"./gom-deva.js":66,"./gom-latn":67,"./gom-latn.js":67,"./gu":68,"./gu.js":68,"./he":69,"./he.js":69,"./hi":70,"./hi.js":70,"./hr":71,"./hr.js":71,"./hu":72,"./hu.js":72,"./hy-am":73,"./hy-am.js":73,"./id":74,"./id.js":74,"./is":75,"./is.js":75,"./it":76,"./it-ch":77,"./it-ch.js":77,"./it.js":76,"./ja":78,"./ja.js":78,"./jv":79,"./jv.js":79,"./ka":80,"./ka.js":80,"./kk":81,"./kk.js":81,"./km":82,"./km.js":82,"./kn":83,"./kn.js":83,"./ko":84,"./ko.js":84,"./ku":85,"./ku.js":85,"./ky":86,"./ky.js":86,"./lb":87,"./lb.js":87,"./lo":88,"./lo.js":88,"./lt":89,"./lt.js":89,"./lv":90,"./lv.js":90,"./me":91,"./me.js":91,"./mi":92,"./mi.js":92,"./mk":93,"./mk.js":93,"./ml":94,"./ml.js":94,"./mn":95,"./mn.js":95,"./mr":96,"./mr.js":96,"./ms":97,"./ms-my":98,"./ms-my.js":98,"./ms.js":97,"./mt":99,"./mt.js":99,"./my":100,"./my.js":100,"./nb":101,"./nb.js":101,"./ne":102,"./ne.js":102,"./nl":103,"./nl-be":104,"./nl-be.js":104,"./nl.js":103,"./nn":105,"./nn.js":105,"./oc-lnc":106,"./oc-lnc.js":106,"./pa-in":107,"./pa-in.js":107,"./pl":108,"./pl.js":108,"./pt":109,"./pt-br":110,"./pt-br.js":110,"./pt.js":109,"./ro":111,"./ro.js":111,"./ru":112,"./ru.js":112,"./sd":113,"./sd.js":113,"./se":114,"./se.js":114,"./si":115,"./si.js":115,"./sk":116,"./sk.js":116,"./sl":117,"./sl.js":117,"./sq":118,"./sq.js":118,"./sr":119,"./sr-cyrl":120,"./sr-cyrl.js":120,"./sr.js":119,"./ss":121,"./ss.js":121,"./sv":122,"./sv.js":122,"./sw":123,"./sw.js":123,"./ta":124,"./ta.js":124,"./te":125,"./te.js":125,"./tet":126,"./tet.js":126,"./tg":127,"./tg.js":127,"./th":128,"./th.js":128,"./tk":129,"./tk.js":129,"./tl-ph":130,"./tl-ph.js":130,"./tlh":131,"./tlh.js":131,"./tr":132,"./tr.js":132,"./tzl":133,"./tzl.js":133,"./tzm":134,"./tzm-latn":135,"./tzm-latn.js":135,"./tzm.js":134,"./ug-cn":136,"./ug-cn.js":136,"./uk":137,"./uk.js":137,"./ur":138,"./ur.js":138,"./uz":139,"./uz-latn":140,"./uz-latn.js":140,"./uz.js":139,"./vi":141,"./vi.js":141,"./x-pseudo":142,"./x-pseudo.js":142,"./yo":143,"./yo.js":143,"./zh-cn":144,"./zh-cn.js":144,"./zh-hk":145,"./zh-hk.js":145,"./zh-mo":146,"./zh-mo.js":146,"./zh-tw":147,"./zh-tw.js":147};function r(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id=177},function(t,e,i){"use strict";i.r(e),function(t){i(179),i(494);t(document).ready((function(){t("#tree").fancytree({checkbox:!0,selectMode:3,source:{url:"https://cdn.rawgit.com/mar10/fancytree/72e03685/demo/ajax-tree-products.json"},lazyLoad:function(t,e){e.result={url:"https://cdn.rawgit.com/mar10/fancytree/72e03685/demo/ajax-sub2.json"}},activate:function(e,i){t("#statusLine").text(e.type+": "+i.node)},select:function(e,i){t("#statusLine").text(e.type+": "+i.node.isSelected()+" "+i.node)}}),t("#button1").click((function(){t.ui.fancytree.getTree().findFirst((function(t){return"The Hobbit"===t.title})).toggleSelected()}))}))}.call(this,i(1))},function(t,e,i){var n,r,a;
/*!
 * jquery.fancytree.js
 * Tree view control with support for lazy loading and much more.
 * https://github.com/mar10/fancytree/
 *
 * Copyright (c) 2008-2021, Martin Wendt (https://wwWendt.de)
 * Released under the MIT license
 * https://github.com/mar10/fancytree/wiki/LicenseInfo
 *
 * @version 2.38.0
 * @date 2021-02-09T20:03:49Z
 */r=[i(1),i(180)],void 0===(a="function"==typeof(n=function(t){"use strict";if(!t.ui||!t.ui.fancytree){var e,i,n=null,r=new RegExp(/\.|\//),a=/[&<>"'/]/g,o=/[<>"'/]/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},l={16:!0,17:!0,18:!0},c={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={16:"shift",17:"ctrl",18:"alt",91:"meta",93:"meta"},d={0:"",1:"left",2:"middle",3:"right"},h="active expanded focus folder lazy radiogroup selected unselectable unselectableIgnore".split(" "),p={},f="columns types".split(" "),m="checkbox expanded extraClasses folder icon iconTooltip key lazy partsel radiogroup refKey selected statusNodeType title tooltip type unselectable unselectableIgnore unselectableStatus".split(" "),g={},y={},v={active:!0,children:!0,data:!0,focus:!0};for(e=0;e<h.length;e++)p[h[e]]=!0;for(e=0;e<m.length;e++)i=m[e],g[i]=!0,i!==i.toLowerCase()&&(y[i.toLowerCase()]=i);return _(t.ui,"Fancytree requires jQuery UI (http://jqueryui.com)"),Date.now||(Date.now=function(){return(new Date).getTime()}),A.prototype={_findDirectChild:function(t){var e,i,n=this.children;if(n)if("string"==typeof t){for(e=0,i=n.length;e<i;e++)if(n[e].key===t)return n[e]}else{if("number"==typeof t)return this.children[t];if(t.parent===this)return t}return null},_setChildren:function(t){_(t&&(!this.children||0===this.children.length),"only init supported"),this.children=[];for(var e=0,i=t.length;e<i;e++)this.children.push(new A(this,t[e]));this.tree._callHook("treeStructureChanged",this.tree,"setChildren")},addChildren:function(e,i){var n,r,a,o,s=this.getFirstChild(),l=this.getLastChild(),c=[];for(t.isPlainObject(e)&&(e=[e]),this.children||(this.children=[]),n=0,r=e.length;n<r;n++)c.push(new A(this,e[n]));if(o=c[0],null==i?this.children=this.children.concat(c):(i=this._findDirectChild(i),_((a=t.inArray(i,this.children))>=0,"insertBefore must be an existing child"),this.children.splice.apply(this.children,[a,0].concat(c))),s&&!i){for(n=0,r=c.length;n<r;n++)c[n].render();s!==this.getFirstChild()&&s.renderStatus(),l!==this.getLastChild()&&l.renderStatus()}else(!this.parent||this.parent.ul||this.tr)&&this.render();return 3===this.tree.options.selectMode&&this.fixSelection3FromEndNodes(),this.triggerModifyChild("add",1===c.length?c[0]:null),o},addClass:function(t){return this.toggleClass(t,!0)},addNode:function(t,e){switch(void 0!==e&&"over"!==e||(e="child"),e){case"after":return this.getParent().addChildren(t,this.getNextSibling());case"before":return this.getParent().addChildren(t,this);case"firstChild":var i=this.children?this.children[0]:null;return this.addChildren(t,i);case"child":case"over":return this.addChildren(t)}_(!1,"Invalid mode: "+e)},addPagingNode:function(e,i){var n,r;if(i=i||"child",!1!==e)return e=t.extend({title:this.tree.options.strings.moreData,statusNodeType:"paging",icon:!1},e),this.partload=!0,this.addNode(e,i);for(n=this.children.length-1;n>=0;n--)"paging"===(r=this.children[n]).statusNodeType&&this.removeChild(r);this.partload=!1},appendSibling:function(t){return this.addNode(t,"after")},applyCommand:function(t,e){return this.tree.applyCommand(t,this,e)},applyPatch:function(e){if(null===e)return this.remove(),S(this);var i,n,r={children:!0,expanded:!0,parent:!0};for(i in e)e.hasOwnProperty(i)&&(n=e[i],r[i]||t.isFunction(n)||(g[i]?this[i]=n:this.data[i]=n));return e.hasOwnProperty("children")&&(this.removeChildren(),e.children&&this._setChildren(e.children)),this.isVisible()&&(this.renderTitle(),this.renderStatus()),e.hasOwnProperty("expanded")?this.setExpanded(e.expanded):S(this)},collapseSiblings:function(){return this.tree._callHook("nodeCollapseSiblings",this)},copyTo:function(t,e,i){return t.addNode(this.toDict(!0,i),e)},countChildren:function(t){var e,i,n,r=this.children;if(!r)return 0;if(n=r.length,!1!==t)for(e=0,i=n;e<i;e++)n+=r[e].countChildren();return n},debug:function(t){this.tree.options.debugLevel>=4&&(Array.prototype.unshift.call(arguments,this.toString()),b("log",arguments))},discard:function(){return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."),this.resetLazy()},discardMarkup:function(t){var e=t?"nodeRemoveMarkup":"nodeRemoveChildMarkup";this.tree._callHook(e,this)},error:function(t){this.tree.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),b("error",arguments))},findAll:function(e){e=t.isFunction(e)?e:L(e);var i=[];return this.visit((function(t){e(t)&&i.push(t)})),i},findFirst:function(e){e=t.isFunction(e)?e:L(e);var i=null;return this.visit((function(t){if(e(t))return i=t,!1})),i},findRelatedNode:function(t,e){return this.tree.findRelatedNode(this,t,e)},_changeSelectStatusAttrs:function(t){var e=!1,i=this.tree.options,r=n.evalOption("unselectable",this,this,i,!1),a=n.evalOption("unselectableStatus",this,this,i,void 0);switch(r&&null!=a&&(t=a),t){case!1:e=this.selected||this.partsel,this.selected=!1,this.partsel=!1;break;case!0:e=!this.selected||!this.partsel,this.selected=!0,this.partsel=!0;break;case void 0:e=this.selected||!this.partsel,this.selected=!1,this.partsel=!0;break;default:_(!1,"invalid state: "+t)}return e&&this.renderStatus(),e},fixSelection3AfterClick:function(t){var e=this.isSelected();this.visit((function(t){if(t._changeSelectStatusAttrs(e),t.radiogroup)return"skip"})),this.fixSelection3FromEndNodes(t)},fixSelection3FromEndNodes:function(t){var e=this.tree.options;_(3===e.selectMode,"expected selectMode 3"),function t(i){var r,a,o,s,l,c,u,d,h=i.children;if(h&&h.length){for(c=!0,u=!1,r=0,a=h.length;r<a;r++)s=t(o=h[r]),n.evalOption("unselectableIgnore",o,o,e,!1)||(!1!==s&&(u=!0),!0!==s&&(c=!1));l=!!c||!!u&&void 0}else l=null==(d=n.evalOption("unselectableStatus",i,i,e,void 0))?!!i.selected:!!d;return i.partsel&&!i.selected&&i.lazy&&null==i.children&&(l=void 0),i._changeSelectStatusAttrs(l),l}(this),this.visitParents((function(t){var i,r,a,o,s,l=t.children,c=!0,u=!1;for(i=0,r=l.length;i<r;i++)a=l[i],n.evalOption("unselectableIgnore",a,a,e,!1)||(((o=null==(s=n.evalOption("unselectableStatus",a,a,e,void 0))?!!a.selected:!!s)||a.partsel)&&(u=!0),o||(c=!1));o=!!c||!!u&&void 0,t._changeSelectStatusAttrs(o)}))},fromDict:function(e){for(var i in e)g[i]?this[i]=e[i]:"data"===i?t.extend(this.data,e.data):t.isFunction(e[i])||v[i]||(this.data[i]=e[i]);e.children&&(this.removeChildren(),this.addChildren(e.children)),this.renderTitle()},getChildren:function(){if(void 0!==this.hasChildren())return this.children},getFirstChild:function(){return this.children?this.children[0]:null},getIndex:function(){return t.inArray(this,this.parent.children)},getIndexHier:function(e,i){e=e||".";var n,r=[];return t.each(this.getParentList(!1,!0),(function(t,e){n=""+(e.getIndex()+1),i&&(n=("0000000"+n).substr(-i)),r.push(n)})),r.join(e)},getKeyPath:function(t){var e=this.tree.options.keyPathSeparator;return e+this.getPath(!t,"key",e)},getLastChild:function(){return this.children?this.children[this.children.length-1]:null},getLevel:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},getNextSibling:function(){if(this.parent){var t,e,i=this.parent.children;for(t=0,e=i.length-1;t<e;t++)if(i[t]===this)return i[t+1]}return null},getParent:function(){return this.parent},getParentList:function(t,e){for(var i=[],n=e?this:this.parent;n;)(t||n.parent)&&i.unshift(n),n=n.parent;return i},getPath:function(e,i,n){e=!1!==e,i=i||"title",n=n||"/";var r,a=[],o=t.isFunction(i);return this.visitParents((function(t){t.parent&&(r=o?i(t):t[i],a.unshift(r))}),e),a.join(n)},getPrevSibling:function(){if(this.parent){var t,e,i=this.parent.children;for(t=1,e=i.length;t<e;t++)if(i[t]===this)return i[t-1]}return null},getSelectedNodes:function(t){var e=[];return this.visit((function(i){if(i.selected&&(e.push(i),!0===t))return"skip"})),e},hasChildren:function(){if(this.lazy){if(null==this.children)return;if(0===this.children.length)return!1;if(1===this.children.length&&this.children[0].isStatusNode())return;return!0}return!(!this.children||!this.children.length)},hasClass:function(t){return(" "+(this.extraClasses||"")+" ").indexOf(" "+t+" ")>=0},hasFocus:function(){return this.tree.hasFocus()&&this.tree.focusNode===this},info:function(t){this.tree.options.debugLevel>=3&&(Array.prototype.unshift.call(arguments,this.toString()),b("info",arguments))},isActive:function(){return this.tree.activeNode===this},isBelowOf:function(t){return this.getIndexHier(".",5)>t.getIndexHier(".",5)},isChildOf:function(t){return this.parent&&this.parent===t},isDescendantOf:function(e){if(!e||e.tree!==this.tree)return!1;for(var i=this.parent;i;){if(i===e)return!0;i===i.parent&&t.error("Recursive parent link: "+i),i=i.parent}return!1},isExpanded:function(){return!!this.expanded},isFirstSibling:function(){var t=this.parent;return!t||t.children[0]===this},isFolder:function(){return!!this.folder},isLastSibling:function(){var t=this.parent;return!t||t.children[t.children.length-1]===this},isLazy:function(){return!!this.lazy},isLoaded:function(){return!this.lazy||void 0!==this.hasChildren()},isLoading:function(){return!!this._isLoading},isRoot:function(){return this.isRootNode()},isPartsel:function(){return!this.selected&&!!this.partsel},isPartload:function(){return!!this.partload},isRootNode:function(){return this.tree.rootNode===this},isSelected:function(){return!!this.selected},isStatusNode:function(){return!!this.statusNodeType},isPagingNode:function(){return"paging"===this.statusNodeType},isTopLevel:function(){return this.tree.rootNode===this.parent},isUndefined:function(){return void 0===this.hasChildren()},isVisible:function(){var t,e,i=this.tree.enableFilter,n=this.getParentList(!1,!1);if(i&&!this.match&&!this.subMatchCount)return!1;for(t=0,e=n.length;t<e;t++)if(!n[t].expanded)return!1;return!0},lazyLoad:function(e){t.error("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead.")},load:function(t){var e,i,n=this,r=this.isExpanded();return _(this.isLazy(),"load() requires a lazy node"),t||this.isUndefined()?(this.isLoaded()&&this.resetLazy(),!1===(i=this.tree._triggerNodeEvent("lazyLoad",this))?S(this):(_("boolean"!=typeof i,"lazyLoad event must return source in data.result"),e=this.tree._callHook("nodeLoadChildren",this,i),r?(this.expanded=!0,e.always((function(){n.render()}))):e.always((function(){n.renderStatus()})),e)):S(this)},makeVisible:function(e){var i,n=this,r=[],a=new t.Deferred,o=this.getParentList(!1,!1),s=o.length,l=!(e&&!0===e.noAnimation),c=!(e&&!1===e.scrollIntoView);for(i=s-1;i>=0;i--)r.push(o[i].setExpanded(!0,e));return t.when.apply(t,r).done((function(){c?n.scrollIntoView(l).done((function(){a.resolve()})):a.resolve()})),a.promise()},moveTo:function(e,i,n){void 0===i||"over"===i?i="child":"firstChild"===i&&(e.children&&e.children.length?(i="before",e=e.children[0]):i="child");var r,a=this.tree,o=this.parent,s="child"===i?e:e.parent;if(this!==e){if(this.parent?s.isDescendantOf(this)&&t.error("Cannot move a node to its own descendant"):t.error("Cannot move system root"),s!==o&&o.triggerModifyChild("remove",this),1===this.parent.children.length){if(this.parent===s)return;this.parent.children=this.parent.lazy?[]:null,this.parent.expanded=!1}else _((r=t.inArray(this,this.parent.children))>=0,"invalid source parent"),this.parent.children.splice(r,1);if(this.parent=s,s.hasChildren())switch(i){case"child":s.children.push(this);break;case"before":_((r=t.inArray(e,s.children))>=0,"invalid target parent"),s.children.splice(r,0,this);break;case"after":_((r=t.inArray(e,s.children))>=0,"invalid target parent"),s.children.splice(r+1,0,this);break;default:t.error("Invalid mode "+i)}else s.children=[this];n&&e.visit(n,!0),s===o?s.triggerModifyChild("move",this):s.triggerModifyChild("add",this),a!==e.tree&&(this.warn("Cross-tree moveTo is experimental!"),this.visit((function(t){t.tree=e.tree}),!0)),a._callHook("treeStructureChanged",a,"moveTo"),o.isDescendantOf(s)||o.render(),s.isDescendantOf(o)||s===o||s.render()}},navigate:function(e,i){var n,r=t.ui.keyCode;switch(e){case"left":case r.LEFT:if(this.expanded)return this.setExpanded(!1);break;case"right":case r.RIGHT:if(!this.expanded&&(this.children||this.lazy))return this.setExpanded()}if(n=this.findRelatedNode(e)){try{n.makeVisible({scrollIntoView:!1})}catch(t){}return!1===i?(n.setFocus(),S()):n.setActive()}return this.warn("Could not find related node '"+e+"'."),S()},remove:function(){return this.parent.removeChild(this)},removeChild:function(t){return this.tree._callHook("nodeRemoveChild",this,t)},removeChildren:function(){return this.tree._callHook("nodeRemoveChildren",this)},removeClass:function(t){return this.toggleClass(t,!1)},render:function(t,e){return this.tree._callHook("nodeRender",this,t,e)},renderTitle:function(){return this.tree._callHook("nodeRenderTitle",this)},renderStatus:function(){return this.tree._callHook("nodeRenderStatus",this)},replaceWith:function(i){var n,r=this.parent,a=t.inArray(this,r.children),o=this;return _(this.isPagingNode(),"replaceWith() currently requires a paging status node"),(n=this.tree._callHook("nodeLoadChildren",this,i)).done((function(t){var i=o.children;for(e=0;e<i.length;e++)i[e].parent=r;r.children.splice.apply(r.children,[a+1,0].concat(i)),o.children=null,o.remove(),r.render()})).fail((function(){o.setExpanded()})),n},resetLazy:function(){this.removeChildren(),this.expanded=!1,this.lazy=!0,this.children=void 0,this.renderStatus()},scheduleAction:function(e,i){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.debug("clearTimeout(%o)",this.tree.timer)),this.tree.timer=null;var n=this;switch(e){case"cancel":break;case"expand":this.tree.timer=setTimeout((function(){n.tree.debug("setTimeout: trigger expand"),n.setExpanded(!0)}),i);break;case"activate":this.tree.timer=setTimeout((function(){n.tree.debug("setTimeout: trigger activate"),n.setActive(!0)}),i);break;default:t.error("Invalid mode "+e)}},scrollIntoView:function(e,i){if(void 0!==i&&(n=i).tree&&void 0!==n.statusNodeType)throw Error("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead.");var n,r=t.extend({effects:!0===e?{duration:200,queue:!1}:e,scrollOfs:this.tree.options.scrollOfs,scrollParent:this.tree.options.scrollParent,topNode:null},i),a=r.scrollParent,o=this.tree.$container,s=o.css("overflow-y");a?a.jquery||(a=t(a)):a=this.tree.tbody?o.scrollParent():"scroll"===s||"auto"===s?o:o.scrollParent(),a[0]!==document&&a[0]!==document.body||(this.debug("scrollIntoView(): normalizing scrollParent to 'window':",a[0]),a=t(window));var l,c,u,d=new t.Deferred,h=this,p=t(this.span).height(),f=r.scrollOfs.top||0,m=r.scrollOfs.bottom||0,g=a.height(),y=a.scrollTop(),v=a,b=a[0]===window,x=r.topNode||null,w=null;return this.isRootNode()||!this.isVisible()?(this.info("scrollIntoView(): node is invisible."),S()):(b?(c=t(this.span).offset().top,l=x&&x.span?t(x.span).offset().top:0,v=t("html,body")):(_(a[0]!==document&&a[0]!==document.body,"scrollParent should be a simple element or `window`, not document or body."),u=a.offset().top,c=t(this.span).offset().top-u+y,l=x?t(x.span).offset().top-u+y:0,g-=Math.max(0,a.innerHeight()-a[0].clientHeight)),c<y+f?w=c-f:c+p>y+g-m&&(w=c+p-g+m,x&&(_(x.isRootNode()||x.isVisible(),"topNode must be visible"),l<w&&(w=l-f))),null===w?d.resolveWith(this):r.effects?(r.effects.complete=function(){d.resolveWith(h)},v.stop(!0).animate({scrollTop:w},r.effects)):(v[0].scrollTop=w,d.resolveWith(this)),d.promise())},setActive:function(t,e){return this.tree._callHook("nodeSetActive",this,t,e)},setExpanded:function(t,e){return this.tree._callHook("nodeSetExpanded",this,t,e)},setFocus:function(t){return this.tree._callHook("nodeSetFocus",this,t)},setSelected:function(t,e){return this.tree._callHook("nodeSetSelected",this,t,e)},setStatus:function(t,e,i){return this.tree._callHook("nodeSetStatus",this,t,e,i)},setTitle:function(t){this.title=t,this.renderTitle(),this.triggerModify("rename")},sortChildren:function(t,e){var i,n,r=this.children;if(r){if(t=t||function(t,e){var i=t.title.toLowerCase(),n=e.title.toLowerCase();return i===n?0:i>n?1:-1},r.sort(t),e)for(i=0,n=r.length;i<n;i++)r[i].children&&r[i].sortChildren(t,"$norender$");"$norender$"!==e&&this.render(),this.triggerModifyChild("sort")}},toDict:function(e,i){var n,r,a,o,s={},l=this;if(t.each(m,(function(t,e){(l[e]||!1===l[e])&&(s[e]=l[e])})),t.isEmptyObject(this.data)||(s.data=t.extend({},this.data),t.isEmptyObject(s.data)&&delete s.data),i){if(!1===(o=i(s,l)))return!1;"skip"===o&&(e=!1)}if(e&&t.isArray(this.children))for(s.children=[],n=0,r=this.children.length;n<r;n++)(a=this.children[n]).isStatusNode()||!1!==(o=a.toDict(!0,i))&&s.children.push(o);return s},toggleClass:function(e,i){var n,r,a=e.match(/\S+/g)||[],o=0,s=!1,l=this[this.tree.statusClassPropName],c=" "+(this.extraClasses||"")+" ";for(l&&t(l).toggleClass(e,i);n=a[o++];)if(r=c.indexOf(" "+n+" ")>=0,i=void 0===i?!r:!!i)r||(c+=n+" ",s=!0);else for(;c.indexOf(" "+n+" ")>-1;)c=c.replace(" "+n+" "," ");return this.extraClasses=t.trim(c),s},toggleExpanded:function(){return this.tree._callHook("nodeToggleExpanded",this)},toggleSelected:function(){return this.tree._callHook("nodeToggleSelected",this)},toString:function(){return"FancytreeNode@"+this.key+"[title='"+this.title+"']"},triggerModifyChild:function(e,i,n){var r,a=this.tree.options.modifyChild;a&&(i&&i.parent!==this&&t.error("childNode "+i+" is not a child of "+this),r={node:this,tree:this.tree,operation:e,childNode:i||null},n&&t.extend(r,n),a({type:"modifyChild"},r))},triggerModify:function(t,e){this.parent.triggerModifyChild(t,this,e)},visit:function(t,e){var i,n,r=!0,a=this.children;if(!0===e&&(!1===(r=t(this))||"skip"===r))return r;if(a)for(i=0,n=a.length;i<n&&!1!==(r=a[i].visit(t,!0));i++);return r},visitAndLoad:function(e,i,n){var r,a,o,s=this;return!e||!0!==i||!1!==(a=e(s))&&"skip"!==a?s.children||s.lazy?(r=new t.Deferred,o=[],s.load().done((function(){for(var i=0,n=s.children.length;i<n;i++){if(!1===(a=s.children[i].visitAndLoad(e,!0,!0))){r.reject();break}"skip"!==a&&o.push(a)}t.when.apply(this,o).then((function(){r.resolve()}))})),r.promise()):S():n?a:S()},visitParents:function(t,e){if(e&&!1===t(this))return!1;for(var i=this.parent;i;){if(!1===t(i))return!1;i=i.parent}return!0},visitSiblings:function(t,e){var i,n,r,a=this.parent.children;for(i=0,n=a.length;i<n;i++)if(r=a[i],(e||r!==this)&&!1===t(r))return!1;return!0},warn:function(t){this.tree.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),b("warn",arguments))}},E.prototype={_makeHookContext:function(e,i,n){var r,a;return void 0!==e.node?(i&&e.originalEvent!==i&&t.error("invalid args"),r=e):e.tree?r={node:e,tree:a=e.tree,widget:a.widget,options:a.widget.options,originalEvent:i,typeInfo:a.types[e.type]||{}}:e.widget?r={node:null,tree:e,widget:e.widget,options:e.widget.options,originalEvent:i}:t.error("invalid args"),n&&t.extend(r,n),r},_callHook:function(e,i,n){var r=this._makeHookContext(i),a=this[e],o=Array.prototype.slice.call(arguments,2);return t.isFunction(a)||t.error("_callHook('"+e+"') is not a function"),o.unshift(r),a.apply(this,o)},_setExpiringValue:function(t,e,i){this._tempCache[t]={value:e,expire:Date.now()+(+i||50)}},_getExpiringValue:function(t){var e=this._tempCache[t];return e&&e.expire>Date.now()?e.value:(delete this._tempCache[t],null)},_usesExtension:function(e){return t.inArray(e,this.options.extensions)>=0},_requireExtension:function(e,i,n,r){null!=n&&(n=!!n);var a=this._local.name,o=this.options.extensions,s=t.inArray(e,o)<t.inArray(a,o),l=i&&null==this.ext[e],c=!l&&null!=n&&n!==s;return _(a&&a!==e,"invalid or same name '"+a+"' (require yourself?)"),!l&&!c||(r||(l||i?(r="'"+a+"' extension requires '"+e+"'",c&&(r+=" to be registered "+(n?"before":"after")+" itself")):r="If used together, `"+e+"` must be registered "+(n?"before":"after")+" `"+a+"`"),t.error(r),!1)},activateKey:function(t,e){var i=this.getNodeByKey(t);return i?i.setActive(!0,e):this.activeNode&&this.activeNode.setActive(!1,e),i},addPagingNode:function(t,e){return this.rootNode.addPagingNode(t,e)},applyCommand:function(e,i,n){var r;switch(i=i||this.getActiveNode(),e){case"moveUp":(r=i.getPrevSibling())&&(i.moveTo(r,"before"),i.setActive());break;case"moveDown":(r=i.getNextSibling())&&(i.moveTo(r,"after"),i.setActive());break;case"indent":(r=i.getPrevSibling())&&(i.moveTo(r,"child"),r.setExpanded(),i.setActive());break;case"outdent":i.isTopLevel()||(i.moveTo(i.getParent(),"after"),i.setActive());break;case"remove":r=i.getPrevSibling()||i.getParent(),i.remove(),r&&r.setActive();break;case"addChild":i.editCreateNode("child","");break;case"addSibling":i.editCreateNode("after","");break;case"rename":i.editStart();break;case"down":case"first":case"last":case"left":case"parent":case"right":case"up":return i.navigate(e);default:t.error("Unhandled command: '"+e+"'")}},applyPatch:function(e){var i,n,r,a,o,s,l=e.length,c=[];for(n=0;n<l;n++)_(2===(r=e[n]).length,"patchList must be an array of length-2-arrays"),a=r[0],o=r[1],(s=null===a?this.rootNode:this.getNodeByKey(a))?(i=new t.Deferred,c.push(i),s.applyPatch(o).always(M(i,s))):this.warn("could not find node with key '"+a+"'");return t.when.apply(t,c).promise()},clear:function(t){this._callHook("treeClear",this)},count:function(){return this.rootNode.countChildren()},debug:function(t){this.options.debugLevel>=4&&(Array.prototype.unshift.call(arguments,this.toString()),b("log",arguments))},destroy:function(){this.widget.destroy()},enable:function(t){!1===t?this.widget.disable():this.widget.enable()},enableUpdate:function(t){return t=!1!==t,!!this._enableUpdate==!!t?t:(this._enableUpdate=t,t?(this.debug("enableUpdate(true): redraw "),this._callHook("treeStructureChanged",this,"enableUpdate"),this.render()):this.debug("enableUpdate(false)..."),!t)},error:function(t){this.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),b("error",arguments))},expandAll:function(t,e){var i=this.enableUpdate(!1);t=!1!==t,this.visit((function(i){!1!==i.hasChildren()&&i.isExpanded()!==t&&i.setExpanded(t,e)})),this.enableUpdate(i)},findAll:function(t){return this.rootNode.findAll(t)},findFirst:function(t){return this.rootNode.findFirst(t)},findNextNode:function(t,e){var i,n=null,r=this.getFirstChild();function a(i){if(t(i)&&(n=i),n||i===e)return!1}return t="string"==typeof t?(i=new RegExp("^"+t,"i"),function(t){return i.test(t.title)}):t,e=e||r,this.visitRows(a,{start:e,includeSelf:!1}),n||e===r||this.visitRows(a,{start:r,includeSelf:!0}),n},findRelatedNode:function(e,i,n){var r=null,a=t.ui.keyCode;switch(i){case"parent":case a.BACKSPACE:e.parent&&e.parent.parent&&(r=e.parent);break;case"first":case a.HOME:this.visit((function(t){if(t.isVisible())return r=t,!1}));break;case"last":case a.END:this.visit((function(t){t.isVisible()&&(r=t)}));break;case"left":case a.LEFT:e.expanded?e.setExpanded(!1):e.parent&&e.parent.parent&&(r=e.parent);break;case"right":case a.RIGHT:e.expanded||!e.children&&!e.lazy?e.children&&e.children.length&&(r=e.children[0]):(e.setExpanded(),r=e);break;case"up":case a.UP:this.visitRows((function(t){return r=t,!1}),{start:e,reverse:!0,includeSelf:!1});break;case"down":case a.DOWN:this.visitRows((function(t){return r=t,!1}),{start:e,includeSelf:!1});break;default:this.tree.warn("Unknown relation '"+i+"'.")}return r},generateFormElements:function(e,i,n){n=n||{};var r,a="string"==typeof e?e:"ft_"+this._id+"[]",o="string"==typeof i?i:"ft_"+this._id+"_active",s="fancytree_result_"+this._id,l=t("#"+s),c=3===this.options.selectMode&&!1!==n.stopOnParents;function u(e){l.append(t("<input>",{type:"checkbox",name:a,value:e.key,checked:!0}))}l.length?l.empty():l=t("<div>",{id:s}).hide().insertAfter(this.$container),!1!==i&&this.activeNode&&l.append(t("<input>",{type:"radio",name:o,value:this.activeNode.key,checked:!0})),n.filter?this.visit((function(t){var e=n.filter(t);if("skip"===e)return e;!1!==e&&u(t)})):!1!==e&&(r=this.getSelectedNodes(c),t.each(r,(function(t,e){u(e)})))},getActiveNode:function(){return this.activeNode},getFirstChild:function(){return this.rootNode.getFirstChild()},getFocusNode:function(){return this.focusNode},getOption:function(t){return this.widget.option(t)},getNodeByKey:function(t,e){var i,n;return!e&&(i=document.getElementById(this.options.idPrefix+t))?i.ftnode?i.ftnode:null:(e=e||this.rootNode,n=null,t=""+t,e.visit((function(e){if(e.key===t)return n=e,!1}),!0),n)},getRootNode:function(){return this.rootNode},getSelectedNodes:function(t){return this.rootNode.getSelectedNodes(t)},hasFocus:function(){return!!this._hasFocus},info:function(t){this.options.debugLevel>=3&&(Array.prototype.unshift.call(arguments,this.toString()),b("info",arguments))},isLoading:function(){var t=!1;return this.rootNode.visit((function(e){if(e._isLoading||e._requestId)return t=!0,!1}),!0),t},loadKeyPath:function(e,i){var n,r,a,o=this,s=new t.Deferred,l=this.getRootNode(),c=this.options.keyPathSeparator,u=[],d=t.extend({},i);for("function"==typeof i?n=i:i&&i.callback&&(n=i.callback),d.callback=function(t,e,i){n&&n.call(t,e,i),s.notifyWith(t,[{node:e,status:i}])},null==d.matchKey&&(d.matchKey=function(t,e){return t.key===e}),t.isArray(e)||(e=[e]),r=0;r<e.length;r++)(a=e[r]).charAt(0)===c&&(a=a.substr(1)),u.push(a.split(c));return setTimeout((function(){o._loadKeyPathImpl(s,d,l,u).done((function(){s.resolve()}))}),0),s.promise()},_loadKeyPathImpl:function(e,i,n,r){var a,o,s,l,c,u,d,h,p,f,m=this;function g(t,e){var n,r,a=t.children;if(a)for(n=0,r=a.length;n<r;n++)if(i.matchKey(a[n],e))return a[n];return null}for(d={},o=0;o<r.length;o++)for(p=r[o],h=n;p.length;){if(s=p.shift(),!(l=g(h,s))){this.warn("loadKeyPath: key not found: "+s+" (parent: "+h+")"),i.callback(this,s,"error");break}if(0===p.length){i.callback(this,l,"ok");break}if(l.lazy&&void 0===l.hasChildren()){i.callback(this,l,"loaded"),d[s=l.key]?d[s].pathSegList.push(p):d[s]={parent:l,pathSegList:[p]};break}i.callback(this,l,"loaded"),h=l}function y(t,e,n){i.callback(m,e,"loading"),e.load().done((function(){m._loadKeyPathImpl.call(m,t,i,e,n).always(M(t,m))})).fail((function(n){m.warn("loadKeyPath: error loading lazy "+e),i.callback(m,l,"error"),t.rejectWith(m)}))}for(c in a=[],d)d.hasOwnProperty(c)&&(u=d[c],f=new t.Deferred,a.push(f),y(f,u.parent,u.pathSegList));return t.when.apply(t,a).promise()},reactivate:function(t){var e,i=this.activeNode;return i?(this.activeNode=null,e=i.setActive(!0,{noFocus:!0}),t&&i.setFocus(),e):S()},reload:function(t){return this._callHook("treeClear",this),this._callHook("treeLoad",this,t)},render:function(t,e){return this.rootNode.render(t,e)},selectAll:function(t){this.visit((function(e){e.setSelected(t)}))},setFocus:function(t){return this._callHook("treeSetFocus",this,t)},setOption:function(t,e){return this.widget.option(t,e)},debugTime:function(t){this.options.debugLevel>=4&&window.console.time(this+" - "+t)},debugTimeEnd:function(t){this.options.debugLevel>=4&&window.console.timeEnd(this+" - "+t)},toDict:function(t,e){var i=this.rootNode.toDict(!0,e);return t?i:i.children},toString:function(){return"Fancytree@"+this._id},_triggerNodeEvent:function(t,e,i,n){var r=this._makeHookContext(e,i,n),a=this.widget._trigger(t,i,r);return!1!==a&&void 0!==r.result?r.result:a},_triggerTreeEvent:function(t,e,i){var n=this._makeHookContext(this,e,i),r=this.widget._trigger(t,e,n);return!1!==r&&void 0!==n.result?n.result:r},visit:function(t){return this.rootNode.visit(t,!1)},visitRows:function(t,e){if(!this.rootNode.hasChildren())return!1;if(e&&e.reverse)return delete e.reverse,this._visitRowsUp(t,e);var i,n,r,a,o=0,s=!1===(e=e||{}).includeSelf,l=!!e.includeHidden,c=!l&&this.enableFilter,u=e.start||this.rootNode.children[0];for(r=u.parent;r;){for(_((n=(a=r.children).indexOf(u)+o)>=0,"Could not find "+u+" in parent's children: "+r),i=n;i<a.length;i++)if(u=a[i],!c||u.match||u.subMatchCount){if(!s&&!1===t(u))return!1;if(s=!1,u.children&&u.children.length&&(l||u.expanded)&&!1===u.visit((function(e){return!c||e.match||e.subMatchCount?!1!==t(e)&&(l||!e.children||e.expanded?void 0:"skip"):"skip"}),!1))return!1}u=r,r=r.parent,o=1}return!0},_visitRowsUp:function(t,e){for(var i,n,r,a=!!e.includeHidden,o=e.start||this.rootNode.children[0];;){if((i=(r=o.parent).children)[0]===o){if(!(o=r).parent)break;i=r.children}else for(n=i.indexOf(o),o=i[n-1];(a||o.expanded)&&o.children&&o.children.length;)r=o,o=(i=o.children)[i.length-1];if((a||o.isVisible())&&!1===t(o))return!1}},warn:function(t){this.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),b("warn",arguments))}},t.extend(E.prototype,{nodeClick:function(t){var e,i,n=t.targetType,r=t.node;if("expander"===n){if(r.isLoading())return void r.debug("Got 2nd click while loading: ignored");this._callHook("nodeToggleExpanded",t)}else if("checkbox"===n)this._callHook("nodeToggleSelected",t),t.options.focusOnSelect&&this._callHook("nodeSetFocus",t,!0);else{if(i=!1,e=!0,r.folder)switch(t.options.clickFolderMode){case 2:i=!0,e=!1;break;case 3:e=!0,i=!0}e&&(this.nodeSetFocus(t),this._callHook("nodeSetActive",t,!0)),i&&this._callHook("nodeToggleExpanded",t)}},nodeCollapseSiblings:function(t,e){var i,n,r,a=t.node;if(a.parent)for(n=0,r=(i=a.parent.children).length;n<r;n++)i[n]!==a&&i[n].expanded&&this._callHook("nodeSetExpanded",i[n],!1,e)},nodeDblclick:function(t){"title"===t.targetType&&4===t.options.clickFolderMode&&this._callHook("nodeToggleExpanded",t),"title"===t.targetType&&t.originalEvent.preventDefault()},nodeKeydown:function(e){var i,r,a,o=e.originalEvent,s=e.node,l=e.tree,d=e.options,h=o.which,p=o.key||String.fromCharCode(h),f=!!(o.altKey||o.ctrlKey||o.metaKey),m=!u[h]&&!c[h]&&!f,g=t(o.target),y=!0,v=!(o.ctrlKey||!d.autoActivate);if(s||(a=this.getActiveNode()||this.getFirstChild())&&(a.setFocus(),(s=e.node=this.focusNode).debug("Keydown force focus on active node")),d.quicksearch&&m&&!g.is(":input:enabled"))return(r=Date.now())-l.lastQuicksearchTime>500&&(l.lastQuicksearchTerm=""),l.lastQuicksearchTime=r,l.lastQuicksearchTerm+=p,(i=l.findNextNode(l.lastQuicksearchTerm,l.getActiveNode()))&&i.setActive(),void o.preventDefault();switch(n.eventToString(o)){case"+":case"=":l.nodeSetExpanded(e,!0);break;case"-":l.nodeSetExpanded(e,!1);break;case"space":s.isPagingNode()?l._triggerNodeEvent("clickPaging",e,o):n.evalOption("checkbox",s,s,d,!1)?l.nodeToggleSelected(e):l.nodeSetActive(e,!0);break;case"return":l.nodeSetActive(e,!0);break;case"home":case"end":case"backspace":case"left":case"right":case"up":case"down":s.navigate(o.which,v);break;default:y=!1}y&&o.preventDefault()},nodeLoadChildren:function(e,i){var n,r,a,o=null,s=!0,l=e.tree,c=e.node,u=c.parent,d="nodeLoadChildren",h=Date.now();return t.isFunction(i)&&(i=i.call(l,{type:"source"},e),_(!t.isFunction(i),"source callback must not return another function")),t.isFunction(i.then)?o=i:i.url?(n=t.extend({},e.options.ajax,i)).debugDelay?(r=n.debugDelay,delete n.debugDelay,t.isArray(r)&&(r=r[0]+Math.random()*(r[1]-r[0])),c.warn("nodeLoadChildren waiting debugDelay "+Math.round(r)+" ms ..."),o=t.Deferred((function(e){setTimeout((function(){t.ajax(n).done((function(){e.resolveWith(this,arguments)})).fail((function(){e.rejectWith(this,arguments)}))}),r)}))):o=t.ajax(n):t.isPlainObject(i)||t.isArray(i)?(o={then:function(t,e){t(i,null,null)}},s=!1):t.error("Invalid source type: "+i),c._requestId&&(c.warn("Recursive load request #"+h+" while #"+c._requestId+" is pending."),c._requestId=h),s&&(l.debugTime(d),l.nodeSetStatus(e,"loading")),a=new t.Deferred,o.then((function(n,r,o){var s,d;if("json"!==i.dataType&&"jsonp"!==i.dataType||"string"!=typeof n||t.error("Ajax request returned a string (did you get the JSON dataType wrong?)."),c._requestId&&c._requestId>h)a.rejectWith(this,["$recursive_request"]);else if(null!==c.parent||null===u){if(e.options.postProcess){try{(d=l._triggerNodeEvent("postProcess",e,e.originalEvent,{response:n,error:null,dataType:i.dataType})).error&&l.warn("postProcess returned error:",d)}catch(t){d={error:t,message:""+t,details:"postProcess failed"}}if(d.error)return s=t.isPlainObject(d.error)?d.error:{message:d.error},s=l._makeHookContext(c,null,s),void a.rejectWith(this,[s]);(t.isArray(d)||t.isPlainObject(d)&&t.isArray(d.children))&&(n=d)}else n&&n.hasOwnProperty("d")&&e.options.enableAspx&&(42===e.options.enableAspx&&l.warn("The default for enableAspx will change to `false` in the fututure. Pass `enableAspx: true` or implement postProcess to silence this warning."),n="string"==typeof n.d?t.parseJSON(n.d):n.d);a.resolveWith(this,[n])}else a.rejectWith(this,["$request_target_invalid"])}),(function(t,e,i){var n=l._makeHookContext(c,null,{error:t,args:Array.prototype.slice.call(arguments),message:i,details:t.status+": "+i});a.rejectWith(this,[n])})),a.done((function(i){var n,r,a;l.nodeSetStatus(e,"ok"),t.isPlainObject(i)?(_(c.isRootNode(),"source may only be an object for root nodes (expecting an array of child objects otherwise)"),_(t.isArray(i.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),r=i,n=i.children,delete r.children,t.each(f,(function(t,e){void 0!==r[e]&&(l[e]=r[e],delete r[e])})),t.extend(l.data,r)):n=i,_(t.isArray(n),"expected array of children"),c._setChildren(n),l.options.nodata&&0===n.length&&(t.isFunction(l.options.nodata)?a=l.options.nodata.call(l,{type:"nodata"},e):!0===l.options.nodata&&c.isRootNode()?a=l.options.strings.noData:"string"==typeof l.options.nodata&&c.isRootNode()&&(a=l.options.nodata),a&&c.setStatus("nodata",a)),l._triggerNodeEvent("loadChildren",c)})).fail((function(t){var i;"$recursive_request"!==t?"$request_target_invalid"!==t?(t.node&&t.error&&t.message?i=t:"[object Object]"===(i=l._makeHookContext(c,null,{error:t,args:Array.prototype.slice.call(arguments),message:t?t.message||t.toString():""})).message&&(i.message=""),c.warn("Load children failed ("+i.message+")",i),!1!==l._triggerNodeEvent("loadError",i,null)&&l.nodeSetStatus(e,"error",i.message,i.details)):c.warn("Lazy parent node was removed while loading: discarding response."):c.warn("Ignored response for obsolete load request #"+h+" (expected #"+c._requestId+")")})).always((function(){c._requestId=null,s&&l.debugTimeEnd(d)})),a.promise()},nodeLoadKeyPath:function(t,e){},nodeRemoveChild:function(e,i){var n,r=e.node,a=t.extend({},e,{node:i}),o=r.children;if(1===o.length)return _(i===o[0],"invalid single child"),this.nodeRemoveChildren(e);this.activeNode&&(i===this.activeNode||this.activeNode.isDescendantOf(i))&&this.activeNode.setActive(!1),this.focusNode&&(i===this.focusNode||this.focusNode.isDescendantOf(i))&&(this.focusNode=null),this.nodeRemoveMarkup(a),this.nodeRemoveChildren(a),_((n=t.inArray(i,o))>=0,"invalid child"),r.triggerModifyChild("remove",i),i.visit((function(t){t.parent=null}),!0),this._callHook("treeRegisterNode",this,!1,i),o.splice(n,1)},nodeRemoveChildMarkup:function(e){var i=e.node;i.ul&&(i.isRootNode()?t(i.ul).empty():(t(i.ul).remove(),i.ul=null),i.visit((function(t){t.li=t.ul=null})))},nodeRemoveChildren:function(t){var e=t.tree,i=t.node;i.children&&(this.activeNode&&this.activeNode.isDescendantOf(i)&&this.activeNode.setActive(!1),this.focusNode&&this.focusNode.isDescendantOf(i)&&(this.focusNode=null),this.nodeRemoveChildMarkup(t),i.triggerModifyChild("remove",null),i.visit((function(t){t.parent=null,e._callHook("treeRegisterNode",e,!1,t)})),i.lazy?i.children=[]:i.children=null,i.isRootNode()||(i.expanded=!1),this.nodeRenderStatus(t))},nodeRemoveMarkup:function(e){var i=e.node;i.li&&(t(i.li).remove(),i.li=null),this.nodeRemoveChildMarkup(e)},nodeRender:function(e,i,n,r,a){var o,s,l,c,u,d,h,p=e.node,f=e.tree,m=e.options,g=m.aria,y=!1,v=p.parent,b=!v,x=p.children,w=null;if(!1!==f._enableUpdate&&(b||v.ul)){if(_(b||v.ul,"parent UL must exist"),b||(p.li&&(i||p.li.parentNode!==p.parent.ul)&&(p.li.parentNode===p.parent.ul?w=p.li.nextSibling:this.debug("Unlinking "+p+" (must be child of "+p.parent+")"),this.nodeRemoveMarkup(e)),p.li?this.nodeRenderStatus(e):(y=!0,p.li=document.createElement("li"),p.li.ftnode=p,p.key&&m.generateIds&&(p.li.id=m.idPrefix+p.key),p.span=document.createElement("span"),p.span.className="fancytree-node",g&&!p.tr&&t(p.li).attr("role","treeitem"),p.li.appendChild(p.span),this.nodeRenderTitle(e),m.createNode&&m.createNode.call(f,{type:"createNode"},e)),m.renderNode&&m.renderNode.call(f,{type:"renderNode"},e)),x){if(b||p.expanded||!0===n){for(p.ul||(p.ul=document.createElement("ul"),(!0!==r||a)&&p.expanded||(p.ul.style.display="none"),g&&t(p.ul).attr("role","group"),p.li?p.li.appendChild(p.ul):p.tree.$div.append(p.ul)),c=0,u=x.length;c<u;c++)h=t.extend({},e,{node:x[c]}),this.nodeRender(h,i,n,!1,!0);for(o=p.ul.firstChild;o;)(l=o.ftnode)&&l.parent!==p?(p.debug("_fixParent: remove missing "+l,o),d=o.nextSibling,o.parentNode.removeChild(o),o=d):o=o.nextSibling;for(o=p.ul.firstChild,c=0,u=x.length-1;c<u;c++)(s=x[c])===(l=o.ftnode)?o=o.nextSibling:p.ul.insertBefore(s.li,l.li)}}else p.ul&&(this.warn("remove child markup for "+p),this.nodeRemoveChildMarkup(e));b||y&&v.ul.insertBefore(p.li,w)}},nodeRenderTitle:function(e,i){var a,o,s,l,c,u,d,h=e.node,p=e.tree,f=e.options,m=f.aria,g=h.getLevel(),y=[];void 0!==i&&(h.title=i),h.span&&!1!==p._enableUpdate&&(c=m&&!1!==h.hasChildren()?" role='button'":"",g<f.minExpandLevel?(h.lazy||(h.expanded=!0),g>1&&y.push("<span "+c+" class='fancytree-expander fancytree-expander-fixed'></span>")):y.push("<span "+c+" class='fancytree-expander'></span>"),(a=n.evalOption("checkbox",h,h,f,!1))&&!h.isStatusNode()&&(c=m?" role='checkbox'":"",o="fancytree-checkbox",("radio"===a||h.parent&&h.parent.radiogroup)&&(o+=" fancytree-radio"),y.push("<span "+c+" class='"+o+"'></span>")),void 0!==h.data.iconClass&&(h.icon?t.error("'iconClass' node option is deprecated since v2.14.0: use 'icon' only instead"):(h.warn("'iconClass' node option is deprecated since v2.14.0: use 'icon' instead"),h.icon=h.data.iconClass)),!1!==(s=n.evalOption("icon",h,h,f,!0))&&(c=m?" role='presentation'":"",d=(d=n.evalOption("iconTooltip",h,h,f,null))?" title='"+D(d)+"'":"","string"==typeof s?r.test(s)?(s="/"===s.charAt(0)?s:(f.imagePath||"")+s,y.push("<img src='"+s+"' class='fancytree-icon'"+d+" alt='' />")):y.push("<span "+c+" class='fancytree-custom-icon "+s+"'"+d+"></span>"):s.text?y.push("<span "+c+" class='fancytree-custom-icon "+(s.addClass||"")+"'"+d+">"+n.escapeHtml(s.text)+"</span>"):s.html?y.push("<span "+c+" class='fancytree-custom-icon "+(s.addClass||"")+"'"+d+">"+s.html+"</span>"):y.push("<span "+c+" class='fancytree-icon'"+d+"></span>")),l="",f.renderTitle&&(l=f.renderTitle.call(p,{type:"renderTitle"},e)||""),l||(!0===(u=n.evalOption("tooltip",h,h,f,null))&&(u=h.title),l="<span class='fancytree-title'"+(u=u?" title='"+D(u)+"'":"")+(f.titlesTabbable?" tabindex='0'":"")+">"+(f.escapeTitles?n.escapeHtml(h.title):h.title)+"</span>"),y.push(l),h.span.innerHTML=y.join(""),this.nodeRenderStatus(e),f.enhanceTitle&&(e.$title=t(">span.fancytree-title",h.span),l=f.enhanceTitle.call(p,{type:"enhanceTitle"},e)||""))},nodeRenderStatus:function(e){var i,r=e.node,a=e.tree,o=e.options,s=r.hasChildren(),l=r.isLastSibling(),c=o.aria,u=o._classNames,d=[],h=r[a.statusClassPropName];h&&!1!==a._enableUpdate&&(c&&(i=t(r.tr||r.li)),d.push(u.node),a.activeNode===r&&d.push(u.active),a.focusNode===r&&d.push(u.focused),r.expanded&&d.push(u.expanded),c&&(!1===s?i.removeAttr("aria-expanded"):i.attr("aria-expanded",Boolean(r.expanded))),r.folder&&d.push(u.folder),!1!==s&&d.push(u.hasChildren),l&&d.push(u.lastsib),r.lazy&&null==r.children&&d.push(u.lazy),r.partload&&d.push(u.partload),r.partsel&&d.push(u.partsel),n.evalOption("unselectable",r,r,o,!1)&&d.push(u.unselectable),r._isLoading&&d.push(u.loading),r._error&&d.push(u.error),r.statusNodeType&&d.push(u.statusNodePrefix+r.statusNodeType),r.selected?(d.push(u.selected),c&&i.attr("aria-selected",!0)):c&&i.attr("aria-selected",!1),r.extraClasses&&d.push(r.extraClasses),!1===s?d.push(u.combinedExpanderPrefix+"n"+(l?"l":"")):d.push(u.combinedExpanderPrefix+(r.expanded?"e":"c")+(r.lazy&&null==r.children?"d":"")+(l?"l":"")),d.push(u.combinedIconPrefix+(r.expanded?"e":"c")+(r.folder?"f":"")),h.className=d.join(" "),r.li&&t(r.li).toggleClass(u.lastsib,l))},nodeSetActive:function(e,i,n){n=n||{};var r,a=e.node,o=e.tree,s=e.options,l=!0===n.noEvents,c=!0===n.noFocus,u=!1!==n.scrollIntoView;return a===o.activeNode==(i=!1!==i)?S(a):(u&&e.originalEvent&&t(e.originalEvent.target).is("a,:checkbox")&&(a.info("Not scrolling while clicking an embedded link."),u=!1),i&&!l&&!1===this._triggerNodeEvent("beforeActivate",a,e.originalEvent)?T(a,["rejected"]):(i?(o.activeNode&&(_(o.activeNode!==a,"node was active (inconsistency)"),r=t.extend({},e,{node:o.activeNode}),o.nodeSetActive(r,!1),_(null===o.activeNode,"deactivate was out of sync?")),s.activeVisible&&a.makeVisible({scrollIntoView:u}),o.activeNode=a,o.nodeRenderStatus(e),c||o.nodeSetFocus(e),l||o._triggerNodeEvent("activate",a,e.originalEvent)):(_(o.activeNode===a,"node was not active (inconsistency)"),o.activeNode=null,this.nodeRenderStatus(e),l||e.tree._triggerNodeEvent("deactivate",a,e.originalEvent)),S(a)))},nodeSetExpanded:function(e,i,n){n=n||{};var r,a,o,s,l,c,u=e.node,d=e.tree,h=e.options,p=!0===n.noAnimation,f=!0===n.noEvents;if(i=!1!==i,t(u.li).hasClass(h._classNames.animating))return u.warn("setExpanded("+i+") while animating: ignored."),T(u,["recursion"]);if(u.expanded&&i||!u.expanded&&!i)return S(u);if(i&&!u.lazy&&!u.hasChildren())return S(u);if(!i&&u.getLevel()<h.minExpandLevel)return T(u,["locked"]);if(!f&&!1===this._triggerNodeEvent("beforeExpand",u,e.originalEvent))return T(u,["rejected"]);if(p||u.isVisible()||(p=n.noAnimation=!0),a=new t.Deferred,i&&!u.expanded&&h.autoCollapse){l=u.getParentList(!1,!0),c=h.autoCollapse;try{for(h.autoCollapse=!1,o=0,s=l.length;o<s;o++)this._callHook("nodeCollapseSiblings",l[o],n)}finally{h.autoCollapse=c}}return a.done((function(){var t=u.getLastChild();i&&h.autoScroll&&!p&&t&&d._enableUpdate?t.scrollIntoView(!0,{topNode:u}).always((function(){f||e.tree._triggerNodeEvent(i?"expand":"collapse",e)})):f||e.tree._triggerNodeEvent(i?"expand":"collapse",e)})),r=function(n){var r=h._classNames,a=h.toggleEffect;if(u.expanded=i,d._callHook("treeStructureChanged",e,i?"expand":"collapse"),d._callHook("nodeRender",e,!1,!1,!0),u.ul)if("none"!==u.ul.style.display==!!u.expanded)u.warn("nodeSetExpanded: UL.style.display already set");else{if(a&&!p)return t(u.li).addClass(r.animating),void(t.isFunction(t(u.ul)[a.effect])?t(u.ul)[a.effect]({duration:a.duration,always:function(){t(this).removeClass(r.animating),t(u.li).removeClass(r.animating),n()}}):(t(u.ul).stop(!0,!0),t(u.ul).parent().find(".ui-effects-placeholder").remove(),t(u.ul).toggle(a.effect,a.options,a.duration,(function(){t(this).removeClass(r.animating),t(u.li).removeClass(r.animating),n()}))));u.ul.style.display=u.expanded||!parent?"":"none"}n()},i&&u.lazy&&void 0===u.hasChildren()?u.load().done((function(){a.notifyWith&&a.notifyWith(u,["loaded"]),r((function(){a.resolveWith(u)}))})).fail((function(t){r((function(){a.rejectWith(u,["load failed ("+t+")"])}))})):r((function(){a.resolveWith(u)})),a.promise()},nodeSetFocus:function(e,i){var n,r=e.tree,a=e.node,o=r.options,s=!!e.originalEvent&&t(e.originalEvent.target).is(":input");if(i=!1!==i,r.focusNode){if(r.focusNode===a&&i)return;n=t.extend({},e,{node:r.focusNode}),r.focusNode=null,this._triggerNodeEvent("blur",n),this._callHook("nodeRenderStatus",n)}i&&(this.hasFocus()||(a.debug("nodeSetFocus: forcing container focus"),this._callHook("treeSetFocus",e,!0,{calledByNode:!0})),a.makeVisible({scrollIntoView:!1}),r.focusNode=a,o.titlesTabbable&&(s||t(a.span).find(".fancytree-title").focus()),o.aria&&t(r.$container).attr("aria-activedescendant",t(a.tr||a.li).uniqueId().attr("id")),this._triggerNodeEvent("focus",e),document.activeElement===r.$container.get(0)||t(document.activeElement,r.$container).length>=1||t(r.$container).focus(),o.autoScroll&&a.scrollIntoView(),this._callHook("nodeRenderStatus",e))},nodeSetSelected:function(t,e,i){i=i||{};var r=t.node,a=t.tree,o=t.options,s=!0===i.noEvents,l=r.parent;if(e=!1!==e,!n.evalOption("unselectable",r,r,o,!1)){if(r._lastSelectIntent=e,!!r.selected===e&&(3!==o.selectMode||!r.partsel||e))return e;if(!s&&!1===this._triggerNodeEvent("beforeSelect",r,t.originalEvent))return!!r.selected;e&&1===o.selectMode?(a.lastSelectedNode&&a.lastSelectedNode.setSelected(!1),r.selected=e):3!==o.selectMode||!l||l.radiogroup||r.radiogroup?l&&l.radiogroup?r.visitSiblings((function(t){t._changeSelectStatusAttrs(e&&t===r)}),!0):r.selected=e:(r.selected=e,r.fixSelection3AfterClick(i)),this.nodeRenderStatus(t),a.lastSelectedNode=e?r:null,s||a._triggerNodeEvent("select",t)}},nodeSetStatus:function(e,i,n,r){var a=e.node,o=e.tree;function s(i,n){var r=a.children?a.children[0]:null;return r&&r.isStatusNode()?(t.extend(r,i),r.statusNodeType=n,o._callHook("nodeRenderTitle",r)):(a._setChildren([i]),o._callHook("treeStructureChanged",e,"setStatusNode"),a.children[0].statusNodeType=n,o.render()),a.children[0]}switch(i){case"ok":!function(){var t=a.children?a.children[0]:null;if(t&&t.isStatusNode()){try{a.ul&&(a.ul.removeChild(t.li),t.li=null)}catch(t){}1===a.children.length?a.children=[]:a.children.shift(),o._callHook("treeStructureChanged",e,"clearStatusNode")}}(),a._isLoading=!1,a._error=null,a.renderStatus();break;case"loading":a.parent||s({title:o.options.strings.loading+(n?" ("+n+")":""),checkbox:!1,tooltip:r},i),a._isLoading=!0,a._error=null,a.renderStatus();break;case"error":s({title:o.options.strings.loadError+(n?" ("+n+")":""),checkbox:!1,tooltip:r},i),a._isLoading=!1,a._error={message:n,details:r},a.renderStatus();break;case"nodata":s({title:n||o.options.strings.noData,checkbox:!1,tooltip:r},i),a._isLoading=!1,a._error=null,a.renderStatus();break;default:t.error("invalid node status "+i)}},nodeToggleExpanded:function(t){return this.nodeSetExpanded(t,!t.node.expanded)},nodeToggleSelected:function(t){var e=t.node,i=!e.selected;return e.partsel&&!e.selected&&!0===e._lastSelectIntent&&(i=!1,e.selected=!0),e._lastSelectIntent=i,this.nodeSetSelected(t,i)},treeClear:function(t){var e=t.tree;e.activeNode=null,e.focusNode=null,e.$div.find(">ul.fancytree-container").empty(),e.rootNode.children=null,e._callHook("treeStructureChanged",t,"clear")},treeCreate:function(t){},treeDestroy:function(t){this.$div.find(">ul.fancytree-container").remove(),this.$source&&this.$source.removeClass("fancytree-helper-hidden")},treeInit:function(e){var i=e.tree,n=i.options;i.$container.attr("tabindex",n.tabindex),t.each(f,(function(t,e){void 0!==n[e]&&(i.info("Move option "+e+" to tree"),i[e]=n[e],delete n[e])})),n.checkboxAutoHide&&i.$container.addClass("fancytree-checkbox-auto-hide"),n.rtl?i.$container.attr("DIR","RTL").addClass("fancytree-rtl"):i.$container.removeAttr("DIR").removeClass("fancytree-rtl"),n.aria&&(i.$container.attr("role","tree"),1!==n.selectMode&&i.$container.attr("aria-multiselectable",!0)),this.treeLoad(e)},treeLoad:function(e,i){var r,a,o,s=e.tree,l=e.widget.element,c=t.extend({},e,{node:this.rootNode});if(s.rootNode.children&&this.treeClear(e),i=i||this.options.source)"string"==typeof i&&t.error("Not implemented");else switch(a=l.data("type")||"html"){case"html":(o=l.find(">ul").not(".fancytree-container").first()).length?(o.addClass("ui-fancytree-source fancytree-helper-hidden"),i=t.ui.fancytree.parseHtml(o),this.data=t.extend(this.data,C(o))):(n.warn("No `source` option was passed and container does not contain `<ul>`: assuming `source: []`."),i=[]);break;case"json":i=t.parseJSON(l.text()),l.contents().filter((function(){return 3===this.nodeType})).remove(),t.isPlainObject(i)&&(_(t.isArray(i.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),r=i,i=i.children,delete r.children,t.each(f,(function(t,e){void 0!==r[e]&&(s[e]=r[e],delete r[e])})),t.extend(s.data,r));break;default:t.error("Invalid data-type: "+a)}return s._triggerTreeEvent("preInit",null),this.nodeLoadChildren(c,i).done((function(){s._callHook("treeStructureChanged",e,"loadChildren"),s.render(),3===e.options.selectMode&&s.rootNode.fixSelection3FromEndNodes(),s.activeNode&&s.options.activeVisible&&s.activeNode.makeVisible(),s._triggerTreeEvent("init",null,{status:!0})})).fail((function(){s.render(),s._triggerTreeEvent("init",null,{status:!1})}))},treeRegisterNode:function(t,e,i){t.tree._callHook("treeStructureChanged",t,e?"addNode":"removeNode")},treeSetFocus:function(e,i,n){var r;(i=!1!==i)!==this.hasFocus()&&(this._hasFocus=i,!i&&this.focusNode?this.focusNode.setFocus(!1):!i||n&&n.calledByNode||t(this.$container).focus(),this.$container.toggleClass("fancytree-treefocus",i),this._triggerTreeEvent(i?"focusTree":"blurTree"),i&&!this.activeNode&&(r=this._lastMousedownNode||this.getFirstChild())&&r.setFocus())},treeSetOption:function(e,i,n){var r=e.tree,a=!0,o=!1,s=!1;switch(i){case"aria":case"checkbox":case"icon":case"minExpandLevel":case"tabindex":o=!0,s=!0;break;case"checkboxAutoHide":r.$container.toggleClass("fancytree-checkbox-auto-hide",!!n);break;case"escapeTitles":case"tooltip":s=!0;break;case"rtl":!1===n?r.$container.removeAttr("DIR").removeClass("fancytree-rtl"):r.$container.attr("DIR","RTL").addClass("fancytree-rtl"),s=!0;break;case"source":a=!1,r._callHook("treeLoad",r,n),s=!0}r.debug("set option "+i+"="+n+" <"+typeof n+">"),a&&(this.widget._super?this.widget._super.call(this.widget,i,n):t.Widget.prototype._setOption.call(this.widget,i,n)),o&&r._callHook("treeCreate",r),s&&r.render(!0,!1)},treeStructureChanged:function(t,e){}}),t.widget("ui.fancytree",{options:{activeVisible:!0,ajax:{type:"GET",cache:!1,dataType:"json"},aria:!0,autoActivate:!0,autoCollapse:!1,autoScroll:!1,checkbox:!1,clickFolderMode:4,copyFunctionsToData:!1,debugLevel:null,disabled:!1,enableAspx:42,escapeTitles:!1,extensions:[],focusOnSelect:!1,generateIds:!1,icon:!0,idPrefix:"ft_",keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,nodata:!0,quicksearch:!1,rtl:!1,scrollOfs:{top:0,bottom:0},scrollParent:null,selectMode:2,strings:{loading:"Loading...",loadError:"Load error!",moreData:"More...",noData:"No data."},tabindex:"0",titlesTabbable:!1,toggleEffect:{effect:"slideToggle",duration:200},tooltip:!1,treeId:null,_classNames:{active:"fancytree-active",animating:"fancytree-animating",combinedExpanderPrefix:"fancytree-exp-",combinedIconPrefix:"fancytree-ico-",error:"fancytree-error",expanded:"fancytree-expanded",focused:"fancytree-focused",folder:"fancytree-folder",hasChildren:"fancytree-has-children",lastsib:"fancytree-lastsib",lazy:"fancytree-lazy",loading:"fancytree-loading",node:"fancytree-node",partload:"fancytree-partload",partsel:"fancytree-partsel",radio:"fancytree-radio",selected:"fancytree-selected",statusNodePrefix:"fancytree-statusnode-",unselectable:"fancytree-unselectable"},lazyLoad:null,postProcess:null},_deprecationWarning:function(t){var e=this.tree;e&&e.options.debugLevel>=3&&e.warn("$().fancytree('"+t+"') is deprecated (see https://wwwendt.de/tech/fancytree/doc/jsdoc/Fancytree_Widget.html")},_create:function(){this.tree=new E(this),this.$source=this.source||"json"===this.element.data("type")?this.element:this.element.find(">ul").first();var e,i,n,r=this.options,a=r.extensions;this.tree;for(n=0;n<a.length;n++)i=a[n],(e=t.ui.fancytree._extensions[i])||t.error("Could not apply extension '"+i+"' (it is not registered, did you forget to include it?)"),this.tree.options[i]=x({},e.options,this.tree.options[i]),_(void 0===this.tree.ext[i],"Extension name must not exist as Fancytree.ext attribute: '"+i+"'"),this.tree.ext[i]={},k(this.tree,0,e,i),e;void 0!==r.icons&&(!0===r.icon?(this.tree.warn("'icons' tree option is deprecated since v2.14.0: use 'icon' instead"),r.icon=r.icons):t.error("'icons' tree option is deprecated since v2.14.0: use 'icon' only instead")),void 0!==r.iconClass&&(r.icon?t.error("'iconClass' tree option is deprecated since v2.14.0: use 'icon' only instead"):(this.tree.warn("'iconClass' tree option is deprecated since v2.14.0: use 'icon' instead"),r.icon=r.iconClass)),void 0!==r.tabbable&&(r.tabindex=r.tabbable?"0":"-1",this.tree.warn("'tabbable' tree option is deprecated since v2.17.0: use 'tabindex='"+r.tabindex+"' instead")),this.tree._callHook("treeCreate",this.tree)},_init:function(){this.tree._callHook("treeInit",this.tree),this._bind()},_setOption:function(t,e){return this.tree._callHook("treeSetOption",this.tree,t,e)},_destroy:function(){this._unbind(),this.tree._callHook("treeDestroy",this.tree)},_unbind:function(){var e=this.tree._ns;this.element.off(e),this.tree.$container.off(e),t(document).off(e)},_bind:function(){var e=this,i=this.options,r=this.tree,a=r._ns;this._unbind(),r.$container.on("focusin"+a+" focusout"+a,(function(e){var i=n.getNode(e),a="focusin"===e.type;if(!a&&i&&t(e.target).is("a"))i.debug("Ignored focusout on embedded <a> element.");else{if(a){if(r._getExpiringValue("focusin"))return void r.debug("Ignored double focusin.");r._setExpiringValue("focusin",!0,50),i||(i=r._getExpiringValue("mouseDownNode"))&&r.debug("Reconstruct mouse target for focusin from recent event.")}i?r._callHook("nodeSetFocus",r._makeHookContext(i,e),a):r.tbody&&t(e.target).parents("table.fancytree-container > thead").length?r.debug("Ignore focus event outside table body.",e):r._callHook("treeSetFocus",r,a)}})).on("selectstart"+a,"span.fancytree-title",(function(t){t.preventDefault()})).on("keydown"+a,(function(t){if(i.disabled||!1===i.keyboard)return!0;var e,n=r.focusNode,a=r._makeHookContext(n||r,t),o=r.phase;try{return r.phase="userEvent","preventNav"===(e=n?r._triggerNodeEvent("keydown",n,t):r._triggerTreeEvent("keydown",t))?e=!0:!1!==e&&(e=r._callHook("nodeKeydown",a)),e}finally{r.phase=o}})).on("mousedown"+a,(function(t){var e=n.getEventTarget(t);r._lastMousedownNode=e?e.node:null,r._setExpiringValue("mouseDownNode",r._lastMousedownNode)})).on("click"+a+" dblclick"+a,(function(t){if(i.disabled)return!0;var r,a=n.getEventTarget(t),o=a.node,s=e.tree,l=s.phase;if(!o)return!0;r=s._makeHookContext(o,t);try{switch(s.phase="userEvent",t.type){case"click":return r.targetType=a.type,o.isPagingNode()?!0===s._triggerNodeEvent("clickPaging",r,t):!1!==s._triggerNodeEvent("click",r,t)&&s._callHook("nodeClick",r);case"dblclick":return r.targetType=a.type,!1!==s._triggerNodeEvent("dblclick",r,t)&&s._callHook("nodeDblclick",r)}}finally{s.phase=l}}))},getActiveNode:function(){return this._deprecationWarning("getActiveNode"),this.tree.activeNode},getNodeByKey:function(t){return this._deprecationWarning("getNodeByKey"),this.tree.getNodeByKey(t)},getRootNode:function(){return this._deprecationWarning("getRootNode"),this.tree.rootNode},getTree:function(){return this._deprecationWarning("getTree"),this.tree}}),n=t.ui.fancytree,t.extend(t.ui.fancytree,{version:"2.38.0",buildType:"production",debugLevel:3,_nextId:1,_nextNodeKey:1,_extensions:{},_FancytreeClass:E,_FancytreeNodeClass:A,jquerySupports:{positionMyOfs:function(e,i,n,r){var a,o,s,l=t.map(t.trim(e).split("."),(function(t){return parseInt(t,10)})),c=t.map(Array.prototype.slice.call(arguments,1),(function(t){return parseInt(t,10)}));for(a=0;a<c.length;a++)if(o=l[a]||0,s=c[a]||0,o!==s)return o>s;return!0}(t.ui.version,1,9)},assert:function(t,e){return _(t,e)},createTree:function(e,i){var r=t(e).fancytree(i);return n.getTree(r)},debounce:function(t,e,i,n){var r;return 3===arguments.length&&"boolean"!=typeof i&&(n=i,i=!1),function(){var a=arguments;n=n||this,i&&!r&&e.apply(n,a),clearTimeout(r),r=setTimeout((function(){i||e.apply(n,a),r=null}),t)}},debug:function(e){t.ui.fancytree.debugLevel>=4&&b("log",arguments)},error:function(e){t.ui.fancytree.debugLevel>=1&&b("error",arguments)},escapeHtml:function(t){return(""+t).replace(a,(function(t){return s[t]}))},fixPositionOptions:function(e){if((e.offset||(""+e.my+e.at).indexOf("%")>=0)&&t.error("expected new position syntax (but '%' is not supported)"),!t.ui.fancytree.jquerySupports.positionMyOfs){var i=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(e.my),n=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(e.at),r=(i[2]?+i[2]:0)+(n[2]?+n[2]:0),a=(i[4]?+i[4]:0)+(n[4]?+n[4]:0);e=t.extend({},e,{my:i[1]+" "+i[3],at:n[1]+" "+n[3]}),(r||a)&&(e.offset=r+" "+a)}return e},getEventTarget:function(e){var i,r=e&&e.target?e.target.className:"",a={node:this.getNode(e.target),type:void 0};return/\bfancytree-title\b/.test(r)?a.type="title":/\bfancytree-expander\b/.test(r)?a.type=!1===a.node.hasChildren()?"prefix":"expander":/\bfancytree-checkbox\b/.test(r)?a.type="checkbox":/\bfancytree(-custom)?-icon\b/.test(r)?a.type="icon":/\bfancytree-node\b/.test(r)?a.type="title":e&&e.target&&((i=t(e.target)).is("ul[role=group]")?((a.node&&a.node.tree||n).debug("Ignoring click on outer UL."),a.node=null):i.closest(".fancytree-title").length?a.type="title":i.closest(".fancytree-checkbox").length?a.type="checkbox":i.closest(".fancytree-expander").length&&(a.type="expander")),a},getEventTargetType:function(t){return this.getEventTarget(t).type},getNode:function(e){if(e instanceof A)return e;for(e instanceof t?e=e[0]:void 0!==e.originalEvent&&(e=e.target);e;){if(e.ftnode)return e.ftnode;e=e.parentNode}return null},getTree:function(e){var i,n=e;return e instanceof E?e:(void 0===e&&(e=0),"number"==typeof e?e=t(".fancytree-container").eq(e):"string"==typeof e?(e=t("#ft-id-"+n).eq(0)).length||(e=t(n).eq(0)):e instanceof Element||e instanceof HTMLDocument?e=t(e):e instanceof t?e=e.eq(0):void 0!==e.originalEvent&&(e=t(e.target)),(i=(e=e.closest(":ui-fancytree")).data("ui-fancytree")||e.data("fancytree"))?i.tree:null)},evalOption:function(e,i,n,r,a){var o,s,l=i.tree,c=r[e],u=n[e];return t.isFunction(c)?(o={node:i,tree:l,widget:l.widget,options:l.widget.options,typeInfo:l.types[i.type]||{}},null==(s=c.call(l,{type:e},o))&&(s=u)):s=null==u?c:u,null==s&&(s=a),s},setSpanIcon:function(e,i,n){var r=t(e);"string"==typeof n?r.attr("class",i+" "+n):(n.text?r.text(""+n.text):n.html&&(e.innerHTML=n.html),r.attr("class",i+" "+(n.addClass||"")))},eventToString:function(t){var e=t.which,i=t.type,n=[];return t.altKey&&n.push("alt"),t.ctrlKey&&n.push("ctrl"),t.metaKey&&n.push("meta"),t.shiftKey&&n.push("shift"),"click"===i||"dblclick"===i?n.push(d[t.button]+i):"wheel"===i?n.push(i):l[e]||n.push(c[e]||String.fromCharCode(e).toLowerCase()),n.join("+")},info:function(e){t.ui.fancytree.debugLevel>=3&&b("info",arguments)},keyEventToString:function(t){return this.warn("keyEventToString() is deprecated: use eventToString()"),this.eventToString(t)},overrideMethod:function(e,i,n,r){var a,o=e[i]||t.noop;e[i]=function(){var t=r||this;try{return a=t._super,t._super=o,n.apply(t,arguments)}finally{t._super=a}}},parseHtml:function(e){var i,n,r,a,o,s,l,c,u=e.find(">li"),d=[];return u.each((function(){var u,f,g=t(this),v=g.find(">span",this).first(),_=v.length?null:g.find(">a").first(),b={tooltip:null,data:{}};for(v.length?b.title=v.html():_&&_.length?(b.title=_.html(),b.data.href=_.attr("href"),b.data.target=_.attr("target"),b.tooltip=_.attr("title")):(b.title=g.html(),(o=b.title.search(/<ul/i))>=0&&(b.title=b.title.substring(0,o))),b.title=t.trim(b.title),a=0,s=h.length;a<s;a++)b[h[a]]=void 0;for(i=this.className.split(" "),r=[],a=0,s=i.length;a<s;a++)n=i[a],p[n]?b[n]=!0:r.push(n);if(b.extraClasses=r.join(" "),(l=g.attr("title"))&&(b.tooltip=l),(l=g.attr("id"))&&(b.key=l),g.attr("hideCheckbox")&&(b.checkbox=!1),(u=C(g))&&!t.isEmptyObject(u)){for(f in y)u.hasOwnProperty(f)&&(u[y[f]]=u[f],delete u[f]);for(a=0,s=m.length;a<s;a++)l=m[a],null!=(c=u[l])&&(delete u[l],b[l]=c);t.extend(b.data,u)}(e=g.find(">ul").first()).length?b.children=t.ui.fancytree.parseHtml(e):b.children=b.lazy?void 0:null,d.push(b)})),d},registerExtension:function(e){_(null!=e.name,"extensions must have a `name` property."),_(null!=e.version,"extensions must have a `version` property."),t.ui.fancytree._extensions[e.name]=e},unescapeHtml:function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue},warn:function(e){t.ui.fancytree.debugLevel>=2&&b("warn",arguments)}}),t.ui.fancytree}function _(e,i){e||(i="Fancytree assertion failed"+(i=i?": "+i:""),t.ui.fancytree.error(i),t.error(i))}function b(t,e){var i,n,r=window.console?window.console[t]:null;if(r)try{r.apply(window.console,e)}catch(t){for(n="",i=0;i<e.length;i++)n+=e[i];r(n)}}function x(){var e,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length;if("object"==typeof o||t.isFunction(o)||(o={}),s===l)throw Error("need at least two args");for(;s<l;s++)if(null!=(e=arguments[s]))for(i in e)if(e.hasOwnProperty(i)){if(n=o[i],o===(r=e[i]))continue;r&&t.isPlainObject(r)?(a=n&&t.isPlainObject(n)?n:{},o[i]=x(a,r)):void 0!==r&&(o[i]=r)}return o}function w(t,e,i,n,r){var a,o,s,l,c;return a=e[t],o=n[t],s=e.ext[r],l=function(){return a.apply(e,arguments)},c=function(t){return a.apply(e,t)},function(){var t=e._local,i=e._super,n=e._superApply;try{return e._local=s,e._super=l,e._superApply=c,o.apply(e,arguments)}finally{e._local=t,e._super=i,e._superApply=n}}}function k(e,i,n,r){for(var a in n)"function"==typeof n[a]?"function"==typeof e[a]?e[a]=w(a,e,0,n,r):"_"===a.charAt(0)?e.ext[r][a]=w(a,e,0,n,r):t.error("Could not override tree."+a+". Use prefix '_' to create tree."+r+"._"+a):"options"!==a&&(e.ext[r][a]=n[a])}function S(e,i){return void 0===e?t.Deferred((function(){this.resolve()})).promise():t.Deferred((function(){this.resolveWith(e,i)})).promise()}function T(e,i){return void 0===e?t.Deferred((function(){this.reject()})).promise():t.Deferred((function(){this.rejectWith(e,i)})).promise()}function M(t,e){return function(){t.resolveWith(e)}}function C(e){var i=t.extend({},e.data()),n=i.json;return delete i.fancytree,delete i.uiFancytree,n&&(delete i.json,i=t.extend(i,n)),i}function D(t){return(""+t).replace(o,(function(t){return s[t]}))}function L(t){return t=t.toLowerCase(),function(e){return e.title.toLowerCase().indexOf(t)>=0}}function A(e,i){var r,a,o,s;for(this.parent=e,this.tree=e.tree,this.ul=null,this.li=null,this.statusNodeType=null,this._isLoading=!1,this._error=null,this.data={},r=0,a=m.length;r<a;r++)this[o=m[r]]=i[o];for(o in null==this.unselectableIgnore&&null==this.unselectableStatus||(this.unselectable=!0),i.hideCheckbox&&t.error("'hideCheckbox' node option was removed in v2.23.0: use 'checkbox: false'"),i.data&&t.extend(this.data,i.data),i)g[o]||!this.tree.options.copyFunctionsToData&&t.isFunction(i[o])||v[o]||(this.data[o]=i[o]);null==this.key?this.tree.options.defaultKey?(this.key=""+this.tree.options.defaultKey(this),_(this.key,"defaultKey() must return a unique key")):this.key="_"+n._nextNodeKey++:this.key=""+this.key,i.active&&(_(null===this.tree.activeNode,"only one active node allowed"),this.tree.activeNode=this),i.selected&&(this.tree.lastSelectedNode=this),(s=i.children)?s.length?this._setChildren(s):this.children=this.lazy?[]:null:this.children=null,this.tree._callHook("treeRegisterNode",this.tree,!0,this)}function E(e){this.widget=e,this.$div=e.element,this.options=e.options,this.options&&(void 0!==this.options.lazyload&&t.error("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."),void 0!==this.options.loaderror&&t.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."),void 0!==this.options.fx&&t.error("The 'fx' option was replaced by 'toggleEffect' since 2014-11-30."),void 0!==this.options.removeNode&&t.error("The 'removeNode' event was replaced by 'modifyChild' since 2.20 (2016-09-10).")),this.ext={},this.types={},this.columns={},this.data=C(this.$div),this._id=""+(this.options.treeId||t.ui.fancytree._nextId++),this._ns=".fancytree-"+this._id,this.activeNode=null,this.focusNode=null,this._hasFocus=null,this._tempCache={},this._lastMousedownNode=null,this._enableUpdate=!0,this.lastSelectedNode=null,this.systemFocusElement=null,this.lastQuicksearchTerm="",this.lastQuicksearchTime=0,this.viewport=null,this.statusClassPropName="span",this.ariaPropName="li",this.nodeContainerAttrName="li",this.$div.find(">ul.fancytree-container").remove();var i,r={tree:this};this.rootNode=new A(r,{title:"root",key:"root_"+this._id,children:null,expanded:!0}),this.rootNode.parent=null,i=t("<ul>",{id:"ft-id-"+this._id,class:"ui-fancytree fancytree-container fancytree-plain"}).appendTo(this.$div),this.$container=i,this.rootNode.ul=i[0],null==this.options.debugLevel&&(this.options.debugLevel=n.debugLevel)}t.ui.fancytree.warn("Fancytree: ignored duplicate include")})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){var n,r,a;
/*! jQuery UI - v1.12.1 - 2018-05-20
* http://jqueryui.com
* Includes: widget.js, position.js, keycode.js, scroll-parent.js, unique-id.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */r=[i(1)],void 0===(a="function"==typeof(n=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,i,n=0,r=Array.prototype.slice;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.cleanData=t.cleanData||(e=t.cleanData,function(i){var n,r,a;for(a=0;null!=(r=i[a]);a++)try{(n=t._data(r,"events"))&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}),t.widget=t.widget||function(e,i,n){var r,a,o,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(o=new i).options=t.widget.extend({},o.options),t.each(n,(function(e,n){t.isFunction(n)?s[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=a,e}}():s[e]=n})),a.prototype=t.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||e},s,{constructor:a,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)})),delete r._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,n,a=r.call(arguments,1),o=0,s=a.length;o<s;o++)for(i in a[o])n=a[o][i],a[o].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(a){var o="string"==typeof a,s=r.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each((function(){var i,r=t.data(this,n);return"instance"===a?(l=r,!1):r?t.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,s))!==r&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")})):l=void 0:(s.length&&(a=t.widget.extend.apply(null,[a].concat(s))),this.each((function(){var e=t.data(this,n);e?(e.option(a||{}),e._init&&e._init()):t.data(this,n,new i(a,this))}))),l}},t.Widget=t.Widget||function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(r=o[e]=t.widget.extend({},this.options[e]),a=0;a<n.length-1;a++)r[n[a]]=r[n[a]]||{},r=r[n[a]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;function r(r,a){var o,s;for(s=0;s<r.length;s++)o=n.classesElementLookup[r[s]]||t(),o=e.add?t(t.unique(o.get().concat(e.element.get()))):t(o.not(e.element).get()),n.classesElementLookup[r[s]]=o,i.push(r[s]),a&&e.classes[r[s]]&&i.push(e.classes[r[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,a={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return a.element.toggleClass(this._classes(a),n),this},_on:function(e,i,n){var r,a=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,(function(n,o){function s(){if(e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?r.on(c,u,s):i.on(c,s)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,a,o=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,r,a){var o;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=a,r.delay&&n.delay(r.delay),o&&t.effects&&t.effects.effect[s]?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,a):n.queue((function(i){t(this)[e](),a&&a.call(n[0]),i()}))}})),t.widget,
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=t.fn.position;function u(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function d(e,i){return parseInt(t.css(e,i),10)||0}function h(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position=t.position||{scrollbarWidth:function(){if(void 0!==e)return e;var i,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return t("body").append(r),i=a.offsetWidth,r.css("overflow","scroll"),i===(n=a.offsetWidth)&&(n=r[0].clientWidth),r.remove(),e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var l,p,f,m,g,y,v=t(e.of),_=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(_),x=(e.collision||"flip").split(" "),w={};return y=h(v),v[0].preventDefault&&(e.at="left top"),p=y.width,f=y.height,m=y.offset,g=t.extend({},m),t.each(["my","at"],(function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=r.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=r.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=o.exec(n[0]),i=o.exec(n[1]),w[this]=[t?t[0]:0,i?i[0]:0],e[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?g.left+=p:"center"===e.at[0]&&(g.left+=p/2),"bottom"===e.at[1]?g.top+=f:"center"===e.at[1]&&(g.top+=f/2),l=u(w.at,p,f),g.left+=l[0],g.top+=l[1],this.each((function(){var r,a,o=t(this),s=o.outerWidth(),c=o.outerHeight(),h=d(this,"marginLeft"),y=d(this,"marginTop"),k=s+h+d(this,"marginRight")+b.width,S=c+y+d(this,"marginBottom")+b.height,T=t.extend({},g),M=u(w.my,o.outerWidth(),o.outerHeight());"right"===e.my[0]?T.left-=s:"center"===e.my[0]&&(T.left-=s/2),"bottom"===e.my[1]?T.top-=c:"center"===e.my[1]&&(T.top-=c/2),T.left+=M[0],T.top+=M[1],r={marginLeft:h,marginTop:y},t.each(["left","top"],(function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](T,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:c,collisionPosition:r,collisionWidth:k,collisionHeight:S,offset:[l[0]+M[0],l[1]+M[1]],my:e.my,at:e.at,within:_,elem:o})})),e.using&&(a=function(t){var r=m.left-T.left,a=r+p-s,l=m.top-T.top,u=l+f-c,d={target:{element:v,left:m.left,top:m.top,width:p,height:f},element:{element:o,left:T.left,top:T.top,width:s,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};p<s&&n(r+a)<p&&(d.horizontal="center"),f<c&&n(l+u)<f&&(d.vertical="middle"),i(n(r),n(a))>i(n(l),n(u))?d.important="horizontal":d.important="vertical",e.using.call(this,t,d)}),o.offset(t.extend(T,{using:a}))}))},t.ui.position={fit:{left:function(t,e){var n,r=e.within,a=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,s=t.left-e.collisionPosition.marginLeft,l=a-s,c=s+e.collisionWidth-o-a;e.collisionWidth>o?l>0&&c<=0?(n=t.left+l+e.collisionWidth-o-a,t.left+=l-n):t.left=c>0&&l<=0?a:l>c?a+o-e.collisionWidth:a:l>0?t.left+=l:c>0?t.left-=c:t.left=i(t.left-s,t.left)},top:function(t,e){var n,r=e.within,a=r.isWindow?r.scrollTop:r.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,l=a-s,c=s+e.collisionHeight-o-a;e.collisionHeight>o?l>0&&c<=0?(n=t.top+l+e.collisionHeight-o-a,t.top+=l-n):t.top=c>0&&l<=0?a:l>c?a+o-e.collisionHeight:a:l>0?t.top+=l:c>0?t.top-=c:t.top=i(t.top-s,t.top)}},flip:{left:function(t,e){var i,r,a=e.within,o=a.offset.left+a.scrollLeft,s=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,d=c+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((i=t.left+h+p+f+e.collisionWidth-s-o)<0||i<n(u))&&(t.left+=h+p+f):d>0&&((r=t.left-e.collisionPosition.marginLeft+h+p+f-l)>0||n(r)<d)&&(t.left+=h+p+f)},top:function(t,e){var i,r,a=e.within,o=a.offset.top+a.scrollTop,s=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,d=c+e.collisionHeight-s-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];u<0?((r=t.top+h+p+f+e.collisionHeight-s-o)<0||r<n(u))&&(t.top+=h+p+f):d>0&&((i=t.top-e.collisionPosition.marginTop+h+p+f-l)>0||n(i)<d)&&(t.top+=h+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&a.length?a:t(this[0].ownerDocument||document)},t.fn.extend({uniqueId:(i=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++i)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}})})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){"use strict";i.r(e),function(t){var e=i(11),n=i.n(e),r=i(151),a=i.n(r);t(document).ready((function(){if(document.getElementById("map")){n.a.accessToken="pk.eyJ1IjoiZGFzaGJvYXJlZHBhY2siLCJhIjoiY2s5bWlhZHRqMDAxazNsbnlpbXhhdDcwMSJ9.YU6cxTiRujREOAIVO6iLmA";new n.a.Map({container:"map",zoom:9,center:[137.9150899566626,36.25956997955441],style:"mapbox://styles/mapbox/satellite-v9"})}if(document.getElementById("gmap-example"))new a.a({el:"#gmap-example",lat:-12.043333,lng:-77.028333,width:"100%",height:"300px"})}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(183),i(500),i(501),i(502),i(503),i(504);t(document).ready((function(){t((function(){t("#bars-horizontal").barrating({theme:"bars-horizontal"})})),t((function(){t("#bars-movie").barrating({theme:"bars-movie",showValues:!1})})),t((function(){t("#bars-pill").barrating({theme:"bars-pill",initialRating:"A",showValues:!0,showSelectedRating:!1,allowEmpty:!0,emptyValue:"-- no rating selected --",onSelect:function(t,e){alert("Selected rating: "+t)}})})),t((function(){t("#css-stars").barrating({theme:"css-stars"})})),t((function(){t("#bars-1to10").barrating({theme:"bars-1to10"})}))}))}.call(this,i(1))},function(t,e,i){var n,r,a;r=[i(1)],void 0===(a="function"==typeof(n=function(t){var e=function(){function e(){var e=this,i=function(i){return t.isNumeric(i)&&(i=Math.floor(i)),t('option[value="'+i+'"]',e.$elem)},n=function(t){var i=e.$elem.data("barrating");return void 0!==t?i[t]:i},r=function(t,i){null!==i&&"object"==typeof i?e.$elem.data("barrating",i):e.$elem.data("barrating")[t]=i},a=function(){var n,a=(n=e.options.initialRating)?i(n):t("option:selected",e.$elem),o=function(){var i=e.$elem.find('option[value="'+e.options.emptyValue+'"]');return!i.length&&e.options.allowEmpty?(i=t("<option />",{value:e.options.emptyValue})).prependTo(e.$elem):i}(),s=a.val(),l=a.data("html")?a.data("html"):a.text(),c=null!==e.options.allowEmpty?e.options.allowEmpty:!!o.length,u=o.length?o.val():null,d=o.length?o.text():null;r(null,{userOptions:e.options,ratingValue:s,ratingText:l,originalRatingValue:s,originalRatingText:l,allowEmpty:c,emptyRatingValue:u,emptyRatingText:d,readOnly:e.options.readonly,ratingMade:!1})},o=function(){return n("ratingText")},s=function(){return n("ratingValue")},l=function(){return n("userOptions").reverse?"nextAll":"prevAll"},c=function(t){i(t).prop("selected",!0),e.$elem.change()},u=function(t){(t=t||o())==n("emptyRatingText")&&(t=""),e.options.showSelectedRating&&e.$elem.parent().find(".br-current-rating").text(t)},d=function(){e.$widget.find("a").removeClass((function(t,e){return(e.match(/(^|\s)br-\S+/g)||[]).join(" ")}))},h=function(){var i,r,a,o=e.$widget.find('a[data-rating-value="'+s()+'"]'),c=n("userOptions").initialRating,u=t.isNumeric(s())?s():0,h=(i=c,Math.round(Math.floor(10*i)/10%1*100));if(d(),o.addClass("br-selected br-current")[l()]().addClass("br-selected"),!n("ratingMade")&&t.isNumeric(c)){if(c<=u||!h)return;r=e.$widget.find("a"),(a=o.length?o[n("userOptions").reverse?"prev":"next"]():r[n("userOptions").reverse?"last":"first"]()).addClass("br-fractional"),a.addClass("br-fractional-"+h)}},p=function(i){i.on("click.barrating",(function(i){var a,l,d,p=t(this),f=n("userOptions");return i.preventDefault(),a=p.attr("data-rating-value"),l=p.attr("data-rating-text"),d=p,n("allowEmpty")&&n("userOptions").deselectable&&s()==d.attr("data-rating-value")&&(a=n("emptyRatingValue"),l=n("emptyRatingText")),r("ratingValue",a),r("ratingText",l),r("ratingMade",!0),c(a),u(l),h(),f.onSelect.call(e,s(),o(),i),!1}))},f=function(e){e.on("touchstart.barrating",(function(e){e.preventDefault(),e.stopPropagation(),t(this).click()}))},m=function(i){p(i),e.options.hoverState&&(function(e){e.on("mouseenter.barrating",(function(){var e=t(this);d(),e.addClass("br-active")[l()]().addClass("br-active"),u(e.attr("data-rating-text"))}))}(i),e.$widget.on("mouseleave.barrating blur.barrating",(function(){u(),h()})))},g=function(t){t.off(".barrating")},y=function(t){var i=e.$widget.find("a");f&&f(i),t?(g(i),function(t){t.on("click.barrating",(function(t){t.preventDefault()}))}(i)):m(i)};this.show=function(){var i,r;n()||(i=["br-wrapper"],""!==e.options.theme&&i.push("br-theme-"+e.options.theme),e.$elem.wrap(t("<div />",{class:i.join(" ")})),a(),e.$widget=(r=t("<div />",{class:"br-widget"}),e.$elem.find("option").each((function(){var i,a,o,s;(i=t(this).val())!==n("emptyRatingValue")&&(a=t(this).text(),(o=t(this).data("html"))&&(a=o),s=t("<a />",{href:"#","data-rating-value":i,"data-rating-text":a,html:e.options.showValues?a:""}),r.append(s))})),e.options.showSelectedRating&&r.append(t("<div />",{text:"",class:"br-current-rating"})),e.options.reverse&&r.addClass("br-reverse"),e.options.readonly&&r.addClass("br-readonly"),r),e.$widget.insertAfter(e.$elem),h(),u(),y(e.options.readonly),e.$elem.hide())},this.readonly=function(t){"boolean"==typeof t&&n("readOnly")!=t&&(y(t),r("readOnly",t),e.$widget.toggleClass("br-readonly"))},this.set=function(t){var i=n("userOptions");0!==e.$elem.find('option[value="'+t+'"]').length&&(r("ratingValue",t),r("ratingText",e.$elem.find('option[value="'+t+'"]').text()),r("ratingMade",!0),c(s()),u(o()),h(),i.silent||i.onSelect.call(this,s(),o()))},this.clear=function(){var i=n("userOptions");r("ratingValue",n("originalRatingValue")),r("ratingText",n("originalRatingText")),r("ratingMade",!1),t("option",e.$elem).prop("selected",(function(){return this.defaultSelected})),e.$elem.change(),u(o()),h(),i.onClear.call(this,s(),o())},this.destroy=function(){var t=s(),i=o(),r=n("userOptions");g(e.$widget.find("a")),e.$widget.remove(),e.$elem.removeData("barrating"),e.$elem.unwrap(),e.$elem.show(),r.onDestroy.call(this,t,i)}}return e.prototype.init=function(e,i){return this.$elem=t(i),this.options=t.extend({},t.fn.barrating.defaults,e),this.options},e}();t.fn.barrating=function(i,n){return this.each((function(){var r=new e;if(t(this).is("select")||t.error("Sorry, this plugin only works with select fields."),r.hasOwnProperty(i)){if(r.init(n,this),"show"===i)return r.show(n);if(r.$elem.data("barrating"))return r.$widget=t(this).next(".br-widget"),r[i](n)}else{if("object"==typeof i||!i)return n=i,r.init(n,this),r.show();t.error("Method "+i+" does not exist on jQuery.barrating")}}))},t.fn.barrating.defaults={theme:"",initialRating:null,allowEmpty:null,emptyValue:"",showValues:!1,showSelectedRating:!0,deselectable:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,silent:!1,onSelect:function(t,e,i){},onClear:function(t,e){},onDestroy:function(t,e){}},t.fn.barrating.BarRating=e})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){"use strict";i.r(e),function(t){i(148),i(185);t(document).ready((function(){setTimeout((function(){var e=t("#image-crop"),i=e.height()+4;t(".preview").css({width:"100%",overflow:"hidden",height:i,maxWidth:e.width(),maxHeight:i}),e.cropper({preview:".preview",ready:function(e){t(this).cropper("setData",{height:222,rotate:0,scaleX:1,scaleY:1,width:222,x:55,y:19})}})}),2e3)}))}.call(this,i(1))},function(t,e,i){
/*!
 * jQuery Cropper v1.0.1
 * https://fengyuanchen.github.io/jquery-cropper
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-10-19T08:48:33.062Z
 */
!function(t,e){"use strict";if(t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,t&&t.fn&&e){var i=t.fn.cropper;t.fn.cropper=function(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o;return this.each((function(n,a){var s=t(a),l="destroy"===i,c=s.data("cropper");if(!c){if(l)return;var u=t.extend({},s.data(),t.isPlainObject(i)&&i);c=new e(a,u),s.data("cropper",c)}if("string"==typeof i){var d=c[i];t.isFunction(d)&&((o=d.apply(c,r))===c&&(o=void 0),l&&s.removeData("cropper"))}})),void 0!==o?o:this},t.fn.cropper.Constructor=e,t.fn.cropper.setDefaults=e.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=i,this}}}(i(1),i(148))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(152),n=i.n(e);t(document).ready((function(){t(".start-tour").click((function(){n()().start()}))}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(9),i(149),i(150),i(188),i(189);t(document).ready((function(){setTimeout((function(){t("#example").DataTable({responsive:!0}),t("#example2").DataTable({scrollY:"292px",scrollCollapse:!0,paging:!1,searching:!1,info:!1})}),2e3)}))}.call(this,i(1))},function(t,e,i){var n,r;
/*! Bootstrap 4 integration for DataTables' Responsive
 * 2016 SpryMedia Ltd - datatables.net/license
 */n=[i(1),i(149),i(150)],void 0===(r=function(t){return function(t,e,i,n){"use strict";var r=t.fn.dataTable,a=r.Responsive.display,o=a.modal,s=t('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"/></div></div></div>');return a.modal=function(e){return function(i,n,r){if(t.fn.modal){if(!n){if(e&&e.header){var a=s.find("div.modal-header"),l=a.find("button").detach();a.empty().append('<h4 class="modal-title">'+e.header(i)+"</h4>").append(l)}s.find("div.modal-body").empty().append(r()),s.appendTo("body").modal()}}else o(i,n,r)}},r.Responsive}(t,window,document)}.apply(e,n))||(t.exports=r)},function(t,e,i){(function(e){
/**
  * bootstrap-table - An extended table to integration with some of the most widely used CSS frameworks. (Supports Bootstrap, Semantic UI, Bulma, Material Design, Foundation)
  *
  * @version v1.18.3
  * @homepage https://bootstrap-table.com
  * @author wenzhixin <wenzhixin2010@gmail.com> (http://wenzhixin.net.cn/)
  * @license MIT
  */
t.exports=function(t){"use strict";var i=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return i}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=c(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function p(t,e){return t(e={exports:{}},e.exports),e.exports}var f=function(t){return t&&t.Math==Math&&t},m=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof h&&h)||function(){return this}()||Function("return this")(),g=function(t){try{return!!t()}catch(t){return!0}},y=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),v={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,b={f:_&&!v.call({1:2},1)?function(t){var e=_(this,t);return!!e&&e.enumerable}:v},x=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w={}.toString,k=function(t){return w.call(t).slice(8,-1)},S="".split,T=g((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==k(t)?S.call(t,""):Object(t)}:Object,M=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},C=function(t){return T(M(t))},D=function(t){return"object"==typeof t?null!==t:"function"==typeof t},L=function(t,e){if(!D(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!D(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!D(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!D(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},A={}.hasOwnProperty,E=function(t,e){return A.call(t,e)},P=m.document,I=D(P)&&D(P.createElement),O=function(t){return I?P.createElement(t):{}},R=!y&&!g((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),z=Object.getOwnPropertyDescriptor,Y={f:y?z:function(t,e){if(t=C(t),e=L(e,!0),R)try{return z(t,e)}catch(t){}if(E(t,e))return x(!b.f.call(t,e),t[e])}},F=function(t){if(!D(t))throw TypeError(String(t)+" is not an object");return t},H=Object.defineProperty,N={f:y?H:function(t,e,i){if(F(t),e=L(e,!0),F(i),R)try{return H(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},B=y?function(t,e,i){return N.f(t,e,x(1,i))}:function(t,e,i){return t[e]=i,t},j=function(t,e){try{B(m,t,e)}catch(i){m[t]=e}return e},V="__core-js_shared__",W=m[V]||j(V,{}),U=Function.toString;"function"!=typeof W.inspectSource&&(W.inspectSource=function(t){return U.call(t)});var $,q,G,X=W.inspectSource,Z=m.WeakMap,J="function"==typeof Z&&/native code/.test(X(Z)),K=p((function(t){(t.exports=function(t,e){return W[t]||(W[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),Q=0,tt=Math.random(),et=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Q+tt).toString(36)},it=K("keys"),nt=function(t){return it[t]||(it[t]=et(t))},rt={},at=m.WeakMap;if(J){var ot=W.state||(W.state=new at),st=ot.get,lt=ot.has,ct=ot.set;$=function(t,e){return e.facade=t,ct.call(ot,t,e),e},q=function(t){return st.call(ot,t)||{}},G=function(t){return lt.call(ot,t)}}else{var ut=nt("state");rt[ut]=!0,$=function(t,e){return e.facade=t,B(t,ut,e),e},q=function(t){return E(t,ut)?t[ut]:{}},G=function(t){return E(t,ut)}}var dt={set:$,get:q,has:G,enforce:function(t){return G(t)?q(t):$(t,{})},getterFor:function(t){return function(e){var i;if(!D(e)||(i=q(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},ht=p((function(t){var e=dt.get,i=dt.enforce,n=String(String).split("String");(t.exports=function(t,e,r,a){var o,s=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||E(r,"name")||B(r,"name",e),(o=i(r)).source||(o.source=n.join("string"==typeof e?e:""))),t!==m?(s?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=r:B(t,e,r)):l?t[e]=r:j(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||X(this)}))})),pt=m,ft=function(t){return"function"==typeof t?t:void 0},mt=function(t,e){return arguments.length<2?ft(pt[t])||ft(m[t]):pt[t]&&pt[t][e]||m[t]&&m[t][e]},gt=Math.ceil,yt=Math.floor,vt=function(t){return isNaN(t=+t)?0:(t>0?yt:gt)(t)},_t=Math.min,bt=function(t){return t>0?_t(vt(t),9007199254740991):0},xt=Math.max,wt=Math.min,kt=function(t,e){var i=vt(t);return i<0?xt(i+e,0):wt(i,e)},St=function(t){return function(e,i,n){var r,a=C(e),o=bt(a.length),s=kt(n,o);if(t&&i!=i){for(;o>s;)if((r=a[s++])!=r)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===i)return t||s||0;return!t&&-1}},Tt={includes:St(!0),indexOf:St(!1)},Mt=Tt.indexOf,Ct=function(t,e){var i,n=C(t),r=0,a=[];for(i in n)!E(rt,i)&&E(n,i)&&a.push(i);for(;e.length>r;)E(n,i=e[r++])&&(~Mt(a,i)||a.push(i));return a},Dt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lt=Dt.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(t){return Ct(t,Lt)}},Et={f:Object.getOwnPropertySymbols},Pt=mt("Reflect","ownKeys")||function(t){var e=At.f(F(t)),i=Et.f;return i?e.concat(i(t)):e},It=function(t,e){for(var i=Pt(e),n=N.f,r=Y.f,a=0;a<i.length;a++){var o=i[a];E(t,o)||n(t,o,r(e,o))}},Ot=/#|\.prototype\./,Rt=function(t,e){var i=Yt[zt(t)];return i==Ht||i!=Ft&&("function"==typeof e?g(e):!!e)},zt=Rt.normalize=function(t){return String(t).replace(Ot,".").toLowerCase()},Yt=Rt.data={},Ft=Rt.NATIVE="N",Ht=Rt.POLYFILL="P",Nt=Rt,Bt=Y.f,jt=function(t,e){var i,n,r,a,o,s=t.target,l=t.global,c=t.stat;if(i=l?m:c?m[s]||j(s,{}):(m[s]||{}).prototype)for(n in e){if(a=e[n],r=t.noTargetGet?(o=Bt(i,n))&&o.value:i[n],!Nt(l?n:s+(c?".":"#")+n,t.forced)&&void 0!==r){if(typeof a==typeof r)continue;It(a,r)}(t.sham||r&&r.sham)&&B(a,"sham",!0),ht(i,n,a,t)}},Vt="\t\n\v\f\r \u2028\u2029\ufeff",Wt="["+Vt+"]",Ut=RegExp("^"+Wt+Wt+"*"),$t=RegExp(Wt+Wt+"*$"),qt=function(t){return function(e){var i=String(M(e));return 1&t&&(i=i.replace(Ut,"")),2&t&&(i=i.replace($t,"")),i}},Gt={start:qt(1),end:qt(2),trim:qt(3)},Xt=Gt.trim;jt({target:"String",proto:!0,forced:function(t){return g((function(){return!!Vt[t]()||""!=""[t]()||Vt[t].name!==t}))}("trim")},{trim:function(){return Xt(this)}});var Zt=function(t,e){var i=[][t];return!!i&&g((function(){i.call(null,e||function(){throw 1},1)}))},Jt=[].join,Kt=T!=Object,Qt=Zt("join",",");jt({target:"Array",proto:!0,forced:Kt||!Qt},{join:function(t){return Jt.call(C(this),void 0===t?",":t)}});var te=function(){var t=F(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ee(t,e){return RegExp(t,e)}var ie={UNSUPPORTED_Y:g((function(){var t=ee("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:g((function(){var t=ee("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ne=RegExp.prototype.exec,re=String.prototype.replace,ae=ne,oe=function(){var t=/a/,e=/b*/g;return ne.call(t,"a"),ne.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),se=ie.UNSUPPORTED_Y||ie.BROKEN_CARET,le=void 0!==/()??/.exec("")[1];(oe||le||se)&&(ae=function(t){var e,i,n,r,a=this,o=se&&a.sticky,s=te.call(a),l=a.source,c=0,u=t;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),i=new RegExp("^(?:"+l+")",s)),le&&(i=new RegExp("^"+l+"$(?!\\s)",s)),oe&&(e=a.lastIndex),n=ne.call(o?i:a,u),o?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:oe&&n&&(a.lastIndex=a.global?n.index+n[0].length:e),le&&n&&n.length>1&&re.call(n[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n});var ce=ae;jt({target:"RegExp",proto:!0,forced:/./.exec!==ce},{exec:ce});var ue,de,he="process"==k(m.process),pe=mt("navigator","userAgent")||"",fe=m.process,me=fe&&fe.versions,ge=me&&me.v8;ge?de=(ue=ge.split("."))[0]+ue[1]:pe&&(!(ue=pe.match(/Edge\/(\d+)/))||ue[1]>=74)&&(ue=pe.match(/Chrome\/(\d+)/))&&(de=ue[1]);var ye=de&&+de,ve=!!Object.getOwnPropertySymbols&&!g((function(){return!Symbol.sham&&(he?38===ye:ye>37&&ye<41)})),_e=ve&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,be=K("wks"),xe=m.Symbol,we=_e?xe:xe&&xe.withoutSetter||et,ke=function(t){return E(be,t)&&(ve||"string"==typeof be[t])||(ve&&E(xe,t)?be[t]=xe[t]:be[t]=we("Symbol."+t)),be[t]},Se=ke("species"),Te=!g((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Me="$0"==="a".replace(/./,"$0"),Ce=ke("replace"),De=!!/./[Ce]&&""===/./[Ce]("a","$0"),Le=!g((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),Ae=function(t,e,i,n){var r=ke(t),a=!g((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),o=a&&!g((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[Se]=function(){return i},i.flags="",i[r]=/./[r]),i.exec=function(){return e=!0,null},i[r](""),!e}));if(!a||!o||"replace"===t&&(!Te||!Me||De)||"split"===t&&!Le){var s=/./[r],l=i(r,""[t],(function(t,e,i,n,r){return e.exec===ce?a&&!r?{done:!0,value:s.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Me,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:De}),c=l[0],u=l[1];ht(String.prototype,t,c),ht(RegExp.prototype,r,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}n&&B(RegExp.prototype[r],"sham",!0)},Ee=ke("match"),Pe=function(t){var e;return D(t)&&(void 0!==(e=t[Ee])?!!e:"RegExp"==k(t))},Ie=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Oe=ke("species"),Re=function(t){return function(e,i){var n,r,a=String(M(e)),o=vt(i),s=a.length;return o<0||o>=s?t?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===s||(r=a.charCodeAt(o+1))<56320||r>57343?t?a.charAt(o):n:t?a.slice(o,o+2):r-56320+(n-55296<<10)+65536}},ze=(Re(!1),Re(!0)),Ye=function(t,e,i){return e+(i?ze(t,e).length:1)},Fe=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==k(t))throw TypeError("RegExp#exec called on incompatible receiver");return ce.call(t,e)},He=[].push,Ne=Math.min,Be=4294967295,je=!g((function(){return!RegExp(Be,"y")}));Ae("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(M(this)),r=void 0===i?Be:i>>>0;if(0===r)return[];if(void 0===t)return[n];if(!Pe(t))return e.call(n,t,r);for(var a,o,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,d=new RegExp(t.source,c+"g");(a=ce.call(d,n))&&!((o=d.lastIndex)>u&&(l.push(n.slice(u,a.index)),a.length>1&&a.index<n.length&&He.apply(l,a.slice(1)),s=a[0].length,u=o,l.length>=r));)d.lastIndex===a.index&&d.lastIndex++;return u===n.length?!s&&d.test("")||l.push(""):l.push(n.slice(u)),l.length>r?l.slice(0,r):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=M(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,r,i):n.call(String(r),e,i)},function(t,r){var a=i(n,t,this,r,n!==e);if(a.done)return a.value;var o=F(t),s=String(this),l=function(t,e){var i,n=F(t).constructor;return void 0===n||null==(i=F(n)[Oe])?e:Ie(i)}(o,RegExp),c=o.unicode,u=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(je?"y":"g"),d=new l(je?o:"^(?:"+o.source+")",u),h=void 0===r?Be:r>>>0;if(0===h)return[];if(0===s.length)return null===Fe(d,s)?[s]:[];for(var p=0,f=0,m=[];f<s.length;){d.lastIndex=je?f:0;var g,y=Fe(d,je?s:s.slice(f));if(null===y||(g=Ne(bt(d.lastIndex+(je?0:f)),s.length))===p)f=Ye(s,f,c);else{if(m.push(s.slice(p,f)),m.length===h)return m;for(var v=1;v<=y.length-1;v++)if(m.push(y[v]),m.length===h)return m;f=p=g}}return m.push(s.slice(p)),m}]}),!je);var Ve,We=Object.keys||function(t){return Ct(t,Dt)},Ue=y?Object.defineProperties:function(t,e){F(t);for(var i,n=We(e),r=n.length,a=0;r>a;)N.f(t,i=n[a++],e[i]);return t},$e=mt("document","documentElement"),qe=nt("IE_PROTO"),Ge=function(){},Xe=function(t){return"<script>"+t+"<\/script>"},Ze=function(){try{Ve=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ze=Ve?function(t){t.write(Xe("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Ve):((e=O("iframe")).style.display="none",$e.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Xe("document.F=Object")),t.close(),t.F);for(var i=Dt.length;i--;)delete Ze.prototype[Dt[i]];return Ze()};rt[qe]=!0;var Je=Object.create||function(t,e){var i;return null!==t?(Ge.prototype=F(t),i=new Ge,Ge.prototype=null,i[qe]=t):i=Ze(),void 0===e?i:Ue(i,e)},Ke=ke("unscopables"),Qe=Array.prototype;null==Qe[Ke]&&N.f(Qe,Ke,{configurable:!0,value:Je(null)});var ti=function(t){Qe[Ke][t]=!0},ei=Tt.includes;jt({target:"Array",proto:!0},{includes:function(t){return ei(this,t,arguments.length>1?arguments[1]:void 0)}}),ti("includes");var ii=Array.isArray||function(t){return"Array"==k(t)},ni=function(t){return Object(M(t))},ri=function(t,e,i){var n=L(e);n in t?N.f(t,n,x(0,i)):t[n]=i},ai=ke("species"),oi=function(t,e){var i;return ii(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!ii(i.prototype)?D(i)&&null===(i=i[ai])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},si=ke("species"),li=function(t){return ye>=51||!g((function(){var e=[];return(e.constructor={})[si]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ci=ke("isConcatSpreadable"),ui=9007199254740991,di="Maximum allowed index exceeded",hi=ye>=51||!g((function(){var t=[];return t[ci]=!1,t.concat()[0]!==t})),pi=li("concat"),fi=function(t){if(!D(t))return!1;var e=t[ci];return void 0!==e?!!e:ii(t)};jt({target:"Array",proto:!0,forced:!hi||!pi},{concat:function(t){var e,i,n,r,a,o=ni(this),s=oi(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(fi(a=-1===e?o:arguments[e])){if(l+(r=bt(a.length))>ui)throw TypeError(di);for(i=0;i<r;i++,l++)i in a&&ri(s,l,a[i])}else{if(l>=ui)throw TypeError(di);ri(s,l++,a)}return s.length=l,s}});var mi=[].push,gi=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,a=6==t,o=7==t,s=5==t||a;return function(l,c,u,d){for(var h,p,f=ni(l),m=T(f),g=function(t,e,i){return Ie(t),void 0===e?t:function(i,n,r){return t.call(e,i,n,r)}}(c,u),y=bt(m.length),v=0,_=d||oi,b=e?_(l,y):i||o?_(l,0):void 0;y>v;v++)if((s||v in m)&&(p=g(h=m[v],v,f),t))if(e)b[v]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:mi.call(b,h)}else switch(t){case 4:return!1;case 7:mi.call(b,h)}return a?-1:n||r?r:b}},yi={forEach:gi(0),map:gi(1),filter:gi(2),some:gi(3),every:gi(4),find:gi(5),findIndex:gi(6),filterOut:gi(7)},vi=yi.find,_i=!0;"find"in[]&&Array(1).find((function(){_i=!1})),jt({target:"Array",proto:!0,forced:_i},{find:function(t){return vi(this,t,arguments.length>1?arguments[1]:void 0)}}),ti("find");var bi=function(t){if(Pe(t))throw TypeError("The method doesn't accept regular expressions");return t},xi=ke("match"),wi=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[xi]=!1,"/./"[t](e)}catch(t){}}return!1};jt({target:"String",proto:!0,forced:!wi("includes")},{includes:function(t){return!!~String(M(this)).indexOf(bi(t),arguments.length>1?arguments[1]:void 0)}});var ki={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Si=yi.forEach,Ti=Zt("forEach")?[].forEach:function(t){return Si(this,t,arguments.length>1?arguments[1]:void 0)};for(var Mi in ki){var Ci=m[Mi],Di=Ci&&Ci.prototype;if(Di&&Di.forEach!==Ti)try{B(Di,"forEach",Ti)}catch(t){Di.forEach=Ti}}var Li=Gt.trim,Ai=m.parseFloat,Ei=1/Ai(Vt+"-0")!=-1/0?function(t){var e=Li(String(t)),i=Ai(e);return 0===i&&"-"==e.charAt(0)?-0:i}:Ai;jt({global:!0,forced:parseFloat!=Ei},{parseFloat:Ei});var Pi=b.f,Ii=function(t){return function(e){for(var i,n=C(e),r=We(n),a=r.length,o=0,s=[];a>o;)i=r[o++],y&&!Pi.call(n,i)||s.push(t?[i,n[i]]:n[i]);return s}},Oi=[Ii(!0),Ii(!1)][0];jt({target:"Object",stat:!0},{entries:function(t){return Oi(t)}});var Ri=Tt.indexOf,zi=[].indexOf,Yi=!!zi&&1/[1].indexOf(1,-0)<0,Fi=Zt("indexOf");jt({target:"Array",proto:!0,forced:Yi||!Fi},{indexOf:function(t){return Yi?zi.apply(this,arguments)||0:Ri(this,t,arguments.length>1?arguments[1]:void 0)}});var Hi=[],Ni=Hi.sort,Bi=g((function(){Hi.sort(void 0)})),ji=g((function(){Hi.sort(null)})),Vi=Zt("sort");jt({target:"Array",proto:!0,forced:Bi||!ji||!Vi},{sort:function(t){return void 0===t?Ni.call(ni(this)):Ni.call(ni(this),Ie(t))}});var Wi=Math.floor,Ui="".replace,$i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,qi=/\$([$&'`]|\d{1,2})/g,Gi=function(t,e,i,n,r,a){var o=i+t.length,s=n.length,l=qi;return void 0!==r&&(r=ni(r),l=$i),Ui.call(a,l,(function(a,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(o);case"<":c=r[l.slice(1,-1)];break;default:var u=+l;if(0===u)return a;if(u>s){var d=Wi(u/10);return 0===d?a:d<=s?void 0===n[d-1]?l.charAt(1):n[d-1]+l.charAt(1):a}c=n[u-1]}return void 0===c?"":c}))},Xi=Math.max,Zi=Math.min;Ae("replace",2,(function(t,e,i,n){var r=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,a=n.REPLACE_KEEPS_$0,o=r?"$":"$0";return[function(i,n){var r=M(this),a=null==i?void 0:i[t];return void 0!==a?a.call(i,r,n):e.call(String(r),i,n)},function(t,n){if(!r&&a||"string"==typeof n&&-1===n.indexOf(o)){var s=i(e,t,this,n);if(s.done)return s.value}var l=F(t),c=String(this),u="function"==typeof n;u||(n=String(n));var d=l.global;if(d){var h=l.unicode;l.lastIndex=0}for(var p=[];;){var f=Fe(l,c);if(null===f)break;if(p.push(f),!d)break;""===String(f[0])&&(l.lastIndex=Ye(c,bt(l.lastIndex),h))}for(var m,g="",y=0,v=0;v<p.length;v++){f=p[v];for(var _=String(f[0]),b=Xi(Zi(vt(f.index),c.length),0),x=[],w=1;w<f.length;w++)x.push(void 0===(m=f[w])?m:String(m));var k=f.groups;if(u){var S=[_].concat(x,b,c);void 0!==k&&S.push(k);var T=String(n.apply(void 0,S))}else T=Gi(_,c,b,x,k,n);b>=y&&(g+=c.slice(y,b)+T,y=b+_.length)}return g+c.slice(y)}]}));var Ji=Object.assign,Ki=Object.defineProperty,Qi=!Ji||g((function(){if(y&&1!==Ji({b:1},Ji(Ki({},"a",{enumerable:!0,get:function(){Ki(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=Ji({},t)[i]||We(Ji({},e)).join("")!=n}))?function(t,e){for(var i=ni(t),n=arguments.length,r=1,a=Et.f,o=b.f;n>r;)for(var s,l=T(arguments[r++]),c=a?We(l).concat(a(l)):We(l),u=c.length,d=0;u>d;)s=c[d++],y&&!o.call(l,s)||(i[s]=l[s]);return i}:Ji;jt({target:"Object",stat:!0,forced:Object.assign!==Qi},{assign:Qi});var tn=yi.filter,en=li("filter");jt({target:"Array",proto:!0,forced:!en},{filter:function(t){return tn(this,t,arguments.length>1?arguments[1]:void 0)}});var nn=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Ae("search",1,(function(t,e,i){return[function(e){var i=M(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var r=F(t),a=String(this),o=r.lastIndex;nn(o,0)||(r.lastIndex=0);var s=Fe(r,a);return nn(r.lastIndex,o)||(r.lastIndex=o),null===s?-1:s.index}]}));var rn=Gt.trim,an=m.parseInt,on=/^[+-]?0[Xx]/,sn=8!==an(Vt+"08")||22!==an(Vt+"0x16")?function(t,e){var i=rn(String(t));return an(i,e>>>0||(on.test(i)?16:10))}:an;jt({global:!0,forced:parseInt!=sn},{parseInt:sn});var ln=yi.map,cn=li("map");jt({target:"Array",proto:!0,forced:!cn},{map:function(t){return ln(this,t,arguments.length>1?arguments[1]:void 0)}});var un=yi.findIndex,dn="findIndex",hn=!0;dn in[]&&Array(1).findIndex((function(){hn=!1})),jt({target:"Array",proto:!0,forced:hn},{findIndex:function(t){return un(this,t,arguments.length>1?arguments[1]:void 0)}}),ti(dn);var pn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return F(i),function(t){if(!D(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),fn=function(t,e,i){var n,r;return pn&&"function"==typeof(n=e.constructor)&&n!==i&&D(r=n.prototype)&&r!==i.prototype&&pn(t,r),t},mn=ke("species"),gn=N.f,yn=At.f,vn=dt.set,_n=ke("match"),bn=m.RegExp,xn=bn.prototype,wn=/a/g,kn=/a/g,Sn=new bn(wn)!==wn,Tn=ie.UNSUPPORTED_Y;if(y&&Nt("RegExp",!Sn||Tn||g((function(){return kn[_n]=!1,bn(wn)!=wn||bn(kn)==kn||"/a/i"!=bn(wn,"i")})))){for(var Mn=function(t,e){var i,n=this instanceof Mn,r=Pe(t),a=void 0===e;if(!n&&r&&t.constructor===Mn&&a)return t;Sn?r&&!a&&(t=t.source):t instanceof Mn&&(a&&(e=te.call(t)),t=t.source),Tn&&(i=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var o=fn(Sn?new bn(t,e):bn(t,e),n?this:xn,Mn);return Tn&&i&&vn(o,{sticky:i}),o},Cn=function(t){t in Mn||gn(Mn,t,{configurable:!0,get:function(){return bn[t]},set:function(e){bn[t]=e}})},Dn=yn(bn),Ln=0;Dn.length>Ln;)Cn(Dn[Ln++]);xn.constructor=Mn,Mn.prototype=xn,ht(m,"RegExp",Mn)}!function(t){var e=mt("RegExp"),i=N.f;y&&e&&!e[mn]&&i(e,mn,{configurable:!0,get:function(){return this}})}();var An="toString",En=RegExp.prototype,Pn=En.toString,In=g((function(){return"/a/b"!=Pn.call({source:"a",flags:"b"})})),On=Pn.name!=An;(In||On)&&ht(RegExp.prototype,An,(function(){var t=F(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in En)?te.call(t):i)}),{unsafe:!0});var Rn={};Rn[ke("toStringTag")]="z";var zn="[object z]"===String(Rn),Yn=ke("toStringTag"),Fn="Arguments"==k(function(){return arguments}()),Hn=zn?k:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Yn))?i:Fn?k(e):"Object"==(n=k(e))&&"function"==typeof e.callee?"Arguments":n},Nn=zn?{}.toString:function(){return"[object "+Hn(this)+"]"};zn||ht(Object.prototype,"toString",Nn,{unsafe:!0});var Bn=li("slice"),jn=ke("species"),Vn=[].slice,Wn=Math.max;jt({target:"Array",proto:!0,forced:!Bn},{slice:function(t,e){var i,n,r,a=C(this),o=bt(a.length),s=kt(t,o),l=kt(void 0===e?o:e,o);if(ii(a)&&("function"!=typeof(i=a.constructor)||i!==Array&&!ii(i.prototype)?D(i)&&null===(i=i[jn])&&(i=void 0):i=void 0,i===Array||void 0===i))return Vn.call(a,s,l);for(n=new(void 0===i?Array:i)(Wn(l-s,0)),r=0;s<l;s++,r++)s in a&&ri(n,r,a[s]);return n.length=r,n}});var Un,$n,qn,Gn=!g((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Xn=nt("IE_PROTO"),Zn=Object.prototype,Jn=Gn?Object.getPrototypeOf:function(t){return t=ni(t),E(t,Xn)?t[Xn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Zn:null},Kn=ke("iterator"),Qn=!1;[].keys&&("next"in(qn=[].keys())?($n=Jn(Jn(qn)))!==Object.prototype&&(Un=$n):Qn=!0),(null==Un||g((function(){var t={};return Un[Kn].call(t)!==t})))&&(Un={}),E(Un,Kn)||B(Un,Kn,(function(){return this}));var tr={IteratorPrototype:Un,BUGGY_SAFARI_ITERATORS:Qn},er=N.f,ir=ke("toStringTag"),nr=function(t,e,i){t&&!E(t=i?t:t.prototype,ir)&&er(t,ir,{configurable:!0,value:e})},rr=tr.IteratorPrototype,ar=tr.IteratorPrototype,or=tr.BUGGY_SAFARI_ITERATORS,sr=ke("iterator"),lr="values",cr="entries",ur=function(){return this},dr="Array Iterator",hr=dt.set,pr=dt.getterFor(dr),fr=function(t,e,i,n,r,a,o){!function(t,e,i){t.prototype=Je(rr,{next:x(1,i)}),nr(t,"Array Iterator",!1)}(i,0,(function(){var t=pr(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}));var s,l,c,u=function(t){if(t===r&&f)return f;if(!or&&t in h)return h[t];switch(t){case"keys":case lr:case cr:return function(){return new i(this,t)}}return function(){return new i(this)}},d=!1,h=t.prototype,p=h[sr]||h["@@iterator"]||h[r],f=!or&&p||u(r),m=h.entries||p;if(m&&(s=Jn(m.call(new t)),ar!==Object.prototype&&s.next&&(Jn(s)!==ar&&(pn?pn(s,ar):"function"!=typeof s[sr]&&B(s,sr,ur)),nr(s,"Array Iterator",!0))),p&&p.name!==lr&&(d=!0,f=function(){return p.call(this)}),h[sr]!==f&&B(h,sr,f),void(l={values:u(lr),keys:u("keys"),entries:u(cr)}))for(c in l)(or||d||!(c in h))&&ht(h,c,l[c]);else jt({target:e,proto:!0,forced:or||d},l);return l}(Array,"Array",(function(t,e){hr(this,{type:dr,target:C(t),index:0,kind:e})}),0,"values");ti("keys"),ti("values"),ti("entries");var mr=ke("iterator"),gr=ke("toStringTag"),yr=fr.values;for(var vr in ki){var _r=m[vr],br=_r&&_r.prototype;if(br){if(br[mr]!==yr)try{B(br,mr,yr)}catch(t){br[mr]=yr}if(br[gr]||B(br,gr,vr),ki[vr])for(var xr in fr)if(br[xr]!==fr[xr])try{B(br,xr,fr[xr])}catch(t){br[xr]=fr[xr]}}}var wr=li("splice"),kr=Math.max,Sr=Math.min,Tr=9007199254740991,Mr="Maximum allowed length exceeded";jt({target:"Array",proto:!0,forced:!wr},{splice:function(t,e){var i,n,r,a,o,s,l=ni(this),c=bt(l.length),u=kt(t,c),d=arguments.length;if(0===d?i=n=0:1===d?(i=0,n=c-u):(i=d-2,n=Sr(kr(vt(e),0),c-u)),c+i-n>Tr)throw TypeError(Mr);for(r=oi(l,n),a=0;a<n;a++)(o=u+a)in l&&ri(r,a,l[o]);if(r.length=n,i<n){for(a=u;a<c-n;a++)s=a+i,(o=a+n)in l?l[s]=l[o]:delete l[s];for(a=c;a>c-n+i;a--)delete l[a-1]}else if(i>n)for(a=c-n;a>u;a--)s=a+i-1,(o=a+n-1)in l?l[s]=l[o]:delete l[s];for(a=0;a<i;a++)l[a+u]=arguments[a+2];return l.length=c-n+i,r}});var Cr=At.f,Dr=Y.f,Lr=N.f,Ar=Gt.trim,Er="Number",Pr=m.Number,Ir=Pr.prototype,Or=k(Je(Ir))==Er,Rr=function(t){var e,i,n,r,a,o,s,l,c=L(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=Ar(c)).charCodeAt(0))||45===e){if(88===(i=c.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((l=a.charCodeAt(s))<48||l>r)return NaN;return parseInt(a,n)}return+c};if(Nt(Er,!Pr(" 0o1")||!Pr("0b1")||Pr("+0x1"))){for(var zr,Yr=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof Yr&&(Or?g((function(){Ir.valueOf.call(i)})):k(i)!=Er)?fn(new Pr(Rr(e)),i,Yr):Rr(e)},Fr=y?Cr(Pr):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Hr=0;Fr.length>Hr;Hr++)E(Pr,zr=Fr[Hr])&&!E(Yr,zr)&&Lr(Yr,zr,Dr(Pr,zr));Yr.prototype=Ir,Ir.constructor=Yr,ht(m,Er,Yr)}var Nr=[].reverse,Br=[1,2];jt({target:"Array",proto:!0,forced:String(Br)===String(Br.reverse())},{reverse:function(){return ii(this)&&(this.length=this.length),Nr.call(this)}});var jr=4;try{var Vr=i.default.fn.dropdown.Constructor.VERSION;void 0!==Vr&&(jr=parseInt(Vr,10))}catch(t){}try{var Wr=bootstrap.Tooltip.VERSION;void 0!==Wr&&(jr=parseInt(Wr,10))}catch(t){}var Ur={3:{iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen",search:"glyphicon-search",clearSearch:"glyphicon-trash"},classes:{buttonsPrefix:"btn",buttons:"default",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"pull",inputGroup:"input-group",inputPrefix:"input-",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],toolbarDropdownItem:'<li class="dropdown-item-marker" role="menuitem"><label>%s</label></li>',toolbarDropdownSeparator:'<li class="divider"></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<span class="input-group-btn">%s</span></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},4:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},5:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{dataToggle:"data-bs-toggle",toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}}}[jr],$r={height:void 0,classes:"table table-bordered table-hover",buttons:{},theadClasses:"",headerStyle:function(t){return{}},rowStyle:function(t,e){return{}},rowAttributes:function(t,e){return{}},undefinedText:"-",locale:void 0,virtualScroll:!1,virtualScrollItemHeight:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortName:void 0,sortOrder:void 0,sortReset:!1,sortStable:!1,rememberOrder:!1,serverSort:!0,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},totalField:"total",totalNotFilteredField:"totalNotFiltered",dataField:"rows",footerField:"footer",pagination:!1,paginationParts:["pageInfo","pageSize","pageList"],showExtendedPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,totalNotFiltered:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchHighlight:!1,searchOnEnterKey:!1,strictSearch:!1,searchSelector:!1,visibleSearch:!1,showButtonIcons:!0,showButtonText:!1,showSearchButton:!1,showSearchClearButton:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:function(t){return{}},searchAccentNeutralise:!1,showColumns:!1,showColumnsToggleAll:!1,showColumnsSearch:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,filterOptions:{filterAlgorithm:"and"},idField:void 0,selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(t){var e=t.tagName;return["A","BUTTON"].includes(e)},singleSelect:!1,checkboxHeader:!0,maintainMetaData:!1,multipleSelectRow:!1,uniqueId:void 0,cardView:!1,detailView:!1,detailViewIcon:!0,detailViewByClick:!1,detailViewAlign:"left",detailFormatter:function(t,e){return""},detailFilter:function(t,e){return!0},toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsOrder:["paginationSwitch","refresh","toggle","fullscreen","columns"],buttonsPrefix:Ur.classes.buttonsPrefix,buttonsClass:Ur.classes.buttons,icons:Ur.icons,iconSize:void 0,iconsPrefix:Ur.iconsPrefix,loadingFontSize:"auto",loadingTemplate:function(t){return'<span class="loading-wrap">\n      <span class="loading-text">'.concat(t,'</span>\n      <span class="animation-wrap"><span class="animation-dot"></span></span>\n      </span>\n    ')},onAll:function(t,e){return!1},onClickCell:function(t,e,i,n){return!1},onDblClickCell:function(t,e,i,n){return!1},onClickRow:function(t,e){return!1},onDblClickRow:function(t,e){return!1},onSort:function(t,e){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,e){return!1},onPageChange:function(t,e){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onPostFooter:function(){return!1},onExpandRow:function(t,e,i){return!1},onCollapseRow:function(t,e){return!1},onRefreshOptions:function(t){return!1},onRefresh:function(t){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},qr={formatLoadingMessage:function(){return"Loading, please wait"},formatRecordsPerPage:function(t){return"".concat(t," rows per page")},formatShowingRows:function(t,e,i,n){return void 0!==n&&n>0&&n>i?"Showing ".concat(t," to ").concat(e," of ").concat(i," rows (filtered from ").concat(n," total rows)"):"Showing ".concat(t," to ").concat(e," of ").concat(i," rows")},formatSRPaginationPreText:function(){return"previous page"},formatSRPaginationPageText:function(t){return"to page ".concat(t)},formatSRPaginationNextText:function(){return"next page"},formatDetailPagination:function(t){return"Showing ".concat(t," rows")},formatSearch:function(){return"Search"},formatClearSearch:function(){return"Clear Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatPaginationSwitchDown:function(){return"Show pagination"},formatPaginationSwitchUp:function(){return"Hide pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatToggleOn:function(){return"Show card view"},formatToggleOff:function(){return"Hide card view"},formatColumns:function(){return"Columns"},formatColumnsToggleAll:function(){return"Toggle all"},formatFullscreen:function(){return"Fullscreen"},formatAllRows:function(){return"All"}};Object.assign($r,qr);var Gr={VERSION:"1.18.3",THEME:"bootstrap".concat(jr),CONSTANTS:Ur,DEFAULTS:$r,COLUMN_DEFAULTS:{field:void 0,title:void 0,titleTooltip:void 0,class:void 0,width:void 0,widthUnit:"px",rowspan:void 0,colspan:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,cellStyle:void 0,radio:!1,checkbox:!1,checkboxEnabled:!0,clickToSelect:!0,showSelectTitle:!1,sortable:!1,sortName:void 0,order:"asc",sorter:void 0,visible:!0,switchable:!0,cardVisible:!0,searchable:!0,formatter:void 0,footerFormatter:void 0,detailFormatter:void 0,searchFormatter:!0,searchHighlightFormatter:!1,escape:!1,events:void 0},METHODS:["getOptions","refreshOptions","getData","getSelections","load","append","prepend","remove","removeAll","insertRow","updateRow","getRowByUniqueId","updateByUniqueId","removeByUniqueId","updateCell","updateCellByUniqueId","showRow","hideRow","getHiddenRows","showColumn","hideColumn","getVisibleColumns","getHiddenColumns","showAllColumns","hideAllColumns","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","destroy","resetView","showLoading","hideLoading","togglePagination","toggleFullscreen","toggleView","resetSearch","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","toggleDetailView","expandRow","collapseRow","expandRowByUniqueId","collapseRowByUniqueId","expandAllRows","collapseAllRows","updateColumnTitle","updateFormatText"],EVENTS:{"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","post-footer.bs.table":"onPostFooter","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"},LOCALES:{en:qr,"en-US":qr}},Xr=g((function(){We(1)}));jt({target:"Object",stat:!0,forced:Xr},{keys:function(t){return We(ni(t))}});var Zr,Jr=Y.f,Kr="".startsWith,Qr=Math.min,ta=wi("startsWith"),ea=!(ta||(Zr=Jr(String.prototype,"startsWith"),!Zr||Zr.writable));jt({target:"String",proto:!0,forced:!ea&&!ta},{startsWith:function(t){var e=String(M(this));bi(t);var i=bt(Qr(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return Kr?Kr.call(e,n,i):e.slice(i,i+n.length)===n}});var ia=Y.f,na="".endsWith,ra=Math.min,aa=wi("endsWith"),oa=!aa&&!!function(){var t=ia(String.prototype,"endsWith");return t&&!t.writable}();jt({target:"String",proto:!0,forced:!oa&&!aa},{endsWith:function(t){var e=String(M(this));bi(t);var i=arguments.length>1?arguments[1]:void 0,n=bt(e.length),r=void 0===i?n:ra(bt(i),n),a=String(t);return na?na.call(e,a,r):e.slice(r-a.length,r)===a}});var sa={getSearchInput:function(t){return"string"==typeof t.options.searchSelector?i.default(t.options.searchSelector):t.$toolbar.find(".search input")},sprintf:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=!0,a=0,o=t.replace(/%s/g,(function(){var t=i[a++];return void 0===t?(r=!1,""):t}));return r?o:""},isObject:function(t){return t instanceof Object&&!Array.isArray(t)},isEmptyObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.entries(t).length&&t.constructor===Object},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getFieldTitle:function(t,e){var i,n=d(t);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(r.field===e)return r.title}}catch(t){n.e(t)}finally{n.f()}return""},setFieldIndex:function(t){var e,i=0,n=[],r=d(t[0]);try{for(r.s();!(e=r.n()).done;)i+=e.value.colspan||1}catch(t){r.e(t)}finally{r.f()}for(var a=0;a<t.length;a++){n[a]=[];for(var o=0;o<i;o++)n[a][o]=!1}for(var s=0;s<t.length;s++){var l,c=d(t[s]);try{for(c.s();!(l=c.n()).done;){var u=l.value,h=u.rowspan||1,p=u.colspan||1,f=n[s].indexOf(!1);u.colspanIndex=f,1===p?(u.fieldIndex=f,void 0===u.field&&(u.field=f)):u.colspanGroup=u.colspan;for(var m=0;m<h;m++)for(var g=0;g<p;g++)n[s+m][f+g]=!0}}catch(t){c.e(t)}finally{c.f()}}},normalizeAccent:function(t){return"string"!=typeof t?t:t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},updateFieldGroup:function(t){var e,i,n=(e=[]).concat.apply(e,l(t)),r=d(t);try{for(r.s();!(i=r.n()).done;){var a,o=d(i.value);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.colspanGroup>1){for(var c=0,u=function(t){n.find((function(e){return e.fieldIndex===t})).visible&&c++},h=s.colspanIndex;h<s.colspanIndex+s.colspanGroup;h++)u(h);s.colspan=c,s.visible=c>0}}}catch(t){o.e(t)}finally{o.f()}}}catch(t){r.e(t)}finally{r.f()}},getScrollBarWidth:function(){if(void 0===this.cachedWidth){var t=i.default("<div/>").addClass("fixed-table-scroll-inner"),e=i.default("<div/>").addClass("fixed-table-scroll-outer");e.append(t),i.default("body").append(e);var n=t[0].offsetWidth;e.css("overflow","scroll");var r=t[0].offsetWidth;n===r&&(r=e[0].clientWidth),e.remove(),this.cachedWidth=n-r}return this.cachedWidth},calculateObjectValue:function(t,e,i,r){var a=e;if("string"==typeof e){var o=e.split(".");if(o.length>1){a=window;var s,c=d(o);try{for(c.s();!(s=c.n()).done;)a=a[s.value]}catch(t){c.e(t)}finally{c.f()}}else a=window[e]}return null!==a&&"object"===n(a)?a:"function"==typeof a?a.apply(t,i||[]):!a&&"string"==typeof e&&this.sprintf.apply(this,[e].concat(l(i)))?this.sprintf.apply(this,[e].concat(l(i))):r},compareObjects:function(t,e,i){var n=Object.keys(t),r=Object.keys(e);if(i&&n.length!==r.length)return!1;for(var a=0,o=n;a<o.length;a++){var s=o[a];if(r.includes(s)&&t[s]!==e[s])return!1}return!0},escapeHTML:function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):t},unescapeHTML:function(t){return"string"==typeof t?t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&#x60;/g,"`"):t},getRealDataAttr:function(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var n=s(i[e],2),r=n[0],a=n[1],o=r.split(/(?=[A-Z])/).join("-").toLowerCase();o!==r&&(t[o]=a,delete t[r])}return t},getItemField:function(t,e,i){var n=t;if("string"!=typeof e||t.hasOwnProperty(e))return i?this.escapeHTML(t[e]):t[e];var r,a=d(e.split("."));try{for(a.s();!(r=a.n()).done;){var o=r.value;n=n&&n[o]}}catch(t){a.e(t)}finally{a.f()}return i?this.escapeHTML(n):n},isIEBrowser:function(){return navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(t,e){var i,n=d(t);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(JSON.stringify(r)===JSON.stringify(e))return t.indexOf(r)}}catch(t){n.e(t)}finally{n.f()}return-1},trToData:function(t,e){var n=this,r=[],a=[];return e.each((function(e,o){var s=i.default(o),l={};l._id=s.attr("id"),l._class=s.attr("class"),l._data=n.getRealDataAttr(s.data()),l._style=s.attr("style"),s.find(">td,>th").each((function(r,o){for(var s=i.default(o),c=+s.attr("colspan")||1,u=+s.attr("rowspan")||1,d=r;a[e]&&a[e][d];d++);for(var h=d;h<d+c;h++)for(var p=e;p<e+u;p++)a[p]||(a[p]=[]),a[p][h]=!0;var f=t[d].field;l[f]=s.html().trim(),l["_".concat(f,"_id")]=s.attr("id"),l["_".concat(f,"_class")]=s.attr("class"),l["_".concat(f,"_rowspan")]=s.attr("rowspan"),l["_".concat(f,"_colspan")]=s.attr("colspan"),l["_".concat(f,"_title")]=s.attr("title"),l["_".concat(f,"_data")]=n.getRealDataAttr(s.data()),l["_".concat(f,"_style")]=s.attr("style")})),r.push(l)})),r},sort:function(t,e,i,n,r,a){return null==t&&(t=""),null==e&&(e=""),n&&t===e&&(t=r,e=a),this.isNumeric(t)&&this.isNumeric(e)?(t=parseFloat(t))<(e=parseFloat(e))?-1*i:t>e?i:0:t===e?0:("string"!=typeof t&&(t=t.toString()),-1===t.localeCompare(e)?-1*i:i)},getEventName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=e||"".concat(+new Date).concat(~~(1e6*Math.random())),"".concat(t,"-").concat(e)},hasDetailViewIcon:function(t){return t.detailView&&t.detailViewIcon&&!t.cardView},getDetailViewIndexOffset:function(t){return this.hasDetailViewIcon(t)&&"right"!==t.detailViewAlign?1:0},checkAutoMergeCells:function(t){var e,i=d(t);try{for(i.s();!(e=i.n()).done;)for(var n=e.value,r=0,a=Object.keys(n);r<a.length;r++){var o=a[r];if(o.startsWith("_")&&(o.endsWith("_rowspan")||o.endsWith("_colspan")))return!0}}catch(t){i.e(t)}finally{i.f()}return!1},deepCopy:function(t){return void 0===t?t:i.default.extend(!0,Array.isArray(t)?[]:{},t)}},la=function(){function t(e){var i=this;r(this,t),this.rows=e.rows,this.scrollEl=e.scrollEl,this.contentEl=e.contentEl,this.callback=e.callback,this.itemHeight=e.itemHeight,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows,e.fixedScroll),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;var n=function(){i.lastCluster!==(i.lastCluster=i.getNum())&&(i.initDOM(i.rows),i.callback())};this.scrollEl.addEventListener("scroll",n,!1),this.destroy=function(){i.contentEl.innerHtml="",i.scrollEl.removeEventListener("scroll",n,!1)}}return o(t,[{key:"initDOM",value:function(t,e){void 0===this.clusterHeight&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=t[0]+t[0]+t[0],this.getRowsHeight(t));var i=this.initData(t,this.getNum(e)),n=i.rows.join(""),r=this.checkChanges("data",n),a=this.checkChanges("top",i.topOffset),o=this.checkChanges("bottom",i.bottomOffset),s=[];r&&a?(i.topOffset&&s.push(this.getExtra("top",i.topOffset)),s.push(n),i.bottomOffset&&s.push(this.getExtra("bottom",i.bottomOffset)),this.contentEl.innerHTML=s.join(""),e&&(this.contentEl.scrollTop=this.cache.scrollTop)):o&&(this.contentEl.lastChild.style.height="".concat(i.bottomOffset,"px"))}},{key:"getRowsHeight",value:function(){if(void 0===this.itemHeight){var t=this.contentEl.children,e=t[Math.floor(t.length/2)];this.itemHeight=e.offsetHeight}this.blockHeight=50*this.itemHeight,this.clusterRows=200,this.clusterHeight=4*this.blockHeight}},{key:"getNum",value:function(t){return this.scrollTop=t?this.cache.scrollTop:this.scrollEl.scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}},{key:"initData",value:function(t,e){if(t.length<50)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:t};var i=Math.max((this.clusterRows-50)*e,0),n=i+this.clusterRows,r=Math.max(i*this.itemHeight,0),a=Math.max((t.length-n)*this.itemHeight,0),o=[],s=i;r<1&&s++;for(var l=i;l<n;l++)t[l]&&o.push(t[l]);return{topOffset:r,bottomOffset:a,rowsAbove:s,rows:o}}},{key:"checkChanges",value:function(t,e){var i=e!==this.cache[t];return this.cache[t]=e,i}},{key:"getExtra",value:function(t,e){var i=document.createElement("tr");return i.className="virtual-scroll-".concat(t),e&&(i.style.height="".concat(e,"px")),i.outerHTML}}]),t}(),ca=function(){function t(e,n){r(this,t),this.options=n,this.$el=i.default(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0}return o(t,[{key:"init",value:function(){this.initConstants(),this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:"initConstants",value:function(){var t=this.options;this.constants=Gr.CONSTANTS,this.constants.theme=i.default.fn.bootstrapTable.theme,this.constants.dataToggle=this.constants.html.dataToggle||"data-toggle";var e=t.buttonsPrefix?"".concat(t.buttonsPrefix,"-"):"";this.constants.buttonsClass=[t.buttonsPrefix,e+t.buttonsClass,sa.sprintf("".concat(e,"%s"),t.iconSize)].join(" ").trim(),this.buttons=sa.calculateObjectValue(this,t.buttons,[],{}),"object"!==n(this.buttons)&&(this.buttons={}),"string"==typeof t.icons&&(t.icons=sa.calculateObjectValue(null,t.icons))}},{key:"initLocale",value:function(){if(this.options.locale){var t=i.default.fn.bootstrapTable.locales,e=this.options.locale.split(/-|_/);e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),t[this.options.locale]?i.default.extend(this.options,t[this.options.locale]):t[e.join("-")]?i.default.extend(this.options,t[e.join("-")]):t[e[0]]&&i.default.extend(this.options,t[e[0]])}}},{key:"initContainer",value:function(){var t=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",e=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"",n=sa.calculateObjectValue(this.options,this.options.loadingTemplate,[this.options.formatLoadingMessage()]);this.$container=i.default('\n      <div class="bootstrap-table '.concat(this.constants.theme,'">\n      <div class="fixed-table-toolbar"></div>\n      ').concat(t,'\n      <div class="fixed-table-container">\n      <div class="fixed-table-header"><table></table></div>\n      <div class="fixed-table-body">\n      <div class="fixed-table-loading">\n      ').concat(n,'\n      </div>\n      </div>\n      <div class="fixed-table-footer"></div>\n      </div>\n      ').concat(e,"\n      </div>\n    ")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$el.find("tfoot"),this.options.buttonsToolbar?this.$toolbar=i.default("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.$tableLoading.addClass(this.options.classes),this.options.height&&(this.$tableContainer.addClass("fixed-height"),this.options.showFooter&&this.$tableContainer.addClass("has-footer"),this.options.classes.split(" ").includes("table-bordered")&&(this.$tableBody.append('<div class="fixed-table-border"></div>'),this.$tableBorder=this.$tableBody.find(".fixed-table-border"),this.$tableLoading.addClass("fixed-table-border")),this.$tableFooter=this.$container.find(".fixed-table-footer"))}},{key:"initTable",value:function(){var e=this,n=[];if(this.$header=this.$el.find(">thead"),this.$header.length?this.options.theadClasses&&this.$header.addClass(this.options.theadClasses):this.$header=i.default('<thead class="'.concat(this.options.theadClasses,'"></thead>')).appendTo(this.$el),this._headerTrClasses=[],this._headerTrStyles=[],this.$header.find("tr").each((function(t,r){var a=i.default(r),o=[];a.find("th").each((function(t,e){var n=i.default(e);void 0!==n.data("field")&&n.data("field","".concat(n.data("field"))),o.push(i.default.extend({},{title:n.html(),class:n.attr("class"),titleTooltip:n.attr("title"),rowspan:n.attr("rowspan")?+n.attr("rowspan"):void 0,colspan:n.attr("colspan")?+n.attr("colspan"):void 0},n.data()))})),n.push(o),a.attr("class")&&e._headerTrClasses.push(a.attr("class")),a.attr("style")&&e._headerTrStyles.push(a.attr("style"))})),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=i.default.extend(!0,[],n,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],sa.setFieldIndex(this.options.columns),this.options.columns.forEach((function(n,r){n.forEach((function(n,a){var o=i.default.extend({},t.COLUMN_DEFAULTS,n);void 0!==o.fieldIndex&&(e.columns[o.fieldIndex]=o,e.fieldsColumnsIndex[o.field]=o.fieldIndex),e.options.columns[r][a]=o}))})),!this.options.data.length){var r=sa.trToData(this.columns,this.$el.find(">tbody>tr"));r.length&&(this.options.data=r,this.fromHtml=!0)}this.options.pagination&&"server"!==this.options.sidePagination||(this.footerData=sa.trToData(this.columns,this.$el.find(">tfoot>tr"))),this.footerData&&this.$el.find("tfoot").html("<tr></tr>"),!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:"initHeader",value:function(){var t=this,e={},n=[];this.header={fields:[],styles:[],classes:[],formatters:[],detailFormatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},sa.updateFieldGroup(this.options.columns),this.options.columns.forEach((function(i,r){var a=[];a.push("<tr".concat(sa.sprintf(' class="%s"',t._headerTrClasses[r])," ").concat(sa.sprintf(' style="%s"',t._headerTrStyles[r]),">"));var o="";if(0===r&&sa.hasDetailViewIcon(t.options)){var l=t.options.columns.length>1?' rowspan="'.concat(t.options.columns.length,'"'):"";o='<th class="detail"'.concat(l,'>\n          <div class="fht-cell"></div>\n          </th>')}o&&"right"!==t.options.detailViewAlign&&a.push(o),i.forEach((function(i,n){var o=sa.sprintf(' class="%s"',i.class),l=i.widthUnit,c=parseFloat(i.width),u=sa.sprintf("text-align: %s; ",i.halign?i.halign:i.align),d=sa.sprintf("text-align: %s; ",i.align),h=sa.sprintf("vertical-align: %s; ",i.valign);if(h+=sa.sprintf("width: %s; ",!i.checkbox&&!i.radio||c?c?c+l:void 0:i.showSelectTitle?void 0:"36px"),void 0!==i.fieldIndex||i.visible){var p=sa.calculateObjectValue(null,t.options.headerStyle,[i]),f=[],m="";if(p&&p.css)for(var g=0,y=Object.entries(p.css);g<y.length;g++){var v=s(y[g],2),_=v[0],b=v[1];f.push("".concat(_,": ").concat(b))}if(p&&p.classes&&(m=sa.sprintf(' class="%s"',i.class?[i.class,p.classes].join(" "):p.classes)),void 0!==i.fieldIndex){if(t.header.fields[i.fieldIndex]=i.field,t.header.styles[i.fieldIndex]=d+h,t.header.classes[i.fieldIndex]=o,t.header.formatters[i.fieldIndex]=i.formatter,t.header.detailFormatters[i.fieldIndex]=i.detailFormatter,t.header.events[i.fieldIndex]=i.events,t.header.sorters[i.fieldIndex]=i.sorter,t.header.sortNames[i.fieldIndex]=i.sortName,t.header.cellStyles[i.fieldIndex]=i.cellStyle,t.header.searchables[i.fieldIndex]=i.searchable,!i.visible)return;if(t.options.cardView&&!i.cardVisible)return;e[i.field]=i}a.push("<th".concat(sa.sprintf(' title="%s"',i.titleTooltip)),i.checkbox||i.radio?sa.sprintf(' class="bs-checkbox %s"',i.class||""):m||o,sa.sprintf(' style="%s"',u+h+f.join("; ")),sa.sprintf(' rowspan="%s"',i.rowspan),sa.sprintf(' colspan="%s"',i.colspan),sa.sprintf(' data-field="%s"',i.field),0===n&&r>0?" data-not-first-th":"",">"),a.push(sa.sprintf('<div class="th-inner %s">',t.options.sortable&&i.sortable?"sortable both":""));var x=t.options.escape?sa.escapeHTML(i.title):i.title,w=x;i.checkbox&&(x="",!t.options.singleSelect&&t.options.checkboxHeader&&(x='<label><input name="btSelectAll" type="checkbox" /><span></span></label>'),t.header.stateField=i.field),i.radio&&(x="",t.header.stateField=i.field),!x&&i.showSelectTitle&&(x+=w),a.push(x),a.push("</div>"),a.push('<div class="fht-cell"></div>'),a.push("</div>"),a.push("</th>")}})),o&&"right"===t.options.detailViewAlign&&a.push(o),a.push("</tr>"),a.length>3&&n.push(a.join(""))})),this.$header.html(n.join("")),this.$header.find("th[data-field]").each((function(t,n){i.default(n).data(e[i.default(n).data("field")])})),this.$container.off("click",".th-inner").on("click",".th-inner",(function(e){var n=i.default(e.currentTarget);if(t.options.detailView&&!n.parent().hasClass("bs-checkbox")&&n.closest(".bootstrap-table")[0]!==t.$container[0])return!1;t.options.sortable&&n.parent().data().sortable&&t.onSort(e)})),this.$header.children().children().off("keypress").on("keypress",(function(e){t.options.sortable&&i.default(e.currentTarget).data().sortable&&13===(e.keyCode||e.which)&&t.onSort(e)}));var r=sa.getEventName("resize.bootstrap-table",this.$el.attr("id"));i.default(window).off(r),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),i.default(window).on(r,(function(){return t.resetView()}))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",(function(e){e.stopPropagation();var n=i.default(e.currentTarget).prop("checked");t[n?"checkAll":"uncheckAll"](),t.updateSelected()}))}},{key:"initData",value:function(t,e){"append"===e?this.options.data=this.options.data.concat(t):"prepend"===e?this.options.data=[].concat(t).concat(this.options.data):(t=t||sa.deepCopy(this.options.data),this.options.data=Array.isArray(t)?t:t[this.options.dataField]),this.data=l(this.options.data),this.options.sortReset&&(this.unsortedData=l(this.data)),"server"!==this.options.sidePagination&&this.initSort()}},{key:"initSort",value:function(){var t=this,e=this.options.sortName,i="desc"===this.options.sortOrder?-1:1,n=this.header.fields.indexOf(this.options.sortName),r=0;-1!==n?(this.options.sortStable&&this.data.forEach((function(t,e){t.hasOwnProperty("_position")||(t._position=e)})),this.options.customSort?sa.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data]):this.data.sort((function(r,a){t.header.sortNames[n]&&(e=t.header.sortNames[n]);var o=sa.getItemField(r,e,t.options.escape),s=sa.getItemField(a,e,t.options.escape),l=sa.calculateObjectValue(t.header,t.header.sorters[n],[o,s,r,a]);return void 0!==l?t.options.sortStable&&0===l?i*(r._position-a._position):i*l:sa.sort(o,s,i,t.options.sortStable,r._position,a._position)})),void 0!==this.options.sortClass&&(clearTimeout(r),r=setTimeout((function(){t.$el.removeClass(t.options.sortClass);var e=t.$header.find('[data-field="'.concat(t.options.sortName,'"]')).index();t.$el.find("tr td:nth-child(".concat(e+1,")")).addClass(t.options.sortClass)}),250))):this.options.sortReset&&(this.data=l(this.unsortedData))}},{key:"onSort",value:function(t){var e=t.type,n=t.currentTarget,r="keypress"===e?i.default(n):i.default(n).parent(),a=this.$header.find("th").eq(r.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===r.data("field")){var o=this.options.sortOrder;void 0===o?this.options.sortOrder="asc":"asc"===o?this.options.sortOrder="desc":"desc"===this.options.sortOrder&&(this.options.sortOrder=this.options.sortReset?void 0:"asc"),void 0===this.options.sortOrder&&(this.options.sortName=void 0)}else this.options.sortName=r.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===r.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[r.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[r.data("field")]].order;if(this.trigger("sort",this.options.sortName,this.options.sortOrder),r.add(a).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination&&this.options.serverSort)return this.options.pageNumber=1,void this.initServer(this.options.silentSort);this.initSort(),this.initBody()}},{key:"initToolbar",value:function(){var t,e=this,r=this.options,a=[],o=0,l=0;this.$toolbar.find(".bs-bars").children().length&&i.default("body").append(i.default(r.toolbar)),this.$toolbar.html(""),"string"!=typeof r.toolbar&&"object"!==n(r.toolbar)||i.default(sa.sprintf('<div class="bs-bars %s-%s"></div>',this.constants.classes.pull,r.toolbarAlign)).appendTo(this.$toolbar).append(i.default(r.toolbar)),a=['<div class="'.concat(["columns","columns-".concat(r.buttonsAlign),this.constants.classes.buttonsGroup,"".concat(this.constants.classes.pull,"-").concat(r.buttonsAlign)].join(" "),'">')],"string"==typeof r.buttonsOrder&&(r.buttonsOrder=r.buttonsOrder.replace(/\[|\]| |'/g,"").split(",")),this.buttons=Object.assign(this.buttons,{paginationSwitch:{text:r.pagination?r.formatPaginationSwitchUp():r.formatPaginationSwitchDown(),icon:r.pagination?r.icons.paginationSwitchDown:r.icons.paginationSwitchUp,render:!1,event:this.togglePagination,attributes:{"aria-label":r.formatPaginationSwitch(),title:r.formatPaginationSwitch()}},refresh:{text:r.formatRefresh(),icon:r.icons.refresh,render:!1,event:this.refresh,attributes:{"aria-label":r.formatRefresh(),title:r.formatRefresh()}},toggle:{text:r.formatToggle(),icon:r.icons.toggleOff,render:!1,event:this.toggleView,attributes:{"aria-label":r.formatToggleOn(),title:r.formatToggleOn()}},fullscreen:{text:r.formatFullscreen(),icon:r.icons.fullscreen,render:!1,event:this.toggleFullscreen,attributes:{"aria-label":r.formatFullscreen(),title:r.formatFullscreen()}},columns:{render:!1,html:function(){var t=[];if(t.push('<div class="keep-open '.concat(e.constants.classes.buttonsDropdown,'" title="').concat(r.formatColumns(),'">\n            <button class="').concat(e.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(e.constants.dataToggle,'="dropdown"\n            aria-label="Columns" title="').concat(r.formatColumns(),'">\n            ').concat(r.showButtonIcons?sa.sprintf(e.constants.html.icon,r.iconsPrefix,r.icons.columns):"","\n            ").concat(r.showButtonText?r.formatColumns():"","\n            ").concat(e.constants.html.dropdownCaret,"\n            </button>\n            ").concat(e.constants.html.toolbarDropdown[0])),r.showColumnsSearch&&(t.push(sa.sprintf(e.constants.html.toolbarDropdownItem,sa.sprintf('<input type="text" class="%s" name="columnsSearch" placeholder="%s" autocomplete="off">',e.constants.classes.input,r.formatSearch()))),t.push(e.constants.html.toolbarDropdownSeparator)),r.showColumnsToggleAll){var i=e.getVisibleColumns().length===e.columns.filter((function(t){return!e.isSelectionColumn(t)})).length;t.push(sa.sprintf(e.constants.html.toolbarDropdownItem,sa.sprintf('<input type="checkbox" class="toggle-all" %s> <span>%s</span>',i?'checked="checked"':"",r.formatColumnsToggleAll()))),t.push(e.constants.html.toolbarDropdownSeparator)}var n=0;return e.columns.forEach((function(t){t.visible&&n++})),e.columns.forEach((function(i,a){if(!e.isSelectionColumn(i)&&(!r.cardView||i.cardVisible)){var o=i.visible?' checked="checked"':"",s=n<=r.minimumCountColumns&&o?' disabled="disabled"':"";i.switchable&&(t.push(sa.sprintf(e.constants.html.toolbarDropdownItem,sa.sprintf('<input type="checkbox" data-field="%s" value="%s"%s%s> <span>%s</span>',i.field,a,o,s,i.title))),l++)}})),t.push(e.constants.html.toolbarDropdown[1],"</div>"),t.join("")}}});for(var c={},u=0,h=Object.entries(this.buttons);u<h.length;u++){var p=s(h[u],2),f=p[0],m=p[1],g=void 0;if(m.hasOwnProperty("html"))"function"==typeof m.html?g=m.html():"string"==typeof m.html&&(g=m.html);else{if(g='<button class="'.concat(this.constants.buttonsClass,'" type="button" name="').concat(f,'"'),m.hasOwnProperty("attributes"))for(var y=0,v=Object.entries(m.attributes);y<v.length;y++){var _=s(v[y],2),b=_[0],x=_[1];g+=" ".concat(b,'="').concat(x,'"')}g+=">",r.showButtonIcons&&m.hasOwnProperty("icon")&&(g+="".concat(sa.sprintf(this.constants.html.icon,r.iconsPrefix,m.icon)," ")),r.showButtonText&&m.hasOwnProperty("text")&&(g+=m.text),g+="</button>"}c[f]=g;var w="show".concat(f.charAt(0).toUpperCase()).concat(f.substring(1)),k=r[w];!(!m.hasOwnProperty("render")||m.hasOwnProperty("render")&&m.render)||void 0!==k&&!0!==k||(r[w]=!0),r.buttonsOrder.includes(f)||r.buttonsOrder.push(f)}var S,T=d(r.buttonsOrder);try{for(T.s();!(S=T.n()).done;){var M=S.value;r["show".concat(M.charAt(0).toUpperCase()).concat(M.substring(1))]&&a.push(c[M])}}catch(t){T.e(t)}finally{T.f()}a.push("</div>"),(this.showToolbar||a.length>2)&&this.$toolbar.append(a.join(""));for(var C=0,D=Object.entries(this.buttons);C<D.length;C++){var L=s(D[C],2),A=L[0],E=L[1];if(E.hasOwnProperty("event")){if(("function"==typeof E.event||"string"==typeof E.event)&&"continue"===function(){var t="string"==typeof E.event?window[E.event]:E.event;return e.$toolbar.find('button[name="'.concat(A,'"]')).off("click").on("click",(function(){return t.call(e)})),"continue"}())continue;for(var P=function(){var t=s(O[I],2),i=t[0],n=t[1],r="string"==typeof n?window[n]:n;e.$toolbar.find('button[name="'.concat(A,'"]')).off(i).on(i,(function(){return r.call(e)}))},I=0,O=Object.entries(E.event);I<O.length;I++)P()}}if(r.showColumns){var R=(t=this.$toolbar.find(".keep-open")).find('input[type="checkbox"]:not(".toggle-all")'),z=t.find('input[type="checkbox"].toggle-all');if(l<=r.minimumCountColumns&&t.find("input").prop("disabled",!0),t.find("li, label").off("click").on("click",(function(t){t.stopImmediatePropagation()})),R.off("click").on("click",(function(t){var n=t.currentTarget,r=i.default(n);e._toggleColumn(r.val(),r.prop("checked"),!1),e.trigger("column-switch",r.data("field"),r.prop("checked")),z.prop("checked",R.filter(":checked").length===e.columns.filter((function(t){return!e.isSelectionColumn(t)})).length)})),z.off("click").on("click",(function(t){var n=t.currentTarget;e._toggleAllColumns(i.default(n).prop("checked"))})),r.showColumnsSearch){var Y=t.find('[name="columnsSearch"]'),F=t.find(".dropdown-item-marker");Y.on("keyup paste change",(function(t){var e=t.currentTarget,n=i.default(e).val().toLowerCase();F.show(),R.each((function(t,e){var r=i.default(e).parents(".dropdown-item-marker");r.text().toLowerCase().includes(n)||r.hide()}))}))}}var H=function(t){var i="keyup drop blur mouseup";t.off(i).on(i,(function(t){r.searchOnEnterKey&&13!==t.keyCode||[37,38,39,40].includes(t.keyCode)||(clearTimeout(o),o=setTimeout((function(){e.onSearch({currentTarget:t.currentTarget})}),r.searchTimeOut))}))};if((r.search||this.showSearchClearButton)&&"string"!=typeof r.searchSelector){a=[];var N=sa.sprintf(this.constants.html.searchButton,this.constants.buttonsClass,r.formatSearch(),r.showButtonIcons?sa.sprintf(this.constants.html.icon,r.iconsPrefix,r.icons.search):"",r.showButtonText?r.formatSearch():""),B=sa.sprintf(this.constants.html.searchClearButton,this.constants.buttonsClass,r.formatClearSearch(),r.showButtonIcons?sa.sprintf(this.constants.html.icon,r.iconsPrefix,r.icons.clearSearch):"",r.showButtonText?r.formatClearSearch():""),j='<input class="'.concat(this.constants.classes.input,"\n        ").concat(sa.sprintf(" %s%s",this.constants.classes.inputPrefix,r.iconSize),'\n        search-input" type="search" placeholder="').concat(r.formatSearch(),'" autocomplete="off">'),V=j;if(r.showSearchButton||r.showSearchClearButton){var W=(r.showSearchButton?N:"")+(r.showSearchClearButton?B:"");V=r.search?sa.sprintf(this.constants.html.inputGroup,j,W):W}a.push(sa.sprintf('\n        <div class="'.concat(this.constants.classes.pull,"-").concat(r.searchAlign," search ").concat(this.constants.classes.inputGroup,'">\n          %s\n        </div>\n      '),V)),this.$toolbar.append(a.join(""));var U=sa.getSearchInput(this);r.showSearchButton?(this.$toolbar.find(".search button[name=search]").off("click").on("click",(function(){clearTimeout(o),o=setTimeout((function(){e.onSearch({currentTarget:U})}),r.searchTimeOut)})),r.searchOnEnterKey&&H(U)):H(U),r.showSearchClearButton&&this.$toolbar.find(".search button[name=clearSearch]").click((function(){e.resetSearch()}))}else"string"==typeof r.searchSelector&&H(sa.getSearchInput(this))}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.currentTarget,n=t.firedByInitSearchText,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e&&i.default(e).length&&r){var a=i.default(e).val().trim();if(this.options.trimOnSearch&&i.default(e).val()!==a&&i.default(e).val(a),this.searchText===a)return;(e===sa.getSearchInput(this)[0]||i.default(e).hasClass("search-input"))&&(this.searchText=a,this.options.searchText=a)}n||(this.options.pageNumber=1),this.initSearch(),n?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",this.searchText)}},{key:"initSearch",value:function(){var t=this;if(this.filterOptions=this.filterOptions||this.options.filterOptions,"server"!==this.options.sidePagination){if(this.options.customSearch)return this.data=sa.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText,this.filterColumns]),void(this.options.sortReset&&(this.unsortedData=l(this.data)));var e=this.searchText&&(this.fromHtml?sa.escapeHTML(this.searchText):this.searchText).toLowerCase(),i=sa.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.options.searchAccentNeutralise&&(e=sa.normalizeAccent(e)),"function"==typeof this.filterOptions.filterAlgorithm?this.data=this.options.data.filter((function(e){return t.filterOptions.filterAlgorithm.apply(null,[e,i])})):"string"==typeof this.filterOptions.filterAlgorithm&&(this.data=i?this.options.data.filter((function(e){var n=t.filterOptions.filterAlgorithm;if("and"===n){for(var r in i)if(Array.isArray(i[r])&&!i[r].includes(e[r])||!Array.isArray(i[r])&&e[r]!==i[r])return!1}else if("or"===n){var a=!1;for(var o in i)(Array.isArray(i[o])&&i[o].includes(e[o])||!Array.isArray(i[o])&&e[o]===i[o])&&(a=!0);return a}return!0})):l(this.options.data));var n=this.getVisibleFields();this.data=e?this.data.filter((function(i,r){for(var a=0;a<t.header.fields.length;a++)if(t.header.searchables[a]&&(!t.options.visibleSearch||-1!==n.indexOf(t.header.fields[a]))){var o=sa.isNumeric(t.header.fields[a])?parseInt(t.header.fields[a],10):t.header.fields[a],s=t.columns[t.fieldsColumnsIndex[o]],l=void 0;if("string"==typeof o){l=i;for(var c=o.split("."),u=0;u<c.length;u++)null!==l[c[u]]&&(l=l[c[u]])}else l=i[o];if(t.options.searchAccentNeutralise&&(l=sa.normalizeAccent(l)),s&&s.searchFormatter&&(l=sa.calculateObjectValue(s,t.header.formatters[a],[l,i,r,s.field],l)),"string"==typeof l||"number"==typeof l)if(t.options.strictSearch){if("".concat(l).toLowerCase()===e)return!0}else{var d=/(?:(<=|=>|=<|>=|>|<)(?:\s+)?(-?\d+)?|(-?\d+)?(\s+)?(<=|=>|=<|>=|>|<))/gm.exec(t.searchText),h=!1;if(d){var p=d[1]||"".concat(d[5],"l"),f=d[2]||d[3],m=parseInt(l,10),g=parseInt(f,10);switch(p){case">":case"<l":h=m>g;break;case"<":case">l":h=m<g;break;case"<=":case"=<":case">=l":case"=>l":h=m<=g;break;case">=":case"=>":case"<=l":case"=<l":h=m>=g}}if(h||"".concat(l).toLowerCase().includes(e))return!0}}return!1})):this.data,this.options.sortReset&&(this.unsortedData=l(this.data)),this.initSort()}}},{key:"initPagination",value:function(){var t=this,e=this.options;if(e.pagination){this.$pagination.show();var i,n,r,a,o,s,l,c=[],u=!1,d=this.getData({includeHiddenRows:!1}),h=e.pageList;if("string"==typeof h&&(h=h.replace(/\[|\]| /g,"").toLowerCase().split(",")),h=h.map((function(t){return"string"==typeof t?t.toLowerCase()===e.formatAllRows().toLowerCase()||["all","unlimited"].includes(t.toLowerCase())?e.formatAllRows():+t:t})),this.paginationParts=e.paginationParts,"string"==typeof this.paginationParts&&(this.paginationParts=this.paginationParts.replace(/\[|\]| |'/g,"").split(",")),"server"!==e.sidePagination&&(e.totalRows=d.length),this.totalPages=0,e.totalRows&&(e.pageSize===e.formatAllRows()&&(e.pageSize=e.totalRows,u=!0),this.totalPages=1+~~((e.totalRows-1)/e.pageSize),e.totalPages=this.totalPages),this.totalPages>0&&e.pageNumber>this.totalPages&&(e.pageNumber=this.totalPages),this.pageFrom=(e.pageNumber-1)*e.pageSize+1,this.pageTo=e.pageNumber*e.pageSize,this.pageTo>e.totalRows&&(this.pageTo=e.totalRows),this.options.pagination&&"server"!==this.options.sidePagination&&(this.options.totalNotFiltered=this.options.data.length),this.options.showExtendedPagination||(this.options.totalNotFiltered=void 0),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&c.push('<div class="'.concat(this.constants.classes.pull,"-").concat(e.paginationDetailHAlign,' pagination-detail">')),this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")){var p=this.paginationParts.includes("pageInfoShort")?e.formatDetailPagination(e.totalRows):e.formatShowingRows(this.pageFrom,this.pageTo,e.totalRows,e.totalNotFiltered);c.push('<span class="pagination-info">\n      '.concat(p,"\n      </span>"))}if(this.paginationParts.includes("pageSize")){c.push('<div class="page-list">');var f=['<div class="'.concat(this.constants.classes.paginationDropdown,'">\n        <button class="').concat(this.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(this.constants.dataToggle,'="dropdown">\n        <span class="page-size">\n        ').concat(u?e.formatAllRows():e.pageSize,"\n        </span>\n        ").concat(this.constants.html.dropdownCaret,"\n        </button>\n        ").concat(this.constants.html.pageDropdown[0])];h.forEach((function(i,n){var r;(!e.smartDisplay||0===n||h[n-1]<e.totalRows||i===e.formatAllRows())&&(r=u?i===e.formatAllRows()?t.constants.classes.dropdownActive:"":i===e.pageSize?t.constants.classes.dropdownActive:"",f.push(sa.sprintf(t.constants.html.pageDropdownItem,r,i)))})),f.push("".concat(this.constants.html.pageDropdown[1],"</div>")),c.push(e.formatRecordsPerPage(f.join("")))}if((this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&c.push("</div></div>"),this.paginationParts.includes("pageList")){c.push('<div class="'.concat(this.constants.classes.pull,"-").concat(e.paginationHAlign,' pagination">'),sa.sprintf(this.constants.html.pagination[0],sa.sprintf(" pagination-%s",e.iconSize)),sa.sprintf(this.constants.html.paginationItem," page-pre",e.formatSRPaginationPreText(),e.paginationPreText)),this.totalPages<e.paginationSuccessivelySize?(n=1,r=this.totalPages):r=(n=e.pageNumber-e.paginationPagesBySide)+2*e.paginationPagesBySide,e.pageNumber<e.paginationSuccessivelySize-1&&(r=e.paginationSuccessivelySize),e.paginationSuccessivelySize>this.totalPages-n&&(n=n-(e.paginationSuccessivelySize-(this.totalPages-n))+1),n<1&&(n=1),r>this.totalPages&&(r=this.totalPages);var m=Math.round(e.paginationPagesBySide/2),g=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return sa.sprintf(t.constants.html.paginationItem,n+(i===e.pageNumber?" ".concat(t.constants.classes.paginationActive):""),e.formatSRPaginationPageText(i),i)};if(n>1){var y=e.paginationPagesBySide;for(y>=n&&(y=n-1),i=1;i<=y;i++)c.push(g(i));n-1===y+1?(i=n-1,c.push(g(i))):n-1>y&&(n-2*e.paginationPagesBySide>e.paginationPagesBySide&&e.paginationUseIntermediate?(i=Math.round((n-m)/2+m),c.push(g(i," page-intermediate"))):c.push(sa.sprintf(this.constants.html.paginationItem," page-first-separator disabled","","...")))}for(i=n;i<=r;i++)c.push(g(i));if(this.totalPages>r){var v=this.totalPages-(e.paginationPagesBySide-1);for(r>=v&&(v=r+1),r+1===v-1?(i=r+1,c.push(g(i))):v>r+1&&(this.totalPages-r>2*e.paginationPagesBySide&&e.paginationUseIntermediate?(i=Math.round((this.totalPages-m-r)/2+r),c.push(g(i," page-intermediate"))):c.push(sa.sprintf(this.constants.html.paginationItem," page-last-separator disabled","","..."))),i=v;i<=this.totalPages;i++)c.push(g(i))}c.push(sa.sprintf(this.constants.html.paginationItem," page-next",e.formatSRPaginationNextText(),e.paginationNextText)),c.push(this.constants.html.pagination[1],"</div>")}this.$pagination.html(c.join(""));var _=["bottom","both"].includes(e.paginationVAlign)?" ".concat(this.constants.classes.dropup):"";this.$pagination.last().find(".page-list > div").addClass(_),e.onlyInfoPagination||(a=this.$pagination.find(".page-list a"),o=this.$pagination.find(".page-pre"),s=this.$pagination.find(".page-next"),l=this.$pagination.find(".page-item").not(".page-next, .page-pre, .page-last-separator, .page-first-separator"),this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),e.smartDisplay&&(h.length<2||e.totalRows<=h[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"](),e.paginationLoop||(1===e.pageNumber&&o.addClass("disabled"),e.pageNumber===this.totalPages&&s.addClass("disabled")),u&&(e.pageSize=e.formatAllRows()),a.off("click").on("click",(function(e){return t.onPageListChange(e)})),o.off("click").on("click",(function(e){return t.onPagePre(e)})),s.off("click").on("click",(function(e){return t.onPageNext(e)})),l.off("click").on("click",(function(e){return t.onPageNumber(e)})))}else this.$pagination.hide()}},{key:"updatePagination",value:function(t){t&&i.default(t.currentTarget).hasClass("disabled")||(this.options.maintainMetaData||this.resetRows(),this.initPagination(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize),"server"===this.options.sidePagination?this.initServer():this.initBody())}},{key:"onPageListChange",value:function(t){t.preventDefault();var e=i.default(t.currentTarget);return e.parent().addClass(this.constants.classes.dropdownActive).siblings().removeClass(this.constants.classes.dropdownActive),this.options.pageSize=e.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+e.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1}},{key:"onPagePre",value:function(t){return t.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t),!1}},{key:"onPageNext",value:function(t){return t.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t),!1}},{key:"onPageNumber",value:function(t){if(t.preventDefault(),this.options.pageNumber!==+i.default(t.currentTarget).text())return this.options.pageNumber=+i.default(t.currentTarget).text(),this.updatePagination(t),!1}},{key:"initRow",value:function(t,e,i,r){var a=this,o=[],l={},c=[],u="",d={},h=[];if(!(sa.findIndex(this.hiddenRows,t)>-1)){if((l=sa.calculateObjectValue(this.options,this.options.rowStyle,[t,e],l))&&l.css)for(var p=0,f=Object.entries(l.css);p<f.length;p++){var m=s(f[p],2),g=m[0],y=m[1];c.push("".concat(g,": ").concat(y))}if(d=sa.calculateObjectValue(this.options,this.options.rowAttributes,[t,e],d))for(var v=0,_=Object.entries(d);v<_.length;v++){var b=s(_[v],2),x=b[0],w=b[1];h.push("".concat(x,'="').concat(sa.escapeHTML(w),'"'))}if(t._data&&!sa.isEmptyObject(t._data))for(var k=0,S=Object.entries(t._data);k<S.length;k++){var T=s(S[k],2),M=T[0],C=T[1];if("index"===M)return;u+=" data-".concat(M,"='").concat("object"===n(C)?JSON.stringify(C):C,"'")}o.push("<tr",sa.sprintf(" %s",h.length?h.join(" "):void 0),sa.sprintf(' id="%s"',Array.isArray(t)?void 0:t._id),sa.sprintf(' class="%s"',l.classes||(Array.isArray(t)?void 0:t._class)),sa.sprintf(' style="%s"',Array.isArray(t)?void 0:t._style),' data-index="'.concat(e,'"'),sa.sprintf(' data-uniqueid="%s"',sa.getItemField(t,this.options.uniqueId,!1)),sa.sprintf(' data-has-detail-view="%s"',this.options.detailView&&sa.calculateObjectValue(null,this.options.detailFilter,[e,t])?"true":void 0),sa.sprintf("%s",u),">"),this.options.cardView&&o.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));var D="";return sa.hasDetailViewIcon(this.options)&&(D="<td>",sa.calculateObjectValue(null,this.options.detailFilter,[e,t])&&(D+='\n          <a class="detail-icon" href="#">\n          '.concat(sa.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),D+="</td>"),D&&"right"!==this.options.detailViewAlign&&o.push(D),this.header.fields.forEach((function(i,n){var r="",l=sa.getItemField(t,i,a.options.escape),u="",d="",h={},p="",f=a.header.classes[n],m="",g="",y="",v="",_="",b="",x=a.columns[n];if((!a.fromHtml&&!a.autoMergeCells||void 0!==l||x.checkbox||x.radio)&&x.visible&&(!a.options.cardView||x.cardVisible)){if(x.escape&&(l=sa.escapeHTML(l)),c.concat([a.header.styles[n]]).length&&(g+="".concat(c.concat([a.header.styles[n]]).join("; "))),t["_".concat(i,"_style")]&&(g+="".concat(t["_".concat(i,"_style")])),g&&(m=' style="'.concat(g,'"')),t["_".concat(i,"_id")]&&(p=sa.sprintf(' id="%s"',t["_".concat(i,"_id")])),t["_".concat(i,"_class")]&&(f=sa.sprintf(' class="%s"',t["_".concat(i,"_class")])),t["_".concat(i,"_rowspan")]&&(v=sa.sprintf(' rowspan="%s"',t["_".concat(i,"_rowspan")])),t["_".concat(i,"_colspan")]&&(_=sa.sprintf(' colspan="%s"',t["_".concat(i,"_colspan")])),t["_".concat(i,"_title")]&&(b=sa.sprintf(' title="%s"',t["_".concat(i,"_title")])),(h=sa.calculateObjectValue(a.header,a.header.cellStyles[n],[l,t,e,i],h)).classes&&(f=' class="'.concat(h.classes,'"')),h.css){for(var w=[],k=0,S=Object.entries(h.css);k<S.length;k++){var T=s(S[k],2),M=T[0],C=T[1];w.push("".concat(M,": ").concat(C))}m=' style="'.concat(w.concat(a.header.styles[n]).join("; "),'"')}if(u=sa.calculateObjectValue(x,a.header.formatters[n],[l,t,e,i],l),x.checkbox||x.radio||(u=null==u?a.options.undefinedText:u),x.searchable&&a.searchText&&a.options.searchHighlight){var D="",L=new RegExp("(".concat(a.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gim"),A="<mark>$1</mark>";if(u&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(u)){var E=(new DOMParser).parseFromString(u.toString(),"text/html").documentElement.textContent,P=E.replace(L,A);D=u.replace(new RegExp("(>\\s*)(".concat(E,")(\\s*)"),"gm"),"$1".concat(P,"$3"))}else D=u.toString().replace(L,A);u=sa.calculateObjectValue(x,x.searchHighlightFormatter,[u,a.searchText],D)}if(t["_".concat(i,"_data")]&&!sa.isEmptyObject(t["_".concat(i,"_data")]))for(var I=0,O=Object.entries(t["_".concat(i,"_data")]);I<O.length;I++){var R=s(O[I],2),z=R[0],Y=R[1];if("index"===z)return;y+=" data-".concat(z,'="').concat(Y,'"')}if(x.checkbox||x.radio){d=x.checkbox?"checkbox":d,d=x.radio?"radio":d;var F=x.class||"",H=sa.isObject(u)&&u.hasOwnProperty("checked")?u.checked:(!0===u||l)&&!1!==u,N=!x.checkboxEnabled||u&&u.disabled;r=[a.options.cardView?'<div class="card-view '.concat(F,'">'):'<td class="bs-checkbox '.concat(F,'"').concat(f).concat(m,">"),'<label>\n            <input\n            data-index="'.concat(e,'"\n            name="').concat(a.options.selectItemName,'"\n            type="').concat(d,'"\n            ').concat(sa.sprintf('value="%s"',t[a.options.idField]),"\n            ").concat(sa.sprintf('checked="%s"',H?"checked":void 0),"\n            ").concat(sa.sprintf('disabled="%s"',N?"disabled":void 0)," />\n            <span></span>\n            </label>"),a.header.formatters[n]&&"string"==typeof u?u:"",a.options.cardView?"</div>":"</td>"].join(""),t[a.header.stateField]=!0===u||!!l||u&&u.checked}else if(a.options.cardView){var B=a.options.showHeader?'<span class="card-view-title '.concat(h.classes,'"').concat(m,">").concat(sa.getFieldTitle(a.columns,i),"</span>"):"";r='<div class="card-view">'.concat(B,'<span class="card-view-value ').concat(h.classes,'"').concat(m,">").concat(u,"</span></div>"),a.options.smartDisplay&&""===u&&(r='<div class="card-view"></div>')}else r="<td".concat(p).concat(f).concat(m).concat(y).concat(v).concat(_).concat(b,">").concat(u,"</td>");o.push(r)}})),D&&"right"===this.options.detailViewAlign&&o.push(D),this.options.cardView&&o.push("</div></td>"),o.push("</tr>"),o.join("")}}},{key:"initBody",value:function(t){var e=this,n=this.getData();this.trigger("pre-body",n),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=i.default("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=n.length);var r=[],a=i.default(document.createDocumentFragment()),o=!1;this.autoMergeCells=sa.checkAutoMergeCells(n.slice(this.pageFrom-1,this.pageTo));for(var s=this.pageFrom-1;s<this.pageTo;s++){var l=n[s],c=this.initRow(l,s,n,a);o=o||!!c,c&&"string"==typeof c&&(this.options.virtualScroll?r.push(c):a.append(c))}o?this.options.virtualScroll?(this.virtualScroll&&this.virtualScroll.destroy(),this.virtualScroll=new la({rows:r,fixedScroll:t,scrollEl:this.$tableBody[0],contentEl:this.$body[0],itemHeight:this.options.virtualScrollItemHeight,callback:function(){e.fitHeader(),e.initBodyEvent()}})):this.$body.html(a):this.$body.html('<tr class="no-records-found">'.concat(sa.sprintf('<td colspan="%s">%s</td>',this.getVisibleFields().length+sa.getDetailViewIndexOffset(this.options),this.options.formatNoMatches()),"</tr>")),t||this.scrollTo(0),this.initBodyEvent(),this.updateSelected(),this.initFooter(),this.resetView(),"server"!==this.options.sidePagination&&(this.options.totalRows=n.length),this.trigger("post-body",n)}},{key:"initBodyEvent",value:function(){var t=this;this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",(function(e){var n=i.default(e.currentTarget),r=n.parent(),a=i.default(e.target).parents(".card-views").children(),o=i.default(e.target).parents(".card-view"),s=r.data("index"),l=t.data[s],c=t.options.cardView?a.index(o):n[0].cellIndex,u=t.getVisibleFields()[c-sa.getDetailViewIndexOffset(t.options)],d=t.columns[t.fieldsColumnsIndex[u]],h=sa.getItemField(l,u,t.options.escape);if(!n.find(".detail-icon").length){if(t.trigger("click"===e.type?"click-cell":"dbl-click-cell",u,h,l,n),t.trigger("click"===e.type?"click-row":"dbl-click-row",l,r,u),"click"===e.type&&t.options.clickToSelect&&d.clickToSelect&&!sa.calculateObjectValue(t.options,t.options.ignoreClickToSelectOn,[e.target])){var p=r.find(sa.sprintf('[name="%s"]',t.options.selectItemName));p.length&&p[0].click()}"click"===e.type&&t.options.detailViewByClick&&t.toggleDetailView(s,t.header.detailFormatters[t.fieldsColumnsIndex[u]])}})).off("mousedown").on("mousedown",(function(e){t.multipleSelectRowCtrlKey=e.ctrlKey||e.metaKey,t.multipleSelectRowShiftKey=e.shiftKey})),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",(function(e){return e.preventDefault(),t.toggleDetailView(i.default(e.currentTarget).parent().parent().data("index")),!1})),this.$selectItem=this.$body.find(sa.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",(function(e){e.stopImmediatePropagation();var n=i.default(e.currentTarget);t._toggleCheck(n.prop("checked"),n.data("index"))})),this.header.events.forEach((function(e,n){var r=e;if(r){"string"==typeof r&&(r=sa.calculateObjectValue(null,r));var a=t.header.fields[n],o=t.getVisibleFields().indexOf(a);if(-1!==o){o+=sa.getDetailViewIndexOffset(t.options);var s=function(e){if(!r.hasOwnProperty(e))return"continue";var n=r[e];t.$body.find(">tr:not(.no-records-found)").each((function(r,s){var l=i.default(s),c=l.find(t.options.cardView?".card-views>.card-view":">td").eq(o),u=e.indexOf(" "),d=e.substring(0,u),h=e.substring(u+1);c.find(h).off(d).on(d,(function(e){var i=l.data("index"),r=t.data[i],o=r[a];n.apply(t,[e,o,r,i])}))}))};for(var l in r)s(l)}}}))}},{key:"initServer",value:function(t,e,n){var r=this,a={},o=this.header.fields.indexOf(this.options.sortName),s={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[o]&&(s.sortName=this.header.sortNames[o]),this.options.pagination&&"server"===this.options.sidePagination&&(s.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,s.pageNumber=this.options.pageNumber),n||this.options.url||this.options.ajax){if("limit"===this.options.queryParamsType&&(s={search:s.searchText,sort:s.sortName,order:s.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(s.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),s.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===s.limit&&delete s.limit)),this.options.search&&"server"===this.options.sidePagination&&this.columns.filter((function(t){return!t.searchable})).length){s.searchable=[];var l,c=d(this.columns);try{for(c.s();!(l=c.n()).done;){var u=l.value;!u.checkbox&&u.searchable&&(this.options.visibleSearch&&u.visible||!this.options.visibleSearch)&&s.searchable.push(u.field)}}catch(t){c.e(t)}finally{c.f()}}if(sa.isEmptyObject(this.filterColumnsPartial)||(s.filter=JSON.stringify(this.filterColumnsPartial,null)),i.default.extend(s,e||{}),!1!==(a=sa.calculateObjectValue(this.options,this.options.queryParams,[s],a))){t||this.showLoading();var h=i.default.extend({},sa.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(a):a,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e,i,n){var a=sa.calculateObjectValue(r.options,r.options.responseHandler,[e,n],e);r.load(a),r.trigger("load-success",a,n&&n.status,n),t||r.hideLoading(),"server"===r.options.sidePagination&&a[r.options.totalField]>0&&!a[r.options.dataField].length&&r.updatePagination()},error:function(e){var i=[];"server"===r.options.sidePagination&&((i={})[r.options.totalField]=0,i[r.options.dataField]=[]),r.load(i),r.trigger("load-error",e&&e.status,e),t||r.$tableLoading.hide()}});return this.options.ajax?sa.calculateObjectValue(this,this.options.ajax,[h],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=i.default.ajax(h)),a}}}},{key:"initSearchText",value:function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var t=sa.getSearchInput(this);t.val(this.options.searchText),this.onSearch({currentTarget:t,firedByInitSearchText:!0})}}},{key:"getCaret",value:function(){var t=this;this.$header.find("th").each((function(e,n){i.default(n).find(".sortable").removeClass("desc asc").addClass(i.default(n).data("field")===t.options.sortName?t.options.sortOrder:"both")}))}},{key:"updateSelected",value:function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each((function(t,e){i.default(e).closest("tr")[i.default(e).prop("checked")?"addClass":"removeClass"]("selected")}))}},{key:"updateRows",value:function(){var t=this;this.$selectItem.each((function(e,n){t.data[i.default(n).data("index")][t.header.stateField]=i.default(n).prop("checked")}))}},{key:"resetRows",value:function(){var t,e=d(this.data);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(i[this.header.stateField]=!1)}}catch(t){e.e(t)}finally{e.f()}this.initHiddenRows()}},{key:"trigger",value:function(e){for(var n,r,a="".concat(e,".bs.table"),o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];(n=this.options)[t.EVENTS[a]].apply(n,[].concat(s,[this])),this.$el.trigger(i.default.Event(a,{sender:this}),s),(r=this.options).onAll.apply(r,[a].concat([].concat(s,[this]))),this.$el.trigger(i.default.Event("all.bs.table",{sender:this}),[a,s])}},{key:"resetHeader",value:function(){var t=this;clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout((function(){return t.fitHeader()}),this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var t=this;if(this.$el.is(":hidden"))this.timeoutId_=setTimeout((function(){return t.fitHeader()}),100);else{var e=this.$tableBody.get(0),n=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?sa.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());var r=i.default(":focus");if(r.length>0){var a=r.parents("th");if(a.length>0){var o=a.attr("data-field");if(void 0!==o){var s=this.$header.find("[data-field='".concat(o,"']"));s.length>0&&s.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css("margin-right",n).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),this.$tableLoading.css("width",this.$el.outerWidth());var l=i.default(".focus-temp:visible:eq(0)");l.length>0&&(l.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each((function(e,n){t.$header_.find(sa.sprintf('th[data-field="%s"]',i.default(n).data("field"))).data(i.default(n).data())}));for(var c=this.getVisibleFields(),u=this.$header_.find("th"),d=this.$body.find(">tr:not(.no-records-found,.virtual-scroll-top)").eq(0);d.length&&d.find('>td[colspan]:not([colspan="1"])').length;)d=d.next();var h=d.find("> *").length;d.find("> *").each((function(e,n){var r=i.default(n);if(sa.hasDetailViewIcon(t.options)&&(0===e&&"right"!==t.options.detailViewAlign||e===h-1&&"right"===t.options.detailViewAlign)){var a=u.filter(".detail"),o=a.innerWidth()-a.find(".fht-cell").width();a.find(".fht-cell").width(r.innerWidth()-o)}else{var s=e-sa.getDetailViewIndexOffset(t.options),l=t.$header_.find(sa.sprintf('th[data-field="%s"]',c[s]));l.length>1&&(l=i.default(u[r[0].cellIndex]));var d=l.innerWidth()-l.find(".fht-cell").width();l.find(".fht-cell").width(r.innerWidth()-d)}})),this.horizontalScroll(),this.trigger("post-header")}}},{key:"initFooter",value:function(){if(this.options.showFooter&&!this.options.cardView){var t=this.getData(),e=[],i="";sa.hasDetailViewIcon(this.options)&&(i='<th class="detail"><div class="th-inner"></div><div class="fht-cell"></div></th>'),i&&"right"!==this.options.detailViewAlign&&e.push(i);var n,r=d(this.columns);try{for(r.s();!(n=r.n()).done;){var a,o,l=n.value,c=[],u={},h=sa.sprintf(' class="%s"',l.class);if(!(!l.visible||this.footerData&&this.footerData.length>0&&!(l.field in this.footerData[0]))){if(this.options.cardView&&!l.cardVisible)return;if(a=sa.sprintf("text-align: %s; ",l.falign?l.falign:l.align),o=sa.sprintf("vertical-align: %s; ",l.valign),(u=sa.calculateObjectValue(null,this.options.footerStyle,[l]))&&u.css)for(var p=0,f=Object.entries(u.css);p<f.length;p++){var m=s(f[p],2),g=m[0],y=m[1];c.push("".concat(g,": ").concat(y))}u&&u.classes&&(h=sa.sprintf(' class="%s"',l.class?[l.class,u.classes].join(" "):u.classes)),e.push("<th",h,sa.sprintf(' style="%s"',a+o+c.concat().join("; ")));var v=0;this.footerData&&this.footerData.length>0&&(v=this.footerData[0]["_".concat(l.field,"_colspan")]||0),v&&e.push(' colspan="'.concat(v,'" ')),e.push(">"),e.push('<div class="th-inner">');var _="";this.footerData&&this.footerData.length>0&&(_=this.footerData[0][l.field]||""),e.push(sa.calculateObjectValue(l,l.footerFormatter,[t,_],_)),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}}}catch(t){r.e(t)}finally{r.f()}i&&"right"===this.options.detailViewAlign&&e.push(i),this.options.height||this.$tableFooter.length||(this.$el.append("<tfoot><tr></tr></tfoot>"),this.$tableFooter=this.$el.find("tfoot")),this.$tableFooter.find("tr").length||this.$tableFooter.html("<table><thead><tr></tr></thead></table>"),this.$tableFooter.find("tr").html(e.join("")),this.trigger("post-footer",this.$tableFooter)}}},{key:"fitFooter",value:function(){var t=this;if(this.$el.is(":hidden"))setTimeout((function(){return t.fitFooter()}),100);else{var e=this.$tableBody.get(0),n=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?sa.getScrollBarWidth():0;this.$tableFooter.css("margin-right",n).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));var r=this.$tableFooter.find("th"),a=this.$body.find(">tr:first-child:not(.no-records-found)");for(r.find(".fht-cell").width("auto");a.length&&a.find('>td[colspan]:not([colspan="1"])').length;)a=a.next();var o=a.find("> *").length;a.find("> *").each((function(e,n){var a=i.default(n);if(sa.hasDetailViewIcon(t.options)&&(0===e&&"left"===t.options.detailViewAlign||e===o-1&&"right"===t.options.detailViewAlign)){var s=r.filter(".detail"),l=s.innerWidth()-s.find(".fht-cell").width();s.find(".fht-cell").width(a.innerWidth()-l)}else{var c=r.eq(e),u=c.innerWidth()-c.find(".fht-cell").width();c.find(".fht-cell").width(a.innerWidth()-u)}})),this.horizontalScroll()}}},{key:"horizontalScroll",value:function(){var t=this;this.$tableBody.off("scroll").on("scroll",(function(){var e=t.$tableBody.scrollLeft();t.options.showHeader&&t.options.height&&t.$tableHeader.scrollLeft(e),t.options.showFooter&&!t.options.cardView&&t.$tableFooter.scrollLeft(e),t.trigger("scroll-body",t.$tableBody)}))}},{key:"getVisibleFields",value:function(){var t,e=[],i=d(this.header.fields);try{for(i.s();!(t=i.n()).done;){var n=t.value,r=this.columns[this.fieldsColumnsIndex[n]];r&&r.visible&&e.push(n)}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"getOptions",value:function(){var t=i.default.extend({},this.options);return delete t.data,i.default.extend(!0,{},t)}},{key:"refreshOptions",value:function(t){sa.compareObjects(this.options,t,!0)||(this.options=i.default.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())}},{key:"getData",value:function(t){var e=this,i=this.options.data;if(!(this.searchText||this.options.customSearch||void 0!==this.options.sortName||this.enableCustomSort)&&sa.isEmptyObject(this.filterColumns)&&sa.isEmptyObject(this.filterColumnsPartial)||t&&t.unfiltered||(i=this.data),t&&t.useCurrentPage&&(i=i.slice(this.pageFrom-1,this.pageTo)),t&&!t.includeHiddenRows){var n=this.getHiddenRows();i=i.filter((function(t){return-1===sa.findIndex(n,t)}))}return t&&t.formatted&&i.forEach((function(t){for(var i=0,n=Object.entries(t);i<n.length;i++){var r=s(n[i],2),a=r[0],o=r[1],l=e.columns[e.fieldsColumnsIndex[a]];if(!l)return;t[a]=sa.calculateObjectValue(l,e.header.formatters[l.fieldIndex],[o,t,t.index,l.field],o)}})),i}},{key:"getSelections",value:function(){var t=this;return(this.options.maintainMetaData?this.options.data:this.data).filter((function(e){return!0===e[t.header.stateField]}))}},{key:"load",value:function(t){var e,i=t;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=i[this.options.totalField],this.options.totalNotFiltered=i[this.options.totalNotFilteredField],this.footerData=i[this.options.footerField]?[i[this.options.footerField]]:void 0),e=i.fixedScroll,i=Array.isArray(i)?i:i[this.options.dataField],this.initData(i),this.initSearch(),this.initPagination(),this.initBody(e)}},{key:"append",value:function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"prepend",value:function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"remove",value:function(t){for(var e=0,i=this.options.data.length-1;i>=0;i--){var n=this.options.data[i];(n.hasOwnProperty(t.field)||"$index"===t.field)&&(!n.hasOwnProperty(t.field)&&"$index"===t.field&&t.values.includes(i)||t.values.includes(n[t.field]))&&(e++,this.options.data.splice(i,1))}e&&("server"===this.options.sidePagination&&(this.options.totalRows-=e,this.data=l(this.options.data)),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"removeAll",value:function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"insertRow",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.options.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"updateRow",value:function(t){var e,n=d(Array.isArray(t)?t:[t]);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.hasOwnProperty("index")&&r.hasOwnProperty("row")&&(r.hasOwnProperty("replace")&&r.replace?this.options.data[r.index]=r.row:i.default.extend(this.options.data[r.index],r.row))}}catch(t){n.e(t)}finally{n.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"getRowByUniqueId",value:function(t){var e,i,n,r=this.options.uniqueId,a=t,o=null;for(e=this.options.data.length-1;e>=0;e--){if((i=this.options.data[e]).hasOwnProperty(r))n=i[r];else{if(!i._data||!i._data.hasOwnProperty(r))continue;n=i._data[r]}if("string"==typeof n?a=a.toString():"number"==typeof n&&(Number(n)===n&&n%1==0?a=parseInt(a):n===Number(n)&&0!==n&&(a=parseFloat(a))),n===a){o=i;break}}return o}},{key:"updateByUniqueId",value:function(t){var e,n=d(Array.isArray(t)?t:[t]);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.hasOwnProperty("id")&&r.hasOwnProperty("row")){var a=this.options.data.indexOf(this.getRowByUniqueId(r.id));-1!==a&&(r.hasOwnProperty("replace")&&r.replace?this.options.data[a]=r.row:i.default.extend(this.options.data[a],r.row))}}}catch(t){n.e(t)}finally{n.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"removeByUniqueId",value:function(t){var e=this.options.data.length,i=this.getRowByUniqueId(t);i&&this.options.data.splice(this.options.data.indexOf(i),1),e!==this.options.data.length&&("server"===this.options.sidePagination&&(this.options.totalRows-=1,this.data=l(this.options.data)),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"updateCell",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.data[t.index][t.field]=t.value,!1!==t.reinit&&(this.initSort(),this.initBody(!0)))}},{key:"updateCellByUniqueId",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){var i=t.id,n=t.field,r=t.value,a=e.options.data.indexOf(e.getRowByUniqueId(i));-1!==a&&(e.options.data[a][n]=r)})),!1!==t.reinit&&(this.initSort(),this.initBody(!0))}},{key:"showRow",value:function(t){this._toggleRow(t,!0)}},{key:"hideRow",value:function(t){this._toggleRow(t,!1)}},{key:"_toggleRow",value:function(t,e){var i;if(t.hasOwnProperty("index")?i=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(i=this.getRowByUniqueId(t.uniqueId)),i){var n=sa.findIndex(this.hiddenRows,i);e||-1!==n?e&&n>-1&&this.hiddenRows.splice(n,1):this.hiddenRows.push(i),this.initBody(!0),this.initPagination()}}},{key:"getHiddenRows",value:function(t){if(t)return this.initHiddenRows(),this.initBody(!0),void this.initPagination();var e,i=[],n=d(this.getData());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.hiddenRows.includes(r)&&i.push(r)}}catch(t){n.e(t)}finally{n.f()}return this.hiddenRows=i,i}},{key:"showColumn",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){e._toggleColumn(e.fieldsColumnsIndex[t],!0,!0)}))}},{key:"hideColumn",value:function(t){var e=this;(Array.isArray(t)?t:[t]).forEach((function(t){e._toggleColumn(e.fieldsColumnsIndex[t],!1,!0)}))}},{key:"_toggleColumn",value:function(t,e,i){if(-1!==t&&this.columns[t].visible!==e&&(this.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var n=this.$toolbar.find('.keep-open input:not(".toggle-all")').prop("disabled",!1);i&&n.filter(sa.sprintf('[value="%s"]',t)).prop("checked",e),n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0)}}},{key:"getVisibleColumns",value:function(){var t=this;return this.columns.filter((function(e){return e.visible&&!t.isSelectionColumn(e)}))}},{key:"getHiddenColumns",value:function(){return this.columns.filter((function(t){return!t.visible}))}},{key:"isSelectionColumn",value:function(t){return t.radio||t.checkbox}},{key:"showAllColumns",value:function(){this._toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this._toggleAllColumns(!1)}},{key:"_toggleAllColumns",value:function(t){var e,n=this,r=d(this.columns.slice().reverse());try{for(r.s();!(e=r.n()).done;){var a=e.value;if(a.switchable){if(!t&&this.options.showColumns&&this.getVisibleColumns().length===this.options.minimumCountColumns)continue;a.visible=t}}}catch(t){r.e(t)}finally{r.f()}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var o=this.$toolbar.find('.keep-open input[type="checkbox"]:not(".toggle-all")').prop("disabled",!1);t?o.prop("checked",t):o.get().reverse().forEach((function(e){o.filter(":checked").length>n.options.minimumCountColumns&&i.default(e).prop("checked",t)})),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}}},{key:"mergeCells",value:function(t){var e,i,n=t.index,r=this.getVisibleFields().indexOf(t.field),a=t.rowspan||1,o=t.colspan||1,s=this.$body.find(">tr");r+=sa.getDetailViewIndexOffset(this.options);var l=s.eq(n).find(">td").eq(r);if(!(n<0||r<0||n>=this.data.length)){for(e=n;e<n+a;e++)for(i=r;i<r+o;i++)s.eq(e).find(">td").eq(i).hide();l.attr("rowspan",a).attr("colspan",o).show()}}},{key:"checkAll",value:function(){this._toggleCheckAll(!0)}},{key:"uncheckAll",value:function(){this._toggleCheckAll(!1)}},{key:"_toggleCheckAll",value:function(t){var e=this.getSelections();this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),this.updateSelected();var i=this.getSelections();t?this.trigger("check-all",i,e):this.trigger("uncheck-all",i,e)}},{key:"checkInvert",value:function(){var t=this.$selectItem.filter(":enabled"),e=t.filter(":checked");t.each((function(t,e){i.default(e).prop("checked",!i.default(e).prop("checked"))})),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",e),e=this.getSelections(),this.trigger("check-some",e)}},{key:"check",value:function(t){this._toggleCheck(!0,t)}},{key:"uncheck",value:function(t){this._toggleCheck(!1,t)}},{key:"_toggleCheck",value:function(t,e){var i=this.$selectItem.filter('[data-index="'.concat(e,'"]')),n=this.data[e];if(i.is(":radio")||this.options.singleSelect||this.options.multipleSelectRow&&!this.multipleSelectRowCtrlKey&&!this.multipleSelectRowShiftKey){var r,a=d(this.options.data);try{for(a.s();!(r=a.n()).done;)r.value[this.header.stateField]=!1}catch(t){a.e(t)}finally{a.f()}this.$selectItem.filter(":checked").not(i).prop("checked",!1)}if(n[this.header.stateField]=t,this.options.multipleSelectRow){if(this.multipleSelectRowShiftKey&&this.multipleSelectRowLastSelectedIndex>=0)for(var o=s(this.multipleSelectRowLastSelectedIndex<e?[this.multipleSelectRowLastSelectedIndex,e]:[e,this.multipleSelectRowLastSelectedIndex],2),l=o[0],c=o[1],u=l+1;u<c;u++)this.data[u][this.header.stateField]=!0,this.$selectItem.filter('[data-index="'.concat(u,'"]')).prop("checked",!0);this.multipleSelectRowCtrlKey=!1,this.multipleSelectRowShiftKey=!1,this.multipleSelectRowLastSelectedIndex=t?e:-1}i.prop("checked",t),this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e],i)}},{key:"checkBy",value:function(t){this._toggleCheckBy(!0,t)}},{key:"uncheckBy",value:function(t){this._toggleCheckBy(!1,t)}},{key:"_toggleCheckBy",value:function(t,e){var i=this;if(e.hasOwnProperty("field")&&e.hasOwnProperty("values")){var n=[];this.data.forEach((function(r,a){if(!r.hasOwnProperty(e.field))return!1;if(e.values.includes(r[e.field])){var o=i.$selectItem.filter(":enabled").filter(sa.sprintf('[data-index="%s"]',a));if(!(o=t?o.not(":checked"):o.filter(":checked")).length)return;o.prop("checked",t),r[i.header.stateField]=t,n.push(r),i.trigger(t?"check":"uncheck",r,o)}})),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",n)}}},{key:"refresh",value:function(t){t&&t.url&&(this.options.url=t.url),t&&t.pageNumber&&(this.options.pageNumber=t.pageNumber),t&&t.pageSize&&(this.options.pageSize=t.pageSize),this.trigger("refresh",this.initServer(t&&t.silent,t&&t.query,t&&t.url))}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container),i.default(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")}},{key:"resetView",value:function(t){var e=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.$tableContainer.toggleClass("has-card-view",this.options.cardView),!this.options.cardView&&this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),e+=this.$header.outerHeight(!0)+1):(this.$tableHeader.hide(),this.trigger("post-header")),!this.options.cardView&&this.options.showFooter&&(this.$tableFooter.show(),this.fitFooter(),this.options.height&&(e+=this.$tableFooter.outerHeight(!0))),this.$container.hasClass("fullscreen"))this.$tableContainer.css("height",""),this.$tableContainer.css("width","");else if(this.options.height){this.$tableBorder&&(this.$tableBorder.css("width",""),this.$tableBorder.css("height",""));var i=this.$toolbar.outerHeight(!0),n=this.$pagination.outerHeight(!0),r=this.options.height-i-n,a=this.$tableBody.find(">table"),o=a.outerHeight();if(this.$tableContainer.css("height","".concat(r,"px")),this.$tableBorder&&a.is(":visible")){var s=r-o-2;this.$tableBody[0].scrollWidth-this.$tableBody.innerWidth()&&(s-=sa.getScrollBarWidth()),this.$tableBorder.css("width","".concat(a.outerWidth(),"px")),this.$tableBorder.css("height","".concat(s,"px"))}}this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),this.$tableFooter.hide()):(this.getCaret(),this.$tableContainer.css("padding-bottom","".concat(e,"px"))),this.trigger("reset-view")}},{key:"showLoading",value:function(){this.$tableLoading.toggleClass("open",!0);var t=this.options.loadingFontSize;"auto"===this.options.loadingFontSize&&(t=.04*this.$tableLoading.width(),t=Math.max(12,t),t=Math.min(32,t),t="".concat(t,"px")),this.$tableLoading.find(".loading-text").css("font-size",t)}},{key:"hideLoading",value:function(){this.$tableLoading.toggleClass("open",!1)}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;var t=this.options.showButtonIcons?this.options.pagination?this.options.icons.paginationSwitchDown:this.options.icons.paginationSwitchUp:"",e=this.options.showButtonText?this.options.pagination?this.options.formatPaginationSwitchUp():this.options.formatPaginationSwitchDown():"";this.$toolbar.find('button[name="paginationSwitch"]').html("".concat(sa.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)," ").concat(e)),this.updatePagination()}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen"),this.resetView()}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var t=this.options.showButtonIcons?this.options.cardView?this.options.icons.toggleOn:this.options.icons.toggleOff:"",e=this.options.showButtonText?this.options.cardView?this.options.formatToggleOff():this.options.formatToggleOn():"";this.$toolbar.find('button[name="toggle"]').html("".concat(sa.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)," ").concat(e)),this.initBody(),this.trigger("toggle",this.options.cardView)}},{key:"resetSearch",value:function(t){var e=sa.getSearchInput(this);e.val(t||""),this.onSearch({currentTarget:e})}},{key:"filterBy",value:function(t,e){this.filterOptions=sa.isEmptyObject(e)?this.options.filterOptions:i.default.extend(this.options.filterOptions,e),this.filterColumns=sa.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:"scrollTo",value:function(t){var e={unit:"px",value:0};"object"===n(t)?e=Object.assign(e,t):"string"==typeof t&&"bottom"===t?e.value=this.$tableBody[0].scrollHeight:"string"!=typeof t&&"number"!=typeof t||(e.value=t);var r=e.value;"rows"===e.unit&&(r=0,this.$body.find("> tr:lt(".concat(e.value,")")).each((function(t,e){r+=i.default(e).outerHeight(!0)}))),this.$tableBody.scrollTop(r)}},{key:"getScrollPosition",value:function(){return this.$tableBody.scrollTop()}},{key:"selectPage",value:function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())}},{key:"prevPage",value:function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())}},{key:"nextPage",value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:"toggleDetailView",value:function(t,e){this.$body.find(sa.sprintf('> tr[data-index="%s"]',t)).next().is("tr.detail-view")?this.collapseRow(t):this.expandRow(t,e),this.resetView()}},{key:"expandRow",value:function(t,e){var i=this.data[t],n=this.$body.find(sa.sprintf('> tr[data-index="%s"][data-has-detail-view]',t));if(!n.next().is("tr.detail-view")){this.options.detailViewIcon&&n.find("a.detail-icon").html(sa.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailClose)),n.after(sa.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',n.children("td").length));var r=n.next().find("td"),a=e||this.options.detailFormatter,o=sa.calculateObjectValue(this.options,a,[t,i,r],"");1===r.length&&r.append(o),this.trigger("expand-row",t,i,r)}}},{key:"expandRowByUniqueId",value:function(t){var e=this.getRowByUniqueId(t);e&&this.expandRow(this.data.indexOf(e))}},{key:"collapseRow",value:function(t){var e=this.data[t],i=this.$body.find(sa.sprintf('> tr[data-index="%s"][data-has-detail-view]',t));i.next().is("tr.detail-view")&&(this.options.detailViewIcon&&i.find("a.detail-icon").html(sa.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)),this.trigger("collapse-row",t,e,i.next()),i.next().remove())}},{key:"collapseRowByUniqueId",value:function(t){var e=this.getRowByUniqueId(t);e&&this.collapseRow(this.data.indexOf(e))}},{key:"expandAllRows",value:function(){for(var t=this.$body.find("> tr[data-index][data-has-detail-view]"),e=0;e<t.length;e++)this.expandRow(i.default(t[e]).data("index"))}},{key:"collapseAllRows",value:function(){for(var t=this.$body.find("> tr[data-index][data-has-detail-view]"),e=0;e<t.length;e++)this.collapseRow(i.default(t[e]).data("index"))}},{key:"updateColumnTitle",value:function(t){t.hasOwnProperty("field")&&t.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[t.field]].title=this.options.escape?sa.escapeHTML(t.title):t.title,this.columns[this.fieldsColumnsIndex[t.field]].visible&&(this.$header.find("th[data-field]").each((function(e,n){if(i.default(n).data("field")===t.field)return i.default(i.default(n).find(".th-inner")[0]).text(t.title),!1})),this.resetView()))}},{key:"updateFormatText",value:function(t,e){/^format/.test(t)&&this.options[t]&&("string"==typeof e?this.options[t]=function(){return e}:"function"==typeof e&&(this.options[t]=e),this.initToolbar(),this.initPagination(),this.initBody())}}]),t}();return ca.VERSION=Gr.VERSION,ca.DEFAULTS=Gr.DEFAULTS,ca.LOCALES=Gr.LOCALES,ca.COLUMN_DEFAULTS=Gr.COLUMN_DEFAULTS,ca.METHODS=Gr.METHODS,ca.EVENTS=Gr.EVENTS,i.default.BootstrapTable=ca,i.default.fn.bootstrapTable=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];var o;return this.each((function(e,a){var s=i.default(a).data("bootstrap.table"),l=i.default.extend({},ca.DEFAULTS,i.default(a).data(),"object"===n(t)&&t);if("string"==typeof t){var c;if(!Gr.METHODS.includes(t))throw new Error("Unknown method: ".concat(t));if(!s)return;o=(c=s)[t].apply(c,r),"destroy"===t&&i.default(a).removeData("bootstrap.table")}s||(s=new i.default.BootstrapTable(a,l),i.default(a).data("bootstrap.table",s),s.init())})),void 0===o?this:o},i.default.fn.bootstrapTable.Constructor=ca,i.default.fn.bootstrapTable.theme=Gr.THEME,i.default.fn.bootstrapTable.VERSION=Gr.VERSION,i.default.fn.bootstrapTable.defaults=ca.DEFAULTS,i.default.fn.bootstrapTable.columnDefaults=ca.COLUMN_DEFAULTS,i.default.fn.bootstrapTable.events=ca.EVENTS,i.default.fn.bootstrapTable.locales=ca.LOCALES,i.default.fn.bootstrapTable.methods=ca.METHODS,i.default.fn.bootstrapTable.utils=sa,i.default((function(){i.default('[data-toggle="table"]').bootstrapTable()})),ca}(i(1))}).call(this,i(8))},function(t,e,i){"use strict";i.r(e),function(t){i(191);t(document).ready((function(){t("#signupForm").validate({rules:{firstname:"required",lastname:"required",username:{required:!0,minlength:2},password:{required:!0,minlength:5},confirm_password:{required:!0,minlength:5,equalTo:"#password"},email:{required:!0,email:!0},agree:"required"},messages:{firstname:"Please enter your firstname",lastname:"Please enter your lastname",username:{required:"Please enter a username",minlength:"Your username must consist of at least 2 characters"},password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},confirm_password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"},email:"Please enter a valid email address",agree:"Please accept our policy"},errorElement:"em",errorPlacement:function(t,e){t.addClass("invalid-feedback"),"checkbox"===e.prop("type")?t.insertAfter(e.next("label")):t.insertAfter(e)},highlight:function(e,i,n){t(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,i,n){t(e).addClass("is-valid").removeClass("is-invalid")}})}))}.call(this,i(1))},function(t,e,i){var n,r,a;
/*!
 * jQuery Validation Plugin v1.19.3
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2021 Jrn Zaefferer
 * Released under the MIT license
 */r=[i(1)],void 0===(a="function"==typeof(n=function(t){t.extend(t.fn,{validate:function(e){if(this.length){var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",(function(e){i.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)})),this.on("submit.validate",(function(e){function n(){var n,r;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(r=i.settings.submitHandler.call(i,i.currentForm,e),n&&n.remove(),void 0!==r&&r)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)}))),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each((function(){(e=i.element(this)&&e)||(n=n.concat(i.errorList))})),i.errorList=n),e},rules:function(e,i){var n,r,a,o,s,l,c=this[0],u=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=c&&(!c.form&&u&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(e)switch(r=(n=t.data(c.form,"validator").settings).rules,a=t.validator.staticRules(c),e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,r[c.name]=a,i.messages&&(n.messages[c.name]=t.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),(function(t,e){l[e]=a[e],delete a[e]})),l):(delete r[c.name],a)}return(o=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c)).required&&(s=o.required,delete o.required,o=t.extend({required:s},o)),o.remote&&(s=o.remote,delete o.remote,o=t.extend(o,{remote:s})),o}}});var e,i=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!i(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!i(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(void 0===i||(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,(function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),(function(){return i}))}))),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var e,i=this.currentForm,n=this.groups={};function r(e){var n=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");if(!this.form&&n&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name")),i===this.form){var r=t.data(this.form,"validator"),a="on"+e.type.replace(/^validate/,""),o=r.settings;o[a]&&!t(this).is(o.ignore)&&o[a].call(r,this,e)}}t.each(this.settings.groups,(function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,(function(t,i){n[i]=e}))})),e=this.settings.rules,t.each(e,(function(i,n){e[i]=t.validator.normalizeRule(n)})),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",r).on("click.validate","select, option, [type='radio'], [type='checkbox']",r),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,r=this.clean(e),a=this.validationTargetFor(r),o=this,s=!0;return void 0===a?delete this.invalid[r.name]:(this.prepareElement(a),this.currentElements=t(a),(n=this.groups[a.name])&&t.each(this.groups,(function(t,e){e===n&&t!==a.name&&(r=o.validationTargetFor(o.clean(o.findByName(t))))&&r.name in o.invalid&&(o.currentElements.push(r),s=o.check(r)&&s)})),i=!1!==this.check(a),s=s&&i,this.invalid[a.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),s},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,(function(t,e){return{message:t,element:i.findByName(e)[0]}})),this.successList=t.grep(this.successList,(function(t){return!(t.name in e)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,(function(t){return t.element.name===e.name})).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var n=this.name||t(this).attr("name"),r=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=t(this).closest("form")[0],this.name=n),!(this.form!==e.currentForm||n in i||!e.objectLength(t(this).rules())||(i[n]=!0,0))}))},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,r=t(e),a=e.type,o=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&void 0!==e.validity?e.validity.badInput?"NaN":r.val():(i=o?r.text():r.val(),"file"===a?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"))>=0||(n=i.lastIndexOf("\\"))>=0?i.substr(n+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,r,a,o=t(e).rules(),s=t.map(o,(function(t,e){return e})).length,l=!1,c=this.elementValue(e);for(n in"function"==typeof o.normalizer?a=o.normalizer:"function"==typeof this.settings.normalizer&&(a=this.settings.normalizer),a&&(c=a.call(e,c),delete o.normalizer),o){r={method:n,parameters:o[n]};try{if("dependency-mismatch"===(i=t.validator.methods[n].call(this,c,e,r.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!l)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):r.test(n)&&(n=t.validator.format(n.replace(r,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map((function(){return this.element}))},showLabel:function(e,i){var n,r,a,o,s=this.errorsFor(e),l=this.idOrName(e),c=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(n=s=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,t(e)):n.insertAfter(e),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(a=s.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(c+=" "+a):c=a,t(e).attr("aria-describedby",c),(r=this.groups[e.name])&&(o=this,t.each(o.groups,(function(e,i){i===r&&t("[name='"+o.escapeCssMeta(e)+"']",o.currentForm).attr("aria-describedby",s.attr("id"))}))))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(r=r+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),(function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])})),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,r={},a=t(e),o=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(""===(n=e.getAttribute(i))&&(n=!0),n=!!n):n=a.attr(i),this.normalizeAttributeRule(r,o,i,n);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var i,n,r={},a=t(e),o=e.getAttribute("type");for(i in t.validator.methods)""===(n=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(n=!0),this.normalizeAttributeRule(r,o,i,n);return r},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,(function(n,r){if(!1!==r){if(r.param||r.depends){var a=!0;switch(typeof r.depends){case"string":a=!!t(r.depends,i.form).length;break;case"function":a=r.depends.call(i,i)}a?e[n]=void 0===r.param||r.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}else delete e[n]})),t.each(e,(function(t,n){e[t]="function"==typeof n&&"normalizer"!==t?n(i):n})),t.each(["minlength","maxlength"],(function(){e[this]&&(e[this]=Number(e[this]))})),t.each(["rangelength","range"],(function(){var t;e[this]&&(Array.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(t=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(t[0]),Number(t[1])]))})),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),(function(){i[this]=!0})),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:null!=e&&e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:(e=!1,function(t,i){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var n=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n>=i},maxlength:function(t,e,i){var n=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n<=i},rangelength:function(t,e,i){var n=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n>=i[0]&&n<=i[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var r,a=t(i).attr("type"),o="Step attribute on input type "+a+" is not supported.",s=new RegExp("\\b"+a+"\\b"),l=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},c=function(t){return Math.round(t*Math.pow(10,r))},u=!0;if(a&&!s.test(["text","number","range"].join()))throw new Error(o);return r=l(n),(l(e)>r||c(e)%c(n)!=0)&&(u=!1),this.optional(i)||u},equalTo:function(e,i,n){var r=t(n);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){t(i).valid()})),e===r.val()},remote:function(e,i,n,r){if(this.optional(i))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var a,o,s,l=this.previousValue(i,r);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][r],this.settings.messages[i.name][r]=l.message,n="string"==typeof n&&{url:n}||n,s=t.param(t.extend({data:e},n.data)),l.old===s?l.valid:(l.old=s,a=this,this.startRequest(i),(o={})[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:a.currentForm,success:function(t){var n,o,s,c=!0===t||"true"===t;a.settings.messages[i.name][r]=l.originalMessage,c?(s=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(i),a.formSubmitted=s,a.successList.push(i),a.invalid[i.name]=!1,a.showErrors()):(n={},o=t||a.defaultMessage(i,{method:r,parameters:e}),n[i.name]=l.message=o,a.invalid[i.name]=!0,a.showErrors(n)),l.valid=c,a.stopRequest(i,c)}},n)),"pending")}}});var n,r={};return t.ajaxPrefilter?t.ajaxPrefilter((function(t,e,i){var n=t.port;"abort"===t.mode&&(r[n]&&r[n].abort(),r[n]=i)})):(n=t.ajax,t.ajax=function(e){var i=("mode"in e?e:t.ajaxSettings).mode,a=("port"in e?e:t.ajaxSettings).port;return"abort"===i?(r[a]&&r[a].abort(),r[a]=n.apply(this,arguments),r[a]):n.apply(this,arguments)}),t})?n.apply(e,r):n)||(t.exports=a)},function(t,e,i){"use strict";i.r(e),function(t){i(193);t(document).ready((function(){setTimeout((function(){t("#smartwizard").smartWizard({selected:0,transitionEffect:"fade",toolbarSettings:{toolbarPosition:"none"}}),t("#reset-btn").on("click",(function(){return t("#smartwizard").smartWizard("reset"),!0})),t("#prev-btn").on("click",(function(){return t("#smartwizard").smartWizard("prev"),!0})),t("#next-btn").on("click",(function(){return t("#smartwizard").smartWizard("next"),!0})),t("#smartwizard2").smartWizard({selected:0,transitionEffect:"slide",toolbarSettings:{toolbarPosition:"none"}}),t("#reset-btn2").on("click",(function(){return t("#smartwizard2").smartWizard("reset"),!0})),t("#prev-btn2").on("click",(function(){return t("#smartwizard2").smartWizard("prev"),!0})),t("#next-btn2").on("click",(function(){return t("#smartwizard2").smartWizard("next"),!0})),t("#smartwizard3").smartWizard({selected:0,transitionEffect:"fade",toolbarSettings:{toolbarPosition:"none"}}),t("#reset-btn22").on("click",(function(){return t("#smartwizard3").smartWizard("reset"),!0})),t("#prev-btn22").on("click",(function(){return t("#smartwizard3").smartWizard("prev"),!0})),t("#next-btn22").on("click",(function(){return t("#smartwizard3").smartWizard("next"),!0}))}),2e3)}))}.call(this,i(1))},function(t,e,i){(function(t){!function(t,e,i,n){"use strict";var r={selected:0,keyNavigation:!0,autoAdjustHeight:!0,cycleSteps:!1,backButtonSupport:!0,useURLhash:!0,showStepURLhash:!0,lang:{next:"Next",previous:"Previous"},toolbarSettings:{toolbarPosition:"bottom",toolbarButtonPosition:"end",showNextButton:!0,showPreviousButton:!0,toolbarExtraButtons:[]},anchorSettings:{anchorClickable:!0,enableAllAnchors:!1,markDoneStep:!0,markAllPreviousStepsAsDone:!0,removeDoneStepOnNavigateBack:!1,enableAnchorOnDoneStep:!0},contentURL:null,contentCache:!0,ajaxSettings:{},disabledSteps:[],errorSteps:[],hiddenSteps:[],theme:"default",transitionEffect:"none",transitionSpeed:"400"};function a(e,i){this.options=t.extend(!0,{},r,i),this.main=t(e),this.nav=this.main.children("ul"),this.steps=t("li > a",this.nav),this.container=this.main.children("div"),this.pages=this.container.children("div"),this.current_index=null,this.options.toolbarSettings.toolbarButtonPosition="right"===this.options.toolbarSettings.toolbarButtonPosition?"end":this.options.toolbarSettings.toolbarButtonPosition,this.options.toolbarSettings.toolbarButtonPosition="left"===this.options.toolbarSettings.toolbarButtonPosition?"start":this.options.toolbarSettings.toolbarButtonPosition,this.options.theme=null===this.options.theme||""===this.options.theme?"default":this.options.theme,this.init()}t.extend(a.prototype,{init:function(){this._setElements(),this._setToolbar(),this._setEvents();var i=this.options.selected;if(this.options.useURLhash){var n=e.location.hash;if(n&&n.length>0){var r=t("a[href*='"+n+"']",this.nav);if(r.length>0){var a=this.steps.index(r);i=a>=0?a:i}}}i>0&&this.options.anchorSettings.markDoneStep&&this.options.anchorSettings.markAllPreviousStepsAsDone&&this.steps.eq(i).parent("li").prevAll().addClass("done"),this._showStep(i)},_setElements:function(){this.main.addClass("sw-main sw-theme-"+this.options.theme),this.nav.addClass("nav nav-tabs step-anchor").children("li").addClass("nav-item").children("a").addClass("nav-link"),!1!==this.options.anchorSettings.enableAllAnchors&&!1!==this.options.anchorSettings.anchorClickable&&this.steps.parent("li").addClass("clickable"),this.container.addClass("sw-container tab-content"),this.pages.addClass("tab-pane step-content");var e=this;return this.options.disabledSteps&&this.options.disabledSteps.length>0&&t.each(this.options.disabledSteps,(function(t,i){e.steps.eq(i).parent("li").addClass("disabled")})),this.options.errorSteps&&this.options.errorSteps.length>0&&t.each(this.options.errorSteps,(function(t,i){e.steps.eq(i).parent("li").addClass("danger")})),this.options.hiddenSteps&&this.options.hiddenSteps.length>0&&t.each(this.options.hiddenSteps,(function(t,i){e.steps.eq(i).parent("li").addClass("hidden")})),!0},_setToolbar:function(){if("none"===this.options.toolbarSettings.toolbarPosition)return!0;var e,i,n=!1!==this.options.toolbarSettings.showNextButton?t("<button></button>").text(this.options.lang.next).addClass("btn btn-secondary sw-btn-next").attr("type","button"):null,r=!1!==this.options.toolbarSettings.showPreviousButton?t("<button></button>").text(this.options.lang.previous).addClass("btn btn-secondary sw-btn-prev").attr("type","button"):null,a=t("<div></div>").addClass("btn-group mr-2 sw-btn-group").attr("role","group").append(r,n),o=null;switch(this.options.toolbarSettings.toolbarExtraButtons&&this.options.toolbarSettings.toolbarExtraButtons.length>0&&(o=t("<div></div>").addClass("btn-group mr-2 sw-btn-group-extra").attr("role","group"),t.each(this.options.toolbarSettings.toolbarExtraButtons,(function(t,e){o.append(e.clone(!0))}))),this.options.toolbarSettings.toolbarPosition){case"top":(e=t("<div></div>").addClass("btn-toolbar sw-toolbar sw-toolbar-top justify-content-"+this.options.toolbarSettings.toolbarButtonPosition)).append(a),"start"===this.options.toolbarSettings.toolbarButtonPosition?e.prepend(o):e.append(o),this.container.before(e);break;case"bottom":(i=t("<div></div>").addClass("btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-"+this.options.toolbarSettings.toolbarButtonPosition)).append(a),"start"===this.options.toolbarSettings.toolbarButtonPosition?i.prepend(o):i.append(o),this.container.after(i);break;case"both":(e=t("<div></div>").addClass("btn-toolbar sw-toolbar sw-toolbar-top justify-content-"+this.options.toolbarSettings.toolbarButtonPosition)).append(a),"start"===this.options.toolbarSettings.toolbarButtonPosition?e.prepend(o):e.append(o),this.container.before(e),(i=t("<div></div>").addClass("btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-"+this.options.toolbarSettings.toolbarButtonPosition)).append(a.clone(!0)),null!==o&&("start"===this.options.toolbarSettings.toolbarButtonPosition?i.prepend(o.clone(!0)):i.append(o.clone(!0))),this.container.after(i);break;default:(i=t("<div></div>").addClass("btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-"+this.options.toolbarSettings.toolbarButtonPosition)).append(a),this.options.toolbarSettings.toolbarButtonPosition,i.append(o),this.container.after(i)}return!0},_setEvents:function(){var n=this;return t(this.steps).on("click",(function(t){if(t.preventDefault(),!1===n.options.anchorSettings.anchorClickable)return!0;var e=n.steps.index(this);if(!1===n.options.anchorSettings.enableAnchorOnDoneStep&&n.steps.eq(e).parent("li").hasClass("done"))return!0;e!==n.current_index&&(!1!==n.options.anchorSettings.enableAllAnchors&&!1!==n.options.anchorSettings.anchorClickable||n.steps.eq(e).parent("li").hasClass("done"))&&n._showStep(e)})),t(".sw-btn-next",this.main).on("click",(function(t){t.preventDefault(),n._showNext()})),t(".sw-btn-prev",this.main).on("click",(function(t){t.preventDefault(),n._showPrevious()})),this.options.keyNavigation&&t(i).keyup((function(t){n._keyNav(t)})),this.options.backButtonSupport&&t(e).on("hashchange",(function(i){if(!n.options.useURLhash)return!0;if(e.location.hash){var r=t("a[href*='"+e.location.hash+"']",n.nav);r&&r.length>0&&(i.preventDefault(),n._showStep(n.steps.index(r)))}})),!0},_showNext:function(){for(var t=this.current_index+1,e=t;e<this.steps.length;e++)if(!this.steps.eq(e).parent("li").hasClass("disabled")&&!this.steps.eq(e).parent("li").hasClass("hidden")){t=e;break}if(this.steps.length<=t){if(!this.options.cycleSteps)return!1;t=0}return this._showStep(t),!0},_showPrevious:function(){for(var t=this.current_index-1,e=t;e>=0;e--)if(!this.steps.eq(e).parent("li").hasClass("disabled")&&!this.steps.eq(e).parent("li").hasClass("hidden")){t=e;break}if(0>t){if(!this.options.cycleSteps)return!1;t=this.steps.length-1}return this._showStep(t),!0},_showStep:function(t){return!!this.steps.eq(t)&&(t!=this.current_index&&(!this.steps.eq(t).parent("li").hasClass("disabled")&&!this.steps.eq(t).parent("li").hasClass("hidden")&&(this._loadStepContent(t),!0)))},_loadStepContent:function(e){var i=this,n=this.steps.eq(this.current_index),r="",a=this.steps.eq(e),o=a.data("content-url")&&a.data("content-url").length>0?a.data("content-url"):this.options.contentURL;if(null!==this.current_index&&this.current_index!==e&&(r=this.current_index<e?"forward":"backward"),null!==this.current_index&&!1===this._triggerEvent("leaveStep",[n,this.current_index,r]))return!1;if(!(o&&o.length>0)||a.data("has-content")&&this.options.contentCache)this._transitPage(e);else{var s=a.length>0?t(a.attr("href"),this.main):null,l=t.extend(!0,{},{url:o,type:"POST",data:{step_number:e},dataType:"text",beforeSend:function(){i._loader("show")},error:function(e,n,r){i._loader("hide"),t.error(r)},success:function(t){t&&t.length>0&&(a.data("has-content",!0),s.html(t)),i._loader("hide"),i._transitPage(e)}},this.options.ajaxSettings);t.ajax(l)}return!0},_transitPage:function(e){var i=this,n=this.steps.eq(this.current_index),r=n.length>0?t(n.attr("href"),this.main):null,a=this.steps.eq(e),o=a.length>0?t(a.attr("href"),this.main):null,s="";null!==this.current_index&&this.current_index!==e&&(s=this.current_index<e?"forward":"backward");var l="middle";return 0===e?l="first":e===this.steps.length-1&&(l="final"),this.options.transitionEffect=this.options.transitionEffect.toLowerCase(),this.pages.finish(),"slide"===this.options.transitionEffect?r&&r.length>0?r.slideUp("fast",this.options.transitionEasing,(function(){o.slideDown(i.options.transitionSpeed,i.options.transitionEasing)})):o.slideDown(this.options.transitionSpeed,this.options.transitionEasing):"fade"===this.options.transitionEffect?r&&r.length>0?r.fadeOut("fast",this.options.transitionEasing,(function(){o.fadeIn("fast",i.options.transitionEasing,(function(){t(this).show()}))})):o.fadeIn(this.options.transitionSpeed,this.options.transitionEasing,(function(){t(this).show()})):(r&&r.length>0&&r.hide(),o.show()),this._setURLHash(a.attr("href")),this._setAnchor(e),this._setButtons(e),this._fixHeight(e),this.current_index=e,this._triggerEvent("showStep",[a,this.current_index,s,l]),!0},_setAnchor:function(t){return this.steps.eq(this.current_index).parent("li").removeClass("active"),!1!==this.options.anchorSettings.markDoneStep&&null!==this.current_index&&(this.steps.eq(this.current_index).parent("li").addClass("done"),!1!==this.options.anchorSettings.removeDoneStepOnNavigateBack&&this.steps.eq(t).parent("li").nextAll().removeClass("done")),this.steps.eq(t).parent("li").removeClass("done").addClass("active"),!0},_setButtons:function(e){return this.options.cycleSteps||(0>=e?t(".sw-btn-prev",this.main).addClass("disabled"):t(".sw-btn-prev",this.main).removeClass("disabled"),this.steps.length-1<=e?t(".sw-btn-next",this.main).addClass("disabled"):t(".sw-btn-next",this.main).removeClass("disabled")),!0},_keyNav:function(t){switch(t.which){case 37:this._showPrevious(),t.preventDefault();break;case 39:this._showNext(),t.preventDefault();break;default:return}},_fixHeight:function(e){if(this.options.autoAdjustHeight){var i=this.steps.eq(e).length>0?t(this.steps.eq(e).attr("href"),this.main):null;this.container.finish().animate({minHeight:i.outerHeight()},this.options.transitionSpeed,(function(){}))}return!0},_triggerEvent:function(e,i){var n=t.Event(e);return this.main.trigger(n,i),!n.isDefaultPrevented()&&n.result},_setURLHash:function(t){this.options.showStepURLhash&&e.location.hash!==t&&(e.location.hash=t)},_loader:function(t){switch(t){case"show":this.main.addClass("sw-loading");break;case"hide":this.main.removeClass("sw-loading");break;default:this.main.toggleClass("sw-loading")}},goToStep:function(t){this._transitPage(t)},hiddenSteps:function(e){if(this.options.hiddenSteps=e,this.options.hiddenSteps&&this.options.hiddenSteps.length>0){var i=this;t.each(i.steps,(function(e,n){t.inArray(e,i.options.hiddenSteps)>-1?t(n).parent("li").addClass("hidden"):t(n).parent("li").removeClass("hidden")}))}},theme:function(t){if(this.options.theme===t)return!1;this.main.removeClass("sw-theme-"+this.options.theme),this.options.theme=t,this.main.addClass("sw-theme-"+this.options.theme),this._triggerEvent("themeChanged",[this.options.theme])},next:function(){this._showNext()},prev:function(){this._showPrevious()},reset:function(){if(!1===this._triggerEvent("beginReset"))return!1;this.container.stop(!0),this.pages.stop(!0),this.pages.hide(),this.current_index=null,this._setURLHash(this.steps.eq(this.options.selected).attr("href")),t(".sw-toolbar",this.main).remove(),this.steps.removeClass(),this.steps.parents("li").removeClass(),this.steps.data("has-content",!1),this.init(),this._triggerEvent("endReset")},stepState:function(e,i){e=t.isArray(e)?e:[e];var n=t.grep(this.steps,(function(i,n){return-1!==t.inArray(n,e)}));if(n&&n.length>0)switch(i){case"disable":t(n).parents("li").addClass("disabled");break;case"enable":t(n).parents("li").removeClass("disabled");break;case"hide":t(n).parents("li").addClass("hidden");break;case"show":t(n).parents("li").removeClass("hidden");break;case"error-on":t(n).parents("li").addClass("danger");break;case"error-off":t(n).parents("li").removeClass("danger")}}}),t.fn.smartWizard=function(e){var i,n=arguments;return void 0===e||"object"==typeof e?this.each((function(){t.data(this,"smartWizard")||t.data(this,"smartWizard",new a(this,e))})):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(i=t.data(this[0],"smartWizard"),"destroy"===e&&t.data(this,"smartWizard",null),i instanceof a&&"function"==typeof i[e]?i[e].apply(i,Array.prototype.slice.call(n,1)):this):void 0}}(t,window,document)}).call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(153),n=i.n(e);t(document).ready((function(){new n.a(".clipboard-trigger")}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(196),i(197);var e=i(0),n=i.n(e);t(document).ready((function(){t('[data-toggle="datepicker"]').datepicker(),t('[data-toggle="datepicker-year"]').datepicker({startView:2}),t('[data-toggle="datepicker-month"]').datepicker({startView:1}),t('[data-toggle="datepicker-inline"]').datepicker({inline:!0}),t('[data-toggle="datepicker-icon"]').datepicker({trigger:".datepicker-trigger"}),t('[data-toggle="datepicker-button"]').datepicker({trigger:".datepicker-trigger-btn"}),t('input[name="daterange"]').daterangepicker(),t('input[name="datetimes"]').daterangepicker({timePicker:!0,startDate:n()().startOf("hour"),endDate:n()().startOf("hour").add(32,"hour"),locale:{format:"M/DD hh:mm A"}}),t('input[name="birthday"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1901,maxYear:parseInt(n()().format("YYYY"),10)},(function(t,e,i){var r=n()().diff(t,"years");alert("You are "+r+" years old!")}));var e=n()().subtract(29,"days"),i=n()();function r(e,i){t("#reportrange span").html(e.format("MMMM D, YYYY")+" - "+i.format("MMMM D, YYYY"))}t("#reportrange").daterangepicker({startDate:e,endDate:i,opens:"right",ranges:{Today:[n()(),n()()],Yesterday:[n()().subtract(1,"days"),n()().subtract(1,"days")],"Last 7 Days":[n()().subtract(6,"days"),n()()],"Last 30 Days":[n()().subtract(29,"days"),n()()],"This Month":[n()().startOf("month"),n()().endOf("month")],"Last Month":[n()().subtract(1,"month").startOf("month"),n()().subtract(1,"month").endOf("month")]}},r),r(e,i),t('input[name="daterange-centered"]').daterangepicker({timePicker:!0,buttonClasses:"btn btn-success",cancelClass:"btn-link bg-transparent rm-border text-danger",opens:"center",drops:"up",startDate:"12/12/2018",endDate:"12/18/2018"})}))}.call(this,i(1))},function(t,e,i){
/*!
 * Datepicker v1.0.10
 * https://fengyuanchen.github.io/datepicker
 *
 * Copyright 2014-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-09-29T14:46:10.983Z
 */
!function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t=t&&t.hasOwnProperty("default")?t.default:t;var n={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev">&lsaquo;</li><li data-view="years current"></li><li data-view="years next">&rsaquo;</li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev">&lsaquo;</li><li data-view="year current"></li><li data-view="year next">&rsaquo;</li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li data-view="month prev">&lsaquo;</li><li data-view="month current"></li><li data-view="month next">&rsaquo;</li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},r="undefined"!=typeof window,a=r?window:{},o=!!r&&"ontouchstart"in a.document.documentElement,s="datepicker",l="click.".concat(s),c="focus.".concat(s),u="hide.".concat(s),d="keyup.".concat(s),h="pick.".concat(s),p="resize.".concat(s),f="scroll.".concat(s),m="show.".concat(s),g="touchstart.".concat(s),y="".concat(s,"-hide"),v={},_=0,b=1,x=2,w=Object.prototype.toString;function k(t){return"string"==typeof t}var S=Number.isNaN||a.isNaN;function T(t){return"number"==typeof t&&!S(t)}function M(t){return void 0===t}function C(t){return"date"===(e=t,w.call(e).slice(8,-1).toLowerCase())&&!S(t.getTime());var e}function D(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t.apply(e,n.concat(r))}}function L(t){return'[data-view="'.concat(t,'"]')}function A(t){return t%4==0&&t%100!=0||t%400==0}function E(t,e){return[31,A(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function P(t,e,i){return Math.min(i,E(t,e))}var I=/(y|m|d)+/g;function O(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t(e),r=n.css("position"),a="absolute"===r,o=i?/auto|scroll|hidden/:/auto|scroll/,s=n.parents().filter((function(e,i){var n=t(i);return(!a||"static"!==n.css("position"))&&o.test(n.css("overflow")+n.css("overflow-y")+n.css("overflow-x"))})).eq(0);return"fixed"!==r&&s.length?s:t(e.ownerDocument||document)}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=String(Math.abs(t)),n=i.length,r="";for(t<0&&(r+="-");n<e;)n+=1,r+="0";return r+i}var z=/\d+/g,Y={show:function(){this.built||this.build(),this.shown||this.trigger(m).isDefaultPrevented()||(this.shown=!0,this.$picker.removeClass(y).on(l,t.proxy(this.click,this)),this.showView(this.options.startView),this.inline||(this.$scrollParent.on(f,t.proxy(this.place,this)),t(window).on(p,this.onResize=D(this.place,this)),t(document).on(l,this.onGlobalClick=D(this.globalClick,this)),t(document).on(d,this.onGlobalKeyup=D(this.globalKeyup,this)),o&&t(document).on(g,this.onTouchStart=D(this.touchstart,this)),this.place()))},hide:function(){this.shown&&(this.trigger(u).isDefaultPrevented()||(this.shown=!1,this.$picker.addClass(y).off(l,this.click),this.inline||(this.$scrollParent.off(f,this.place),t(window).off(p,this.onResize),t(document).off(l,this.onGlobalClick),t(document).off(d,this.onGlobalKeyup),o&&t(document).off(g,this.onTouchStart))))},toggle:function(){this.shown?this.hide():this.show()},update:function(){var t=this.getValue();t!==this.oldValue&&(this.setDate(t,!0),this.oldValue=t)},pick:function(t){var e=this.$element,i=this.date;this.trigger(h,{view:t||"",date:i}).isDefaultPrevented()||(i=this.formatDate(this.date),this.setValue(i),this.isInput&&(e.trigger("input"),e.trigger("change")))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.shown&&this.showView(this.options.startView)},getMonthName:function(e,i){var n=this.options,r=n.monthsShort,a=n.months;return t.isNumeric(e)?e=Number(e):M(i)&&(i=e),!0===i&&(a=r),a[T(e)?e:this.date.getMonth()]},getDayName:function(e,i,n){var r=this.options,a=r.days;return t.isNumeric(e)?e=Number(e):(M(n)&&(n=i),M(i)&&(i=e)),n?a=r.daysMin:i&&(a=r.daysShort),a[T(e)?e:this.date.getDay()]},getDate:function(t){var e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(e,i){var n=this.options.filter;if(C(e)||k(e)){if(e=this.parseDate(e),t.isFunction(n)&&!1===n.call(this.$element,e,"day"))return;this.date=e,this.viewDate=new Date(e),i||this.pick(),this.built&&this.render()}},setStartDate:function(t){C(t)||k(t)?this.startDate=this.parseDate(t):this.startDate=null,this.built&&this.render()},setEndDate:function(t){C(t)||k(t)?this.endDate=this.parseDate(t):this.endDate=null,this.built&&this.render()},parseDate:function(e){var i=this.format,n=[];return C(e)||(k(e)&&(n=e.match(z)||[]),C(e=e?new Date(e):new Date)||(e=new Date),n.length===i.parts.length&&(t.each(n,(function(t,n){var r=parseInt(n,10);switch(i.parts[t]){case"yy":e.setFullYear(2e3+r);break;case"yyyy":e.setFullYear(2===n.length?2e3+r:r);break;case"mm":case"m":e.setMonth(r-1)}})),t.each(n,(function(t,n){var r=parseInt(n,10);switch(i.parts[t]){case"dd":case"d":e.setDate(r)}})))),new Date(e.getFullYear(),e.getMonth(),e.getDate())},formatDate:function(e){var i=this.format,n="";if(C(e)){var r=e.getFullYear(),a=e.getMonth(),o=e.getDate(),s={d:o,dd:R(o,2),m:a+1,mm:R(a+1,2),yy:String(r).substring(2),yyyy:R(r,4)};n=i.source,t.each(i.parts,(function(t,e){n=n.replace(e,s[e])}))}return n},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(s)}},F={click:function(e){var i=t(e.target),n=this.options,r=this.date,a=this.viewDate,o=this.format;if(e.stopPropagation(),e.preventDefault(),!i.hasClass("disabled")){var s=i.data("view"),l=a.getFullYear(),c=a.getMonth(),u=a.getDate();switch(s){case"years prev":case"years next":l="years prev"===s?l-10:l+10,a.setFullYear(l),a.setDate(P(l,c,u)),this.renderYears();break;case"year prev":case"year next":l="year prev"===s?l-1:l+1,a.setFullYear(l),a.setDate(P(l,c,u)),this.renderMonths();break;case"year current":o.hasYear&&this.showView(x);break;case"year picked":o.hasMonth?this.showView(b):(i.siblings(".".concat(n.pickedClass)).removeClass(n.pickedClass).data("view","year"),this.hideView()),this.pick("year");break;case"year":l=parseInt(i.text(),10),r.setDate(P(l,c,u)),r.setFullYear(l),a.setDate(P(l,c,u)),a.setFullYear(l),o.hasMonth?this.showView(b):(i.addClass(n.pickedClass).data("view","year picked").siblings(".".concat(n.pickedClass)).removeClass(n.pickedClass).data("view","year"),this.hideView()),this.pick("year");break;case"month prev":case"month next":(c="month prev"===s?c-1:c+1)<0?(l-=1,c+=12):c>11&&(l+=1,c-=12),a.setFullYear(l),a.setDate(P(l,c,u)),a.setMonth(c),this.renderDays();break;case"month current":o.hasMonth&&this.showView(b);break;case"month picked":o.hasDay?this.showView(_):(i.siblings(".".concat(n.pickedClass)).removeClass(n.pickedClass).data("view","month"),this.hideView()),this.pick("month");break;case"month":c=t.inArray(i.text(),n.monthsShort),r.setFullYear(l),r.setDate(P(l,c,u)),r.setMonth(c),a.setFullYear(l),a.setDate(P(l,c,u)),a.setMonth(c),o.hasDay?this.showView(_):(i.addClass(n.pickedClass).data("view","month picked").siblings(".".concat(n.pickedClass)).removeClass(n.pickedClass).data("view","month"),this.hideView()),this.pick("month");break;case"day prev":case"day next":case"day":"day prev"===s?c-=1:"day next"===s&&(c+=1),u=parseInt(i.text(),10),r.setDate(1),r.setFullYear(l),r.setMonth(c),r.setDate(u),a.setDate(1),a.setFullYear(l),a.setMonth(c),a.setDate(u),this.renderDays(),"day"===s&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}}},globalClick:function(t){for(var e=t.target,i=this.element,n=this.$trigger[0],r=!0;e!==document;){if(e===n||e===i){r=!1;break}e=e.parentNode}r&&this.hide()},keyup:function(){this.update()},globalKeyup:function(t){var e=t.target,i=t.key,n=t.keyCode;this.isInput&&e!==this.element&&this.shown&&("Tab"===i||9===n)&&this.hide()},touchstart:function(e){var i=e.target;this.isInput&&i!==this.element&&!t.contains(this.$picker[0],i)&&(this.hide(),this.element.blur())}},H={render:function(){this.renderYears(),this.renderMonths(),this.renderDays()},renderWeek:function(){var e=this,i=[],n=this.options,r=n.weekStart,a=n.daysMin;r=parseInt(r,10)%7,a=a.slice(r).concat(a.slice(0,r)),t.each(a,(function(t,n){i.push(e.createItem({text:n}))})),this.$week.html(i.join(""))},renderYears:function(){var t,e=this.options,i=this.startDate,n=this.endDate,r=e.disabledClass,a=e.filter,o=e.yearSuffix,s=this.viewDate.getFullYear(),l=(new Date).getFullYear(),c=this.date.getFullYear(),u=[],d=!1,h=!1;for(t=-5;t<=6;t+=1){var p=new Date(s+t,1,1),f=!1;i&&(f=p.getFullYear()<i.getFullYear(),-5===t&&(d=f)),!f&&n&&(f=p.getFullYear()>n.getFullYear(),6===t&&(h=f)),!f&&a&&(f=!1===a.call(this.$element,p,"year"));var m=s+t===c,g=m?"year picked":"year";u.push(this.createItem({picked:m,disabled:f,text:s+t,view:f?"year disabled":g,highlighted:p.getFullYear()===l}))}this.$yearsPrev.toggleClass(r,d),this.$yearsNext.toggleClass(r,h),this.$yearsCurrent.toggleClass(r,!0).html("".concat(s+-5+o," - ").concat(s+6).concat(o)),this.$years.html(u.join(""))},renderMonths:function(){var e,i=this.options,n=this.startDate,r=this.endDate,a=this.viewDate,o=i.disabledClass||"",s=i.monthsShort,l=t.isFunction(i.filter)&&i.filter,c=a.getFullYear(),u=new Date,d=u.getFullYear(),h=u.getMonth(),p=this.date.getFullYear(),f=this.date.getMonth(),m=[],g=!1,y=!1;for(e=0;e<=11;e+=1){var v=new Date(c,e,1),_=!1;n&&(_=(g=v.getFullYear()===n.getFullYear())&&v.getMonth()<n.getMonth()),!_&&r&&(_=(y=v.getFullYear()===r.getFullYear())&&v.getMonth()>r.getMonth()),!_&&l&&(_=!1===l.call(this.$element,v,"month"));var b=c===p&&e===f,x=b?"month picked":"month";m.push(this.createItem({disabled:_,picked:b,highlighted:c===d&&v.getMonth()===h,index:e,text:s[e],view:_?"month disabled":x}))}this.$yearPrev.toggleClass(o,g),this.$yearNext.toggleClass(o,y),this.$yearCurrent.toggleClass(o,g&&y).html(c+i.yearSuffix||""),this.$months.html(m.join(""))},renderDays:function(){var t,e,i,n=this.$element,r=this.options,a=this.startDate,o=this.endDate,s=this.viewDate,l=this.date,c=r.disabledClass,u=r.filter,d=r.months,h=r.weekStart,p=r.yearSuffix,f=s.getFullYear(),m=s.getMonth(),g=new Date,y=g.getFullYear(),v=g.getMonth(),_=g.getDate(),b=l.getFullYear(),x=l.getMonth(),w=l.getDate(),k=[],S=f,T=m,M=!1;0===m?(S-=1,T=11):T-=1,t=E(S,T);var C=new Date(f,m,1);for((i=C.getDay()-parseInt(h,10)%7)<=0&&(i+=7),a&&(M=C.getTime()<=a.getTime()),e=t-(i-1);e<=t;e+=1){var D=new Date(S,T,e),L=!1;a&&(L=D.getTime()<a.getTime()),!L&&u&&(L=!1===u.call(n,D,"day")),k.push(this.createItem({disabled:L,highlighted:S===y&&T===v&&D.getDate()===_,muted:!0,picked:S===b&&T===x&&e===w,text:e,view:"day prev"}))}var A=[],P=f,I=m,O=!1;11===m?(P+=1,I=0):I+=1,t=E(f,m),i=42-(k.length+t);var R=new Date(f,m,t);for(o&&(O=R.getTime()>=o.getTime()),e=1;e<=i;e+=1){var z=new Date(P,I,e),Y=P===b&&I===x&&e===w,F=!1;o&&(F=z.getTime()>o.getTime()),!F&&u&&(F=!1===u.call(n,z,"day")),A.push(this.createItem({disabled:F,picked:Y,highlighted:P===y&&I===v&&z.getDate()===_,muted:!0,text:e,view:"day next"}))}var H=[];for(e=1;e<=t;e+=1){var N=new Date(f,m,e),B=!1;a&&(B=N.getTime()<a.getTime()),!B&&o&&(B=N.getTime()>o.getTime()),!B&&u&&(B=!1===u.call(n,N,"day"));var j=f===b&&m===x&&e===w,V=j?"day picked":"day";H.push(this.createItem({disabled:B,picked:j,highlighted:f===y&&m===v&&N.getDate()===_,text:e,view:B?"day disabled":V}))}this.$monthPrev.toggleClass(c,M),this.$monthNext.toggleClass(c,O),this.$monthCurrent.toggleClass(c,M&&O).html(r.yearFirst?"".concat(f+p," ").concat(d[m]):"".concat(d[m]," ").concat(f).concat(p)),this.$days.html(k.join("")+H.join("")+A.join(""))}},N="".concat(s,"-top-left"),B="".concat(s,"-top-right"),j="".concat(s,"-bottom-left"),V="".concat(s,"-bottom-right"),W=[N,B,j,V].join(" "),U=function(){function r(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,r),this.$element=t(i),this.element=i,this.options=t.extend({},n,v[a.language],t.isPlainObject(a)&&a),this.$scrollParent=O(i,!0),this.built=!1,this.shown=!1,this.isInput=!1,this.inline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}var a,o,p;return a=r,p=[{key:"setDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.extend(n,v[e.language],t.isPlainObject(e)&&e)}}],(o=[{key:"init",value:function(){var e=this.$element,i=this.options,n=i.startDate,r=i.endDate,a=i.date;this.$trigger=t(i.trigger),this.isInput=e.is("input")||e.is("textarea"),this.inline=i.inline&&(i.container||!this.isInput),this.format=function(e){var i=String(e).toLowerCase(),n=i.match(I);if(!n||0===n.length)throw new Error("Invalid date format.");return e={source:i,parts:n},t.each(n,(function(t,i){switch(i){case"dd":case"d":e.hasDay=!0;break;case"mm":case"m":e.hasMonth=!0;break;case"yyyy":case"yy":e.hasYear=!0}})),e}(i.format);var o=this.getValue();this.initialValue=o,this.oldValue=o,a=this.parseDate(a||o),n&&(n=this.parseDate(n),a.getTime()<n.getTime()&&(a=new Date(n)),this.startDate=n),r&&(r=this.parseDate(r),n&&r.getTime()<n.getTime()&&(r=new Date(n)),a.getTime()>r.getTime()&&(a=new Date(r)),this.endDate=r),this.date=a,this.viewDate=new Date(a),this.initialDate=new Date(this.date),this.bind(),(i.autoShow||this.inline)&&this.show(),i.autoPick&&this.pick()}},{key:"build",value:function(){if(!this.built){this.built=!0;var e=this.$element,i=this.options,n=t(i.template);this.$picker=n,this.$week=n.find(L("week")),this.$yearsPicker=n.find(L("years picker")),this.$yearsPrev=n.find(L("years prev")),this.$yearsNext=n.find(L("years next")),this.$yearsCurrent=n.find(L("years current")),this.$years=n.find(L("years")),this.$monthsPicker=n.find(L("months picker")),this.$yearPrev=n.find(L("year prev")),this.$yearNext=n.find(L("year next")),this.$yearCurrent=n.find(L("year current")),this.$months=n.find(L("months")),this.$daysPicker=n.find(L("days picker")),this.$monthPrev=n.find(L("month prev")),this.$monthNext=n.find(L("month next")),this.$monthCurrent=n.find(L("month current")),this.$days=n.find(L("days")),this.inline?t(i.container||e).append(n.addClass("".concat(s,"-inline"))):(t(document.body).append(n.addClass("".concat(s,"-dropdown"))),n.addClass(y).css({zIndex:parseInt(i.zIndex,10)})),this.renderWeek()}}},{key:"unbuild",value:function(){this.built&&(this.built=!1,this.$picker.remove())}},{key:"bind",value:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.on(m,e.show),t.isFunction(e.hide)&&i.on(u,e.hide),t.isFunction(e.pick)&&i.on(h,e.pick),this.isInput&&i.on(d,t.proxy(this.keyup,this)),this.inline||(e.trigger?this.$trigger.on(l,t.proxy(this.toggle,this)):this.isInput?i.on(c,t.proxy(this.show,this)):i.on(l,t.proxy(this.show,this)))}},{key:"unbind",value:function(){var e=this.$element,i=this.options;t.isFunction(i.show)&&e.off(m,i.show),t.isFunction(i.hide)&&e.off(u,i.hide),t.isFunction(i.pick)&&e.off(h,i.pick),this.isInput&&e.off(d,this.keyup),this.inline||(i.trigger?this.$trigger.off(l,this.toggle):this.isInput?e.off(c,this.show):e.off(l,this.show))}},{key:"showView",value:function(t){var e=this.$yearsPicker,i=this.$monthsPicker,n=this.$daysPicker,r=this.format;if(r.hasYear||r.hasMonth||r.hasDay)switch(Number(t)){case x:i.addClass(y),n.addClass(y),r.hasYear?(this.renderYears(),e.removeClass(y),this.place()):this.showView(_);break;case b:e.addClass(y),n.addClass(y),r.hasMonth?(this.renderMonths(),i.removeClass(y),this.place()):this.showView(x);break;default:e.addClass(y),i.addClass(y),r.hasDay?(this.renderDays(),n.removeClass(y),this.place()):this.showView(b)}}},{key:"hideView",value:function(){!this.inline&&this.options.autoHide&&this.hide()}},{key:"place",value:function(){if(!this.inline){var e=this.$element,i=this.options,n=this.$picker,r=t(document).outerWidth(),a=t(document).outerHeight(),o=e.outerWidth(),s=e.outerHeight(),l=n.width(),c=n.height(),u=e.offset(),d=u.left,h=u.top,p=parseFloat(i.offset),f=N;S(p)&&(p=10),h>c&&h+s+c>a?(h-=c+p,f=j):h+=s+p,d+l>r&&(d+=o-l,f=f.replace("left","right")),n.removeClass(W).addClass(f).css({top:h,left:d})}}},{key:"trigger",value:function(e,i){var n=t.Event(e,i);return this.$element.trigger(n),n}},{key:"createItem",value:function(e){var i=this.options,n=i.itemTag,r={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},a=[];return t.extend(r,e),r.muted&&a.push(i.mutedClass),r.highlighted&&a.push(i.highlightedClass),r.picked&&a.push(i.pickedClass),r.disabled&&a.push(i.disabledClass),"<".concat(n,' class="').concat(a.join(" "),'" data-view="').concat(r.view,'">').concat(r.text,"</").concat(n,">")}},{key:"getValue",value:function(){var t=this.$element;return this.isInput?t.val():t.text()}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.$element;this.isInput?e.val(t):this.inline&&!this.options.container||e.text(t)}}])&&i(a.prototype,o),p&&i(a,p),r}();if(t.extend&&t.extend(U.prototype,H,F,Y),t.fn){var $=t.fn.datepicker;t.fn.datepicker=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var a;return this.each((function(i,r){var o=t(r),l="destroy"===e,c=o.data(s);if(!c){if(l)return;var u=t.extend({},o.data(),t.isPlainObject(e)&&e);c=new U(r,u),o.data(s,c)}if(k(e)){var d=c[e];t.isFunction(d)&&(a=d.apply(c,n),l&&o.removeData(s))}})),M(a)?this:a},t.fn.datepicker.Constructor=U,t.fn.datepicker.languages=v,t.fn.datepicker.setDefaults=U.setDefaults,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=$,this}}}(i(1))},function(t,e,i){var n,r;
/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/n=[i(0),i(1)],void 0===(r=function(t,e){return e.fn||(e.fn={}),"function"!=typeof t&&t.hasOwnProperty("default")&&(t=t.default),function(t,e){var i=function(i,n,r){if(this.parentEl="body",this.element=e(i),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=t().subtract(100,"year").format("YYYY"),this.maxYear=t().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof n&&null!==n||(n={}),"string"==typeof(n=e.extend(this.element.data(),n)).template||n.template instanceof e||(n.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=n.parentEl&&e(n.parentEl).length?e(n.parentEl):e(this.parentEl),this.container=e(n.template).appendTo(this.parentEl),"object"==typeof n.locale&&("string"==typeof n.locale.direction&&(this.locale.direction=n.locale.direction),"string"==typeof n.locale.format&&(this.locale.format=n.locale.format),"string"==typeof n.locale.separator&&(this.locale.separator=n.locale.separator),"object"==typeof n.locale.daysOfWeek&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),"object"==typeof n.locale.monthNames&&(this.locale.monthNames=n.locale.monthNames.slice()),"number"==typeof n.locale.firstDay&&(this.locale.firstDay=n.locale.firstDay),"string"==typeof n.locale.applyLabel&&(this.locale.applyLabel=n.locale.applyLabel),"string"==typeof n.locale.cancelLabel&&(this.locale.cancelLabel=n.locale.cancelLabel),"string"==typeof n.locale.weekLabel&&(this.locale.weekLabel=n.locale.weekLabel),"string"==typeof n.locale.customRangeLabel)){(h=document.createElement("textarea")).innerHTML=n.locale.customRangeLabel;var a=h.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof n.startDate&&(this.startDate=t(n.startDate,this.locale.format)),"string"==typeof n.endDate&&(this.endDate=t(n.endDate,this.locale.format)),"string"==typeof n.minDate&&(this.minDate=t(n.minDate,this.locale.format)),"string"==typeof n.maxDate&&(this.maxDate=t(n.maxDate,this.locale.format)),"object"==typeof n.startDate&&(this.startDate=t(n.startDate)),"object"==typeof n.endDate&&(this.endDate=t(n.endDate)),"object"==typeof n.minDate&&(this.minDate=t(n.minDate)),"object"==typeof n.maxDate&&(this.maxDate=t(n.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof n.applyButtonClasses&&(this.applyButtonClasses=n.applyButtonClasses),"string"==typeof n.applyClass&&(this.applyButtonClasses=n.applyClass),"string"==typeof n.cancelButtonClasses&&(this.cancelButtonClasses=n.cancelButtonClasses),"string"==typeof n.cancelClass&&(this.cancelButtonClasses=n.cancelClass),"object"==typeof n.maxSpan&&(this.maxSpan=n.maxSpan),"object"==typeof n.dateLimit&&(this.maxSpan=n.dateLimit),"string"==typeof n.opens&&(this.opens=n.opens),"string"==typeof n.drops&&(this.drops=n.drops),"boolean"==typeof n.showWeekNumbers&&(this.showWeekNumbers=n.showWeekNumbers),"boolean"==typeof n.showISOWeekNumbers&&(this.showISOWeekNumbers=n.showISOWeekNumbers),"string"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"object"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses.join(" ")),"boolean"==typeof n.showDropdowns&&(this.showDropdowns=n.showDropdowns),"number"==typeof n.minYear&&(this.minYear=n.minYear),"number"==typeof n.maxYear&&(this.maxYear=n.maxYear),"boolean"==typeof n.showCustomRangeLabel&&(this.showCustomRangeLabel=n.showCustomRangeLabel),"boolean"==typeof n.singleDatePicker&&(this.singleDatePicker=n.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof n.timePicker&&(this.timePicker=n.timePicker),"boolean"==typeof n.timePickerSeconds&&(this.timePickerSeconds=n.timePickerSeconds),"number"==typeof n.timePickerIncrement&&(this.timePickerIncrement=n.timePickerIncrement),"boolean"==typeof n.timePicker24Hour&&(this.timePicker24Hour=n.timePicker24Hour),"boolean"==typeof n.autoApply&&(this.autoApply=n.autoApply),"boolean"==typeof n.autoUpdateInput&&(this.autoUpdateInput=n.autoUpdateInput),"boolean"==typeof n.linkedCalendars&&(this.linkedCalendars=n.linkedCalendars),"function"==typeof n.isInvalidDate&&(this.isInvalidDate=n.isInvalidDate),"function"==typeof n.isCustomDate&&(this.isCustomDate=n.isCustomDate),"boolean"==typeof n.alwaysShowCalendars&&(this.alwaysShowCalendars=n.alwaysShowCalendars),0!=this.locale.firstDay)for(var o=this.locale.firstDay;o>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),o--;var s,l,c;if(void 0===n.startDate&&void 0===n.endDate&&e(this.element).is(":text")){var u=e(this.element).val(),d=u.split(this.locale.separator);s=l=null,2==d.length?(s=t(d[0],this.locale.format),l=t(d[1],this.locale.format)):this.singleDatePicker&&""!==u&&(s=t(u,this.locale.format),l=t(u,this.locale.format)),null!==s&&null!==l&&(this.setStartDate(s),this.setEndDate(l))}if("object"==typeof n.ranges){for(c in n.ranges){s="string"==typeof n.ranges[c][0]?t(n.ranges[c][0],this.locale.format):t(n.ranges[c][0]),l="string"==typeof n.ranges[c][1]?t(n.ranges[c][1],this.locale.format):t(n.ranges[c][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var h,p=this.maxDate;if(this.maxSpan&&p&&s.clone().add(this.maxSpan).isAfter(p)&&(p=s.clone().add(this.maxSpan)),p&&l.isAfter(p)&&(l=p.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||p&&s.isAfter(p,this.timepicker?"minute":"day")))(h=document.createElement("textarea")).innerHTML=c,a=h.value,this.ranges[a]=[s,l]}var f="<ul>";for(c in this.ranges)f+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof n.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===n.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",e.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.updateElement()};return i.prototype={constructor:i,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,i,n;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(n=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(n=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(i),this.rightCalendar.month.hour(t).minute(e).second(i));this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var n,r=(n="left"==i?this.leftCalendar:this.rightCalendar).month.month(),a=n.month.year(),o=n.month.hour(),s=n.month.minute(),l=n.month.second(),c=t([a,r]).daysInMonth(),u=t([a,r,1]),d=t([a,r,c]),h=t(u).subtract(1,"month").month(),p=t(u).subtract(1,"month").year(),f=t([p,h]).daysInMonth(),m=u.day();(n=[]).firstDay=u,n.lastDay=d;for(var g=0;g<6;g++)n[g]=[];var y=f-m+this.locale.firstDay+1;y>f&&(y-=7),m==this.locale.firstDay&&(y=f-6);for(var v=t([p,h,y,12,s,l]),_=(g=0,0),b=0;g<42;g++,_++,v=t(v).add(24,"hour"))g>0&&_%7==0&&(_=0,b++),n[b][_]=v.clone().hour(o).minute(s).second(l),v.hour(12),this.minDate&&n[b][_].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&n[b][_].isBefore(this.minDate)&&"left"==i&&(n[b][_]=this.minDate.clone()),this.maxDate&&n[b][_].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&n[b][_].isAfter(this.maxDate)&&"right"==i&&(n[b][_]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=n:this.rightCalendar.calendar=n;var x="left"==i?this.minDate:this.startDate,w=this.maxDate,k=("left"==i?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');k+="<thead>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+="<th></th>"),x&&!x.isBefore(n.firstDay)||this.linkedCalendars&&"left"!=i?k+="<th></th>":k+='<th class="prev available"><span></span></th>';var S=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY");if(this.showDropdowns){for(var T=n[1][1].month(),M=n[1][1].year(),C=w&&w.year()||this.maxYear,D=x&&x.year()||this.minYear,L=M==D,A=M==C,E='<select class="monthselect">',P=0;P<12;P++)(!L||x&&P>=x.month())&&(!A||w&&P<=w.month())?E+="<option value='"+P+"'"+(P===T?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":E+="<option value='"+P+"'"+(P===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";E+="</select>";for(var I='<select class="yearselect">',O=D;O<=C;O++)I+='<option value="'+O+'"'+(O===M?' selected="selected"':"")+">"+O+"</option>";S=E+(I+="</select>")}if(k+='<th colspan="5" class="month">'+S+"</th>",w&&!w.isAfter(n.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?k+="<th></th>":k+='<th class="next available"><span></span></th>',k+="</tr>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,(function(t,e){k+="<th>"+e+"</th>"})),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.maxSpan){var R=this.startDate.clone().add(this.maxSpan).endOf("day");w&&!R.isBefore(w)||(w=R)}for(b=0;b<6;b++){for(k+="<tr>",this.showWeekNumbers?k+='<td class="week">'+n[b][0].week()+"</td>":this.showISOWeekNumbers&&(k+='<td class="week">'+n[b][0].isoWeek()+"</td>"),_=0;_<7;_++){var z=[];n[b][_].isSame(new Date,"day")&&z.push("today"),n[b][_].isoWeekday()>5&&z.push("weekend"),n[b][_].month()!=n[1][1].month()&&z.push("off","ends"),this.minDate&&n[b][_].isBefore(this.minDate,"day")&&z.push("off","disabled"),w&&n[b][_].isAfter(w,"day")&&z.push("off","disabled"),this.isInvalidDate(n[b][_])&&z.push("off","disabled"),n[b][_].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&z.push("active","start-date"),null!=this.endDate&&n[b][_].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&z.push("active","end-date"),null!=this.endDate&&n[b][_]>this.startDate&&n[b][_]<this.endDate&&z.push("in-range");var Y=this.isCustomDate(n[b][_]);!1!==Y&&("string"==typeof Y?z.push(Y):Array.prototype.push.apply(z,Y));var F="",H=!1;for(g=0;g<z.length;g++)F+=z[g]+" ","disabled"==z[g]&&(H=!0);H||(F+="available"),k+='<td class="'+F.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+_+'">'+n[b][_].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".drp-calendar."+i+" .calendar-table").html(k)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,i,n,r=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(r=this.startDate.clone().add(this.maxSpan)),"left"==t)i=this.startDate.clone(),n=this.minDate;else if("right"==t){i=this.endDate.clone(),n=this.startDate;var a=this.container.find(".drp-calendar.right .calendar-time");if(""!=a.html()&&(i.hour(isNaN(i.hour())?a.find(".hourselect option:selected").val():i.hour()),i.minute(isNaN(i.minute())?a.find(".minuteselect option:selected").val():i.minute()),i.second(isNaN(i.second())?a.find(".secondselect option:selected").val():i.second()),!this.timePicker24Hour)){var o=a.find(".ampmselect option:selected").val();"PM"===o&&i.hour()<12&&i.hour(i.hour()+12),"AM"===o&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),r&&i.isAfter(r)&&(i=r.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var u=c;this.timePicker24Hour||(u=i.hour()>=12?12==c?12:c+12:12==c?0:c);var d=i.clone().hour(u),h=!1;n&&d.minute(59).isBefore(n)&&(h=!0),r&&d.minute(0).isAfter(r)&&(h=!0),u!=i.hour()||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":e+='<option value="'+c+'" selected="selected">'+c+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',c=0;c<60;c+=this.timePickerIncrement){var p=c<10?"0"+c:c;d=i.clone().minute(c),h=!1,n&&d.second(59).isBefore(n)&&(h=!0),r&&d.second(0).isAfter(r)&&(h=!0),i.minute()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+c+'">'+p+"</option>":e+='<option value="'+c+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',c=0;c<60;c++)p=c<10?"0"+c:c,d=i.clone().second(c),h=!1,n&&d.isBefore(n)&&(h=!0),r&&d.isAfter(r)&&(h=!0),i.second()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+c+'">'+p+"</option>":e+='<option value="'+c+'" selected="selected">'+p+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",m="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(f=' disabled="disabled" class="disabled"'),r&&i.clone().hour(0).minute(0).second(0).isAfter(r)&&(m=' disabled="disabled" class="disabled"'),i.hour()>=12?e+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":e+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+m+">PM</option>",e+="</select>"}this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,i={top:0,left:0},n=this.drops,r=e(window).width();switch(this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),n){case"auto":(t=this.element.offset().top+this.element.outerHeight()-i.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(t=this.element.offset().top-this.container.outerHeight()-i.top,n="up");break;case"up":t=this.element.offset().top-this.container.outerHeight()-i.top;break;default:t=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});var a=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==n),"left"==this.opens){var o=r-this.element.offset().left-this.element.outerWidth();a+o>e(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:o,left:"auto"})}else if("center"==this.opens)(s=this.element.offset().left-i.left+this.element.outerWidth()/2-a/2)<0?this.container.css({top:t,right:"auto",left:9}):s+a>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"});else{var s;(s=this.element.offset().left-i.left)+a>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"})}},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy((function(t){this.outsideClick(t)}),this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy((function(t){this.move(t)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var i=e(t.target);"focusin"==t.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var i=e(t.target).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),a=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[n][r]:this.rightCalendar.calendar[n][r],o=this.leftCalendar,s=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each((function(t,i){if(!e(i).hasClass("week")){var n=e(i).attr("data-title"),r=n.substr(1,1),c=n.substr(3,1),u=e(i).parents(".drp-calendar").hasClass("left")?o.calendar[r][c]:s.calendar[r][c];u.isAfter(l)&&u.isBefore(a)||u.isSame(a,"day")?e(i).addClass("in-range"):e(i).removeClass("in-range")}}))}},clickDate:function(t){if(e(t.target).hasClass("available")){var i=e(t.target).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),a=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[n][r]:this.rightCalendar.calendar[n][r];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(c=this.container.find(".left .ampmselect").val())&&o<12&&(o+=12),"AM"===c&&12===o&&(o=0));var s=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(s)&&(s=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(o).minute(s).second(l)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var c;if(this.timePicker)o=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(c=this.container.find(".right .ampmselect").val())&&o<12&&(o+=12),"AM"===c&&12===o&&(o=0)),s=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(s)&&(s=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,a=a.clone().hour(o).minute(s).second(l);this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var i in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(n)==this.ranges[i][0].format(n)&&this.endDate.format(n)==this.ranges[i][1].format(n)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var i=e(t.target).closest(".drp-calendar").hasClass("left"),n=i?"left":"right",r=this.container.find(".drp-calendar."+n),a=parseInt(r.find(".monthselect").val(),10),o=r.find(".yearselect").val();i||(o<this.startDate.year()||o==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),o=this.maxDate.year()),i?(this.leftCalendar.month.month(a).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var i=e(t.target).closest(".drp-calendar"),n=i.hasClass("left"),r=parseInt(i.find(".hourselect").val(),10),a=parseInt(i.find(".minuteselect").val(),10);isNaN(a)&&(a=parseInt(i.find(".minuteselect option:last").val(),10));var o=this.timePickerSeconds?parseInt(i.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=i.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(n){var l=this.startDate.clone();l.hour(r),l.minute(a),l.second(o),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(r),c.minute(a),c.second(o),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),i=null,n=null;2===e.length&&(i=t(e[0],this.locale.format),n=t(e[1],this.locale.format)),(this.singleDatePicker||null===i||null===n)&&(n=i=t(this.element.val(),this.locale.format)),i.isValid()&&n.isValid()&&(this.setStartDate(i),this.setEndDate(n),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,n){var r=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each((function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,r,n))})),this},i}(t,e)}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";i.r(e),function(t){i(199);t(document).ready((function(){t(".input-mask-trigger").inputmask()}))}.call(this,i(1))},function(t,e,i){
/*!
 * dist/jquery.inputmask
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2021 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.6
 */
t.exports=function(t){return function(){"use strict";var e={4528:function(t){t.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"Z":90,"CONTROL":17,"PAUSE/BREAK":19,"WINDOWS_LEFT":91,"WINDOWS_RIGHT":92,"KEY_229":229}')},3046:function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(3851),i(219),i(207),i(5296);var r=((n=i(2394))&&n.__esModule?n:{default:n}).default;e.default=r},8741:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.default=i},3976:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=i(4528))&&n.__esModule?n:{default:n},a={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(t,e){return"function"==typeof e.onBeforeMask?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[r.default.BACKSPACE,r.default.TAB,r.default["PAUSE/BREAK"],r.default.ESCAPE,r.default.PAGE_UP,r.default.PAGE_DOWN,r.default.END,r.default.HOME,r.default.LEFT,r.default.UP,r.default.RIGHT,r.default.DOWN,r.default.INSERT,r.default.DELETE,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3};e.default=a},7392:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={9:{validator:"[0-9-]",definitionSymbol:"*"},a:{validator:"[A-Za-z--]",definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]"}}},3287:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=i(8254))&&n.__esModule?n:{default:n};if(void 0===r.default)throw"jQuery not loaded!";var a=r.default;e.default=a},9845:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.iphone=e.iemobile=e.mobile=e.ie=e.ua=void 0;var n,r=(n=i(9380))&&n.__esModule?n:{default:n},a=r.default.navigator&&r.default.navigator.userAgent||"",o=a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0,s="ontouchstart"in r.default,l=/iemobile/i.test(a),c=/iphone/i.test(a)&&!l;e.iphone=c,e.iemobile=l,e.mobile=s,e.ie=o,e.ua=a},7184:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(i,"\\$1")};var i=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EventHandlers=void 0;var n,r=i(8711),a=(n=i(4528))&&n.__esModule?n:{default:n},o=i(9845),s=i(7215),l=i(7760),c=i(4713),u={keydownEvent:function(t){var e=this.inputmask,i=e.opts,n=e.dependencyLib,u=e.maskset,d=this,h=n(d),p=t.keyCode,f=r.caret.call(e,d),m=i.onKeyDown.call(this,t,r.getBuffer.call(e),f,i);if(void 0!==m)return m;if(p===a.default.BACKSPACE||p===a.default.DELETE||o.iphone&&p===a.default.BACKSPACE_SAFARI||t.ctrlKey&&p===a.default.X&&!("oncut"in d))t.preventDefault(),s.handleRemove.call(e,d,p,f),(0,l.writeBuffer)(d,r.getBuffer.call(e,!0),u.p,t,d.inputmask._valueGet()!==r.getBuffer.call(e).join(""));else if(p===a.default.END||p===a.default.PAGE_DOWN){t.preventDefault();var g=r.seekNext.call(e,r.getLastValidPosition.call(e));r.caret.call(e,d,t.shiftKey?f.begin:g,g,!0)}else p===a.default.HOME&&!t.shiftKey||p===a.default.PAGE_UP?(t.preventDefault(),r.caret.call(e,d,0,t.shiftKey?f.begin:0,!0)):i.undoOnEscape&&p===a.default.ESCAPE&&!0!==t.altKey?((0,l.checkVal)(d,!0,!1,e.undoValue.split("")),h.trigger("click")):!0===i.tabThrough&&p===a.default.TAB?!0===t.shiftKey?(f.end=r.seekPrevious.call(e,f.end,!0),!0===c.getTest.call(e,f.end-1).match.static&&f.end--,f.begin=r.seekPrevious.call(e,f.end,!0),f.begin>=0&&f.end>0&&(t.preventDefault(),r.caret.call(e,d,f.begin,f.end))):(f.begin=r.seekNext.call(e,f.begin,!0),f.end=r.seekNext.call(e,f.begin,!0),f.end<u.maskLength&&f.end--,f.begin<=u.maskLength&&(t.preventDefault(),r.caret.call(e,d,f.begin,f.end))):t.shiftKey||i.insertModeVisual&&!1===i.insertMode&&(p===a.default.RIGHT?setTimeout((function(){var t=r.caret.call(e,d);r.caret.call(e,d,t.begin)}),0):p===a.default.LEFT&&setTimeout((function(){var t=r.translatePosition.call(e,d.inputmask.caretPos.begin);r.translatePosition.call(e,d.inputmask.caretPos.end),e.isRTL?r.caret.call(e,d,t+(t===u.maskLength?0:1)):r.caret.call(e,d,t-(0===t?0:1))}),0));e.ignorable=i.ignorables.includes(p)},keypressEvent:function(t,e,i,n,o){var c=this.inputmask||this,u=c.opts,d=c.dependencyLib,h=c.maskset,p=c.el,f=d(p),m=t.which||t.charCode||t.keyCode;if(!(!0===e||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||c.ignorable))return m===a.default.ENTER&&c.undoValue!==c._valueGet(!0)&&(c.undoValue=c._valueGet(!0),setTimeout((function(){f.trigger("change")}),0)),c.skipInputEvent=!0,!0;if(m){44!==m&&46!==m||3!==t.location||""===u.radixPoint||(m=u.radixPoint.charCodeAt(0));var g,y=e?{begin:o,end:o}:r.caret.call(c,p),v=String.fromCharCode(m);h.writeOutBuffer=!0;var _=s.isValid.call(c,y,v,n,void 0,void 0,void 0,e);if(!1!==_&&(r.resetMaskSet.call(c,!0),g=void 0!==_.caret?_.caret:r.seekNext.call(c,_.pos.begin?_.pos.begin:_.pos),h.p=g),g=u.numericInput&&void 0===_.caret?r.seekPrevious.call(c,g):g,!1!==i&&(setTimeout((function(){u.onKeyValidation.call(p,m,_)}),0),h.writeOutBuffer&&!1!==_)){var b=r.getBuffer.call(c);(0,l.writeBuffer)(p,b,g,t,!0!==e)}if(t.preventDefault(),e)return!1!==_&&(_.forwardPosition=g),_}},keyupEvent:function(t){var e=this.inputmask;!e.isComposing||t.keyCode!==a.default.KEY_229&&t.keyCode!==a.default.ENTER||e.$el.trigger("input")},pasteEvent:function(t){var e,i=this.inputmask,n=i.opts,a=i._valueGet(!0),o=r.caret.call(i,this);i.isRTL&&(e=o.end,o.end=o.begin,o.begin=e);var s=a.substr(0,o.begin),c=a.substr(o.end,a.length);if(s==(i.isRTL?r.getBufferTemplate.call(i).slice().reverse():r.getBufferTemplate.call(i)).slice(0,o.begin).join("")&&(s=""),c==(i.isRTL?r.getBufferTemplate.call(i).slice().reverse():r.getBufferTemplate.call(i)).slice(o.end).join("")&&(c=""),window.clipboardData&&window.clipboardData.getData)a=s+window.clipboardData.getData("Text")+c;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;a=s+t.clipboardData.getData("text/plain")+c}var u=a;if("function"==typeof n.onBeforePaste){if(!1===(u=n.onBeforePaste.call(i,a,n)))return t.preventDefault();u||(u=a)}return(0,l.checkVal)(this,!0,!1,u.toString().split(""),t),t.preventDefault()},inputFallBackEvent:function(t){var e=this.inputmask,i=e.opts,n=e.dependencyLib,s=this,d=s.inputmask._valueGet(!0),h=(e.isRTL?r.getBuffer.call(e).slice().reverse():r.getBuffer.call(e)).join(""),p=r.caret.call(e,s,void 0,void 0,!0);if(h!==d){var f=function(t,n,a){for(var o,s,l,u=t.substr(0,a.begin).split(""),d=t.substr(a.begin).split(""),h=n.substr(0,a.begin).split(""),p=n.substr(a.begin).split(""),f=u.length>=h.length?u.length:h.length,m=d.length>=p.length?d.length:p.length,g="",y=[],v="~";u.length<f;)u.push(v);for(;h.length<f;)h.push(v);for(;d.length<m;)d.unshift(v);for(;p.length<m;)p.unshift(v);var _=u.concat(d),b=h.concat(p);for(s=0,o=_.length;s<o;s++)switch(l=c.getPlaceholder.call(e,r.translatePosition.call(e,s)),g){case"insertText":b[s-1]===_[s]&&a.begin==_.length-1&&y.push(_[s]),s=o;break;case"insertReplacementText":case"deleteContentBackward":_[s]===v?a.end++:s=o;break;default:_[s]!==b[s]&&(_[s+1]!==v&&_[s+1]!==l&&void 0!==_[s+1]||(b[s]!==l||b[s+1]!==v)&&b[s]!==v?b[s+1]===v&&b[s]===_[s+1]?(g="insertText",y.push(_[s]),a.begin--,a.end--):_[s]!==l&&_[s]!==v&&(_[s+1]===v||b[s]!==_[s]&&b[s+1]===_[s+1])?(g="insertReplacementText",y.push(_[s]),a.begin--):_[s]===v?(g="deleteContentBackward",(r.isMask.call(e,r.translatePosition.call(e,s),!0)||b[s]===i.radixPoint)&&a.end++):s=o:(g="insertText",y.push(_[s]),a.begin--,a.end--))}return{action:g,data:y,caret:a}}(d=function(t,i,n){if(o.iemobile){var a=i.replace(r.getBuffer.call(e).join(""),"");if(1===a.length){var s=i.split("");s.splice(n.begin,0,a),i=s.join("")}}return i}(0,d,p),h,p);switch((s.inputmask.shadowRoot||s.ownerDocument).activeElement!==s&&s.focus(),(0,l.writeBuffer)(s,r.getBuffer.call(e)),r.caret.call(e,s,p.begin,p.end,!0),f.action){case"insertText":case"insertReplacementText":f.data.forEach((function(t,i){var r=new n.Event("keypress");r.which=t.charCodeAt(0),e.ignorable=!1,u.keypressEvent.call(s,r)})),setTimeout((function(){e.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var m=new n.Event("keydown");m.keyCode=a.default.BACKSPACE,u.keydownEvent.call(s,m);break;default:(0,l.applyInputValue)(s,d)}t.preventDefault()}},compositionendEvent:function(t){var e=this.inputmask;e.isComposing=!1,e.$el.trigger("input")},setValueEvent:function(t){var e=this.inputmask,i=this,n=t&&t.detail?t.detail[0]:arguments[1];void 0===n&&(n=i.inputmask._valueGet(!0)),(0,l.applyInputValue)(i,n),(t.detail&&void 0!==t.detail[1]||void 0!==arguments[2])&&r.caret.call(e,i,t.detail?t.detail[1]:arguments[2])},focusEvent:function(t){var e=this.inputmask,i=e.opts,n=this,a=n.inputmask._valueGet();i.showMaskOnFocus&&a!==r.getBuffer.call(e).join("")&&(0,l.writeBuffer)(n,r.getBuffer.call(e),r.seekNext.call(e,r.getLastValidPosition.call(e))),!0!==i.positionCaretOnTab||!1!==e.mouseEnter||s.isComplete.call(e,r.getBuffer.call(e))&&-1!==r.getLastValidPosition.call(e)||u.clickEvent.apply(n,[t,!0]),e.undoValue=e._valueGet(!0)},invalidEvent:function(t){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var t=this.inputmask,e=t.opts,i=this;t.mouseEnter=!1,e.clearMaskOnLostFocus&&(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i&&(0,l.HandleNativePlaceholder)(i,t.originalPlaceholder)},clickEvent:function(t,e){var i=this.inputmask,n=this;if((n.inputmask.shadowRoot||n.ownerDocument).activeElement===n){var a=r.determineNewCaretPosition.call(i,r.caret.call(i,n),e);void 0!==a&&r.caret.call(i,n,a)}},cutEvent:function(t){var e=this.inputmask,i=e.maskset,n=this,o=r.caret.call(e,n),c=window.clipboardData||t.clipboardData,u=e.isRTL?r.getBuffer.call(e).slice(o.end,o.begin):r.getBuffer.call(e).slice(o.begin,o.end);c.setData("text",e.isRTL?u.reverse().join(""):u.join("")),document.execCommand&&document.execCommand("copy"),s.handleRemove.call(e,n,a.default.DELETE,o),(0,l.writeBuffer)(n,r.getBuffer.call(e),i.p,t,e.undoValue!==e._valueGet(!0))},blurEvent:function(t){var e=this.inputmask,i=e.opts,n=(0,e.dependencyLib)(this),a=this;if(a.inputmask){(0,l.HandleNativePlaceholder)(a,e.originalPlaceholder);var o=a.inputmask._valueGet(),c=r.getBuffer.call(e).slice();""!==o&&(i.clearMaskOnLostFocus&&(-1===r.getLastValidPosition.call(e)&&o===r.getBufferTemplate.call(e).join("")?c=[]:l.clearOptionalTail.call(e,c)),!1===s.isComplete.call(e,c)&&(setTimeout((function(){n.trigger("incomplete")}),0),i.clearIncomplete&&(r.resetMaskSet.call(e),c=i.clearMaskOnLostFocus?[]:r.getBufferTemplate.call(e).slice())),(0,l.writeBuffer)(a,c,void 0,t)),e.undoValue!==e._valueGet(!0)&&(e.undoValue=e._valueGet(!0),n.trigger("change"))}},mouseenterEvent:function(){var t=this.inputmask,e=t.opts,i=this;if(t.mouseEnter=!0,(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i){var n=(t.isRTL?r.getBufferTemplate.call(t).slice().reverse():r.getBufferTemplate.call(t)).join("");t.placeholder!==n&&i.placeholder!==t.originalPlaceholder&&(t.originalPlaceholder=i.placeholder),e.showMaskOnHover&&(0,l.HandleNativePlaceholder)(i,n)}},submitEvent:function(){var t=this.inputmask,e=t.opts;t.undoValue!==t._valueGet(!0)&&t.$el.trigger("change"),e.clearMaskOnLostFocus&&-1===r.getLastValidPosition.call(t)&&t._valueGet&&t._valueGet()===r.getBufferTemplate.call(t).join("")&&t._valueSet(""),e.clearIncomplete&&!1===s.isComplete.call(t,r.getBuffer.call(t))&&t._valueSet(""),e.removeMaskOnSubmit&&(t._valueSet(t.unmaskedvalue(),!0),setTimeout((function(){(0,l.writeBuffer)(t.el,r.getBuffer.call(t))}),0))},resetEvent:function(){var t=this.inputmask;t.refreshValue=!0,setTimeout((function(){(0,l.applyInputValue)(t.el,t._valueGet(!0))}),0)}};e.EventHandlers=u},9716:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EventRuler=void 0;var n=s(i(2394)),r=s(i(4528)),a=i(8711),o=i(7760);function s(t){return t&&t.__esModule?t:{default:t}}var l={on:function(t,e,i){var s=t.inputmask.dependencyLib,l=function(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var l,c=this,u=c.inputmask,d=u?u.opts:void 0;if(void 0===u&&"FORM"!==this.nodeName){var h=s.data(c,"_inputmask_opts");s(c).off(),h&&new n.default(h).mask(c)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(c.disabled||c.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===d.tabThrough&&e.keyCode===r.default.TAB))){switch(e.type){case"input":if(!0===u.skipInputEvent||e.inputType&&"insertCompositionText"===e.inputType)return u.skipInputEvent=!1,e.preventDefault();break;case"keydown":u.skipKeyPressEvent=!1,u.skipInputEvent=u.isComposing=e.keyCode===r.default.KEY_229;break;case"keyup":case"compositionend":u.isComposing&&(u.skipInputEvent=!1);break;case"keypress":if(!0===u.skipKeyPressEvent)return e.preventDefault();u.skipKeyPressEvent=!0;break;case"click":case"focus":return u.validationEvent?(u.validationEvent=!1,t.blur(),(0,o.HandleNativePlaceholder)(t,(u.isRTL?a.getBufferTemplate.call(u).slice().reverse():a.getBufferTemplate.call(u)).join("")),setTimeout((function(){t.focus()}),d.validationEventTimeOut),!1):(l=arguments,setTimeout((function(){t.inputmask&&i.apply(c,l)}),0),!1)}var p=i.apply(c,arguments);return!1===p&&(e.preventDefault(),e.stopPropagation()),p}e.preventDefault()}};["submit","reset"].includes(e)?(l=l.bind(t),null!==t.form&&s(t.form).on(e,l)):s(t).on(e,l),t.inputmask.events[e]=t.inputmask.events[e]||[],t.inputmask.events[e].push(l)},off:function(t,e){if(t.inputmask&&t.inputmask.events){var i=t.inputmask.dependencyLib,n=t.inputmask.events;for(var r in e&&((n=[])[e]=t.inputmask.events[e]),n){for(var a=n[r];a.length>0;){var o=a.pop();["submit","reset"].includes(r)?null!==t.form&&i(t.form).off(r,o):i(t).off(r,o)}delete t.inputmask.events[r]}}}};e.EventRuler=l},219:function(t,e,i){var n=l(i(2394)),r=l(i(4528)),a=l(i(7184)),o=i(8711);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return t&&t.__esModule?t:{default:t}}var c=n.default.dependencyLib,u=(new Date).getFullYear(),d={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return _(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return _(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return _(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return _(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return _(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return _(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return _(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return _(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return _(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return _(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return _(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]",p,"ampm",f,1],tt:["[ap]m",p,"ampm",f,2],T:["[AP]",p,"ampm",f,1],TT:["[AP]M",p,"ampm",f,2],Z:[""],o:[""],S:[""]},h={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function p(t){t.toLowerCase().includes("p")&&this.setHours(this.getHours()+12)}function f(){}function m(t){var e=new RegExp("\\d+$").exec(t[0]);if(e&&void 0!==e[0]){var i=d[t[0][0]+"x"].slice("");return i[0]=i[0](e[0]),i[3]=i[3](e[0]),i}if(d[t[0]])return d[t[0]]}function g(t){if(!t.tokenizer){var e=[],i=[];for(var n in d)if(/\.*x$/.test(n)){var r=n[0]+"\\d+";-1===i.indexOf(r)&&i.push(r)}else-1===e.indexOf(n[0])&&e.push(n[0]);t.tokenizer="("+(i.length>0?i.join("|")+"|":"")+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function y(t,e,i){if(void 0===t.rawday||!isFinite(t.rawday)&&new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day||"29"==t.day&&!Number.isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return e;if("29"==t.day){var n=w(e.pos,i);if("yyyy"===n.targetMatch[0]&&e.pos-n.targetMatchIndex==2)return e.remove=e.pos+1,e}else if("02"==t.month&&"30"==t.day&&void 0!==e.c)return t.day="03",t.date.setDate(3),t.date.setMonth(1),e.insert=[{pos:e.pos,c:"0"},{pos:e.pos+1,c:e.c}],e.caret=o.seekNext.call(this,e.pos+1),e;return!1}function v(t,e,i,n){var r,o,s="";for(g(i).lastIndex=0;r=g(i).exec(t);)if(void 0===e)if(o=m(r))s+="("+o[0]+")";else switch(r[0]){case"[":s+="(";break;case"]":s+=")?";break;default:s+=(0,a.default)(r[0])}else(o=m(r))?!0!==n&&o[3]?s+=o[3].call(e.date):o[2]?s+=e["raw"+o[2]]:s+=r[0]:s+=r[0];return s}function _(t,e,i){for(t=String(t),e=e||2;t.length<e;)t=i?t+"0":"0"+t;return t}function b(t,e,i){var n,r,a,o={date:new Date(1,0,1)},l=t;function c(t,e,i){if(t[n]="ampm"===n?e:e.replace(/[^0-9]/g,"0"),t["raw"+n]=e,void 0!==a){var r=t[n];("day"===n&&29===parseInt(r)||"month"===n&&2===parseInt(r))&&(29!==parseInt(t.day)||2!==parseInt(t.month)||""!==t.year&&void 0!==t.year||t.date.setFullYear(2012,1,29)),"day"===n&&0===parseInt(r)&&(r=1),"month"===n&&(r=parseInt(r))>0&&(r-=1),"year"===n&&r.length<4&&(r=_(r,4,!0)),""===r||isNaN(r)||a.call(t.date,r),"ampm"===n&&a.call(t.date,r)}}if("string"==typeof l){for(g(i).lastIndex=0;r=g(i).exec(e);){var u=new RegExp("\\d+$").exec(r[0]),h=u?r[0][0]+"x":r[0],p=void 0;if(u){var f=g(i).lastIndex,m=w(r.index,i);g(i).lastIndex=f,p=l.slice(0,l.indexOf(m.nextMatch[0]))}else p=l.slice(0,h.length);Object.prototype.hasOwnProperty.call(d,h)&&(n=d[h][2],a=d[h][1],c(o,p)),l=l.slice(p.length)}return o}if(l&&"object"===s(l)&&Object.prototype.hasOwnProperty.call(l,"date"))return l}function x(t,e){return v(e.inputFormat,{date:t},e)}function w(t,e){var i,n,r=0,a=0;for(g(e).lastIndex=0;n=g(e).exec(e.inputFormat);){var o=new RegExp("\\d+$").exec(n[0]);if((r+=a=o?parseInt(o[0]):n[0].length)>=t){i=n,n=g(e).exec(e.inputFormat);break}}return{targetMatchIndex:r-a,nextMatch:n,targetMatch:i}}n.default.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,d.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=h[t.inputFormat]||t.inputFormat,t.displayFormat=h[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=h[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=v(t.inputFormat,void 0,t),t.min=b(t.min,t.inputFormat,t),t.max=b(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,e,i,n,r,a,o,s){if(s)return!0;if(isNaN(i)&&t[e]!==i){var l=w(e,r);if(l.nextMatch&&l.nextMatch[0]===i&&l.targetMatch[0].length>1){var c=d[l.targetMatch[0]][0];if(new RegExp(c).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,i,n,r,a,o,s){var l,c;if(o)return!0;if(!1===n&&(((l=w(e+1,r)).targetMatch&&l.targetMatchIndex===e&&l.targetMatch[0].length>1&&void 0!==d[l.targetMatch[0]]||(l=w(e+2,r)).targetMatch&&l.targetMatchIndex===e+1&&l.targetMatch[0].length>1&&void 0!==d[l.targetMatch[0]])&&(c=d[l.targetMatch[0]][0]),void 0!==c&&(void 0!==a.validPositions[e+1]&&new RegExp(c).test(i+"0")?(t[e]=i,t[e+1]="0",n={pos:e+2,caret:e}):new RegExp(c).test("0"+i)&&(t[e]="0",t[e+1]=i,n={pos:e+2})),!1===n))return n;if(n.fuzzy&&(t=n.buffer,e=n.pos),(l=w(e,r)).targetMatch&&l.targetMatch[0]&&void 0!==d[l.targetMatch[0]]){c=d[l.targetMatch[0]][0];var h=t.slice(l.targetMatchIndex,l.targetMatchIndex+l.targetMatch[0].length);!1===new RegExp(c).test(h.join(""))&&2===l.targetMatch[0].length&&a.validPositions[l.targetMatchIndex]&&a.validPositions[l.targetMatchIndex+1]&&(a.validPositions[l.targetMatchIndex+1].input="0")}var p=n,f=b(t.join(""),r.inputFormat,r);return p&&f.date.getTime()==f.date.getTime()&&(r.prefillYear&&(p=function(t,e,i){if(t.year!==t.rawyear){var n=u.toString(),r=t.rawyear.replace(/[^0-9]/g,""),a=n.slice(0,r.length),o=n.slice(r.length);if(2===r.length&&r===a){var s=new Date(u,t.month-1,t.day);t.day==s.getDate()&&(!i.max||i.max.date.getTime()>=s.getTime())&&(t.date.setFullYear(u),t.year=n,e.insert=[{pos:e.pos+1,c:o[0]},{pos:e.pos+2,c:o[1]}])}}return e}(f,p,r)),p=function(t,e,i,n,r){if(!e)return e;if(i.min){if(t.rawyear){var a,o=t.rawyear.replace(/[^0-9]/g,""),s=i.min.year.substr(0,o.length);if(o<s){var l=w(e.pos,i);if(o=t.rawyear.substr(0,e.pos-l.targetMatchIndex+1).replace(/[^0-9]/g,"0"),(s=i.min.year.substr(0,o.length))<=o)return e.remove=l.targetMatchIndex+o.length,e;if(o="yyyy"===l.targetMatch[0]?t.rawyear.substr(1,1):t.rawyear.substr(0,1),s=i.min.year.substr(2,1),a=i.max?i.max.year.substr(2,1):o,1===o.length&&s<=o&&o<=a&&!0!==r)return"yyyy"===l.targetMatch[0]?(e.insert=[{pos:e.pos+1,c:o,strict:!0}],e.caret=e.pos+2,n.validPositions[e.pos].input=i.min.year[1]):(e.insert=[{pos:e.pos+1,c:i.min.year[1],strict:!0},{pos:e.pos+2,c:o,strict:!0}],e.caret=e.pos+3,n.validPositions[e.pos].input=i.min.year[0]),e;e=!1}}for(var c in t)-1===c.indexOf("raw")&&t["raw".concat(c)]&&(t[c],t["raw".concat(c)]);e&&t.year&&t.year===t.rawyear&&i.min.date.getTime()==i.min.date.getTime()&&(e=i.min.date.getTime()<=t.date.getTime())}return e&&i.max&&i.max.date.getTime()==i.max.date.getTime()&&(e=i.max.date.getTime()>=t.date.getTime()),e}(f,p=y.call(this,f,p,r),r,a,s)),void 0!==e&&p&&n.pos!==e?{buffer:v(r.inputFormat,f,r).split(""),refreshFromBuffer:{start:e,end:n.pos},pos:n.caret||n.pos}:p},onKeyDown:function(t,e,i,n){t.ctrlKey&&t.keyCode===r.default.RIGHT&&(this.inputmask._valueSet(x(new Date,n)),c(this).trigger("setvalue"))},onUnMask:function(t,e,i){return e?v(i.outputFormat,b(t,i.inputFormat,i),i,!0):e},casing:function(t,e,i,n){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,e){return"[object Date]"===Object.prototype.toString.call(t)&&(t=x(t,e)),t},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(t,e,i){var n,r=(n=i(2394))&&n.__esModule?n:{default:n},a=i(8711),o=i(4713);r.default.extendDefinitions({A:{validator:"[A-Za-z--]",casing:"upper"},"&":{validator:"[0-9A-Za-z--]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var s=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function l(t,e,i,n,r){return i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,s.test(t)}r.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:l},j:{validator:l},k:{validator:l},l:{validator:l}},onUnMask:function(t,e,i){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9-A-Za-z--!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,i){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(t,e,i,n,r,s,l){var c=o.getMaskTemplate.call(this,!0,a.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(c.join(""))}}})},207:function(t,e,i){var n=s(i(2394)),r=s(i(4528)),a=s(i(7184)),o=i(8711);function s(t){return t&&t.__esModule?t:{default:t}}var l=n.default.dependencyLib;function c(t,e){for(var i="",r=0;r<t.length;r++)n.default.prototype.definitions[t.charAt(r)]||e.definitions[t.charAt(r)]||e.optionalmarker[0]===t.charAt(r)||e.optionalmarker[1]===t.charAt(r)||e.quantifiermarker[0]===t.charAt(r)||e.quantifiermarker[1]===t.charAt(r)||e.groupmarker[0]===t.charAt(r)||e.groupmarker[1]===t.charAt(r)||e.alternatormarker===t.charAt(r)?i+="\\"+t.charAt(r):i+=t.charAt(r);return i}function u(t,e,i,n){if(t.length>0&&e>0&&(!i.digitsOptional||n)){var r=t.indexOf(i.radixPoint),a=!1;i.negationSymbol.back===t[t.length-1]&&(a=!0,t.length--),-1===r&&(t.push(i.radixPoint),r=t.length-1);for(var o=1;o<=e;o++)isFinite(t[r+o])||(t[r+o]="0")}return a&&t.push(i.negationSymbol.back),t}function d(t,e){var i=0;if("+"===t){for(i in e.validPositions);i=o.seekNext.call(this,parseInt(i))}for(var n in e.tests)if((n=parseInt(n))>=i)for(var r=0,a=e.tests[n].length;r<a;r++)if((void 0===e.validPositions[n]||"-"===t)&&e.tests[n][r].match.def===t)return n+(void 0!==e.validPositions[n]&&"-"!==t?1:0);return i}function h(t,e){var i=-1;for(var n in e.validPositions){var r=e.validPositions[n];if(r&&r.match.def===t){i=parseInt(n);break}}return i}function p(t,e,i,n,r){var a=e.buffer?e.buffer.indexOf(r.radixPoint):-1,o=(-1!==a||n&&r.jitMasking)&&new RegExp(r.definitions[9].validator).test(t);return r._radixDance&&-1!==a&&o&&null==e.validPositions[a]?{insert:{pos:a===i?a+1:a,c:r.radixPoint},pos:i}:o}n.default.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e="0",i=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(e="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,i=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[i]&&(t.definitions[i]={},t.definitions[i].validator="["+t.radixPoint+"]",t.definitions[i].placeholder=t.radixPoint,t.definitions[i].static=!0,t.definitions[i].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var n,r="[+]";if(r+=c(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),r+=t._mask(t)):r+="9{+}",void 0!==t.digits&&0!==t.digits){var o=t.digits.toString().split(",");isFinite(o[0])&&o[1]&&isFinite(o[1])?r+=i+e+"{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional||t.jitMasking?(n=r+i+e+"{0,"+t.digits+"}",t.keepStatic=!0):r+=i+e+"{"+t.digits+"}")}else t.inputmode="numeric";return r+=c(t.suffix,t),r+="[-]",n&&(r=[n+c(t.suffix,t)+"[-]",r]),t.greedy=!1,function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp((0,a.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp((0,a.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(t),r},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,definitions:{0:{validator:p},1:{validator:p,definitionSymbol:"9"},9:{validator:"[0-9---]",definitionSymbol:"*"},"+":{validator:function(t,e,i,n,r){return r.allowMinus&&("-"===t||t===r.negationSymbol.front)}},"-":{validator:function(t,e,i,n,r){return r.allowMinus&&t===r.negationSymbol.back}}},preValidation:function(t,e,i,n,r,a,o,s){var l;if(!1!==r.__financeInput&&i===r.radixPoint)return!1;if(l=r.shortcuts&&r.shortcuts[i]){if(l.length>1)for(var c=[],u=0;u<l.length;u++)c.push({pos:e+u,c:l[u],strict:!1});return{insert:c}}var p=t.indexOf(r.radixPoint),f=e;if(e=function(t,e,i,n,r){return r._radixDance&&r.numericInput&&e!==r.negationSymbol.back&&t<=i&&(i>0||e==r.radixPoint)&&(void 0===n.validPositions[t-1]||n.validPositions[t-1].input!==r.negationSymbol.back)&&(t-=1),t}(e,i,p,a,r),"-"===i||i===r.negationSymbol.front){if(!0!==r.allowMinus)return!1;var m=!1,g=h("+",a),y=h("-",a);return-1!==g&&(m=[g,y]),!1!==m?{remove:m,caret:f-r.negationSymbol.back.length}:{insert:[{pos:d.call(this,"+",a),c:r.negationSymbol.front,fromIsValid:!0},{pos:d.call(this,"-",a),c:r.negationSymbol.back,fromIsValid:void 0}],caret:f+r.negationSymbol.back.length}}if(i===r.groupSeparator)return{caret:f};if(s)return!0;if(-1!==p&&!0===r._radixDance&&!1===n&&i===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)&&p!==e)return{caret:r._radixDance&&e===p-1?p+1:p};if(!1===r.__financeInput)if(n){if(r.digitsOptional)return{rewritePosition:o.end};if(!r.digitsOptional){if(o.begin>p&&o.end<=p)return i===r.radixPoint?{insert:{pos:p+1,c:"0",fromIsValid:!0},rewritePosition:p}:{rewritePosition:p+1};if(o.begin<p)return{rewritePosition:o.begin-1}}}else if(!r.showMaskOnHover&&!r.showMaskOnFocus&&!r.digitsOptional&&r.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:p};return{rewritePosition:e}},postValidation:function(t,e,i,n,r,a,o){if(!1===n)return n;if(o)return!0;if(null!==r.min||null!==r.max){var s=r.onUnMask(t.slice().reverse().join(""),void 0,l.extend({},r,{unmaskAsNumber:!0}));if(null!==r.min&&s<r.min&&(s.toString().length>r.min.toString().length||s<0))return!1;if(null!==r.max&&s>r.max)return!!r.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:u(r.max.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}return n},onUnMask:function(t,e,i){if(""===e&&!0===i.nullable)return e;var n=t.replace(i.prefix,"");return n=(n=n.replace(i.suffix,"")).replace(new RegExp((0,a.default)(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(n=n.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==n.indexOf(i.radixPoint)&&(n=n.replace(a.default.call(this,i.radixPoint),".")),n=(n=n.replace(new RegExp("^"+(0,a.default)(i.negationSymbol.front)),"-")).replace(new RegExp((0,a.default)(i.negationSymbol.back)+"$"),""),Number(n)):n},isComplete:function(t,e){var i=(e.numericInput?t.slice().reverse():t).join("");return i=(i=(i=(i=(i=i.replace(new RegExp("^"+(0,a.default)(e.negationSymbol.front)),"-")).replace(new RegExp((0,a.default)(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp((0,a.default)(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(i=i.replace((0,a.default)(e.radixPoint),".")),isFinite(i)},onBeforeMask:function(t,e){var i=e.radixPoint||",";isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"number"!=typeof t&&"number"!==e.inputType||""===i||(t=t.toString().replace(".",i));var n="-"===t.charAt(0)||t.charAt(0)===e.negationSymbol.front,r=t.split(i),o=r[0].replace(/[^\-0-9]/g,""),s=r.length>1?r[1].replace(/[^0-9]/g,""):"",l=r.length>1;t=o+(""!==s?i+s:s);var c=0;if(""!==i&&(c=e.digitsOptional?e.digits<s.length?e.digits:s.length:e.digits,""!==s||!e.digitsOptional)){var d=Math.pow(10,c||1);t=t.replace((0,a.default)(i),"."),isNaN(parseFloat(t))||(t=(e.roundingFN(parseFloat(t)*d)/d).toFixed(c)),t=t.toString().replace(".",i)}if(0===e.digits&&-1!==t.indexOf(i)&&(t=t.substring(0,t.indexOf(i))),null!==e.min||null!==e.max){var h=t.toString().replace(i,".");null!==e.min&&h<e.min?t=e.min.toString().replace(".",i):null!==e.max&&h>e.max&&(t=e.max.toString().replace(".",i))}return n&&"-"!==t.charAt(0)&&(t="-"+t),u(t.toString().split(""),c,e,l).join("")},onBeforeWrite:function(t,e,i,n){function r(t,e){if(!1!==n.__financeInput||e){var i=t.indexOf(n.radixPoint);-1!==i&&t.splice(i,1)}if(""!==n.groupSeparator)for(;-1!==(i=t.indexOf(n.groupSeparator));)t.splice(i,1);return t}var o,s=function(t,e){var i=new RegExp("(^"+(""!==e.negationSymbol.front?(0,a.default)(e.negationSymbol.front)+"?":"")+(0,a.default)(e.prefix)+")(.*)("+(0,a.default)(e.suffix)+(""!=e.negationSymbol.back?(0,a.default)(e.negationSymbol.back)+"?":"")+"$)").exec(t.slice().reverse().join("")),n=i?i[2]:"",r=!1;return n&&(n=n.split(e.radixPoint.charAt(0))[0],r=new RegExp("^[0"+e.groupSeparator+"]*").exec(n)),!(!r||!(r[0].length>1||r[0].length>0&&r[0].length<n.length))&&r}(e,n);if(s)for(var c=e.join("").lastIndexOf(s[0].split("").reverse().join(""))-(s[0]==s.input?0:1),d=s[0]==s.input?1:0,h=s[0].length-d;h>0;h--)delete this.maskset.validPositions[c+h],delete e[c+h];if(t)switch(t.type){case"blur":case"checkval":if(null!==n.min){var p=n.onUnMask(e.slice().reverse().join(""),void 0,l.extend({},n,{unmaskAsNumber:!0}));if(null!==n.min&&p<n.min)return{refreshFromBuffer:!0,buffer:u(n.min.toString().replace(".",n.radixPoint).split(""),n.digits,n).reverse()}}if(e[e.length-1]===n.negationSymbol.front){var f=new RegExp("(^"+(""!=n.negationSymbol.front?(0,a.default)(n.negationSymbol.front)+"?":"")+(0,a.default)(n.prefix)+")(.*)("+(0,a.default)(n.suffix)+(""!=n.negationSymbol.back?(0,a.default)(n.negationSymbol.back)+"?":"")+"$)").exec(r(e.slice(),!0).reverse().join(""));0==(f?f[2]:"")&&(o={refreshFromBuffer:!0,buffer:[0]})}else""!==n.radixPoint&&e[0]===n.radixPoint&&(o&&o.buffer?o.buffer.shift():(e.shift(),o={refreshFromBuffer:!0,buffer:r(e)}));if(n.enforceDigitsOnBlur){var m=(o=o||{})&&o.buffer||e.slice().reverse();o.refreshFromBuffer=!0,o.buffer=u(m,n.digits,n,!0).reverse()}}return o},onKeyDown:function(t,e,i,n){var a,o=l(this);if(t.ctrlKey)switch(t.keyCode){case r.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),o.trigger("setvalue"),!1;case r.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),o.trigger("setvalue"),!1}if(!t.shiftKey&&(t.keyCode===r.default.DELETE||t.keyCode===r.default.BACKSPACE||t.keyCode===r.default.BACKSPACE_SAFARI)&&i.begin!==e.length){if(e[t.keyCode===r.default.DELETE?i.begin-1:i.end]===n.negationSymbol.front)return a=e.slice().reverse(),""!==n.negationSymbol.front&&a.shift(),""!==n.negationSymbol.back&&a.pop(),o.trigger("setvalue",[a.join(""),i.begin]),!1;if(!0===n._radixDance){var s=e.indexOf(n.radixPoint);if(n.digitsOptional){if(0===s)return(a=e.slice().reverse()).pop(),o.trigger("setvalue",[a.join(""),i.begin>=a.length?a.length:i.begin]),!1}else if(-1!==s&&(i.begin<s||i.end<s||t.keyCode===r.default.DELETE&&i.begin===s))return i.begin!==i.end||t.keyCode!==r.default.BACKSPACE&&t.keyCode!==r.default.BACKSPACE_SAFARI||i.begin++,(a=e.slice().reverse()).splice(a.length-i.begin,i.begin-i.end+1),a=u(a,n.digits,n).join(""),o.trigger("setvalue",[a,i.begin>=a.length?s+1:i.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=((n=i(8741))&&n.__esModule?n:{default:n}).default?window:{};e.default=r},7760:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.applyInputValue=u,e.clearOptionalTail=d,e.checkVal=h,e.HandleNativePlaceholder=function(t,e){var i=t?t.inputmask:this;if(l.ie){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var n=o.getBuffer.call(i).slice(),r=t.inputmask._valueGet();if(r!==e){var a=o.getLastValidPosition.call(i);-1===a&&r===o.getBufferTemplate.call(i).join("")?n=[]:-1!==a&&d.call(i,n),p(t,n)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))},e.unmaskedvalue=function(t){var e=t?t.inputmask:this,i=e.opts,n=e.maskset;if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&u(t,t.inputmask._valueGet(!0))}var r=[],a=n.validPositions;for(var s in a)a[s]&&a[s].match&&(1!=a[s].match.static||Array.isArray(n.metadata)&&!0!==a[s].generatedInput)&&r.push(a[s].input);var l=0===r.length?"":(e.isRTL?r.reverse():r).join("");if("function"==typeof i.onUnMask){var c=(e.isRTL?o.getBuffer.call(e).slice().reverse():o.getBuffer.call(e)).join("");l=i.onUnMask.call(e,c,l,i)}return l},e.writeBuffer=p;var n,r=(n=i(4528))&&n.__esModule?n:{default:n},a=i(4713),o=i(8711),s=i(7215),l=i(9845),c=i(6030);function u(t,e){var i=t?t.inputmask:this,n=i.opts;t.inputmask.refreshValue=!1,"function"==typeof n.onBeforeMask&&(e=n.onBeforeMask.call(i,e,n)||e),h(t,!0,!1,e=e.toString().split("")),i.undoValue=i._valueGet(!0),(n.clearMaskOnLostFocus||n.clearIncomplete)&&t.inputmask._valueGet()===o.getBufferTemplate.call(i).join("")&&-1===o.getLastValidPosition.call(i)&&t.inputmask._valueSet("")}function d(t){t.length=0;for(var e,i=a.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(e=i.shift());)t.push(e);return t}function h(t,e,i,n,r){var l=t?t.inputmask:this,u=l.maskset,d=l.opts,h=l.dependencyLib,f=n.slice(),m="",g=-1,y=void 0,v=d.skipOptionalPartCharacter;d.skipOptionalPartCharacter="",o.resetMaskSet.call(l),u.tests={},g=d.radixPoint?o.determineNewCaretPosition.call(l,{begin:0,end:0},!1,!1===d.__financeInput?"radixFocus":void 0).begin:0,u.p=g,l.caretPos={begin:g};var _=[],b=l.caretPos;if(f.forEach((function(t,e){if(void 0!==t){var n=new h.Event("_checkval");n.which=t.toString().charCodeAt(0),m+=t;var r=o.getLastValidPosition.call(l,void 0,!0);!function(t,e){for(var i=a.getMaskTemplate.call(l,!0,0).slice(t,o.seekNext.call(l,t,!1,!1)).join("").replace(/'/g,""),n=i.indexOf(e);n>0&&" "===i[n-1];)n--;var r=0===n&&!o.isMask.call(l,t)&&(a.getTest.call(l,t).match.nativeDef===e.charAt(0)||!0===a.getTest.call(l,t).match.static&&a.getTest.call(l,t).match.nativeDef==="'"+e.charAt(0)||" "===a.getTest.call(l,t).match.nativeDef&&(a.getTest.call(l,t+1).match.nativeDef===e.charAt(0)||!0===a.getTest.call(l,t+1).match.static&&a.getTest.call(l,t+1).match.nativeDef==="'"+e.charAt(0)));if(!r&&n>0&&!o.isMask.call(l,t,!1,!0)){var s=o.seekNext.call(l,t);l.caretPos.begin<s&&(l.caretPos={begin:s})}return r}(g,m)?(y=c.EventHandlers.keypressEvent.call(l,n,!0,!1,i,l.caretPos.begin))&&(g=l.caretPos.begin+1,m=""):y=c.EventHandlers.keypressEvent.call(l,n,!0,!1,i,r+1),y?(void 0!==y.pos&&u.validPositions[y.pos]&&!0===u.validPositions[y.pos].match.static&&void 0===u.validPositions[y.pos].alternation&&(_.push(y.pos),l.isRTL||(y.forwardPosition=y.pos+1)),p.call(l,void 0,o.getBuffer.call(l),y.forwardPosition,n,!1),l.caretPos={begin:y.forwardPosition,end:y.forwardPosition},b=l.caretPos):void 0===u.validPositions[e]&&f[e]===a.getPlaceholder.call(l,e)&&o.isMask.call(l,e,!0)?l.caretPos.begin++:l.caretPos=b}})),_.length>0){var x,w,k=o.seekNext.call(l,-1,void 0,!1);if(!s.isComplete.call(l,o.getBuffer.call(l))&&_.length<=k||s.isComplete.call(l,o.getBuffer.call(l))&&_.length>0&&_.length!==k&&0===_[0])for(var S=k;void 0!==(x=_.shift());){var T=new h.Event("_checkval");if((w=u.validPositions[x]).generatedInput=!0,T.which=w.input.charCodeAt(0),(y=c.EventHandlers.keypressEvent.call(l,T,!0,!1,i,S))&&void 0!==y.pos&&y.pos!==x&&u.validPositions[y.pos]&&!0===u.validPositions[y.pos].match.static)_.push(y.pos);else if(!y)break;S++}}e&&p.call(l,t,o.getBuffer.call(l),y?y.forwardPosition:l.caretPos.begin,r||new h.Event("checkval"),r&&"input"===r.type&&l.undoValue!==l._valueGet(!0)),d.skipOptionalPartCharacter=v}function p(t,e,i,n,a){var l=t?t.inputmask:this,c=l.opts,u=l.dependencyLib;if(n&&"function"==typeof c.onBeforeWrite){var d=c.onBeforeWrite.call(l,n,e,i,c);if(d){if(d.refreshFromBuffer){var h=d.refreshFromBuffer;s.refreshFromBuffer.call(l,!0===h?h:h.start,h.end,d.buffer||e),e=o.getBuffer.call(l,!0)}void 0!==i&&(i=void 0!==d.caret?d.caret:i)}}if(void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===i||void 0!==n&&"blur"===n.type||o.caret.call(l,t,i,void 0,void 0,void 0!==n&&"keydown"===n.type&&(n.keyCode===r.default.DELETE||n.keyCode===r.default.BACKSPACE)),!0===a)){var p=u(t),f=t.inputmask._valueGet();t.inputmask.skipInputEvent=!0,p.trigger("input"),setTimeout((function(){f===o.getBufferTemplate.call(l).join("")?p.trigger("cleared"):!0===s.isComplete.call(l,e)&&p.trigger("complete")}),0)}}},2394:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(7149),i(3194);var n=i(157),r=g(i(3287)),a=g(i(9380)),o=i(2391),s=i(4713),l=i(8711),c=i(7215),u=i(7760),d=i(9716),h=g(i(7392)),p=g(i(3976)),f=g(i(8741));function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){return t&&t.__esModule?t:{default:t}}var y=a.default.document,v="_inputmask_opts";function _(t,e,i){if(f.default){if(!(this instanceof _))return new _(t,e,i);this.dependencyLib=r.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==i&&("[object Object]"===Object.prototype.toString.call(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=r.default.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},b(this.opts.alias,e,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}}function b(t,e,i){var n=_.prototype.aliases[t];return n?(n.alias&&b(n.alias,void 0,i),r.default.extend(!0,i,n),r.default.extend(!0,i,e),!0):(null===i.mask&&(i.mask=t),!1)}_.prototype={dataAttribute:"data-inputmask",defaults:p.default,definitions:h.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(t){var e=this;return"string"==typeof t&&(t=y.getElementById(t)||y.querySelectorAll(t)),(t=t.nodeName?[t]:Array.isArray(t)?t:Array.from(t)).forEach((function(t,i){var s=r.default.extend(!0,{},e.opts);if(function(t,e,i,n){function o(e,r){var o=""===n?e:n+"-"+e;null!==(r=void 0!==r?r:t.getAttribute(o))&&("string"==typeof r&&(0===e.indexOf("on")?r=a.default[r]:"false"===r?r=!1:"true"===r&&(r=!0)),i[e]=r)}if(!0===e.importDataAttributes){var s,l,c,u,d=t.getAttribute(n);if(d&&""!==d&&(d=d.replace(/'/g,'"'),l=JSON.parse("{"+d+"}")),l)for(u in c=void 0,l)if("alias"===u.toLowerCase()){c=l[u];break}for(s in o("alias",c),i.alias&&b(i.alias,i,e),e){if(l)for(u in c=void 0,l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}o(s,c)}}return r.default.extend(!0,e,i),("rtl"===t.dir||e.rightAlign)&&(t.style.textAlign="right"),("rtl"===t.dir||e.numericInput)&&(t.dir="ltr",t.removeAttribute("dir"),e.isRTL=!0),Object.keys(i).length}(t,s,r.default.extend(!0,{},e.userOptions),e.dataAttribute)){var l=(0,o.generateMaskSet)(s,e.noMasksCache);void 0!==l&&(void 0!==t.inputmask&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new _(void 0,void 0,!0),t.inputmask.opts=s,t.inputmask.noMasksCache=e.noMasksCache,t.inputmask.userOptions=r.default.extend(!0,{},e.userOptions),t.inputmask.el=t,t.inputmask.$el=(0,r.default)(t),t.inputmask.maskset=l,r.default.data(t,v,e.userOptions),n.mask.call(t.inputmask))}})),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===m(t)?(r.default.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){if(this.maskset=this.maskset||(0,o.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");u.checkVal.call(this,void 0,!1,!1,e),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,l.getBuffer.call(this),0,this.opts)}return u.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){r.default.data(this.el,v,null);var t=this.opts.autoUnmask?(0,u.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);t!==l.getBufferTemplate.call(this).join("")?this._valueSet(t,this.opts.autoUnmask):this._valueSet(""),d.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):y.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,o.generateMaskSet)(this.opts,this.noMasksCache),l.getBufferTemplate.call(this).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,o.generateMaskSet)(this.opts,this.noMasksCache),c.isComplete.call(this,l.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,o.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var t=s.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(e){return e.mask!==t||(t=e,!1)})),t}return this.maskset.metadata},isValid:function(t){if(this.maskset=this.maskset||(0,o.generateMaskSet)(this.opts,this.noMasksCache),t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");u.checkVal.call(this,void 0,!0,!1,e)}else t=this.isRTL?l.getBuffer.call(this).slice().reverse().join(""):l.getBuffer.call(this).join("");for(var i=l.getBuffer.call(this),n=l.determineLastRequiredPosition.call(this),r=i.length-1;r>n&&!l.isMask.call(this,r);r--);return i.splice(n,r+1-n),c.isComplete.call(this,i)&&t===(this.isRTL?l.getBuffer.call(this).slice().reverse().join(""):l.getBuffer.call(this).join(""))},format:function(t,e){this.maskset=this.maskset||(0,o.generateMaskSet)(this.opts,this.noMasksCache);var i=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");u.checkVal.call(this,void 0,!0,!1,i);var n=this.isRTL?l.getBuffer.call(this).slice().reverse().join(""):l.getBuffer.call(this).join("");return e?{value:n,metadata:this.getmetadata()}:n},setValue:function(t){this.el&&(0,r.default)(this.el).trigger("setvalue",[t])},analyseMask:o.analyseMask},_.extendDefaults=function(t){r.default.extend(!0,_.prototype.defaults,t)},_.extendDefinitions=function(t){r.default.extend(!0,_.prototype.definitions,t)},_.extendAliases=function(t){r.default.extend(!0,_.prototype.aliases,t)},_.format=function(t,e,i){return _(e).format(t,i)},_.unmask=function(t,e){return _(e).unmaskedvalue(t)},_.isValid=function(t,e){return _(e).isValid(t)},_.remove=function(t){"string"==typeof t&&(t=y.getElementById(t)||y.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask&&t.inputmask.remove()}))},_.setValue=function(t,e){"string"==typeof t&&(t=y.getElementById(t)||y.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask?t.inputmask.setValue(e):(0,r.default)(t).trigger("setvalue",[e])}))},_.dependencyLib=r.default,a.default.Inputmask=_;var x=_;e.default=x},5296:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=p(i(9380)),a=p(i(2394)),o=p(i(8741));function s(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return c(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)})(t)}function c(t,e,i){return(c=u()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&d(r,i.prototype),r}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return t&&t.__esModule?t:{default:t}}var f=r.default.document;if(o.default&&f&&f.head&&f.head.attachShadow&&r.default.customElements&&void 0===r.default.customElements.get("input-mask")){var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(r,t);var e,i,n=(e=r,i=u(),function(){var t,n=h(e);if(i){var r=h(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return s(this,t)});function r(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=(t=n.call(this)).getAttributeNames(),i=t.attachShadow({mode:"closed"}),o=f.createElement("input");for(var s in o.type="text",i.appendChild(o),e)Object.prototype.hasOwnProperty.call(e,s)&&o.setAttribute(e[s],t.getAttribute(e[s]));var l=new a.default;return l.dataAttribute="",l.mask(o),o.inputmask.shadowRoot=i,t}return r}(l(HTMLElement));r.default.customElements.define("input-mask",m)}},443:function(t,e,i){var n=o(i(8254)),r=o(i(2394));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return t&&t.__esModule?t:{default:t}}void 0===n.default.fn.inputmask&&(n.default.fn.inputmask=function(t,e){var i,o=this[0];if(void 0===e&&(e={}),"string"==typeof t)switch(t){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():(0,n.default)(o).val();case"remove":return this.each((function(){this.inputmask&&this.inputmask.remove()}));case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":r.default.setValue(o,e);break;case"option":if("string"!=typeof e)return this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(e)}));if(o&&void 0!==o.inputmask)return o.inputmask.option(e);break;default:return e.alias=t,i=new r.default(e),this.each((function(){i.mask(this)}))}else{if(Array.isArray(t))return e.alias=t,i=new r.default(e),this.each((function(){i.mask(this)}));if("object"==a(t))return i=new r.default(t),void 0===t.mask&&void 0===t.alias?this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(t);i.mask(this)})):this.each((function(){i.mask(this)}));if(void 0===t)return this.each((function(){(i=new r.default(e)).mask(this)}))}})},2391:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.generateMaskSet=function(t,e){function i(t,i,r){var a,o,s=!1;if(null!==t&&""!==t||((s=null!==r.regex)?t=(t=r.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(s=!0,t=".*")),1===t.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),r.repeat>0||"*"===r.repeat||"+"===r.repeat){var l="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;t=r.groupmarker[0]+t+r.groupmarker[1]+r.quantifiermarker[0]+l+","+r.repeat+r.quantifiermarker[1]}return o=s?"regex_"+r.regex:r.numericInput?t.split("").reverse().join(""):t,!1!==r.keepStatic&&(o="ks_"+o),void 0===Inputmask.prototype.masksCache[o]||!0===e?(a={mask:t,maskToken:Inputmask.prototype.analyseMask(t,s,r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:i,maskLength:void 0,jitOffset:{}},!0!==e&&(Inputmask.prototype.masksCache[o]=a,a=n.default.extend(!0,{},Inputmask.prototype.masksCache[o]))):a=n.default.extend(!0,{},Inputmask.prototype.masksCache[o]),a}if("function"==typeof t.mask&&(t.mask=t.mask(t)),Array.isArray(t.mask)){if(t.mask.length>1){null===t.keepStatic&&(t.keepStatic=!0);var r=t.groupmarker[0];return(t.isRTL?t.mask.reverse():t.mask).forEach((function(e){r.length>1&&(r+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),void 0!==e.mask&&"function"!=typeof e.mask?r+=e.mask:r+=e})),i(r+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return null===t.keepStatic&&(t.keepStatic=!1),t.mask&&void 0!==t.mask.mask&&"function"!=typeof t.mask.mask?i(t.mask.mask,t.mask,t):i(t.mask,t.mask,t)},e.analyseMask=function(t,e,i){var n,a,o,s,l,c,u=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,d=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,h=!1,p=new r.default,f=[],m=[],g=!1;function y(t,n,r){r=void 0!==r?r:t.matches.length;var a=t.matches[r-1];if(e)0===n.indexOf("[")||h&&/\\d|\\s|\\w]/i.test(n)||"."===n?t.matches.splice(r++,0,{fn:new RegExp(n,i.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==n,casing:null,def:n,placeholder:void 0,nativeDef:n}):(h&&(n=n[n.length-1]),n.split("").forEach((function(e,n){a=t.matches[r-1],t.matches.splice(r++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||e)?new RegExp("["+(i.staticDefinitionSymbol||e)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==e&&!0!==a.static,casing:null,def:i.staticDefinitionSymbol||e,placeholder:void 0!==i.staticDefinitionSymbol?e:void 0,nativeDef:(h?"'":"")+e})}))),h=!1;else{var o=i.definitions&&i.definitions[n]||i.usePrototypeDefinitions&&Inputmask.prototype.definitions[n];o&&!h?t.matches.splice(r++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator,i.casing?"i":""):new function(){this.test=o.validator}:new RegExp("."),static:o.static||!1,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,nativeDef:n,generated:o.generated}):(t.matches.splice(r++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||n)?new RegExp("["+(i.staticDefinitionSymbol||n)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==n&&!0!==a.static,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,nativeDef:(h?"'":"")+n}),h=!1)}}function v(){if(f.length>0){if(y(s=f[f.length-1],a),s.isAlternator){l=f.pop();for(var t=0;t<l.matches.length;t++)l.matches[t].isGroup&&(l.matches[t].isGroup=!1);f.length>0?(s=f[f.length-1]).matches.push(l):p.matches.push(l)}}else y(p,a)}function _(t){var e=new r.default(!0);return e.openGroup=!1,e.matches=t,e}function b(){if((o=f.pop()).openGroup=!1,void 0!==o)if(f.length>0){if((s=f[f.length-1]).matches.push(o),s.isAlternator){l=f.pop();for(var t=0;t<l.matches.length;t++)l.matches[t].isGroup=!1,l.matches[t].alternatorGroup=!1;f.length>0?(s=f[f.length-1]).matches.push(l):p.matches.push(l)}}else p.matches.push(o);else v()}function x(t){var e=t.pop();return e.isQuantifier&&(e=_([t.pop(),e])),e}for(e&&(i.optionalmarker[0]=void 0,i.optionalmarker[1]=void 0);n=e?d.exec(t):u.exec(t);){if(a=n[0],e)switch(a.charAt(0)){case"?":a="{0,1}";break;case"+":case"*":a="{"+a+"}";break;case"|":if(0===f.length){var w=_(p.matches);w.openGroup=!0,f.push(w),p.matches=[],g=!0}}if(h)v();else switch(a.charAt(0)){case"$":case"^":e||v();break;case"(?=":case"(?!":case"(?<=":case"(?<!":f.push(new r.default(!0));break;case i.escapeChar:h=!0,e&&v();break;case i.optionalmarker[1]:case i.groupmarker[1]:b();break;case i.optionalmarker[0]:f.push(new r.default(!1,!0));break;case i.groupmarker[0]:f.push(new r.default(!0));break;case i.quantifiermarker[0]:var k=new r.default(!1,!1,!0),S=(a=a.replace(/[{}]/g,"")).split("|"),T=S[0].split(","),M=isNaN(T[0])?T[0]:parseInt(T[0]),C=1===T.length?M:isNaN(T[1])?T[1]:parseInt(T[1]),D=isNaN(S[1])?S[1]:parseInt(S[1]);"*"!==M&&"+"!==M||(M="*"===C?0:1),k.quantifier={min:M,max:C,jit:D};var L=f.length>0?f[f.length-1].matches:p.matches;if((n=L.pop()).isAlternator){L.push(n),L=n.matches;var A=new r.default(!0),E=L.pop();L.push(A),L=A.matches,n=E}n.isGroup||(n=_([n])),L.push(n),L.push(k);break;case i.alternatormarker:if(f.length>0){var P=(s=f[f.length-1]).matches[s.matches.length-1];c=s.openGroup&&(void 0===P.matches||!1===P.isGroup&&!1===P.isAlternator)?f.pop():x(s.matches)}else c=x(p.matches);if(c.isAlternator)f.push(c);else if(c.alternatorGroup?(l=f.pop(),c.alternatorGroup=!1):l=new r.default(!1,!1,!1,!0),l.matches.push(c),f.push(l),c.openGroup){c.openGroup=!1;var I=new r.default(!0);I.alternatorGroup=!0,f.push(I)}break;default:v()}}for(g&&b();f.length>0;)o=f.pop(),p.matches.push(o);return p.matches.length>0&&(function t(n){n&&n.matches&&n.matches.forEach((function(r,a){var o=n.matches[a+1];(void 0===o||void 0===o.matches||!1===o.isQuantifier)&&r&&r.isGroup&&(r.isGroup=!1,e||(y(r,i.groupmarker[0],0),!0!==r.openGroup&&y(r,i.groupmarker[1]))),t(r)}))}(p),m.push(p)),(i.numericInput||i.isRTL)&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches)if(Object.prototype.hasOwnProperty.call(e.matches,n)){var r=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[r+1]&&e.matches[r+1].isGroup){var a=e.matches[n];e.matches.splice(n,1),e.matches.splice(r+1,0,a)}void 0!==e.matches[n].matches?e.matches[n]=t(e.matches[n]):e.matches[n]=((o=e.matches[n])===i.optionalmarker[0]?o=i.optionalmarker[1]:o===i.optionalmarker[1]?o=i.optionalmarker[0]:o===i.groupmarker[0]?o=i.groupmarker[1]:o===i.groupmarker[1]&&(o=i.groupmarker[0]),o)}var o;return e}(m[0]),m};var n=a(i(3287)),r=a(i(9695));function a(t){return t&&t.__esModule?t:{default:t}}},157:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.mask=function(){var t=this,e=this.opts,i=this.el,n=this.dependencyLib;s.EventRuler.off(i);var d=function(e,i){"textarea"!==e.tagName.toLowerCase()&&i.ignorables.push(r.default.ENTER);var l=e.getAttribute("type"),c="input"===e.tagName.toLowerCase()&&i.supportsInputType.includes(l)||e.isContentEditable||"textarea"===e.tagName.toLowerCase();if(!c)if("input"===e.tagName.toLowerCase()){var u=document.createElement("input");u.setAttribute("type",l),c="text"===u.type,u=null}else c="partial";return!1!==c?function(e){var r,l;function c(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==a.getLastValidPosition.call(t)||!0!==i.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&i.clearMaskOnLostFocus?(t.isRTL?o.clearOptionalTail.call(t,a.getBuffer.call(t).slice()).reverse():o.clearOptionalTail.call(t,a.getBuffer.call(t).slice())).join(""):r.call(this):"":r.call(this)}function u(t){l.call(this,t),this.inputmask&&(0,o.applyInputValue)(this,t)}if(!e.inputmask.__valueGet){if(!0!==i.noValuePatching){if(Object.getOwnPropertyDescriptor){var d=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;d&&d.get&&d.set?(r=d.get,l=d.set,Object.defineProperty(e,"value",{get:c,set:u,configurable:!0})):"input"!==e.tagName.toLowerCase()&&(r=function(){return this.textContent},l=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:c,set:u,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(r=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",c),e.__defineSetter__("value",u));e.inputmask.__valueGet=r,e.inputmask.__valueSet=l}e.inputmask._valueGet=function(e){return t.isRTL&&!0!==e?r.call(this.el).split("").reverse().join(""):r.call(this.el)},e.inputmask._valueSet=function(e,i){l.call(this.el,null==e?"":!0!==i&&t.isRTL?e.split("").reverse().join(""):e)},void 0===r&&(r=function(){return this.value},l=function(t){this.value=t},function(e){if(n.valHooks&&(void 0===n.valHooks[e]||!0!==n.valHooks[e].inputmaskpatch)){var r=n.valHooks[e]&&n.valHooks[e].get?n.valHooks[e].get:function(t){return t.value},s=n.valHooks[e]&&n.valHooks[e].set?n.valHooks[e].set:function(t,e){return t.value=e,t};n.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var n=r(e);return-1!==a.getLastValidPosition.call(t,void 0,void 0,e.inputmask.maskset.validPositions)||!0!==i.nullable?n:""}return r(e)},set:function(t,e){var i=s(t,e);return t.inputmask&&(0,o.applyInputValue)(t,e),i},inputmaskpatch:!0}}}(e.type),function(e){s.EventRuler.on(e,"mouseenter",(function(){var e=this.inputmask._valueGet(!0);e!==(t.isRTL?a.getBuffer.call(t).reverse():a.getBuffer.call(t)).join("")&&(0,o.applyInputValue)(this,e)}))}(e))}}(e):e.inputmask=void 0,c}(i,e);if(!1!==d){t.originalPlaceholder=i.placeholder,t.maxLength=void 0!==i?i.maxLength:void 0,-1===t.maxLength&&(t.maxLength=void 0),"inputMode"in i&&null===i.getAttribute("inputmode")&&(i.inputMode=e.inputmode,i.setAttribute("inputmode",e.inputmode)),!0===d&&(e.showMaskOnFocus=e.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(i.autocomplete),l.iphone&&(e.insertModeVisual=!1),s.EventRuler.on(i,"submit",u.EventHandlers.submitEvent),s.EventRuler.on(i,"reset",u.EventHandlers.resetEvent),s.EventRuler.on(i,"blur",u.EventHandlers.blurEvent),s.EventRuler.on(i,"focus",u.EventHandlers.focusEvent),s.EventRuler.on(i,"invalid",u.EventHandlers.invalidEvent),s.EventRuler.on(i,"click",u.EventHandlers.clickEvent),s.EventRuler.on(i,"mouseleave",u.EventHandlers.mouseleaveEvent),s.EventRuler.on(i,"mouseenter",u.EventHandlers.mouseenterEvent),s.EventRuler.on(i,"paste",u.EventHandlers.pasteEvent),s.EventRuler.on(i,"cut",u.EventHandlers.cutEvent),s.EventRuler.on(i,"complete",e.oncomplete),s.EventRuler.on(i,"incomplete",e.onincomplete),s.EventRuler.on(i,"cleared",e.oncleared),!0!==e.inputEventOnly&&(s.EventRuler.on(i,"keydown",u.EventHandlers.keydownEvent),s.EventRuler.on(i,"keypress",u.EventHandlers.keypressEvent),s.EventRuler.on(i,"keyup",u.EventHandlers.keyupEvent)),(l.mobile||e.inputEventOnly)&&i.removeAttribute("maxLength"),s.EventRuler.on(i,"input",u.EventHandlers.inputFallBackEvent),s.EventRuler.on(i,"compositionend",u.EventHandlers.compositionendEvent)),s.EventRuler.on(i,"setvalue",u.EventHandlers.setValueEvent),a.getBufferTemplate.call(t).join(""),t.undoValue=t._valueGet(!0);var h=(i.inputmask.shadowRoot||i.ownerDocument).activeElement;if(""!==i.inputmask._valueGet(!0)||!1===e.clearMaskOnLostFocus||h===i){(0,o.applyInputValue)(i,i.inputmask._valueGet(!0),e);var p=a.getBuffer.call(t).slice();!1===c.isComplete.call(t,p)&&e.clearIncomplete&&a.resetMaskSet.call(t),e.clearMaskOnLostFocus&&h!==i&&(-1===a.getLastValidPosition.call(t)?p=[]:o.clearOptionalTail.call(t,p)),(!1===e.clearMaskOnLostFocus||e.showMaskOnFocus&&h===i||""!==i.inputmask._valueGet(!0))&&(0,o.writeBuffer)(i,p),h===i&&a.caret.call(t,i,a.seekNext.call(t,a.getLastValidPosition.call(t)))}}};var n,r=(n=i(4528))&&n.__esModule?n:{default:n},a=i(8711),o=i(7760),s=i(9716),l=i(9845),c=i(7215),u=i(6030)},9695:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r=0|e,a=Math.max(r>=0?r:n-Math.abs(r),0);a<n;){if(i[a]===t)return!0;a++}return!1}})},7149:function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===t("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},8711:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.caret=function(t,e,i,n,r){var a,o=this,s=this.opts;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(a=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&a.commonAncestorContainer!==t||(e=a.startOffset,i=a.endOffset):document.selection&&document.selection.createRange&&(i=(e=0-(a=document.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+a.text.length),{begin:n?e:c.call(o,e),end:n?i:c.call(o,i)};if(Array.isArray(e)&&(i=o.isRTL?e[0]:e[1],e=o.isRTL?e[1]:e[0]),void 0!==e.begin&&(i=o.isRTL?e.begin:e.end,e=o.isRTL?e.end:e.begin),"number"==typeof e){e=n?e:c.call(o,e),i="number"==typeof(i=n?i:c.call(o,i))?i:e;var l=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=l>t.scrollWidth?l:0,t.inputmask.caretPos={begin:e,end:i},s.insertModeVisual&&!1===s.insertMode&&e===i&&(r||i++),t===(t.inputmask.shadowRoot||t.ownerDocument).activeElement)if("setSelectionRange"in t)t.setSelectionRange(e,i);else if(window.getSelection){if(a=document.createRange(),void 0===t.firstChild||null===t.firstChild){var u=document.createTextNode("");t.appendChild(u)}a.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),a.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),a.collapse(!0);var d=window.getSelection();d.removeAllRanges(),d.addRange(a)}else t.createTextRange&&((a=t.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select())}},e.determineLastRequiredPosition=function(t){var e,i,a=this,s=this.maskset,l=this.dependencyLib,c=n.getMaskTemplate.call(a,!0,o.call(a),!0,!0),u=c.length,d=o.call(a),h={},p=s.validPositions[d],f=void 0!==p?p.locator.slice():void 0;for(e=d+1;e<c.length;e++)f=(i=n.getTestTemplate.call(a,e,f,e-1)).locator.slice(),h[e]=l.extend(!0,{},i);var m=p&&void 0!==p.alternation?p.locator[p.alternation]:void 0;for(e=u-1;e>d&&((i=h[e]).match.optionality||i.match.optionalQuantifier&&i.match.newBlockMarker||m&&(m!==h[e].locator[p.alternation]&&1!=i.match.static||!0===i.match.static&&i.locator[p.alternation]&&r.checkAlternationMatch.call(a,i.locator[p.alternation].toString().split(","),m.toString().split(","))&&""!==n.getTests.call(a,e)[0].def))&&c[e]===n.getPlaceholder.call(a,e,i.match);e--)u--;return t?{l:u,def:h[u]?h[u].match:void 0}:u},e.determineNewCaretPosition=function(t,e,i){var r=this,c=this.maskset,u=this.opts;if(e&&(r.isRTL?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(i=i||u.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:a.call(r).length};break;case"ignore":t.end=t.begin=l.call(r,o.call(r));break;case"radixFocus":if(function(t){if(""!==u.radixPoint&&0!==u.digits){var e=c.validPositions;if(void 0===e[t]||e[t].input===n.getPlaceholder.call(r,t)){if(t<l.call(r,-1))return!0;var i=a.call(r).indexOf(u.radixPoint);if(-1!==i){for(var o in e)if(e[o]&&i<o&&e[o].input!==n.getPlaceholder.call(r,o))return!1;return!0}}}return!1}(t.begin)){var d=a.call(r).join("").indexOf(u.radixPoint);t.end=t.begin=u.numericInput?l.call(r,d):d;break}default:var h=t.begin,p=o.call(r,h,!0),f=l.call(r,-1!==p||s.call(r,0)?p:-1);if(h<=f)t.end=t.begin=s.call(r,h,!1,!0)?h:l.call(r,h);else{var m=c.validPositions[p],g=n.getTestTemplate.call(r,f,m?m.match.locator:void 0,m),y=n.getPlaceholder.call(r,f,g.match);if(""!==y&&a.call(r)[f]!==y&&!0!==g.match.optionalQuantifier&&!0!==g.match.newBlockMarker||!s.call(r,f,u.keepStatic,!0)&&g.match.def===y){var v=l.call(r,f);(h>=v||h===f)&&(f=v)}t.end=t.begin=f}}return t}},e.getBuffer=a,e.getBufferTemplate=function(){var t=this.maskset;return void 0===t._buffer&&(t._buffer=n.getMaskTemplate.call(this,!1,1),void 0===t.buffer&&(t.buffer=t._buffer.slice())),t._buffer},e.getLastValidPosition=o,e.isMask=s,e.resetMaskSet=function(t){var e=this.maskset;e.buffer=void 0,!0!==t&&(e.validPositions={},e.p=0)},e.seekNext=l,e.seekPrevious=function(t,e){var i=this,r=t-1;if(t<=0)return 0;for(;r>0&&(!0===e&&(!0!==n.getTest.call(i,r).match.newBlockMarker||!s.call(i,r,void 0,!0))||!0!==e&&!s.call(i,r,void 0,!0));)r--;return r},e.translatePosition=c;var n=i(4713),r=i(7215);function a(t){var e=this.maskset;return void 0!==e.buffer&&!0!==t||(e.buffer=n.getMaskTemplate.call(this,!0,o.call(this),!0),void 0===e._buffer&&(e._buffer=e.buffer.slice())),e.buffer}function o(t,e,i){var n=this.maskset,r=-1,a=-1,o=i||n.validPositions;for(var s in void 0===t&&(t=-1),o){var l=parseInt(s);o[l]&&(e||!0!==o[l].generatedInput)&&(l<=t&&(r=l),l>=t&&(a=l))}return-1===r||r==t?a:-1==a||t-r<a-t?r:a}function s(t,e,i){var r=this,a=this.maskset,o=n.getTestTemplate.call(r,t).match;if(""===o.def&&(o=n.getTest.call(r,t).match),!0!==o.static)return o.fn;if(!0===i&&void 0!==a.validPositions[t]&&!0!==a.validPositions[t].generatedInput)return!0;if(!0!==e&&t>-1){if(i){var s=n.getTests.call(r,t);return s.length>1+(""===s[s.length-1].match.def?1:0)}var l=n.determineTestTemplate.call(r,t,n.getTests.call(r,t)),c=n.getPlaceholder.call(r,t,l.match);return l.match.def!==c}return!1}function l(t,e,i){var r=this;void 0===i&&(i=!0);for(var a=t+1;""!==n.getTest.call(r,a).match.def&&(!0===e&&(!0!==n.getTest.call(r,a).match.newBlockMarker||!s.call(r,a,void 0,!0))||!0!==e&&!s.call(r,a,void 0,i));)a++;return a}function c(t){var e=this.opts,i=this.el;return!this.isRTL||"number"!=typeof t||e.greedy&&""===e.placeholder||!i||(t=Math.abs(this._valueGet().length-t)),t}},4713:function(t,e){function i(t,e){var i=(null!=t.alternation?t.mloc[n(t)]:t.locator).join("");if(""!==i)for(;i.length<e;)i+="0";return i}function n(t){var e=t.locator[t.alternation];return"string"==typeof e&&e.length>0&&(e=e.split(",")[0]),void 0!==e?e.toString():""}function r(t,e,i){var n=this.opts,r=this.maskset;if(void 0!==(e=e||s.call(this,t).match).placeholder||!0===i)return"function"==typeof e.placeholder?e.placeholder(n):e.placeholder;if(!0===e.static){if(t>-1&&void 0===r.validPositions[t]){var a,o=c.call(this,t),l=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var u=0;u<o.length;u++)if(""!==o[u].match.def&&!0!==o[u].match.optionality&&!0!==o[u].match.optionalQuantifier&&(!0===o[u].match.static||void 0===a||!1!==o[u].match.fn.test(a.match.def,r,t,!0,n))&&(l.push(o[u]),!0===o[u].match.static&&(a=o[u]),l.length>1&&/[0-9a-bA-Z]/.test(l[0].match.def)))return n.placeholder.charAt(t%n.placeholder.length)}return e.def}return n.placeholder.charAt(t%n.placeholder.length)}function a(t,e,i){return this.maskset.validPositions[t]||o.call(this,t,c.call(this,t,e?e.slice():e,i))}function o(t,e){var n=this.opts;t=t>0?t-1:0;for(var r,a,o,l=i(s.call(this,t)),c=0;c<e.length;c++){var u=e[c];r=i(u,l.length);var d=Math.abs(r-l);(void 0===a||""!==r&&d<a||o&&!n.greedy&&o.match.optionality&&"master"===o.match.newBlockMarker&&(!u.match.optionality||!u.match.newBlockMarker)||o&&o.match.optionalQuantifier&&!u.match.optionalQuantifier)&&(a=d,o=u)}return o}function s(t,e){var i=this.maskset;return i.validPositions[t]?i.validPositions[t]:(e||c.call(this,t))[0]}function l(t,e,i){function n(t){for(var e,i=[],n=-1,r=0,a=t.length;r<a;r++)if("-"===t.charAt(r))for(e=t.charCodeAt(r+1);++n<e;)i.push(String.fromCharCode(n));else n=t.charCodeAt(r),i.push(t.charAt(r));return i.join("")}return t.match.def===e.match.nativeDef||!(!(i.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)||!0===t.match.static||!0===e.match.static)&&-1!==n(e.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(n(t.match.fn.toString().replace(/[[\]/]/g,"")))}function c(t,e,i){var n,r=this,a=this.dependencyLib,s=this.maskset,c=this.opts,u=this.el,d=s.maskToken,h=e?i:0,p=e?e.slice():[0],f=[],m=!1,g=e?e.join(""):"";function y(e,i,r,a){function o(r,a,d){function p(t,e){var i=0===e.matches.indexOf(t);return i||e.matches.every((function(n,r){return!0===n.isQuantifier?i=p(t,e.matches[r-1]):Object.prototype.hasOwnProperty.call(n,"matches")&&(i=p(t,n)),!i})),i}function v(t,e,i){var n,r;if((s.tests[t]||s.validPositions[t])&&(s.tests[t]||[s.validPositions[t]]).every((function(t,a){if(t.mloc[e])return n=t,!1;var o=void 0!==i?i:t.alternation,s=void 0!==t.locator[o]?t.locator[o].toString().indexOf(e):-1;return(void 0===r||s<r)&&-1!==s&&(n=t,r=s),!0})),n){var a=n.locator[n.alternation];return(n.mloc[e]||n.mloc[a]||n.locator).slice((void 0!==i?i:n.alternation)+1)}return void 0!==i?v(t,e):void 0}function _(t,e){var i=t.alternation,n=void 0===e||i===e.alternation&&-1===t.locator[i].toString().indexOf(e.locator[i]);if(!n&&i>e.alternation)for(var r=e.alternation;r<i;r++)if(t.locator[r]!==e.locator[r]){i=r,n=!0;break}if(n){t.mloc=t.mloc||{};var a=t.locator[i];if(void 0!==a){if("string"==typeof a&&(a=a.split(",")[0]),void 0===t.mloc[a]&&(t.mloc[a]=t.locator.slice()),void 0!==e){for(var o in e.mloc)"string"==typeof o&&(o=o.split(",")[0]),void 0===t.mloc[o]&&(t.mloc[o]=e.mloc[o]);t.locator[i]=Object.keys(t.mloc).join(",")}return!0}t.alternation=void 0}return!1}function b(t,e){if(t.locator.length!==e.locator.length)return!1;for(var i=t.alternation+1;i<t.locator.length;i++)if(t.locator[i]!==e.locator[i])return!1;return!0}if(h>t+c._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+s.mask;if(h===t&&void 0===r.matches)return f.push({match:r,locator:a.reverse(),cd:g,mloc:{}}),!0;if(void 0!==r.matches){if(r.isGroup&&d!==r){if(r=o(e.matches[e.matches.indexOf(r)+1],a,d))return!0}else if(r.isOptional){var x=r,w=f.length;if(r=y(r,i,a,d)){if(f.forEach((function(t,e){e>=w&&(t.match.optionality=!0)})),n=f[f.length-1].match,void 0!==d||!p(n,x))return!0;m=!0,h=t}}else if(r.isAlternator){var k,S=r,T=[],M=f.slice(),C=a.length,D=!1,L=i.length>0?i.shift():-1;if(-1===L||"string"==typeof L){var A,E=h,P=i.slice(),I=[];if("string"==typeof L)I=L.split(",");else for(A=0;A<S.matches.length;A++)I.push(A.toString());if(void 0!==s.excludes[t]){for(var O=I.slice(),R=0,z=s.excludes[t].length;R<z;R++){var Y=s.excludes[t][R].toString().split(":");a.length==Y[1]&&I.splice(I.indexOf(Y[0]),1)}0===I.length&&(delete s.excludes[t],I=O)}(!0===c.keepStatic||isFinite(parseInt(c.keepStatic))&&E>=c.keepStatic)&&(I=I.slice(0,1));for(var F=0;F<I.length;F++){A=parseInt(I[F]),f=[],i="string"==typeof L&&v(h,A,C)||P.slice();var H=S.matches[A];if(H&&o(H,[A].concat(a),d))r=!0;else if(0===F&&(D=!0),H&&H.matches&&H.matches.length>S.matches[0].matches.length)break;k=f.slice(),h=E,f=[];for(var N=0;N<k.length;N++){var B=k[N],j=!1;B.match.jit=B.match.jit||D,B.alternation=B.alternation||C,_(B);for(var V=0;V<T.length;V++){var W=T[V];if("string"!=typeof L||void 0!==B.alternation&&I.includes(B.locator[B.alternation].toString())){if(B.match.nativeDef===W.match.nativeDef){j=!0,_(W,B);break}if(l(B,W,c)){_(B,W)&&(j=!0,T.splice(T.indexOf(W),0,B));break}if(l(W,B,c)){_(W,B);break}if(X=W,!0===(G=B).match.static&&!0!==X.match.static&&X.match.fn.test(G.match.def,s,t,!1,c,!1)){b(B,W)||void 0!==u.inputmask.userOptions.keepStatic?_(B,W)&&(j=!0,T.splice(T.indexOf(W),0,B)):c.keepStatic=!0;break}}}j||T.push(B)}}f=M.concat(T),h=t,m=f.length>0,r=T.length>0,i=P.slice()}else r=o(S.matches[L]||e.matches[L],[L].concat(a),d);if(r)return!0}else if(r.isQuantifier&&d!==e.matches[e.matches.indexOf(r)-1])for(var U=r,$=i.length>0?i.shift():0;$<(isNaN(U.quantifier.max)?$+1:U.quantifier.max)&&h<=t;$++){var q=e.matches[e.matches.indexOf(U)-1];if(r=o(q,[$].concat(a),q)){if((n=f[f.length-1].match).optionalQuantifier=$>=U.quantifier.min,n.jit=($+1)*(q.matches.indexOf(n)+1)>U.quantifier.jit,n.optionalQuantifier&&p(n,q)){m=!0,h=t;break}return n.jit&&(s.jitOffset[t]=q.matches.length-q.matches.indexOf(n)),!0}}else if(r=y(r,i,a,d))return!0}else h++;var G,X}for(var d=i.length>0?i.shift():0;d<e.matches.length;d++)if(!0!==e.matches[d].isQuantifier){var p=o(e.matches[d],[d].concat(r),a);if(p&&h===t)return p;if(h>t)break}}if(t>-1){if(void 0===e){for(var v,_=t-1;void 0===(v=s.validPositions[_]||s.tests[_])&&_>-1;)_--;void 0!==v&&_>-1&&(p=function(t,e){var i,n=[];return Array.isArray(e)||(e=[e]),e.length>0&&(void 0===e[0].alternation||!0===c.keepStatic?0===(n=o.call(r,t,e.slice()).locator.slice()).length&&(n=e[0].locator.slice()):e.forEach((function(t){""!==t.def&&(0===n.length?(i=t.alternation,n=t.locator.slice()):t.locator[i]&&-1===n[i].toString().indexOf(t.locator[i])&&(n[i]+=","+t.locator[i]))}))),n}(_,v),g=p.join(""),h=_)}if(s.tests[t]&&s.tests[t][0].cd===g)return s.tests[t];for(var b=p.shift();b<d.length&&!(y(d[b],p,[b])&&h===t||h>t);b++);}return(0===f.length||m)&&f.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:g}),void 0!==e&&s.tests[t]?a.extend(!0,[],f):(s.tests[t]=a.extend(!0,[],f),s.tests[t])}Object.defineProperty(e,"__esModule",{value:!0}),e.determineTestTemplate=o,e.getDecisionTaker=n,e.getMaskTemplate=function(t,e,i,n,s){var l=this,u=this.opts,d=this.maskset,h=u.greedy;s&&(u.greedy=!1),e=e||0;var p,f,m,g,y=[],v=0;do{if(!0===t&&d.validPositions[v])f=(m=s&&!0===d.validPositions[v].match.optionality&&void 0===d.validPositions[v+1]&&(!0===d.validPositions[v].generatedInput||d.validPositions[v].input==u.skipOptionalPartCharacter&&v>0)?o.call(l,v,c.call(l,v,p,v-1)):d.validPositions[v]).match,p=m.locator.slice(),y.push(!0===i?m.input:!1===i?f.nativeDef:r.call(l,v,f));else{f=(m=a.call(l,v,p,v-1)).match,p=m.locator.slice();var _=!0!==n&&(!1!==u.jitMasking?u.jitMasking:f.jit);(g=(g&&f.static&&f.def!==u.groupSeparator&&null===f.fn||d.validPositions[v-1]&&f.static&&f.def!==u.groupSeparator&&null===f.fn)&&d.tests[v]&&1===d.tests[v].length)||!1===_||void 0===_||"number"==typeof _&&isFinite(_)&&_>v?y.push(!1===i?f.nativeDef:r.call(l,v,f)):g=!1}v++}while(!0!==f.static||""!==f.def||e>v);return""===y[y.length-1]&&y.pop(),!1===i&&void 0!==d.maskLength||(d.maskLength=v-1),u.greedy=h,y},e.getPlaceholder=r,e.getTest=s,e.getTests=c,e.getTestTemplate=a,e.isSubsetOf=l},7215:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.alternate=l,e.checkAlternationMatch=function(t,e,i){for(var n,r=this.opts.greedy?e:e.slice(0,1),a=!1,o=void 0!==i?i.split(","):[],s=0;s<o.length;s++)-1!==(n=t.indexOf(o[s]))&&t.splice(n,1);for(var l=0;l<t.length;l++)if(r.includes(t[l])){a=!0;break}return a},e.isComplete=u,e.isValid=d,e.refreshFromBuffer=p,e.revalidateMask=m,e.handleRemove=function(t,e,i,n,s){var c=this,u=this.maskset,d=this.opts;if((d.numericInput||c.isRTL)&&(e===a.default.BACKSPACE?e=a.default.DELETE:e===a.default.DELETE&&(e=a.default.BACKSPACE),c.isRTL)){var h=i.end;i.end=i.begin,i.begin=h}var p,f=o.getLastValidPosition.call(c,void 0,!0);if(i.end>=o.getBuffer.call(c).length&&f>=i.end&&(i.end=f+1),e===a.default.BACKSPACE?i.end-i.begin<1&&(i.begin=o.seekPrevious.call(c,i.begin)):e===a.default.DELETE&&i.begin===i.end&&(i.end=o.isMask.call(c,i.end,!0,!0)?i.end+1:o.seekNext.call(c,i.end)+1),!1!==(p=m.call(c,i))){if(!0!==n&&!1!==d.keepStatic||null!==d.regex&&-1!==r.getTest.call(c,i.begin).match.def.indexOf("|")){var g=l.call(c,!0);if(g){var y=void 0!==g.caret?g.caret:g.pos?o.seekNext.call(c,g.pos.begin?g.pos.begin:g.pos):o.getLastValidPosition.call(c,-1,!0);(e!==a.default.DELETE||i.begin>y)&&i.begin}}!0!==n&&(u.p=e===a.default.DELETE?i.begin+p:i.begin,u.p=o.determineNewCaretPosition.call(c,{begin:u.p,end:u.p},!1).begin)}};var n,r=i(4713),a=(n=i(4528))&&n.__esModule?n:{default:n},o=i(8711),s=i(6030);function l(t,e,i,n,a,s){var c,u,h,p,f,m,g,y,v,_,b,x=this,w=this.dependencyLib,k=this.opts,S=x.maskset,T=w.extend(!0,{},S.validPositions),M=w.extend(!0,{},S.tests),C=!1,D=!1,L=void 0!==a?a:o.getLastValidPosition.call(x);if(s&&(_=s.begin,b=s.end,s.begin>s.end&&(_=s.end,b=s.begin)),-1===L&&void 0===a)c=0,u=(p=r.getTest.call(x,c)).alternation;else for(;L>=0;L--)if((h=S.validPositions[L])&&void 0!==h.alternation){if(p&&p.locator[h.alternation]!==h.locator[h.alternation])break;c=L,u=S.validPositions[c].alternation,p=h}if(void 0!==u){g=parseInt(c),S.excludes[g]=S.excludes[g]||[],!0!==t&&S.excludes[g].push((0,r.getDecisionTaker)(p)+":"+p.alternation);var A=[],E=-1;for(f=g;f<o.getLastValidPosition.call(x,void 0,!0)+1;f++)-1===E&&t<=f&&void 0!==e&&(A.push(e),E=A.length-1),(m=S.validPositions[f])&&!0!==m.generatedInput&&(void 0===s||f<_||f>=b)&&A.push(m.input),delete S.validPositions[f];for(-1===E&&void 0!==e&&(A.push(e),E=A.length-1);void 0!==S.excludes[g]&&S.excludes[g].length<10;){for(S.tests={},o.resetMaskSet.call(x,!0),C=!0,f=0;f<A.length&&(y=C.caret||o.getLastValidPosition.call(x,void 0,!0)+1,v=A[f],C=d.call(x,y,v,!1,n,!0));f++)f===E&&(D=C),1==t&&C&&(D={caretPos:f});if(C)break;if(o.resetMaskSet.call(x),p=r.getTest.call(x,g),S.validPositions=w.extend(!0,{},T),S.tests=w.extend(!0,{},M),!S.excludes[g]){D=l.call(x,t,e,i,n,g-1,s);break}var P=(0,r.getDecisionTaker)(p);if(-1!==S.excludes[g].indexOf(P+":"+p.alternation)){D=l.call(x,t,e,i,n,g-1,s);break}for(S.excludes[g].push(P+":"+p.alternation),f=g;f<o.getLastValidPosition.call(x,void 0,!0)+1;f++)delete S.validPositions[f]}}return D&&!1===k.keepStatic||delete S.excludes[g],D}function c(t,e,i){var n=this.opts,r=this.maskset;switch(n.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var o=r.validPositions[i-1];t=0===i||o&&o.input===String.fromCharCode(a.default.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if("function"==typeof n.casing){var s=Array.prototype.slice.call(arguments);s.push(r.validPositions),t=n.casing.apply(this,s)}}return t}function u(t){var e=this,i=this.opts,n=this.maskset;if("function"==typeof i.isComplete)return i.isComplete(t,i);if("*"!==i.repeat){var a=!1,s=o.determineLastRequiredPosition.call(e,!0),l=o.seekPrevious.call(e,s.l);if(void 0===s.def||s.def.newBlockMarker||s.def.optionality||s.def.optionalQuantifier){a=!0;for(var c=0;c<=l;c++){var u=r.getTestTemplate.call(e,c).match;if(!0!==u.static&&void 0===n.validPositions[c]&&!0!==u.optionality&&!0!==u.optionalQuantifier||!0===u.static&&t[c]!==r.getPlaceholder.call(e,c,u)){a=!1;break}}}return a}}function d(t,e,i,n,a,s,h){var g=this,y=this.dependencyLib,v=this.opts,_=g.maskset;function b(t){return g.isRTL?t.begin-t.end>1||t.begin-t.end==1:t.end-t.begin>1||t.end-t.begin==1}i=!0===i;var x=t;function w(t){if(void 0!==t){if(void 0!==t.remove&&(Array.isArray(t.remove)||(t.remove=[t.remove]),t.remove.sort((function(t,e){return e.pos-t.pos})).forEach((function(t){m.call(g,{begin:t,end:t+1})})),t.remove=void 0),void 0!==t.insert&&(Array.isArray(t.insert)||(t.insert=[t.insert]),t.insert.sort((function(t,e){return t.pos-e.pos})).forEach((function(t){""!==t.c&&d.call(g,t.pos,t.c,void 0===t.strict||t.strict,void 0!==t.fromIsValid?t.fromIsValid:n)})),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var e=t.refreshFromBuffer;p.call(g,!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(x=t.rewritePosition,t=!0)}return t}function k(e,i,a){var s=!1;return r.getTests.call(g,e).every((function(l,u){var d=l.match;if(o.getBuffer.call(g,!0),!1!==(s=(!d.jit||void 0!==_.validPositions[o.seekPrevious.call(g,e)])&&(null!=d.fn?d.fn.test(i,_,e,a,v,b(t)):(i===d.def||i===v.skipOptionalPartCharacter)&&""!==d.def&&{c:r.getPlaceholder.call(g,e,d,!0)||d.def,pos:e}))){var h=void 0!==s.c?s.c:i,p=e;return h=h===v.skipOptionalPartCharacter&&!0===d.static?r.getPlaceholder.call(g,e,d,!0)||d.def:h,!0!==(s=w(s))&&void 0!==s.pos&&s.pos!==e&&(p=s.pos),!0!==s&&void 0===s.pos&&void 0===s.c||!1===m.call(g,t,y.extend({},l,{input:c.call(g,h,d,p)}),n,p)&&(s=!1),!1}return!0})),s}void 0!==t.begin&&(x=g.isRTL?t.end:t.begin);var S=!0,T=y.extend(!0,{},_.validPositions);if(!1===v.keepStatic&&void 0!==_.excludes[x]&&!0!==a&&!0!==n)for(var M=x;M<(g.isRTL?t.begin:t.end);M++)void 0!==_.excludes[M]&&(_.excludes[M]=void 0,delete _.tests[M]);if("function"==typeof v.preValidation&&!0!==n&&!0!==s&&(S=w(S=v.preValidation.call(g,o.getBuffer.call(g),x,e,b(t),v,_,t,i||a))),!0===S){if(S=k(x,e,i),(!i||!0===n)&&!1===S&&!0!==s){var C=_.validPositions[x];if(!C||!0!==C.match.static||C.match.def!==e&&e!==v.skipOptionalPartCharacter){if(v.insertMode||void 0===_.validPositions[o.seekNext.call(g,x)]||t.end>x){var D=!1;if(_.jitOffset[x]&&void 0===_.validPositions[o.seekNext.call(g,x)]&&!1!==(S=d.call(g,x+_.jitOffset[x],e,!0,!0))&&(!0!==a&&(S.caret=x),D=!0),t.end>x&&(_.validPositions[x]=void 0),!D&&!o.isMask.call(g,x,v.keepStatic&&0===x))for(var L=x+1,A=o.seekNext.call(g,x,!1,0!==x);L<=A;L++)if(!1!==(S=k(L,e,i))){S=f.call(g,x,void 0!==S.pos?S.pos:L)||S,x=L;break}}}else S={caret:o.seekNext.call(g,x)}}!1!==S||!v.keepStatic||!u.call(g,o.getBuffer.call(g))&&0!==x||i||!0===a?b(t)&&_.tests[x]&&_.tests[x].length>1&&v.keepStatic&&!i&&!0!==a&&(S=l.call(g,!0)):S=l.call(g,x,e,i,n,void 0,t),!0===S&&(S={pos:x})}if("function"==typeof v.postValidation&&!0!==n&&!0!==s){var E=v.postValidation.call(g,o.getBuffer.call(g,!0),void 0!==t.begin?g.isRTL?t.end:t.begin:t,e,S,v,_,i,h);void 0!==E&&(S=!0===E?S:E)}S&&void 0===S.pos&&(S.pos=x),!1===S||!0===s?(o.resetMaskSet.call(g,!0),_.validPositions=y.extend(!0,{},T)):f.call(g,void 0,x,!0);var P=w(S);return void 0!==g.maxLength&&o.getBuffer.call(g).length>g.maxLength&&!n&&(o.resetMaskSet.call(g,!0),_.validPositions=y.extend(!0,{},T),P=!1),P}function h(t,e,i){for(var n=this.maskset,a=!1,o=r.getTests.call(this,t),s=0;s<o.length;s++){if(o[s].match&&(o[s].match.nativeDef===e.match[i.shiftPositions?"def":"nativeDef"]&&(!i.shiftPositions||!e.match.static)||o[s].match.nativeDef===e.match.nativeDef||i.regex&&!o[s].match.static&&o[s].match.fn.test(e.input))){a=!0;break}if(o[s].match&&o[s].match.def===e.match.nativeDef){a=void 0;break}}return!1===a&&void 0!==n.jitOffset[t]&&(a=h.call(this,t+n.jitOffset[t],e,i)),a}function p(t,e,i){var n,r,a=this,l=this.maskset,c=this.opts,u=this.dependencyLib,d=c.skipOptionalPartCharacter,h=a.isRTL?i.slice().reverse():i;if(c.skipOptionalPartCharacter="",!0===t)o.resetMaskSet.call(a),l.tests={},t=0,e=i.length,r=o.determineNewCaretPosition.call(a,{begin:0,end:0},!1).begin;else{for(n=t;n<e;n++)delete l.validPositions[n];r=t}var p=new u.Event("keypress");for(n=t;n<e;n++){p.which=h[n].toString().charCodeAt(0),a.ignorable=!1;var f=s.EventHandlers.keypressEvent.call(a,p,!0,!1,!1,r);!1!==f&&void 0!==f&&(r=f.forwardPosition)}c.skipOptionalPartCharacter=d}function f(t,e,i){var n=this,a=this.maskset,s=this.dependencyLib;if(void 0===t)for(t=e-1;t>0&&!a.validPositions[t];t--);for(var l=t;l<e;l++)if(void 0===a.validPositions[l]&&!o.isMask.call(n,l,!1)&&(0==l?r.getTest.call(n,l):a.validPositions[l-1])){var c=r.getTests.call(n,l).slice();""===c[c.length-1].match.def&&c.pop();var u,h=r.determineTestTemplate.call(n,l,c);if(h&&(!0!==h.match.jit||"master"===h.match.newBlockMarker&&(u=a.validPositions[l+1])&&!0===u.match.optionalQuantifier)&&((h=s.extend({},h,{input:r.getPlaceholder.call(n,l,h.match,!0)||h.match.def})).generatedInput=!0,m.call(n,l,h,!0),!0!==i)){var p=a.validPositions[e].input;return a.validPositions[e]=void 0,d.call(n,e,p,!0,!0)}}}function m(t,e,i,n){var a=this,s=this.maskset,l=this.opts,c=this.dependencyLib;function u(t,e,i){var n=e[t];if(void 0!==n&&!0===n.match.static&&!0!==n.match.optionality&&(void 0===e[0]||void 0===e[0].alternation)){var r=i.begin<=t-1?e[t-1]&&!0===e[t-1].match.static&&e[t-1]:e[t-1],a=i.end>t+1?e[t+1]&&!0===e[t+1].match.static&&e[t+1]:e[t+1];return r&&a}return!1}var p=0,f=void 0!==t.begin?t.begin:t,m=void 0!==t.end?t.end:t,g=!0;if(t.begin>t.end&&(f=t.end,m=t.begin),n=void 0!==n?n:f,f!==m||l.insertMode&&void 0!==s.validPositions[n]&&void 0===i||void 0===e){var y,v=c.extend(!0,{},s.validPositions),_=o.getLastValidPosition.call(a,void 0,!0);for(s.p=f,y=_;y>=f;y--)delete s.validPositions[y],void 0===e&&delete s.tests[y+1];var b,x,w=n,k=w;for(e&&(s.validPositions[n]=c.extend(!0,{},e),k++,w++),y=e?m:m-1;y<=_;y++){if(void 0!==(b=v[y])&&!0!==b.generatedInput&&(y>=m||y>=f&&u(y,v,{begin:f,end:m}))){for(;""!==r.getTest.call(a,k).match.def;){if(!1!==(x=h.call(a,k,b,l))||"+"===b.match.def){"+"===b.match.def&&o.getBuffer.call(a,!0);var S=d.call(a,k,b.input,"+"!==b.match.def,!0);if(g=!1!==S,w=(S.pos||k)+1,!g&&x)break}else g=!1;if(g){void 0===e&&b.match.static&&y===t.begin&&p++;break}if(!g&&k>s.maskLength)break;k++}""==r.getTest.call(a,k).match.def&&(g=!1),k=w}if(!g)break}if(!g)return s.validPositions=c.extend(!0,{},v),o.resetMaskSet.call(a,!0),!1}else e&&r.getTest.call(a,n).match.cd===e.match.cd&&(s.validPositions[n]=c.extend(!0,{},e));return o.resetMaskSet.call(a,!0),p}},8254:function(e){e.exports=t}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var a=i[t]={exports:{}};return e[t](a,a.exports,n),a.exports}var r={};return function(){var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e,i=(e=n(3046))&&e.__esModule?e:{default:e};n(443);var a=i.default;t.default=a}(),r}()}(i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(201),i(202);t(document).ready((function(){setTimeout((function(){t(".multiselect-dropdown").select2({theme:"bootstrap4",placeholder:"Select an option"}),t("#example-single").multiselect({inheritClass:!0}),t("#example-multi").multiselect({inheritClass:!0}),t("#example-multi-check").multiselect({inheritClass:!0})}),2e3)}))}.call(this,i(1))},function(t,e,i){(function(n){var r,a,o;a=[i(1)],void 0===(o="function"==typeof(r=function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;return function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var t,i,n;e&&e.requirejs||(e?i=e:e={},function(e){var r,a,o,s,l={},c={},u={},d={},h=Object.prototype.hasOwnProperty,p=[].slice,f=/\.js$/;function m(t,e){return h.call(t,e)}function g(t,e){var i,n,r,a,o,s,l,c,d,h,p,m=e&&e.split("/"),g=u.map,y=g&&g["*"]||{};if(t){for(o=(t=t.split("/")).length-1,u.nodeIdCompat&&f.test(t[o])&&(t[o]=t[o].replace(f,"")),"."===t[0].charAt(0)&&m&&(t=m.slice(0,m.length-1).concat(t)),d=0;d<t.length;d++)if("."===(p=t[d]))t.splice(d,1),d-=1;else if(".."===p){if(0===d||1===d&&".."===t[2]||".."===t[d-1])continue;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}if((m||y)&&g){for(d=(i=t.split("/")).length;d>0;d-=1){if(n=i.slice(0,d).join("/"),m)for(h=m.length;h>0;h-=1)if((r=g[m.slice(0,h).join("/")])&&(r=r[n])){a=r,s=d;break}if(a)break;!l&&y&&y[n]&&(l=y[n],c=d)}!a&&l&&(a=l,s=c),a&&(i.splice(0,s,a),t=i.join("/"))}return t}function y(t,e){return function(){var i=p.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),a.apply(void 0,i.concat([t,e]))}}function v(t){return function(e){l[t]=e}}function _(t){if(m(c,t)){var e=c[t];delete c[t],d[t]=!0,r.apply(void 0,e)}if(!m(l,t)&&!m(d,t))throw new Error("No "+t);return l[t]}function b(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function x(t){return t?b(t):[]}function w(t){return function(){return u&&u.config&&u.config[t]||{}}}o=function(t,e){var i,n,r=b(t),a=r[0],o=e[1];return t=r[1],a&&(i=_(a=g(a,o))),a?t=i&&i.normalize?i.normalize(t,(n=o,function(t){return g(t,n)})):g(t,o):(a=(r=b(t=g(t,o)))[0],t=r[1],a&&(i=_(a))),{f:a?a+"!"+t:t,n:t,pr:a,p:i}},s={require:function(t){return y(t)},exports:function(t){var e=l[t];return void 0!==e?e:l[t]={}},module:function(t){return{id:t,uri:"",exports:l[t],config:w(t)}}},r=function(t,e,i,n){var r,a,u,h,p,f,g,b=[],w=typeof i;if(f=x(n=n||t),"undefined"===w||"function"===w){for(e=!e.length&&i.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if("require"===(a=(h=o(e[p],f)).f))b[p]=s.require(t);else if("exports"===a)b[p]=s.exports(t),g=!0;else if("module"===a)r=b[p]=s.module(t);else if(m(l,a)||m(c,a)||m(d,a))b[p]=_(a);else{if(!h.p)throw new Error(t+" missing "+a);h.p.load(h.n,y(n,!0),v(a),{}),b[p]=l[a]}u=i?i.apply(l[t],b):void 0,t&&(r&&void 0!==r.exports&&r.exports!==l[t]?l[t]=r.exports:void 0===u&&g||(l[t]=u))}else t&&(l[t]=i)},t=i=a=function(t,e,i,n,l){if("string"==typeof t)return s[t]?s[t](e):_(o(t,x(e)).f);if(!t.splice){if((u=t).deps&&a(u.deps,u.callback),!e)return;e.splice?(t=e,e=i,i=null):t=void 0}return e=e||function(){},"function"==typeof i&&(i=n,n=l),n?r(void 0,t,e,i):setTimeout((function(){r(void 0,t,e,i)}),4),a},a.config=function(t){return a(t)},t._defined=l,(n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),m(l,t)||m(c,t)||(c[t]=[t,e,i])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n)}(),e.define("almond",(function(){})),e.define("jquery",[],(function(){var e=t||n;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e})),e.define("select2/utils",["jquery"],(function(t){var e={};function i(t){var e=t.prototype,i=[];for(var n in e)"function"==typeof e[n]&&"constructor"!==n&&i.push(n);return i}e.Extend=function(t,e){var i={}.hasOwnProperty;function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},e.Decorate=function(t,e){var n=i(e),r=i(t);function a(){var i=Array.prototype.unshift,n=e.prototype.constructor.length,r=t.prototype.constructor;n>0&&(i.call(arguments,t.prototype.constructor),r=e.prototype.constructor),r.apply(this,arguments)}e.displayName=t.displayName,a.prototype=new function(){this.constructor=a};for(var o=0;o<r.length;o++){var s=r[o];a.prototype[s]=t.prototype[s]}for(var l=function(t){var i=function(){};t in a.prototype&&(i=a.prototype[t]);var n=e.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,i),n.apply(this,arguments)}},c=0;c<n.length;c++){var u=n[c];a.prototype[u]=l(u)}return a};var n=function(){this.listeners={}};n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},e.Observable=n,e.generateChars=function(t){for(var e="",i=0;i<t;i++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var r=0;r<i.length;r++){var a=i[r];(a=a.substring(0,1).toLowerCase()+a.substring(1))in n||(n[a]={}),r==i.length-1&&(n[a]=t[e]),n=n[a]}delete t[e]}}return t},e.hasScroll=function(e,i){var n=t(i),r=i.style.overflowX,a=i.style.overflowY;return(r!==a||"hidden"!==a&&"visible"!==a)&&("scroll"===r||"scroll"===a||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))},e.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,(function(t){n=n.add(t)})),i=n}e.append(i)},e.__cache={};var r=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++r),e=r.toString())),e},e.StoreData=function(t,i,n){var r=e.GetUniqueElementId(t);e.__cache[r]||(e.__cache[r]={}),e.__cache[r][i]=n},e.GetData=function(i,n){var r=e.GetUniqueElementId(i);return n?e.__cache[r]&&null!=e.__cache[r][n]?e.__cache[r][n]:t(i).data(n):e.__cache[r]},e.RemoveData=function(t){var i=e.GetUniqueElementId(t);null!=e.__cache[i]&&delete e.__cache[i],t.removeAttribute("data-select2-id")},e})),e.define("select2/results",["jquery","./utils"],(function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);n.append(i(r(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],r=this.option(n);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current((function(n){var r=t.map(n,(function(t){return t.id.toString()}));i.$results.find(".select2-results__option[aria-selected]").each((function(){var i=t(this),n=e.GetData(this,"data"),a=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(a,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")}))}))},i.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},i=this.option(e);i.className+=" loading-results",this.$results.prepend(i)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.className="select2-results__option";var r={role:"option","aria-selected":"false"},a=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var o in(null!=i.element&&a.call(i.element,":disabled")||null==i.element&&i.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==i.id&&delete r["aria-selected"],null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(r.role="group",r["aria-label"]=i.text,delete r["aria-selected"]),r){var s=r[o];n.setAttribute(o,s)}if(i.children){var l=t(n),c=document.createElement("strong");c.className="select2-results__group",t(c),this.template(i,c);for(var u=[],d=0;d<i.children.length;d++){var h=i.children[d],p=this.option(h);u.push(p)}var f=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(u),l.append(c),l.append(f)}else this.template(i,n);return e.StoreData(n,"data",i),n},i.prototype.bind=function(i,n){var r=this,a=i.id+"-results";this.$results.attr("id",a),i.on("results:all",(function(t){r.clear(),r.append(t.data),i.isOpen()&&(r.setClasses(),r.highlightFirstItem())})),i.on("results:append",(function(t){r.append(t.data),i.isOpen()&&r.setClasses()})),i.on("query",(function(t){r.hideMessages(),r.showLoading(t)})),i.on("select",(function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),i.on("unselect",(function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),i.on("open",(function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()})),i.on("close",(function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")})),i.on("results:toggle",(function(){var t=r.getHighlightedResults();0!==t.length&&t.trigger("mouseup")})),i.on("results:select",(function(){var t=r.getHighlightedResults();if(0!==t.length){var i=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:i})}})),i.on("results:previous",(function(){var t=r.getHighlightedResults(),e=r.$results.find("[aria-selected]"),i=e.index(t);if(!(i<=0)){var n=i-1;0===t.length&&(n=0);var a=e.eq(n);a.trigger("mouseenter");var o=r.$results.offset().top,s=a.offset().top,l=r.$results.scrollTop()+(s-o);0===n?r.$results.scrollTop(0):s-o<0&&r.$results.scrollTop(l)}})),i.on("results:next",(function(){var t=r.getHighlightedResults(),e=r.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var n=e.eq(i);n.trigger("mouseenter");var a=r.$results.offset().top+r.$results.outerHeight(!1),o=n.offset().top+n.outerHeight(!1),s=r.$results.scrollTop()+o-a;0===i?r.$results.scrollTop(0):o>a&&r.$results.scrollTop(s)}})),i.on("results:focus",(function(t){t.element.addClass("select2-results__option--highlighted")})),i.on("results:message",(function(t){r.displayMessage(t)})),t.fn.mousewheel&&this.$results.on("mousewheel",(function(t){var e=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-e+t.deltaY,n=t.deltaY>0&&e-t.deltaY<=0,a=t.deltaY<0&&i<=r.$results.height();n?(r.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):a&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),t.preventDefault(),t.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(i){var n=t(this),a=e.GetData(this,"data");"true"!==n.attr("aria-selected")?r.trigger("select",{originalEvent:i,data:a}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:i,data:a}):r.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(i){var n=e.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:n,element:t(this)})}))},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),i=this.$results.offset().top,n=t.offset().top,r=this.$results.scrollTop()+(n-i),a=n-i;r-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),a=n(e,i);null==a?i.style.display="none":"string"==typeof a?i.innerHTML=r(a):t(i).append(a)},i})),e.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),e.define("select2/selection/base",["jquery","../utils","../keys"],(function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var i=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i,i},n.prototype.bind=function(t,e){var n=this,r=t.id+"-results";this.container=t,this.$selection.on("focus",(function(t){n.trigger("focus",t)})),this.$selection.on("blur",(function(t){n._handleBlur(t)})),this.$selection.on("keydown",(function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()})),t.on("results:focus",(function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)})),t.on("selection:update",(function(t){n.update(t.data)})),t.on("open",(function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(t)})),t.on("close",(function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(t)})),t.on("enable",(function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")})),t.on("disable",(function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")}))},n.prototype._handleBlur=function(e){var i=this;window.setTimeout((function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)}),1)},n.prototype._attachCloseHandler=function(i){t(document.body).on("mousedown.select2."+i.id,(function(i){var n=t(i.target).closest(".select2");t(".select2.select2-container--open").each((function(){this!=n[0]&&e.GetData(this,"element").select2("close")}))}))},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n.prototype.isEnabled=function(){return!this.isDisabled()},n.prototype.isDisabled=function(){return this.options.get("disabled")},n})),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(t,e,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var i=this;r.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",(function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})})),this.$selection.on("focus",(function(t){})),this.$selection.on("blur",(function(t){})),t.on("focus",(function(e){t.isOpen()||i.$selection.trigger("focus")}))},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n);var r=e.title||e.text;r?i.attr("title",r):i.removeAttr("title")}else this.clear()},r})),e.define("select2/selection/multiple",["jquery","./base","../utils"],(function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,r){var a=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(t){a.trigger("toggle",{originalEvent:t})})),this.$selection.on("click",".select2-selection__choice__remove",(function(e){if(!a.isDisabled()){var n=t(this).parent(),r=i.GetData(n[0],"data");a.trigger("unselect",{originalEvent:e,data:r})}}))},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var r=t[n],a=this.selectionContainer(),o=this.display(r,a);a.append(o);var s=r.title||r.text;s&&a.attr("title",s),i.StoreData(a[0],"data",r),e.push(a)}var l=this.$selection.find(".select2-selection__rendered");i.appendMany(l,e)}},n})),e.define("select2/selection/placeholder",["../utils"],(function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e})),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(t,e,i){function n(){}return n.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(t){n._handleClear(t)})),e.on("keypress",(function(t){n._handleKeyboardClear(t,e)}))},n.prototype._handleClear=function(t,e){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();var r=i.GetData(n[0],"data"),a=this.$element.val();this.$element.val(this.placeholder.id);var o={data:r};if(this.trigger("clear",o),o.prevented)this.$element.val(a);else{for(var s=0;s<r.length;s++)if(o={data:r[s]},this.trigger("unselect",o),o.prevented)return void this.$element.val(a);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},n.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||i.which!=e.DELETE&&i.which!=e.BACKSPACE||this._handleClear(i)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var r=this.options.get("translations").get("removeAllItems"),a=t('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');i.StoreData(a[0],"data",n),this.$selection.find(".select2-selection__rendered").prepend(a)}},n})),e.define("select2/selection/search",["jquery","../utils","../keys"],(function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,n,r){var a=this,o=n.id+"-results";t.call(this,n,r),n.on("open",(function(){a.$search.attr("aria-controls",o),a.$search.trigger("focus")})),n.on("close",(function(){a.$search.val(""),a.$search.removeAttr("aria-controls"),a.$search.removeAttr("aria-activedescendant"),a.$search.trigger("focus")})),n.on("enable",(function(){a.$search.prop("disabled",!1),a._transferTabIndex()})),n.on("disable",(function(){a.$search.prop("disabled",!0)})),n.on("focus",(function(t){a.$search.trigger("focus")})),n.on("results:focus",(function(t){t.data._resultId?a.$search.attr("aria-activedescendant",t.data._resultId):a.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(t){a.trigger("focus",t)})),this.$selection.on("focusout",".select2-search--inline",(function(t){a._handleBlur(t)})),this.$selection.on("keydown",".select2-search--inline",(function(t){if(t.stopPropagation(),a.trigger("keypress",t),a._keyUpPrevented=t.isDefaultPrevented(),t.which===i.BACKSPACE&&""===a.$search.val()){var n=a.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var r=e.GetData(n[0],"data");a.searchRemoveChoice(r),t.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(t){a.$search.val()&&t.stopPropagation()}));var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(t){l?a.$selection.off("input.search input.searchcheck"):a.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(t){if(l&&"input"===t.type)a.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&a.handleSearch(t)}}))},n.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.trigger("focus")},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},n})),e.define("select2/selection/eventRelay",["jquery"],(function(t){function e(){}return e.prototype.bind=function(e,i,n){var r=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];e.call(this,i,n),i.on("*",(function(e,i){if(-1!==t.inArray(e,a)){i=i||{};var n=t.Event("select2:"+e,{params:i});r.$element.trigger(n),-1!==t.inArray(e,o)&&(i.prevented=n.isDefaultPrevented())}}))},e})),e.define("select2/translation",["jquery","require"],(function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i})),e.define("select2/diacritics",[],(function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}})),e.define("select2/data/base",["../utils"],(function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+t.generateChars(4),n},e})),e.define("select2/data/select",["./base","../utils","jquery"],(function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each((function(){var t=i(this),r=n.item(t);e.push(r)})),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(n){var r=[];(t=[t]).push.apply(t,n);for(var a=0;a<t.length;a++){var o=t[a].id;-1===i.inArray(o,r)&&r.push(o)}e.$element.val(r),e.$element.trigger("input").trigger("change")}));else{var n=t.id;this.$element.val(n),this.$element.trigger("input").trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,i(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(n){for(var r=[],a=0;a<n.length;a++){var o=n[a].id;o!==t.id&&-1===i.inArray(o,r)&&r.push(o)}e.$element.val(r),e.$element.trigger("input").trigger("change")}))}},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",(function(t){i.select(t.data)})),t.on("unselect",(function(t){i.unselect(t.data)}))},n.prototype.destroy=function(){this.$element.find("*").each((function(){e.RemoveData(this)}))},n.prototype.query=function(t,e){var n=[],r=this;this.$element.children().each((function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var a=r.item(e),o=r.matches(t,a);null!==o&&n.push(o)}})),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var n;t.children?(n=document.createElement("optgroup")).label=t.text:void 0!==(n=document.createElement("option")).textContent?n.textContent=t.text:n.innerText=t.text,void 0!==t.id&&(n.value=t.id),t.disabled&&(n.disabled=!0),t.selected&&(n.selected=!0),t.title&&(n.title=t.title);var r=i(n),a=this._normalizeItem(t);return a.element=n,e.StoreData(n,"data",a),r},n.prototype.item=function(t){var n={};if(null!=(n=e.GetData(t[0],"data")))return n;if(t.is("option"))n={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){n={text:t.prop("label"),children:[],title:t.prop("title")};for(var r=t.children("option"),a=[],o=0;o<r.length;o++){var s=i(r[o]),l=this.item(s);a.push(l)}n.children=a}return(n=this._normalizeItem(n)).element=t[0],e.StoreData(t[0],"data",n),n},n.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=i.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n})),e.define("select2/data/array",["./select","../utils","jquery"],(function(t,e,i){function n(t,e){this._dataToConvert=e.get("data")||[],n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype.bind=function(t,e){n.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(t){var e=this.$element.find("option").filter((function(e,i){return i.value==t.id.toString()}));0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){var n=this,r=this.$element.find("option"),a=r.map((function(){return n.item(i(this)).id})).get(),o=[];function s(t){return function(){return i(this).val()==t.id}}for(var l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(i.inArray(c.id,a)>=0){var u=r.filter(s(c)),d=this.item(u),h=i.extend(!0,{},c,d),p=this.option(h);u.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(f,m)}o.push(f)}}return o},n})),e.define("select2/data/ajax",["./array","../utils","jquery"],(function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var r=i.ajax(t);return r.then(e),r.fail(n),r}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){var n=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);function a(){var a=r.transport(r,(function(r){var a=n.processResults(r,t);n.options.get("debug")&&window.console&&console.error&&(a&&a.results&&i.isArray(a.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(a)}),(function(){(!("status"in a)||0!==a.status&&"0"!==a.status)&&n.trigger("results:message",{message:"errorLoading"})}));n._request=a}"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(a,this.ajaxOptions.delay)):a()},n})),e.define("select2/data/tags",["jquery"],(function(t){function e(e,i,n){var r=n.get("tags"),a=n.get("createTag");void 0!==a&&(this.createTag=a);var o=n.get("insertTag");if(void 0!==o&&(this.insertTag=o),e.call(this,i,n),t.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,i){var n=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,(function t(r,a){for(var o=r.results,s=0;s<o.length;s++){var l=o[s],c=null!=l.children&&!t({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!a&&(r.data=o,void i(r))}if(a)return!0;var u=n.createTag(e);if(null!=u){var d=n.option(u);d.attr("data-select2-tag",!0),n.addOptions([d]),n.insertTag(o,u)}r.results=o,i(r)})):t.call(this,e,i)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each((function(){this.selected||t(this).remove()}))},e})),e.define("select2/data/tokenizer",["jquery"],(function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,i,n){var r=this;i.term=i.term||"";var a=this.tokenizer(i,this.options,(function(e){var i=r._normalizeItem(e);if(!r.$element.find("option").filter((function(){return t(this).val()===i.id})).length){var n=r.option(i);n.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([n])}!function(t){r.trigger("select",{data:t})}(i)}));a.term!==i.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.trigger("focus")),i.term=a.term),e.call(this,i,n)},e.prototype.tokenizer=function(e,i,n,r){for(var a=n.get("tokenSeparators")||[],o=i.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<o.length;){var c=o[s];if(-1!==t.inArray(c,a)){var u=o.substr(0,s),d=l(t.extend({},i,{term:u}));null!=d?(r(d),o=o.substr(s+1)||"",s=0):s++}else s++}return{term:o}},e})),e.define("select2/data/minimumInputLength",[],(function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t})),e.define("select2/data/maximumInputLength",[],(function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t})),e.define("select2/data/maximumSelectionLength",[],(function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",(function(){n._checkIfMaximumSelected()}))},t.prototype.query=function(t,e,i){var n=this;this._checkIfMaximumSelected((function(){t.call(n,e,i)}))},t.prototype._checkIfMaximumSelected=function(t,e){var i=this;this.current((function(t){var n=null!=t?t.length:0;i.maximumSelectionLength>0&&n>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):e&&e()}))},t})),e.define("select2/dropdown",["jquery","./utils"],(function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i})),e.define("select2/dropdown/search",["jquery","../utils"],(function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var r=this,a=i.id+"-results";e.call(this,i,n),this.$search.on("keydown",(function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()})),this.$search.on("input",(function(e){t(this).off("keyup")})),this.$search.on("keyup input",(function(t){r.handleSearch(t)})),i.on("open",(function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",a),r.$search.trigger("focus"),window.setTimeout((function(){r.$search.trigger("focus")}),0)})),i.on("close",(function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")})),i.on("focus",(function(){i.isOpen()||r.$search.trigger("focus")})),i.on("results:all",(function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})),i.on("results:focus",(function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")}))},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i})),e.define("select2/dropdown/hidePlaceholder",[],(function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var r=e[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},t})),e.define("select2/dropdown/infiniteScroll",["jquery"],(function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",(function(t){n.lastParams=t,n.loading=!0})),e.on("query:append",(function(t){n.lastParams=t,n.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e})),e.define("select2/dropdown/attachBody",["jquery","../utils"],(function(t,e){function i(e,i,n){this.$dropdownParent=t(n.get("dropdownParent")||document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("open",(function(){n._showDropdown(),n._attachPositioningHandler(e),n._bindContainerResultHandlers(e)})),e.on("close",(function(){n._hideDropdown(),n._detachPositioningHandler(e)})),this.$dropdownContainer.on("mousedown",(function(t){t.stopPropagation()}))},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var i=this;e.on("results:all",(function(){i._positionDropdown(),i._resizeDropdown()})),e.on("results:append",(function(){i._positionDropdown(),i._resizeDropdown()})),e.on("results:message",(function(){i._positionDropdown(),i._resizeDropdown()})),e.on("select",(function(){i._positionDropdown(),i._resizeDropdown()})),e.on("unselect",(function(){i._positionDropdown(),i._resizeDropdown()})),this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,n){var r=this,a="scroll.select2."+n.id,o="resize.select2."+n.id,s="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each((function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})})),l.on(a,(function(i){var n=e.GetData(this,"select2-scroll-position");t(this).scrollTop(n.y)})),t(window).on(a+" "+o+" "+s,(function(t){r._positionDropdown(),r._resizeDropdown()}))},i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id,a="resize.select2."+n.id,o="orientationchange.select2."+n.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+a+" "+o)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,a=this.$container.offset();a.bottom=a.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=a.top,o.bottom=a.top+o.height;var s=this.$dropdown.outerHeight(!1),l=e.scrollTop(),c=e.scrollTop()+e.height(),u=l<a.top-s,d=c>a.bottom+s,h={left:a.left,top:o.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var f={top:0,left:0};(t.contains(document.body,p[0])||p[0].isConnected)&&(f=p.offset()),h.top-=f.top,h.left-=f.left,i||n||(r="below"),d||!u||i?!u&&d&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(h.top=o.top-f.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i})),e.define("select2/dropdown/minimumResultsForSearch",[],(function(){function t(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var i=0,n=0;n<e.length;n++){var r=e[n];r.children?i+=t(r.children):i++}return i}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t})),e.define("select2/dropdown/selectOnClose",["../utils"],(function(t){function e(){}return e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",(function(t){n._handleSelectOnClose(t)}))},e.prototype._handleSelectOnClose=function(e,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var a=t.GetData(r[0],"data");null!=a.element&&a.element.selected||null==a.element&&a.selected||this.trigger("select",{data:a})}},e})),e.define("select2/dropdown/closeOnSelect",[],(function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",(function(t){n._selectTriggered(t)})),e.on("unselect",(function(t){n._selectTriggered(t)}))},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t})),e.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}})),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(t,e,i,n,r,a,o,s,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k,S,T,M,C,D){function L(){this.reset()}return L.prototype.apply=function(u){if(null==(u=t.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=p:u.dataAdapter=h,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,_)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var d=e(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,d)}if(null!=u.initSelection){var D=e(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,D)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,w)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,M))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=b;else{var L=c.Decorate(b,x);u.dropdownAdapter=L}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,T)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,C)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var A=e(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,A)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=r:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var E=e(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,E)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}u.language=this._resolveLanguage(u.language),u.language.push("en");for(var P=[],I=0;I<u.language.length;I++){var O=u.language[I];-1===P.indexOf(O)&&P.push(O)}return u.language=P,u.translations=this._processTranslations(u.language,u.debug),u},L.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return d[t]||t}))}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function i(n,r){if(""===t.trim(n.term))return r;if(r.children&&r.children.length>0){for(var a=t.extend(!0,{},r),o=r.children.length-1;o>=0;o--)null==i(n,r.children[o])&&a.children.splice(o,1);return a.children.length>0?a:i(n,a)}var s=e(r.text).toUpperCase(),l=e(n.term).toUpperCase();return s.indexOf(l)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},L.prototype.applyFromElement=function(t,e){var i=t.language,n=this.defaults.language,r=e.prop("lang"),a=e.closest("[lang]").prop("lang"),o=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(a));return t.language=o,t},L.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var i;i=t.isArray(e)?e:[e];for(var n=[],r=0;r<i.length;r++)if(n.push(i[r]),"string"==typeof i[r]&&i[r].indexOf("-")>0){var a=i[r].split("-")[0];n.push(a)}return n},L.prototype._processTranslations=function(e,i){for(var n=new u,r=0;r<e.length;r++){var a=new u,o=e[r];if("string"==typeof o)try{a=u.loadPath(o)}catch(t){try{o=this.defaults.amdLanguageBase+o,a=u.loadPath(o)}catch(t){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else a=t.isPlainObject(o)?new u(o):o;n.extend(a)}return n},L.prototype.set=function(e,i){var n={};n[t.camelCase(e)]=i;var r=c._convertData(n);t.extend(!0,this.defaults,r)},new L})),e.define("select2/options",["require","jquery","./defaults","./utils"],(function(t,e,i,n){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),null!=r&&(this.options=i.applyFromElement(this.options,r)),this.options=i.apply(this.options),r&&r.is("input")){var a=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,a)}}return r.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),n.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(t[0],"data",n.GetData(t[0],"select2Tags")),n.StoreData(t[0],"tags",!0)),n.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",n.GetData(t[0],"ajaxUrl")),n.StoreData(t[0],"ajax-Url",n.GetData(t[0],"ajaxUrl")));var r={};function a(t,e){return e.toUpperCase()}for(var o=0;o<t[0].attributes.length;o++){var s=t[0].attributes[o].name;if("data-"==s.substr(0,"data-".length)){var l=s.substring("data-".length),c=n.GetData(t[0],l);r[l.replace(/-([a-z])/g,a)]=c}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(r=e.extend(!0,{},t[0].dataset,r));var u=e.extend(!0,{},n.GetData(t[0]),r);for(var d in u=n._convertData(u))e.inArray(d,i)>-1||(e.isPlainObject(this.options[d])?e.extend(this.options[d],u[d]):this.options[d]=u[d]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r})),e.define("select2/core",["jquery","./options","./utils","./keys"],(function(t,e,i,n){var r=function(t,n){null!=i.GetData(t[0],"select2")&&i.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var a=t.attr("tabindex")||0;i.StoreData(t[0],"old-tabindex",a),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var u=this.options.get("resultsAdapter");this.results=new u(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(t){d.trigger("selection:update",{data:t})})),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(t[0],"select2",this),t.data("select2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var a=t.attr("style");if("string"!=typeof a)return null;for(var o=a.split(";"),s=0,l=o.length;s<l;s+=1){var c=o[s].replace(/\s/g,"").match(i);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",(function(){t.dataAdapter.current((function(e){t.trigger("selection:update",{data:e})}))})),this.$element.on("focus.select2",(function(e){t.trigger("focus",e)})),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e((function(e){t._syncA(),t._syncS(null,e)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",(function(e,i){t.trigger(e,i)}))},r.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",(function(){e.toggleDropdown()})),this.selection.on("focus",(function(t){e.focus(t)})),this.selection.on("*",(function(n,r){-1===t.inArray(n,i)&&e.trigger(n,r)}))},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",(function(e,i){t.trigger(e,i)}))},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",(function(e,i){t.trigger(e,i)}))},r.prototype._registerEvents=function(){var t=this;this.on("open",(function(){t.$container.addClass("select2-container--open")})),this.on("close",(function(){t.$container.removeClass("select2-container--open")})),this.on("enable",(function(){t.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){t.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){t.$container.removeClass("select2-container--focus")})),this.on("query",(function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,(function(i){t.trigger("results:all",{data:i,query:e})}))})),this.on("query:append",(function(e){this.dataAdapter.query(e,(function(i){t.trigger("results:append",{data:i,query:e})}))})),this.on("keypress",(function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(e),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())}))},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._isChangeMutation=function(e,i){var n=!1,r=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(i)if(i.addedNodes&&i.addedNodes.length>0)for(var a=0;a<i.addedNodes.length;a++)i.addedNodes[a].selected&&(n=!0);else i.removedNodes&&i.removedNodes.length>0?n=!0:t.isArray(i)&&t.each(i,(function(t,e){if(r._isChangeMutation(t,e))return n=!0,!1}));else n=!0;return n}},r.prototype._syncSubtree=function(t,e){var i=this._isChangeMutation(t,e),n=this;i&&this.dataAdapter.current((function(t){n.trigger("selection:update",{data:t})}))},r.prototype.trigger=function(t,e){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in n){var a=n[t],o={prevented:!1,name:t,args:e};if(i.call(this,a,o),o.prevented)return void(e.prevented=!0)}i.call(this,t,e)},r.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},r.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current((function(e){t=e})),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,(function(t){return t.toString()}))),this.$element.val(i).trigger("input").trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(e[0],"element",this.$element),e},r})),e.define("jquery-mousewheel",["jquery"],(function(t){return t})),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(t,e,i,n,r){if(null==t.fn.select2){var a=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each((function(){var n=t.extend(!0,{},e);new i(t(this),n)})),this;if("string"==typeof e){var n,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var t=r.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,o)})),t.inArray(e,a)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i})),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i})?r.apply(e,a):r)||(t.exports=o)}).call(this,i(1))},function(t,e,i){(function(t){!function(t){"use strict";function e(e,i){this.$select=t(e),this.options=this.mergeOptions(t.extend({},i,this.$select.data())),this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder")),this.$select.attr("data-button-width")&&(this.options.buttonWidth=this.$select.data("button-width")),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onSelectAll=t.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=t.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=t.proxy(this.options.onInitialized,this),this.options.onFiltering=t.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.wasDisabled=this.$select.prop("disabled"),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.wrap('<div class="multiselect-native-select" />').after(this.$container),this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(e,i,n,r,a){var o=t(e),s=ko.toJS(i());if(o.multiselect(s),n.has("options")){var l=n.get("options");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout((function(){var t=o.data("multiselect");t&&t.updateOriginalOptions(),o.multiselect("rebuild")}),1)},disposeWhenNodeIsRemoved:e})}if(n.has("value")){var c=n.get("value");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout((function(){o.multiselect("refresh")}),1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(n.has("selectedOptions")){var u=n.get("selectedOptions");ko.isObservable(u)&&ko.computed({read:function(){u(),setTimeout((function(){o.multiselect("refresh")}),1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var d=function(t){setTimeout((function(){t?o.multiselect("enable"):o.multiselect("disable")}))};if(n.has("enable")){var h=n.get("enable");ko.isObservable(h)?ko.computed({read:function(){d(h())},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0}):d(h)}if(n.has("disable")){var p=n.get("disable");ko.isObservable(p)?ko.computed({read:function(){d(!p())},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0}):d(!p)}ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){o.multiselect("destroy")}))},update:function(e,i,n,r,a){var o=t(e),s=ko.toJS(i());o.multiselect("setOptions",s),o.multiselect("rebuild")}}),e.prototype={defaults:{buttonText:function(e,i){if(this.disabledText.length>0&&(i.prop("disabled")||0==e.length&&this.disableIfEmpty))return this.disabledText;if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===t("option",t(i)).length&&1!==t("option",t(i)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var n="",r=this.delimiterText;return e.each((function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();n+=e+r})),n.substr(0,n.length-this.delimiterText.length)},buttonTitle:function(e,i){if(0===e.length)return this.nonSelectedText;var n="",r=this.delimiterText;return e.each((function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();n+=e+r})),n.substr(0,n.length-this.delimiterText.length)},checkboxName:function(t){return!1},optionLabel:function(e){return t(e).attr("label")||t(e).text()},optionClass:function(e){return t(e).attr("class")||""},onChange:function(t,e){},onDropdownShow:function(t){},onDropdownHide:function(t){},onDropdownShown:function(t){},onDropdownHidden:function(t){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(t,e){},onFiltering:function(t){},enableHTML:!0,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"100%",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item multiselect-filter"><div class="input-group"><span class="input-group-addon"><i class="icon-search4 text-size-base"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="icon-cross2"></i></button></span>',li:'<li class="multiselect-item dropdown-item"><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:e,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%",overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("dropdown-menu-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var e=Math.min(this.options.maxHeight,26*t('option[data-role!="divider"]',this.$select).length+19*t('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),i=e+34;this.$ul.css({"max-height":e+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+i+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy((function(e,i){var n=t(i),r=n.prop("tagName").toLowerCase();n.prop("value")!==this.options.selectAllValue&&("optgroup"===r?this.createOptgroup(i):"option"===r&&("divider"===n.data("role")?this.createDivider():this.createOptionValue(i)))}),this)),t(".multiselect-item:not(.multiselect-group) input",this.$ul).on("change",t.proxy((function(e){var i=t(e.target),n=i.prop("checked")||!1,r=i.val()===this.options.selectAllValue;this.options.selectedClass&&(n?i.closest(".multiselect-item").addClass(this.options.selectedClass):i.closest(".multiselect-item").removeClass(this.options.selectedClass));var a=i.val(),o=this.getOptionByValue(a),s=t("option",this.$select).not(o),l=t("input",this.$container).not(i);if(r?n?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(n?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&t(l).closest(".multiselect-item").removeClass(this.options.selectedClass),t(l).prop("checked",!1),s.prop("selected",!1),this.$button.click())):o.prop("selected",!1),this.options.onChange(o,n),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1}),this)),t(".dropdown-item",this.$ul).on("mousedown",(function(t){if(t.shiftKey)return!1})),t(".dropdown-item",this.$ul).on("touchstart click",t.proxy((function(e){e.stopPropagation();var i=t(e.target);if(e.shiftKey&&this.options.multiple){i.is("label")&&(e.preventDefault(),(i=i.find("input")).prop("checked",!i.prop("checked")));var n=i.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==i){var r=i.closest(".multiselect-item").index(),a=this.lastToggledInput.closest(".multiselect-item").index();if(r>a){var o=a;a=r,r=o}++a;var s=this.$ul.find(".multiselect-item").slice(r,a).find("input");s.prop("checked",n),this.options.selectedClass&&s.closest(".multiselect-item").toggleClass(this.options.selectedClass,n);for(var l=0,c=s.length;l<c;l++){var u=t(s[l]);this.getOptionByValue(u.val()).prop("selected",n)}}i.trigger("change")}i.is("input")&&!i.closest("div, a").is(".multiselect-item")&&(this.lastToggledInput=i),i.blur()}),this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy((function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("show"))this.$button.click();else{var i=t(this.$container).find(".dropdown-item:not(.disabled)").filter(":visible");if(!i.length)return;var n=i.index(i.filter(":focus"));38===e.keyCode&&n>0?n--:40===e.keyCode&&n<i.length-1?n++:~n||(n=0);var r=i.eq(n);if(r.focus(),32===e.keyCode||13===e.keyCode){var a=r.find("input");a.prop("checked",!a.prop("checked")),a.change()}e.stopPropagation(),e.preventDefault()}}),this)),this.options.enableClickableOptGroups&&this.options.multiple&&t(".multiselect-group input",this.$ul).on("change",t.proxy((function(e){e.stopPropagation();var i=t(e.target).prop("checked")||!1,n=t(e.target).closest(".multiselect-item"),r=n.nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),a=[];this.options.selectedClass&&(i?n.addClass(this.options.selectedClass):n.removeClass(this.options.selectedClass)),t.each(r,t.proxy((function(e,n){var r=t(n).val(),o=this.getOptionByValue(r);i?(t(n).prop("checked",!0),t(n).closest(".multiselect-item").addClass(this.options.selectedClass),o.prop("selected",!0)):(t(n).prop("checked",!1),t(n).closest(".multiselect-item").removeClass(this.options.selectedClass),o.prop("selected",!1)),a.push(this.getOptionByValue(r))}),this)),this.options.onChange(a,i),this.updateButtonText(),this.updateSelectAll()}),this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(t(".multiselect-group .caret-container",this.$ul).on("click",t.proxy((function(e){var i=t(e.target).closest(".multiselect-item").nextUntil(".multiselect-group").not(".multiselect-filter-hidden"),n=!0;i.each((function(){n=n&&t(this).is(":visible")})),n?i.hide().addClass("multiselect-collapsible-hidden"):i.show().removeClass("multiselect-collapsible-hidden")}),this)),t(".multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),t(".multiselect-all > label.multiselect-group-label",this.$ul).css("padding","3px 20px 3px 35px"),t(".multiselect-group > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(e){var i=t(e);i.is(":selected")&&i.prop("selected",!0);var n=this.options.optionLabel(e),r=this.options.optionClass(e),a=i.val(),o=this.options.multiple?"checkbox":"radio",s=t(this.options.templates.li),l=t("label",s);s.addClass(r),this.options.enableHTML?l.html(" "+n+"<span class='form-check-control-indicator' />"):l.text(" "+n);var c=t("<input/>").attr("type",o),u=this.options.checkboxName(i);u&&c.attr("name",u),l.prepend(c);var d=i.prop("selected")||!1;c.val(a),a===this.options.selectAllValue&&s.addClass("multiselect-item multiselect-all"),l.attr("title",i.attr("title")),this.$ul.append(s),i.is(":disabled")&&c.attr("disabled","disabled").prop("disabled",!0).closest(".dropdown-item").attr("tabindex","-1").addClass("disabled"),c.prop("checked",d),d&&this.options.selectedClass&&c.closest(".dropdown-item").addClass(this.options.selectedClass)},createDivider:function(e){var i=t(this.options.templates.divider);this.$ul.append(i)},createOptgroup:function(e){var i=t(e).attr("label"),n=t(e).attr("value"),r=t('<li class="multiselect-item multiselect-group"><label></label></li>'),a=this.options.optionClass(e);r.addClass(a),this.options.enableHTML?t("label",r).html(" "+i):t("label",r).text(" "+i),this.options.enableCollapsibleOptGroups&&this.options.multiple&&t(r).addClass("dropdown-toggle"),this.options.enableClickableOptGroups&&this.options.multiple&&(t("label",r).addClass("multiselect-group-label").prepend('<input type="checkbox" value="'+n+'"/> <span class="form-check-control-indicator" />'),r.closest(".multiselect-item").addClass("dropdown-item")),t(e).is(":disabled")&&r.addClass("disabled"),this.$ul.append(r),t("option",e).each(t.proxy((function(t,e){this.createOptionValue(e)}),this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(t(this.options.templates.divider));var e=t(this.options.templates.li);this.options.enableHTML?t("label",e).html(" "+this.options.selectAllText+"<span class='form-check-control-indicator' />"):t("label",e).text(" "+this.options.selectAllText),this.options.selectAllName?t("label",e).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):t("label",e).prepend('<input type="checkbox" />');var i=t("input",e);i.val(this.options.selectAllValue),e.addClass("multiselect-item multiselect-all"),this.$ul.prepend(e),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var i=t(this.options.templates.filterClearBtn);i.on("click",t.proxy((function(e){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),t(".multiselect-item",this.$ul).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()}),this)),this.$filter.find(".input-group").append(i)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",(function(t){t.stopPropagation()})).on("input keydown",t.proxy((function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy((function(){var i,n;this.query!==e.target.value&&(this.query=e.target.value,t.each(t(".multiselect-item",this.$ul),t.proxy((function(e,r){var a=t("input",r).length>0?t("input",r).val():"",o=t("label",r).text(),s="";if("text"===this.options.filterBehavior?s=o:"value"===this.options.filterBehavior?s=a:"both"===this.options.filterBehavior&&(s=o+"\n"+a),a!==this.options.selectAllValue&&o){var l=!1;if(this.options.enableCaseInsensitiveFiltering&&(s=s.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var c=s.trim().substring(0,this.query.length);this.query.indexOf(c)>-1&&(l=!0)}else s.indexOf(this.query)>-1&&(l=!0);t(r).toggle(l).toggleClass("multiselect-filter-hidden",!l),t(r).hasClass("multiselect-group")?(i=r,n=l):(l&&t(i).show().removeClass("multiselect-filter-hidden"),!l&&n&&t(r).show().removeClass("multiselect-filter-hidden"))}}),this)));this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(e.target)}),this),300,this)}),this))}}},destroy:function(){this.$container.remove(),this.$select.unwrap(),this.$select.prop("disabled",this.options.wasDisabled),this.$select.data("multiselect",null)},refresh:function(){var e=t.map(t(".multiselect-item input",this.$ul),t);t("option",this.$select).each(t.proxy((function(i,n){for(var r,a=t(n),o=a.val(),s=e.length;0<s--;)if(o===(r=e[s]).val()){a.is(":selected")?(r.prop("checked",!0),this.options.selectedClass&&r.closest(".multiselect-item").addClass(this.options.selectedClass)):(r.prop("checked",!1),this.options.selectedClass&&r.closest(".multiselect-item").removeClass(this.options.selectedClass)),a.is(":disabled")?r.attr("disabled","disabled").prop("disabled",!0).closest(".multiselect-item").addClass("disabled"):r.prop("disabled",!1).closest(".multiselect-item").removeClass("disabled");break}}),this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(e,i){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(null!=r){var a=this.getOptionByValue(r),o=this.getInputByValue(r);void 0!==a&&void 0!==o&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest(".multiselect-item").addClass(this.options.selectedClass),o.prop("checked",!0),a.prop("selected",!0),i&&this.options.onChange(a,!0))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(e,i){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(null!=r){var a=this.getOptionByValue(r),o=this.getInputByValue(r);void 0!==a&&void 0!==o&&(this.options.selectedClass&&o.closest(".multiselect-item").removeClass(this.options.selectedClass),o.prop("checked",!1),a.prop("selected",!1),i&&this.options.onChange(a,!1))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(e,i){e=void 0===e||e;var n=t(".multiselect-item:not(.dropdown-divider):not(.disabled):not(.multiselect-group)",this.$ul),r=t(".multiselect-item:not(.dropdown-divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");e?(t("input:enabled",r).prop("checked",!0),r.addClass(this.options.selectedClass),t("input:enabled",r).each(t.proxy((function(e,i){var n=t(i).val(),r=this.getOptionByValue(n);t(r).prop("selected",!0)}),this))):(t("input:enabled",n).prop("checked",!0),n.addClass(this.options.selectedClass),t("input:enabled",n).each(t.proxy((function(e,i){var n=t(i).val(),r=this.getOptionByValue(n);t(r).prop("selected",!0)}),this))),t('.multiselect-item input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),i&&this.options.onSelectAll()},deselectAll:function(e,i){e=void 0===e||e;var n=t(".multiselect-item:not(.dropdown-divider):not(.disabled):not(.multiselect-group)",this.$ul),r=t(".multiselect-item:not(.dropdown-divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");e?(t('input[type="checkbox"]:enabled',r).prop("checked",!1),r.removeClass(this.options.selectedClass),t('input[type="checkbox"]:enabled',r).each(t.proxy((function(e,i){var n=t(i).val(),r=this.getOptionByValue(n);t(r).prop("selected",!1)}),this))):(t('input[type="checkbox"]:enabled',n).prop("checked",!1),n.removeClass(this.options.selectedClass),t('input[type="checkbox"]:enabled',n).each(t.proxy((function(e,i){var n=t(i).val(),r=this.getOptionByValue(n);t(r).prop("selected",!1)}),this))),t('.multiselect-item input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),i&&this.options.onDeselectAll()},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&t("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("dropdown-menu-right")},dataprovider:function(e){var i=0,n=this.$select.empty();t.each(e,(function(e,r){var a;if(t.isArray(r.children))i++,a=t("<optgroup/>").attr({label:r.label||"Group "+i,disabled:!!r.disabled}),function(t,e){for(var i=0;i<t.length;++i)e(t[i],i)}(r.children,(function(e){var i={value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled};for(var n in e.attributes)i["data-"+n]=e.attributes[n];a.append(t("<option/>").attr(i))}));else{var o={value:r.value,label:r.label||r.value,title:r.title,class:r.class,selected:!!r.selected,disabled:!!r.disabled};for(var s in r.attributes)o["data-"+s]=r.attributes[s];(a=t("<option/>").attr(o)).text(r.label||r.value)}n.append(a)})),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t("a.multiselect-all",this.$ul).length>0},updateOptGroups:function(){var e=t(".multiselect-group",this.$ul),i=this.options.selectedClass;e.each((function(){var e=t(this).nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),n=!0;e.each((function(){t("input",this).prop("checked")||(n=!1)})),i&&(n?t(this).addClass(i):t(this).removeClass(i)),t("input",this).prop("checked",n)}))},updateSelectAll:function(e){if(this.hasSelectAll()){var i=t(".dropdown-item:not(.multiselect-group):not(.multiselect-all):not(.disabled) input:enabled",this.$ul),n=i.length,r=i.filter(":checked").length,a=t("a.multiselect-all",this.$ul),o=a.find("input");r>0&&r===n?(o.prop("checked",!0),a.addClass(this.options.selectedClass).addClass("asflkjnsdflkjbsdhqf")):(o.prop("checked",!1),a.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?t(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var i=t("option",this.$select),n=e.toString(),r=0;r<i.length;r+=1){var a=i[r];if(a.value===n)return t(a)}},getInputByValue:function(e){for(var i=t(".multiselect-item input:not(.multiselect-search)",this.$ul),n=e.toString(),r=0;r<i.length;r+=1){var a=i[r];if(a.value===n)return t(a)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,i){var n=Array.prototype.slice.call(arguments,3);return setTimeout((function(){t.apply(i||window,n)}),e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()}},t.fn.multiselect=function(i,n,r){return this.each((function(){var a=t(this).data("multiselect");a||(a=new e(this,"object"==typeof i&&i),t(this).data("multiselect",a)),"string"==typeof i&&(a[i](n,r),"destroy"===i&&t(this).data("multiselect",!1))}))},t.fn.multiselect.Constructor=e,t((function(){t("select[data-role=multiselect]").multiselect()}))}(t)}).call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(5),n=i.n(e),r=i(12),a=i.n(r);t(document).ready((function(){var t=document.getElementById("rangeslider-1"),e=document.getElementById("rangeslider-2"),i=document.getElementById("rangeslider-3"),r=document.getElementById("rangeslider-4"),o=document.getElementById("rangeslider-11"),s=document.getElementById("rangeslider-21"),l=document.getElementById("rangeslider-31"),c=document.getElementById("rangeslider-41"),u=document.getElementById("pips-steps");t&&n.a.create(t,{start:[20,80],connect:!0,range:{min:0,max:100}}),e&&n.a.create(e,{start:[20,40,60],connect:[!0,!1,!0,!0],range:{min:0,max:80}}),i&&n.a.create(i,{start:[20,80],step:10,range:{min:0,max:100}}),r&&n.a.create(r,{start:[20,80,120],tooltips:[!1,a()({decimals:1}),!0],range:{min:0,max:200}}),o&&n.a.create(o,{start:[20,80],connect:!0,range:{min:0,max:100}}),s&&n.a.create(s,{start:[20,40,60],connect:[!0,!1,!0,!0],range:{min:0,max:80}}),l&&n.a.create(l,{start:[20,80],step:10,connect:!0,range:{min:0,max:100}}),c&&n.a.create(c,{start:[20,80,120],connect:!0,tooltips:[!1,a()({decimals:1}),!0],range:{min:0,max:200}}),u&&n.a.create(u,{range:{min:[0],"10%":[500,500],"50%":[4e3,1e3],max:[1e4]},start:0,pips:{mode:"range",density:3}})}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(205);t(document).ready((function(){t("textarea.autosize-input").textareaAutoSize()}))}.call(this,i(1))},function(t,e,i){(function(t){!function(t,e,i,n){function r(e,i){this.element=e,this.$element=t(e),this.init()}r.prototype={init:function(){this.$element.outerHeight();var i=parseInt(this.$element.css("paddingBottom"))+parseInt(this.$element.css("paddingTop"))||0;this.element.value.replace(/\s/g,"").length>0&&this.$element.height(this.element.scrollHeight-i),this.$element.on("input keyup",(function(n){var r=t(e),a=r.scrollTop();t(this).height(0).height(this.scrollHeight-i),r.scrollTop(a)}))}},t.fn.textareaAutoSize=function(e){return this.each((function(){t.data(this,"plugin_textareaAutoSize")||t.data(this,"plugin_textareaAutoSize",new r(this,e))})),this}}(t,window,document)}).call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(207);t(document).ready((function(){}))}.call(this,i(1))},function(t,e,i){(function(t){!function(t){"use strict";function e(e,i){this.$element=t(e),this.options=t.extend({},this.defaults(),i),this.render()}e.VERSION="3.6.0",e.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"light",size:"normal",style:"",width:null,height:null},e.prototype.defaults=function(){return{on:this.$element.attr("data-on")||e.DEFAULTS.on,off:this.$element.attr("data-off")||e.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||e.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||e.DEFAULTS.offstyle,size:this.$element.attr("data-size")||e.DEFAULTS.size,style:this.$element.attr("data-style")||e.DEFAULTS.style,width:this.$element.attr("data-width")||e.DEFAULTS.width,height:this.$element.attr("data-height")||e.DEFAULTS.height}},e.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var e="large"===this.options.size||"lg"===this.options.size?"btn-lg":"small"===this.options.size||"sm"===this.options.size?"btn-sm":"mini"===this.options.size||"xs"===this.options.size?"btn-xs":"",i=t('<label for="'+this.$element.prop("id")+'" class="btn">').html(this.options.on).addClass(this._onstyle+" "+e),n=t('<label for="'+this.$element.prop("id")+'" class="btn">').html(this.options.off).addClass(this._offstyle+" "+e),r=t('<span class="toggle-handle btn btn-light">').addClass(e),a=t('<div class="toggle-group">').append(i,n,r),o=t('<div class="toggle btn" data-toggle="toggle" role="button">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(e).addClass(this.options.style);this.$element.wrap(o),t.extend(this,{$toggle:this.$element.parent(),$toggleOn:i,$toggleOff:n,$toggleGroup:a}),this.$toggle.append(a);var s=this.options.width||Math.max(i.outerWidth(),n.outerWidth())+r.outerWidth()/2,l=this.options.height||Math.max(i.outerHeight(),n.outerHeight());i.addClass("toggle-on"),n.addClass("toggle-off"),this.$toggle.css({width:s,height:l}),this.options.height&&(i.css("line-height",i.height()+"px"),n.css("line-height",n.height()+"px")),this.update(!0),this.trigger(!0)},e.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},e.prototype.on=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),t||this.trigger()},e.prototype.off=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),t||this.trigger()},e.prototype.enable=function(){this.$toggle.removeClass("disabled"),this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},e.prototype.disable=function(){this.$toggle.addClass("disabled"),this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},e.prototype.update=function(t){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(t):this.off(t)},e.prototype.trigger=function(e){this.$element.off("change.bs.toggle"),e||this.$element.change(),this.$element.on("change.bs.toggle",t.proxy((function(){this.update()}),this))},e.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var i=t.fn.bootstrapToggle;t.fn.bootstrapToggle=function(i){var n=Array.prototype.slice.call(arguments,1)[0];return this.each((function(){var r=t(this),a=r.data("bs.toggle"),o="object"==typeof i&&i;a||r.data("bs.toggle",a=new e(this,o)),"string"==typeof i&&a[i]&&"boolean"==typeof n?a[i](n):"string"==typeof i&&a[i]&&a[i]()}))},t.fn.bootstrapToggle.Constructor=e,t.fn.toggle.noConflict=function(){return t.fn.bootstrapToggle=i,this},t((function(){t("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()})),t(document).on("click.bs.toggle","div[data-toggle^=toggle]",(function(e){t(this).find("input[type=checkbox]").bootstrapToggle("toggle"),e.preventDefault()}))}(t)}).call(this,i(1))},function(t,e,i){"use strict";i.r(e);var n=i(4),r=i.n(n),a=(i(209),function(){return Math.round(100*Math.random())}),o=r.a.helpers.color,s=(o(window.chartColors.red).alpha(.5).rgbString(),window.chartColors.red,a(),a(),a(),a(),a(),a(),a(),o(window.chartColors.blue).alpha(.5).rgbString(),window.chartColors.blue,a(),a(),a(),a(),a(),a(),a()),l={type:"pie",data:{datasets:[{data:[a(),a(),a(),a(),a()],backgroundColor:[window.chartColors.red,window.chartColors.orange,window.chartColors.yellow,window.chartColors.green,window.chartColors.blue],label:"Dataset 1"}],labels:["Red","Orange","Yellow","Green","Blue"]},options:{responsive:!0}},c=(s={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",backgroundColor:window.chartColors.red,data:[a(),a(),a(),a(),a(),a(),a()]},{label:"Dataset 2",backgroundColor:window.chartColors.blue,data:[a(),a(),a(),a(),a(),a(),a()]},{label:"Dataset 3",backgroundColor:window.chartColors.green,data:[a(),a(),a(),a(),a(),a(),a()]}]},{type:"radar",data:{labels:[["Eating","Dinner"],["Drinking","Water"],"Sleeping",["Designing","Graphics"],"Coding","Cycling","Running"],datasets:[{label:"My First dataset",backgroundColor:o(window.chartColors.red).alpha(.2).rgbString(),borderColor:window.chartColors.red,pointBackgroundColor:window.chartColors.red,data:[a(),a(),a(),a(),a(),a(),a()]},{label:"My Second dataset",backgroundColor:o(window.chartColors.blue).alpha(.2).rgbString(),borderColor:window.chartColors.blue,pointBackgroundColor:window.chartColors.blue,data:[a(),a(),a(),a(),a(),a(),a()]}]},options:{legend:{position:"top"},title:{display:!1,text:"Chart.js Radar Chart"},scale:{ticks:{beginAtZero:!0}}}}),u={type:"doughnut",data:{datasets:[{data:[a(),a(),a(),a(),a()],backgroundColor:[window.chartColors.red,window.chartColors.orange,window.chartColors.yellow,window.chartColors.green,window.chartColors.blue],label:"Dataset 1"}],labels:["Red","Orange","Yellow","Green","Blue"]},options:{responsive:!0,legend:{position:"top"},title:{display:!1,text:"Chart.js Doughnut Chart"},animation:{animateScale:!0,animateRotate:!0}}},d={type:"doughnut",data:{datasets:[{data:[a(),a(),a(),a(),a()],backgroundColor:[window.chartColors.red,window.chartColors.orange,window.chartColors.yellow,window.chartColors.green,window.chartColors.blue],label:"Dataset 1"}],labels:["Red","Orange","Yellow","Green","Blue"]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},title:{display:!1,text:"Chart.js Doughnut Chart"},animation:{animateScale:!0,animateRotate:!0}}},h={data:{datasets:[{data:[a(),a(),a(),a(),a()],backgroundColor:[o(chartColors.red).alpha(.5).rgbString(),o(chartColors.orange).alpha(.5).rgbString(),o(chartColors.yellow).alpha(.5).rgbString(),o(chartColors.green).alpha(.5).rgbString(),o(chartColors.blue).alpha(.5).rgbString()],label:"My dataset"}],labels:["Red","Orange","Yellow","Green","Blue"]},options:{responsive:!0,legend:{position:"right"},title:{display:!1,text:"Chart.js Polar Area Chart"},scale:{ticks:{beginAtZero:!0},reverse:!1},animation:{animateRotate:!1,animateScale:!0}}},p={type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:window.chartColors.red,borderColor:window.chartColors.red,data:[a(),a(),a(),a(),a(),a(),a()],fill:!1},{label:"My Second dataset",fill:!1,backgroundColor:window.chartColors.blue,borderColor:window.chartColors.blue,data:[a(),a(),a(),a(),a(),a(),a()]}]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!1,text:"Chart.js Line Chart"},legend:{display:!1},layout:{padding:{left:10,right:10,top:10,bottom:0}},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},pointBackgroundColor:"#fff",pointBorderColor:window.chartColors.blue,pointBorderWidth:"2",scales:{xAxes:[{display:!1,scaleLabel:{display:!0,labelString:"Month"}}],yAxes:[{display:!1,scaleLabel:{display:!0,labelString:"Value"}}]}}},f={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",backgroundColor:o(window.chartColors.red).alpha(.5).rgbString(),borderColor:window.chartColors.red,borderWidth:1,data:[a(),a(),a(),a(),a(),a(),a()]},{label:"Dataset 2",backgroundColor:o(window.chartColors.blue).alpha(.5).rgbString(),borderColor:window.chartColors.blue,data:[a(),a(),a(),a(),a(),a(),a()]}]};window.onload=function(){if(document.getElementById("canvas")){var t=document.getElementById("canvas").getContext("2d");window.myBar=new r.a(t,{type:"bar",data:s,options:{responsive:!0,legend:{position:"top"},title:{display:!1,text:"Chart.js Bar Chart"}}})}if(document.getElementById("chart-area")){var e=document.getElementById("chart-area").getContext("2d");window.myPie=new r.a(e,l)}if(document.getElementById("doughnut-chart")){var i=document.getElementById("doughnut-chart").getContext("2d");window.myDoughnut=new r.a(i,u)}if(document.getElementById("doughnut-chart-2")){var n=document.getElementById("doughnut-chart-2").getContext("2d");window.myDoughnut=new r.a(n,d)}if(document.getElementById("doughnut-chart-3")){var a=document.getElementById("doughnut-chart-3").getContext("2d");window.myDoughnut=new r.a(a,d)}if(document.getElementById("radar-chart")&&(window.myRadar=new r.a(document.getElementById("radar-chart"),c)),document.getElementById("polar-chart")){var o=document.getElementById("polar-chart");window.myPolarArea=r.a.PolarArea(o,h)}if(document.getElementById("line-chart")){var m=document.getElementById("line-chart").getContext("2d");window.myLine=new r.a(m,p)}if(document.getElementById("chart-horiz-bar")){var g=document.getElementById("chart-horiz-bar").getContext("2d");window.myHorizontalBar=new r.a(g,{type:"horizontalBar",data:f,options:{elements:{rectangle:{borderWidth:2}},responsive:!0,legend:{position:"right"},title:{display:!1,text:"Chart.js Horizontal Bar Chart"}}})}if(document.getElementById("stacked-bars-chart")){var y=document.getElementById("stacked-bars-chart").getContext("2d");window.myBar=new r.a(y,{type:"bar",data:s,options:{title:{display:!0,text:"Chart.js Bar Chart - Stacked"},tooltips:{mode:"index",intersect:!1},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}})}}},function(t,e,i){"use strict";var n,r,a,o,s,l,c,u,d,h,p;window.chartColors={red:"#dc3545",orange:"#fd7e14",yellow:"#ffc107",green:"#28a745",blue:"#007bff",purple:"#6f42c1",grey:"#6c757d"},u=["January","February","March","April","May","June","July","August","September","October","November","December"],d=["#4dc9f6","#f67019","#f53794","#537bc4","#acc236","#166a8f","#00a950","#58595b","#8549ba"],h=(n=this).Samples||(n.Samples={}),p=n.Color,h.utils={srand:function(t){this._seed=t},rand:function(t,e){var i=this._seed;return t=void 0===t?0:t,e=void 0===e?1:e,this._seed=(9301*i+49297)%233280,t+this._seed/233280*(e-t)},numbers:function(t){var e,i,n=t||{},r=n.min||0,a=n.max||1,o=n.from||[],s=n.count||8,l=n.decimals||8,c=n.continuity||1,u=Math.pow(10,l)||0,d=[];for(e=0;e<s;++e)i=(o[e]||0)+this.rand(r,a),this.rand()<=c?d.push(Math.round(u*i)/u):d.push(null);return d},labels:function(t){var e,i=t||{},n=i.min||0,r=i.max||100,a=(r-n)/(i.count||8),o=i.decimals||8,s=Math.pow(10,o)||0,l=i.prefix||"",c=[];for(e=n;e<r;e+=a)c.push(l+Math.round(s*e)/s);return c},months:function(t){var e,i,n=t||{},r=n.count||12,a=n.section,o=[];for(e=0;e<r;++e)i=u[Math.ceil(e)%12],o.push(i.substring(0,a));return o},color:function(t){return d[t%d.length]},transparentize:function(t,e){var i=void 0===e?.5:1-e;return p(t).alpha(i).rgbString()}},window.randomScalingFactor=function(){return Math.round(h.utils.rand(-100,100))},h.utils.srand(Date.now()),document.location.hostname.match(/^(www\.)?chartjs\.org$/)&&(r=window,a=document,o="script",s="ga",r.GoogleAnalyticsObject=s,r.ga=r.ga||function(){(r.ga.q=r.ga.q||[]).push(arguments)},r.ga.l=1*new Date,l=a.createElement(o),c=a.getElementsByTagName(o)[0],l.async=1,l.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(l,c),ga("create","UA-28909194-3","auto"),ga("send","pageview"))},function(t,e,i){"use strict";i.r(e),function(t){var e=i(2),n=i.n(e);window.Apex={dataLabels:{enabled:!1},stroke:{width:2}};var r={monthDataSeries1:{prices:[8107.85,8128,8122.9,8165.5,8340.7,8423.7,8423.5,8514.3,8481.85,8487.7,8506.9,8626.2,8668.95,8602.3,8607.55,8512.9,8496.25,8600.65,8881.1,9340.85],dates:["13 Nov 2017","14 Nov 2017","15 Nov 2017","16 Nov 2017","17 Nov 2017","20 Nov 2017","21 Nov 2017","22 Nov 2017","23 Nov 2017","24 Nov 2017","27 Nov 2017","28 Nov 2017","29 Nov 2017","30 Nov 2017","01 Dec 2017","04 Dec 2017","05 Dec 2017","06 Dec 2017","07 Dec 2017","08 Dec 2017"]},monthDataSeries2:{prices:[8423.7,8423.5,8514.3,8481.85,8487.7,8506.9,8626.2,8668.95,8602.3,8607.55,8512.9,8496.25,8600.65,8881.1,9040.85,8340.7,8165.5,8122.9,8107.85,8128],dates:["13 Nov 2017","14 Nov 2017","15 Nov 2017","16 Nov 2017","17 Nov 2017","20 Nov 2017","21 Nov 2017","22 Nov 2017","23 Nov 2017","24 Nov 2017","27 Nov 2017","28 Nov 2017","29 Nov 2017","30 Nov 2017","01 Dec 2017","04 Dec 2017","05 Dec 2017","06 Dec 2017","07 Dec 2017","08 Dec 2017"]},monthDataSeries3:{prices:[7114.25,7126.6,7116.95,7203.7,7233.75,7451,7381.15,7348.95,7347.75,7311.25,7266.4,7253.25,7215.45,7266.35,7315.25,7237.2,7191.4,7238.95,7222.6,7217.9,7359.3,7371.55,7371.15,7469.2,7429.25,7434.65,7451.1,7475.25,7566.25,7556.8,7525.55,7555.45,7560.9,7490.7,7527.6,7551.9,7514.85,7577.95,7592.3,7621.95,7707.95,7859.1,7815.7,7739,7778.7,7839.45,7756.45,7669.2,7580.45,7452.85,7617.25,7701.6,7606.8,7620.05,7513.85,7498.45,7575.45,7601.95,7589.1,7525.85,7569.5,7702.5,7812.7,7803.75,7816.3,7851.15,7912.2,7972.8,8145,8161.1,8121.05,8071.25,8088.2,8154.45,8148.3,8122.05,8132.65,8074.55,7952.8,7885.55,7733.9,7897.15,7973.15,7888.5,7842.8,7838.4,7909.85,7892.75,7897.75,7820.05,7904.4,7872.2,7847.5,7849.55,7789.6,7736.35,7819.4,7875.35,7871.8,8076.5,8114.8,8193.55,8217.1,8235.05,8215.3,8216.4,8301.55,8235.25,8229.75,8201.95,8164.95,8107.85,8128,8122.9,8165.5,8340.7,8423.7,8423.5,8514.3,8481.85,8487.7,8506.9,8626.2],dates:["02 Jun 2017","05 Jun 2017","06 Jun 2017","07 Jun 2017","08 Jun 2017","09 Jun 2017","12 Jun 2017","13 Jun 2017","14 Jun 2017","15 Jun 2017","16 Jun 2017","19 Jun 2017","20 Jun 2017","21 Jun 2017","22 Jun 2017","23 Jun 2017","27 Jun 2017","28 Jun 2017","29 Jun 2017","30 Jun 2017","03 Jul 2017","04 Jul 2017","05 Jul 2017","06 Jul 2017","07 Jul 2017","10 Jul 2017","11 Jul 2017","12 Jul 2017","13 Jul 2017","14 Jul 2017","17 Jul 2017","18 Jul 2017","19 Jul 2017","20 Jul 2017","21 Jul 2017","24 Jul 2017","25 Jul 2017","26 Jul 2017","27 Jul 2017","28 Jul 2017","31 Jul 2017","01 Aug 2017","02 Aug 2017","03 Aug 2017","04 Aug 2017","07 Aug 2017","08 Aug 2017","09 Aug 2017","10 Aug 2017","11 Aug 2017","14 Aug 2017","16 Aug 2017","17 Aug 2017","18 Aug 2017","21 Aug 2017","22 Aug 2017","23 Aug 2017","24 Aug 2017","28 Aug 2017","29 Aug 2017","30 Aug 2017","31 Aug 2017","01 Sep 2017","04 Sep 2017","05 Sep 2017","06 Sep 2017","07 Sep 2017","08 Sep 2017","11 Sep 2017","12 Sep 2017","13 Sep 2017","14 Sep 2017","15 Sep 2017","18 Sep 2017","19 Sep 2017","20 Sep 2017","21 Sep 2017","22 Sep 2017","25 Sep 2017","26 Sep 2017","27 Sep 2017","28 Sep 2017","29 Sep 2017","03 Oct 2017","04 Oct 2017","05 Oct 2017","06 Oct 2017","09 Oct 2017","10 Oct 2017","11 Oct 2017","12 Oct 2017","13 Oct 2017","16 Oct 2017","17 Oct 2017","18 Oct 2017","19 Oct 2017","23 Oct 2017","24 Oct 2017","25 Oct 2017","26 Oct 2017","27 Oct 2017","30 Oct 2017","31 Oct 2017","01 Nov 2017","02 Nov 2017","03 Nov 2017","06 Nov 2017","07 Nov 2017","08 Nov 2017","09 Nov 2017","10 Nov 2017","13 Nov 2017","14 Nov 2017","15 Nov 2017","16 Nov 2017","17 Nov 2017","20 Nov 2017","21 Nov 2017","22 Nov 2017","23 Nov 2017","24 Nov 2017","27 Nov 2017","28 Nov 2017"]}},a={chart:{height:350,type:"radialBar",toolbar:{show:!0}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{showOn:"always",name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(t){return parseInt(t)},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},series:[75],stroke:{lineCap:"round"},labels:["Percent"]},o=new n.a(document.querySelector("#chart-radial"),a),s=new n.a(document.querySelector("#bar-vertical-candle"),{chart:{type:"bar",height:200,width:"100%",stacked:!0,foreColor:"#999"},plotOptions:{bar:{dataLabels:{enabled:!1},columnWidth:"75%",endingShape:"rounded"}},colors:["#00C5A4","#F3F2FC"],series:[{name:"Sessions",data:[20,16,24,28,26,22,15,5,14,16,22,29,24,19,15,10,11,15,19,23]},{name:"Views",data:[20,16,24,28,26,22,15,5,14,16,22,29,24,19,15,10,11,15,19,23]}],labels:[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,1,2,3,4],xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{show:!1},labels:{show:!1,style:{fontSize:"14px"}}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},yaxis:{axisBorder:{show:!1},labels:{show:!1}},legend:{floating:!0,position:"top",horizontalAlign:"center",offsetY:15},subtitle:{text:"Sessions and Views"},tooltip:{shared:!0}}),l=new n.a(document.querySelector("#bar-vertical-candle-lg"),{chart:{type:"bar",height:318,width:"100%",stacked:!0,foreColor:"#999"},plotOptions:{bar:{dataLabels:{enabled:!1},columnWidth:"75%",endingShape:"rounded"}},colors:["#6086c5","#d2f5fc"],series:[{name:"Sessions",data:[20,16,24,28,26,22,15,5,14,16,22,29,24,19,15,10,11,15,19,23]},{name:"Views",data:[20,16,24,28,26,22,15,5,14,16,22,29,24,19,15,10,11,15,19,23]}],labels:[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,1,2,3,4],xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{show:!1},labels:{show:!1,style:{fontSize:"14px"}}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},yaxis:{axisBorder:{show:!1},labels:{show:!1}},legend:{floating:!0,position:"top",horizontalAlign:"center",offsetY:15},subtitle:{text:"Sessions and Views"},tooltip:{shared:!0}}),c=new n.a(document.querySelector("#chart-col-1"),{chart:{height:200,type:"bar",sparkline:{enabled:!0}},plotOptions:{bar:{horizontal:!1,endingShape:"rounded",columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},series:[{name:"Net Profit",data:[44,55,57,56,61,58,63,60,66]},{name:"Revenue",data:[76,85,101,98,87,105,91,114,94]},{name:"Free Cash Flow",data:[35,41,36,26,45,48,52,53,41]}],xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return"$ "+t+" thousands"}}}}),u=new n.a(document.querySelector("#chart-col-2"),{chart:{height:200,type:"line",sparkline:{enabled:!0}},plotOptions:{bar:{horizontal:!1,endingShape:"rounded",columnWidth:"55%"}},dataLabels:{enabled:!0},stroke:{show:!0,width:2,colors:["#998787"]},series:[{name:"Net Profit",data:[44,55,57,56,61,58,63,60,66]},{name:"Revenue",data:[76,85,101,98,87,105,91,114,94]},{name:"Free Cash Flow",data:[35,41,36,26,45,48,52,53,41]}],xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return"$ "+t+" thousands"}}}}),d=new n.a(document.querySelector("#chart-col-3"),{chart:{height:200,type:"area",sparkline:{enabled:!0}},plotOptions:{bar:{horizontal:!1,endingShape:"rounded",columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},series:[{name:"Net Profit",data:[44,55,57,56,61,58,63,60,66]},{name:"Revenue",data:[76,85,101,98,87,105,91,114,94]},{name:"Free Cash Flow",data:[35,41,36,26,45,48,52,53,41]}],xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return"$ "+t+" thousands"}}}}),h={chart:{height:397,type:"line",toolbar:{show:!1}},series:[{name:"Website Blog",type:"column",data:[440,505,414,671,227,413,201,352,752,320,257,160]},{name:"Social Media",type:"line",data:[23,42,35,27,43,22,17,31,22,22,12,16]}],stroke:{width:[0,4]},labels:["01 Jan 2001","02 Jan 2001","03 Jan 2001","04 Jan 2001","05 Jan 2001","06 Jan 2001","07 Jan 2001","08 Jan 2001","09 Jan 2001","10 Jan 2001","11 Jan 2001","12 Jan 2001"],xaxis:{type:"datetime"},yaxis:[{title:{text:"Website Blog"}},{opposite:!0,title:{text:"Social Media"}}]},p=new n.a(document.querySelector("#chart-combined"),h),f={chart:{height:350,type:"area",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},series:[{name:"STOCK ABC",data:r.monthDataSeries1.prices}],title:{text:"Fundamental Analysis of Stocks",align:"left"},subtitle:{text:"Price Movements",align:"left"},labels:r.monthDataSeries1.dates,xaxis:{type:"datetime"},yaxis:{opposite:!0},legend:{horizontalAlign:"left"}},m=new n.a(document.querySelector("#chart-apex-area"),f),g=new n.a(document.querySelector("#chart-apex-negative"),{chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"straight"},series:[{name:"north",data:[{x:1996,y:322},{x:1997,y:324},{x:1998,y:329},{x:1999,y:342},{x:2e3,y:348},{x:2001,y:334},{x:2002,y:325},{x:2003,y:316},{x:2004,y:318},{x:2005,y:330},{x:2006,y:355},{x:2007,y:366},{x:2008,y:337},{x:2009,y:352},{x:2010,y:377},{x:2011,y:383},{x:2012,y:344},{x:2013,y:366},{x:2014,y:389},{x:2015,y:334}]},{name:"south",data:[{x:1996,y:162},{x:1997,y:90},{x:1998,y:50},{x:1999,y:77},{x:2e3,y:35},{x:2001,y:-45},{x:2002,y:-88},{x:2003,y:-120},{x:2004,y:-156},{x:2005,y:-123},{x:2006,y:-88},{x:2007,y:-66},{x:2008,y:-45},{x:2009,y:-29},{x:2010,y:-45},{x:2011,y:-88},{x:2012,y:-132},{x:2013,y:-146},{x:2014,y:-169},{x:2015,y:-184}]}],title:{text:"Area with Negative Values",align:"left",style:{fontSize:"14px"}},xaxis:{type:"datetime",axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{tickAmount:4,floating:!1,labels:{style:{color:"#8e8da4"},offsetY:-7,offsetX:0},axisBorder:{show:!1},axisTicks:{show:!1}},fill:{opacity:.5,gradient:{enabled:!1}},tooltip:{x:{format:"yyyy"},fixed:{enabled:!1,position:"topRight"}},grid:{yaxis:{lines:{offsetX:-30}},padding:{left:20}}}),y=new n.a(document.querySelector("#chart-apex-column"),{chart:{height:350,type:"bar"},plotOptions:{bar:{horizontal:!1,endingShape:"rounded",columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},series:[{name:"Net Profit",data:[44,55,57,56,61,58,63,60,66]},{name:"Revenue",data:[76,85,101,98,87,105,91,114,94]},{name:"Free Cash Flow",data:[35,41,36,26,45,48,52,53,41]}],xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return"$ "+t+" thousands"}}}}),v={chart:{height:350,type:"bar",stacked:!0},plotOptions:{bar:{horizontal:!0}},stroke:{width:1,colors:["#fff"]},series:[{name:"Marine Sprite",data:[44,55,41,37,22,43,21]},{name:"Striking Calf",data:[53,32,33,52,13,43,32]},{name:"Tank Picture",data:[12,17,11,9,15,11,20]},{name:"Bucket Slope",data:[9,7,5,8,6,9,4]},{name:"Reborn Kid",data:[25,12,19,32,25,24,10]}],title:{text:"Fiction Books Sales"},xaxis:{categories:[2008,2009,2010,2011,2012,2013,2014],labels:{formatter:function(t){return t+"K"}}},yaxis:{title:{text:void 0}},tooltip:{y:{formatter:function(t){return t+"K"}}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left",offsetX:40}},_=new n.a(document.querySelector("#chart-apex-stacked"),v),b={chart:{height:274,type:"bar",stacked:!0,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0}},stroke:{width:1,colors:["#fff"]},series:[{name:"Marine",data:[44,55,41,37,22,43]},{name:"Striking",data:[53,32,33,52,13,43]},{name:"Tank",data:[12,17,11,9,15,11]},{name:"Bucket",data:[9,7,5,8,6,9]},{name:"Reborn",data:[25,12,19,32,25,24]}],tooltip:{y:{formatter:function(t){return t+"K"}}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"center"}},x=new n.a(document.querySelector("#chart-apex-stacked-commerce"),b),w=function(t){for(var e,i,n=t.slice(),r=n.length;0!==r;)i=Math.floor(Math.random()*r),e=n[r-=1],n[r]=n[i],n[i]=e;return n},k=[47,45,54,38,56,24,65,31,37,39,62,51,35,41,35,27,93,53,61,27,54,43,19,46],S={chart:{type:"line",width:100,height:35,sparkline:{enabled:!0}},series:[{data:[25,66,41,89,63,25,44,12,36,9,54]}],tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},T={chart:{type:"line",width:100,height:35,sparkline:{enabled:!0}},series:[{data:[12,14,2,47,42,15,47,75,65,19,14]}],tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},M={chart:{type:"line",width:100,height:35,sparkline:{enabled:!0}},series:[{data:[47,45,74,14,56,74,14,11,7,39,82]}],tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},C={chart:{type:"line",width:100,height:35,sparkline:{enabled:!0}},series:[{data:[15,75,47,65,14,2,41,54,4,27,15]}],tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},D={chart:{type:"bar",width:100,height:35,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},series:[{data:[25,66,41,89,63,25,44,12,36,9,54]}],labels:[1,2,3,4,5,6,7,8,9,10,11],xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},L={chart:{type:"bar",width:100,height:35,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},series:[{data:[12,14,2,47,42,15,47,75,65,19,14]}],labels:[1,2,3,4,5,6,7,8,9,10,11],xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},A={chart:{type:"bar",width:100,height:35,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},series:[{data:[47,45,74,14,56,74,14,11,7,39,82]}],labels:[1,2,3,4,5,6,7,8,9,10,11],xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},E={chart:{type:"bar",width:100,height:35,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},colors:["#4a47c4"],stroke:{width:0,curve:"smooth"},series:[{data:[25,66,41,89,63,25,44,12,36,9,54]}],labels:[1,2,3,4,5,6,7,8,9,10,11],xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},P={chart:{type:"area",width:100,height:35,sparkline:{enabled:!0}},colors:["#3ac47d"],stroke:{width:2,curve:"smooth"},series:[{data:[25,66,41,89,63,25,44,12,36,9,54]}],labels:[1,2,3,4,5,6,7,8,9,10,11],xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}}},I={chart:{type:"area",height:152,sparkline:{enabled:!0}},colors:["#3f6ad8"],stroke:{width:5,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},series:[{data:w(k)}],yaxis:{min:0}},O={chart:{type:"area",height:152,sparkline:{enabled:!0}},colors:["rgba(255,255,255,.8)"],stroke:{width:5,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.2,opacityTo:.7,stops:[0,90,100]}},series:[{data:w(k)}],yaxis:{min:0}},R={chart:{type:"area",height:152,sparkline:{enabled:!0}},stroke:{width:5,curve:"smooth"},colors:["#f7b924"],markers:{size:0},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},series:[{data:w(k)}],yaxis:{min:0}},z={chart:{type:"area",height:152,sparkline:{enabled:!0}},colors:["#3ac47d"],stroke:{width:5,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},series:[{data:w(k)}],yaxis:{min:0}},Y={chart:{type:"area",height:332,sparkline:{enabled:!0}},colors:["#3ac47d"],stroke:{width:5,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},series:[{data:w(k)}],yaxis:{min:0}},F={chart:{type:"line",height:100,sparkline:{enabled:!0}},colors:["#3ac47d"],stroke:{width:3,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!0},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},series:[{data:w(k)}],yaxis:{min:0}},H={chart:{type:"line",height:100,sparkline:{enabled:!0}},stroke:{width:3,curve:"smooth"},colors:["#007bff"],markers:{size:0},tooltip:{fixed:{enabled:!0},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},series:[{data:w(k)}],yaxis:{min:0}},N={chart:{type:"line",height:100,sparkline:{enabled:!0}},colors:["#f7b924"],stroke:{width:3,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!0},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},series:[{data:w(k)}],yaxis:{min:0}},B={chart:{type:"line",height:100,sparkline:{enabled:!0}},colors:["#d92550"],stroke:{width:3,curve:"smooth"},markers:{size:0},tooltip:{fixed:{enabled:!0},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},series:[{data:w(k)}],yaxis:{min:0}},j={chart:{type:"line",height:120,sparkline:{enabled:!0}},tooltip:{enabled:!1},colors:["#3ac47d"],stroke:{width:3,curve:"smooth"},markers:{size:0},series:[{data:w(k)}],yaxis:{min:0}},V={chart:{type:"bar",height:120,sparkline:{enabled:!0}},tooltip:{enabled:!1},stroke:{width:3,curve:"smooth"},colors:["#007bff"],markers:{size:0},series:[{data:w(k)}],yaxis:{min:0}},W={chart:{type:"area",height:120,sparkline:{enabled:!0}},tooltip:{enabled:!1},colors:["#f7b924"],stroke:{width:3,curve:"smooth"},markers:{size:0},series:[{data:w(k)}],yaxis:{min:0}},U={chart:{height:265,type:"bar",stacked:!1,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1}},colors:["#007bff","#16aaff"],stroke:{width:0,colors:["#fff"],curve:"smooth"},series:[{name:"Marine",data:[44,55,41,37,22,43]},{name:"Striking",data:[53,32,33,52,13,43]}],tooltip:{y:{formatter:function(t){return t+"K"}}},fill:{opacity:.8},legend:{position:"bottom",horizontalAlign:"center"}},$={chart:{type:"bar",height:174,sparkline:{enabled:!0}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},stroke:{width:2,curve:"smooth"},colors:["rgba(255,255,255,.3)"],markers:{size:0},series:[{data:w(k)}],yaxis:{min:0}},q={chart:{type:"line",height:148,sparkline:{enabled:!0}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(t){return""}}},marker:{show:!1}},colors:["rgba(255,255,255,.3)"],stroke:{width:2,curve:"smooth"},markers:{size:0},series:[{data:w(k)}],yaxis:{min:0}};t(document).ready((function(){setTimeout((function(){document.getElementById("chart-apex-area")&&m.render(),document.getElementById("chart-apex-negative")&&g.render(),document.getElementById("chart-apex-column")&&y.render(),document.getElementById("chart-apex-stacked")&&_.render(),document.getElementById("chart-col-1")&&c.render(),document.getElementById("chart-col-2")&&u.render(),document.getElementById("chart-col-3")&&d.render(),document.getElementById("sparkline-chart1")&&new n.a(document.querySelector("#sparkline-chart1"),S).render(),document.getElementById("sparkline-chart2")&&new n.a(document.querySelector("#sparkline-chart2"),T).render(),document.getElementById("sparkline-chart3")&&new n.a(document.querySelector("#sparkline-chart3"),M).render(),document.getElementById("sparkline-chart4")&&new n.a(document.querySelector("#sparkline-chart4"),C).render(),document.getElementById("sparkline-chart5")&&new n.a(document.querySelector("#sparkline-chart5"),D).render(),document.getElementById("sparkline-chart6")&&new n.a(document.querySelector("#sparkline-chart6"),L).render(),document.getElementById("sparkline-chart7")&&new n.a(document.querySelector("#sparkline-chart7"),A).render(),document.getElementById("sparkline-chart8")&&new n.a(document.querySelector("#sparkline-chart8"),E).render(),document.getElementById("sparkline-chart9")&&new n.a(document.querySelector("#sparkline-chart9"),P).render(),document.getElementById("dashboard-sparkline-1")&&new n.a(document.querySelector("#dashboard-sparkline-1"),I).render(),document.getElementById("dashboard-sparkline-4")&&new n.a(document.querySelector("#dashboard-sparkline-4"),O).render(),document.getElementById("dashboard-sparkline-2")&&new n.a(document.querySelector("#dashboard-sparkline-2"),R).render(),document.getElementById("dashboard-sparkline-3")&&new n.a(document.querySelector("#dashboard-sparkline-3"),z).render(),document.getElementById("dashboard-sparklines-1")&&new n.a(document.querySelector("#dashboard-sparklines-1"),F).render(),document.getElementById("dashboard-sparklines-2")&&new n.a(document.querySelector("#dashboard-sparklines-2"),H).render(),document.getElementById("dashboard-sparklines-3")&&new n.a(document.querySelector("#dashboard-sparklines-3"),N).render(),document.getElementById("dashboard-sparklines-4")&&new n.a(document.querySelector("#dashboard-sparklines-4"),B).render(),document.getElementById("dashboard-sparklines-primary")&&new n.a(document.querySelector("#dashboard-sparklines-primary"),U).render(),document.getElementById("dashboard-sparklines-simple-1")&&new n.a(document.querySelector("#dashboard-sparklines-simple-1"),j).render(),document.getElementById("dashboard-sparklines-simple-2")&&new n.a(document.querySelector("#dashboard-sparklines-simple-2"),V).render(),document.getElementById("dashboard-sparklines-simple-3")&&new n.a(document.querySelector("#dashboard-sparklines-simple-3"),W).render(),document.getElementById("dashboard-sparklines-transparent-2")&&new n.a(document.querySelector("#dashboard-sparklines-transparent-2"),$).render(),document.getElementById("dashboard-sparklines-transparent-3")&&new n.a(document.querySelector("#dashboard-sparklines-transparent-3"),q).render(),document.getElementById("dashboard-sparkline-carousel-1")&&new n.a(document.querySelector("#dashboard-sparkline-carousel-1"),j).render(),document.getElementById("dashboard-sparkline-carousel-2")&&new n.a(document.querySelector("#dashboard-sparkline-carousel-2"),V).render(),document.getElementById("dashboard-sparkline-carousel-3")&&new n.a(document.querySelector("#dashboard-sparkline-carousel-3"),W).render(),document.getElementById("sparkline-carousel-3")&&new n.a(document.querySelector("#sparkline-carousel-3"),j).render(),document.getElementById("dashboard-sparkline-11")&&new n.a(document.querySelector("#dashboard-sparkline-11"),A).render(),document.getElementById("dashboard-sparkline-22")&&new n.a(document.querySelector("#dashboard-sparkline-22"),E).render(),document.getElementById("dashboard-sparkline-33")&&new n.a(document.querySelector("#dashboard-sparkline-33"),P).render(),document.getElementById("chart-apex-stacked-commerce")&&x.render(),document.getElementById("chart-radial")&&o.render(),document.getElementById("chart-combined")&&p.render(),document.getElementById("bar-vertical-candle")&&s.render(),document.getElementById("bar-vertical-candle-lg")&&l.render()}),1e3),t(".minimal-tab-btn-1").one("click",(function(){setTimeout((function(){new n.a(document.querySelector("#chart-combined-tab"),h).render()}),500)})),t(".dd-chart-btn").one("click",(function(){setTimeout((function(){document.getElementById("dashboard-sparkline-carousel-3-pop")&&new n.a(document.querySelector("#dashboard-sparkline-carousel-3-pop"),W).render()}),500)})),t(".dd-chart-btn-2").one("click",(function(){setTimeout((function(){document.getElementById("dashboard-sparkline-carousel-4-pop")&&new n.a(document.querySelector("#dashboard-sparkline-carousel-4-pop"),V).render()}),500)})),t(".minimal-tab-btn-3").one("click",(function(){setTimeout((function(){new n.a(document.querySelector("#chart-combined-tab-3"),b).render()}),500)})),t(".second-tab-toggle").one("click",(function(){setTimeout((function(){new n.a(document.querySelector("#dashboard-sparklines-333"),B).render()}),500)})),t(".second-tab-toggle-alt").one("click",(function(){setTimeout((function(){new n.a(document.querySelector("#dashboard-sparkline-37"),Y).render()}),500)}))}))}.call(this,i(1))},function(t,e,i){"use strict";i.r(e),function(t){i(212);t(document).ready((function(){t((function(){t(".bar-sparkline").sparkline([[4,8],[2,7],[2,6],[2,7],[3,5],[2,7],[2,6],[2,7],[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[4,8],[2,7],[2,6],[2,7],[3,5]],{type:"bar",height:"35px",barWidth:"5px",barSpacing:"2px"}),t(".bar-sparkline-2").sparkline("html",{type:"bar",barColor:"#0099ff",height:"35px",barWidth:"5px",barSpacing:"2px"});t(".dynamic-sparkline").sparkline([10,8,5,7,4,4,1],{height:"35px",width:"135px"}),t(".tristate-sparkline").sparkline("html",{type:"tristate",barColor:"var(--primary)",height:"35px",barWidth:"5px",barSpacing:"2px"}),t(".discrete-sparkline").sparkline("html",{type:"discrete",barColor:"var(--primary)",height:"45px",barSpacing:"4px"}),t(".pie-sparkline").sparkline("html",{type:"pie",barColor:"var(--primary)",height:"45px",width:"45px"})}))}))}.call(this,i(1))},function(t,e,i){var n,r,a;!function(o,s,l){r=[i(1)],void 0===(a="function"==typeof(n=function(t){"use strict";var e,i,n,r,a,l,c,u,d,h,p,f,m,g,y,v,_,b,x,w,k,S,T,M,C,D,L,A,E,P={},I=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new n("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new n("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new n("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},i=function(){var e,i;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=t.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&((i=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),t.extend.apply(t,i))):e.prototype=arguments[0],e.prototype.cls=e,e},t.SPFormatClass=n=i({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n,r,a,o,s,l=this,c=t;return this.format.replace(this.fre,(function(){return r=arguments[1],a=arguments[3],(n=l.precre.exec(r))?(s=n[2],r=n[1]):s=!1,void 0===(o=c[r])?"":a&&e&&e[a]?e[a].get?e[a].get(o)||o:e[a][o]||o:(d(o)&&(o=i.get("numberFormatter")?i.get("numberFormatter")(o):m(o,s,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),o)}))}}),t.spformat=function(t,e){return new n(t,e)},r=function(t,e,i){return t<e?e:t>i?i:t},a=function(t,e){var i;return 2===e?(i=s.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4)%1?(t[s.floor(i)]+t[s.floor(i)-1])/2:t[i-1]:(i=(t.length*e+2)/4)%1?(t[s.floor(i)]+t[s.floor(i)-1])/2:t[i-1]},l=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=l(t[e]);return i},u=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(e,i,n,r,a){var o,s;for(e=(!1===i?parseFloat(e).toString():e.toFixed(i)).split(""),(o=(o=t.inArray(".",e))<0?e.length:o)<e.length&&(e[o]=a),s=o-n;s>0;s-=n)e.splice(s,0,r);return e.join("")},h=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},f=function(e){return t.isArray(e)?e:[e]},p=function(t){var e,i;if(o.createStyleSheet)try{return void(o.createStyleSheet().cssText=t)}catch(t){i=!0}(e=o.createElement("style")).type="text/css",o.getElementsByTagName("head")[0].appendChild(e),i?o.styleSheets[o.styleSheets.length-1].cssText=t:e["string"==typeof o.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},t.fn.simpledraw=function(e,i,n,r){var a,s;if(n&&(a=this.data("_jqs_vcanvas")))return a;if(!1===t.fn.sparkline.canvas)return!1;if(void 0===t.fn.sparkline.canvas){var l=o.createElement("canvas");if(l.getContext&&l.getContext("2d"))t.fn.sparkline.canvas=function(t,e,i,n){return new L(t,e,i,n)};else{if(!o.namespaces||o.namespaces.v)return t.fn.sparkline.canvas=!1,!1;o.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),t.fn.sparkline.canvas=function(t,e,i,n){return new A(t,e,i)}}}return void 0===e&&(e=t(this).innerWidth()),void 0===i&&(i=t(this).innerHeight()),a=t.fn.sparkline.canvas(e,i,this,r),(s=t(this).data("_jqs_mhandler"))&&s.registerCanvas(a),a},t.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},t.RangeMapClass=g=i({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&((i=e.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,i,n,r=this.rangelist;if(void 0!==(n=this.map[t]))return n;if(r)for(e=r.length;e--;)if((i=r[e])[0]<=t&&i[1]>=t)return i[2]}}),t.range_map=function(t){return new g(t)},y=i({init:function(e,i){var n=t(e);this.$el=n,this.options=i,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!i.get("disableTooltips"),this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(e){var i=t(e.canvas);this.canvas=e,this.$canvas=i,i.mouseenter(t.proxy(this.mouseenter,this)),i.mouseleave(t.proxy(this.mouseleave,this)),i.click(t.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(e){var i=t.Event("sparklineClick");i.originalEvent=e,i.sparklines=this.splist,this.$el.trigger(i)},mouseenter:function(e){t(o.body).unbind("mousemove.jqs"),t(o.body).bind("mousemove.jqs",t.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new v(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){t(o.body).unbind("mousemove.jqs");var e,i=this.splist,n=i.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;e<n;e++)i[e].clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var e,i,n,r,a=this.splist,o=a.length,s=!1,l=this.$canvas.offset(),c=this.currentPageX-l.left,u=this.currentPageY-l.top;if(this.over){for(i=0;i<o;i++)(n=a[i].setRegionHighlight(this.currentEl,c,u))&&(s=!0);if(s){if((r=t.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(e="",i=0;i<o;i++)e+=a[i].getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===n&&this.mouseleave()}}}),v=i({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,n=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=e.get("tooltipContainer")||o.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),t("#jqssizetip").remove(),t("#jqstooltip").remove(),this.sizetip=t("<div/>",{id:"jqssizetip",style:r,class:n}),this.tooltip=t("<div/>",{id:"jqstooltip",class:n}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,t(window).unbind("resize.jqs scroll.jqs"),t(window).bind("resize.jqs scroll.jqs",t.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=t(window).scrollTop(),this.scrollLeft=t(window).scrollLeft(),this.scrollRight=this.scrollLeft+t(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,t(window).unbind("resize.jqs scroll.jqs")}}),t((function(){p('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')})),E=[],t.fn.sparkline=function(e,i){return this.each((function(){var n,r,a=new t.fn.sparkline.options(this,i),s=t(this);if(n=function(){var i,n,r,l,c,u,d;"html"===e||void 0===e?(null==(d=this.getAttribute(a.get("tagValuesAttribute")))&&(d=s.html()),i=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):i=e,n="auto"===a.get("width")?i.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&t.data(this,"_jqs_vcanvas")||((l=o.createElement("span")).innerHTML="a",s.html(l),r=t(l).innerHeight()||t(l).height(),t(l).remove(),l=null):r=a.get("height"),a.get("disableInteraction")?c=!1:(c=t.data(this,"_jqs_mhandler"))?a.get("composite")||c.reset():(c=new y(this,a),t.data(this,"_jqs_mhandler",c)),!a.get("composite")||t.data(this,"_jqs_vcanvas")?((u=new(t.fn.sparkline[a.get("type")])(this,i,a,n,r)).render(),c&&c.registerSparkline(u)):t.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),t.data(this,"_jqs_errnotify",!0))},t(this).html()&&!a.get("disableHiddenCheck")&&t(this).is(":hidden")||!t(this).parents("body").length){if(!a.get("composite")&&t.data(this,"_jqs_pending"))for(r=E.length;r;r--)E[r-1][0]==this&&E.splice(r-1,1);E.push([this,n]),t.data(this,"_jqs_pending",!0)}else n.call(this)}))},t.fn.sparkline.defaults=e(),t.sparkline_display_visible=function(){var e,i,n,r=[];for(i=0,n=E.length;i<n;i++)e=E[i][0],t(e).is(":visible")&&!t(e).parents().is(":hidden")?(E[i][1].call(e),t.data(E[i][0],"_jqs_pending",!1),r.push(i)):t(e).closest("html").length||t.data(e,"_jqs_pending")||(t.data(E[i][0],"_jqs_pending",!1),r.push(i));for(i=r.length;i;i--)E.splice(r[i-1],1)},t.fn.sparkline.options=i({init:function(e,i){var n,r,a,o;this.userOptions=i=i||{},this.tag=e,this.tagValCache={},a=(r=t.fn.sparkline.defaults).common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||a.tagOptionsPrefix),n=(o=this.getTagSetting("type"))===P?r[i.type||a.type]:r[o],this.mergedOptions=t.extend({},a,n,i)},getTagSetting:function(t){var e,i,n,r,a=this.tagOptionsPrefix;if(!1===a||void 0===a)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(null==(e=this.tag.getAttribute(a+t)))e=P;else if("["===e.substr(0,1))for(i=(e=e.substr(1,e.length-2).split(",")).length;i--;)e[i]=l(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},i=n.length;i--;)e[(r=n[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=l(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var i,n=this.getTagSetting(t);return n!==P?n:void 0===(i=this.mergedOptions[t])?e:i}}),t.fn.sparkline._base=i({disabled:!1,init:function(e,i,n,r,a){this.el=e,this.$el=t(e),this.values=i,this.options=n,this.width=r,this.height=a,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n,r=this.currentRegion,a=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:r!==(n=this.getRegion(t,e,i))&&(void 0!==r&&a&&this.removeHighlight(),this.currentRegion=n,void 0!==n&&a&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var e,i,r,a,o,s,l,c,u,d,h,p,f,m,g=this.options,y="",v=[];if(void 0===this.currentRegion)return"";if(e=this.getCurrentRegionFields(),h=g.get("tooltipFormatter"))return h(this,g,e);if(g.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),!(i=this.options.get("tooltipFormat")))return"";if(t.isArray(i)||(i=[i]),t.isArray(e)||(e=[e]),l=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),l&&c){for(u=[],s=e.length;s--;)d=e[s][c],-1!=(m=t.inArray(d,l))&&(u[m]=e[s]);e=u}for(r=i.length,f=e.length,s=0;s<r;s++)for("string"==typeof(p=i[s])&&(p=new n(p)),a=p.fclass||"jqsfield",m=0;m<f;m++)e[m].isNull&&g.get("tooltipSkipNull")||(t.extend(e[m],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),o=p.render(e[m],g.get("tooltipValueLookups"),g),v.push('<div class="'+a+'">'+o+"</div>"));return v.length?y+v.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,n,a,o,l=e.get("highlightColor"),c=e.get("highlightLighten");if(l)return l;if(c&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(a=[],n=4===t.length?16:1,o=0;o<3;o++)a[o]=r(s.round(parseInt(i[o+1],16)*n*c),0,255);return"rgb("+a.join(",")+")"}return t}}),_={changeHighlight:function(e){var i,n=this.currentRegion,r=this.target,a=this.regionShapes[n];a&&(i=this.renderRegion(n,e),t.isArray(i)||t.isArray(a)?(r.replaceWithShapes(a,i),this.regionShapes[n]=t.map(i,(function(t){return t.id}))):(r.replaceWithShape(a,i),this.regionShapes[n]=i.id))},render:function(){var e,i,n,r,a=this.values,o=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(n=a.length;n--;)if(e=this.renderRegion(n))if(t.isArray(e)){for(i=[],r=e.length;r--;)e[r].append(),i.push(e[r].id);s[n]=i}else e.append(),s[n]=e.id;else s[n]=null;o.render()}}},t.fn.sparkline.line=b=i(t.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){b._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(null!==r[n]&&e>=r[n][0]&&e<=r[n][1])return r[n][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,n=this.target,r=this.vertices[i],a=this.options,o=a.get("spotRadius"),s=a.get("highlightSpotColor"),l=a.get("highlightLineColor");r&&(o&&s&&(t=n.drawCircle(r[0],r[1],o,void 0,s),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),l&&(e=n.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,i,n,r,a=this.values,o=a.length,l=this.xvalues,c=this.yvalues,u=this.yminmax;for(t=0;t<o;t++)e=a[t],i="string"==typeof a[t],n="object"==typeof a[t]&&a[t]instanceof Array,r=i&&a[t].split(":"),i&&2===r.length?(l.push(Number(r[0])),c.push(Number(r[1])),u.push(Number(r[1]))):n?(l.push(e[0]),c.push(e[1]),u.push(e[1])):(l.push(t),null===a[t]||"null"===a[t]?c.push(null):(c.push(Number(e)),u.push(Number(e))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=s.max.apply(s,u),this.miny=this.minyorg=s.min.apply(s,u),this.maxx=s.max.apply(s,l),this.minx=s.min.apply(s,l),this.xvalues=l,this.yvalues=c,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,n,r){var a=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),l=e+s.round(i-i*((o-this.miny)/r)),c=s.round(i*(o-a)/r);this.target.drawRect(t,l,n,c,void 0,this.options.get("normalRangeColor")).append()},render:function(){var e,i,n,r,a,o,l,c,u,d,h,p,f,m,y,v,_,x,w,k,S,T,M,C,D=this.options,L=this.target,A=this.canvasWidth,E=this.canvasHeight,P=this.vertices,I=D.get("spotRadius"),O=this.regionMap;if(b._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,M=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=a=0,e=this.maxx-this.minx==0?1:this.maxx-this.minx,i=this.maxy-this.miny==0?1:this.maxy-this.miny,n=this.yvalues.length-1,I&&(A<4*I||E<4*I)&&(I=0),I&&(((k=D.get("highlightSpotColor")&&!D.get("disableInteraction"))||D.get("minSpotColor")||D.get("spotColor")&&M[n]===this.miny)&&(E-=s.ceil(I)),(k||D.get("maxSpotColor")||D.get("spotColor")&&M[n]===this.maxy)&&(E-=s.ceil(I),r+=s.ceil(I)),(k||(D.get("minSpotColor")||D.get("maxSpotColor"))&&(M[0]===this.miny||M[0]===this.maxy))&&(a+=s.ceil(I),A-=s.ceil(I)),(k||D.get("spotColor")||D.get("minSpotColor")||D.get("maxSpotColor")&&(M[n]===this.miny||M[n]===this.maxy))&&(A-=s.ceil(I))),E--,void 0===D.get("normalRangeMin")||D.get("drawNormalOnTop")||this.drawNormalRange(a,r,E,A,i),c=[l=[]],f=m=null,y=M.length,C=0;C<y;C++)u=T[C],h=T[C+1],d=M[C],m=(p=a+s.round((u-this.minx)*(A/e)))+((C<y-1?a+s.round((h-this.minx)*(A/e)):A)-p)/2,O[C]=[f||0,m,C],f=m,null===d?C&&(null!==M[C-1]&&(l=[],c.push(l)),P.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),l.length||l.push([p,r+E]),o=[p,r+s.round(E-E*((d-this.miny)/i))],l.push(o),P.push(o));for(v=[],_=[],x=c.length,C=0;C<x;C++)(l=c[C]).length&&(D.get("fillColor")&&(l.push([l[l.length-1][0],r+E]),_.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),v.push(l));for(x=_.length,C=0;C<x;C++)L.drawShape(_[C],D.get("fillColor"),D.get("fillColor")).append();for(void 0!==D.get("normalRangeMin")&&D.get("drawNormalOnTop")&&this.drawNormalRange(a,r,E,A,i),x=v.length,C=0;C<x;C++)L.drawShape(v[C],D.get("lineColor"),void 0,D.get("lineWidth")).append();if(I&&D.get("valueSpots"))for(void 0===(w=D.get("valueSpots")).get&&(w=new g(w)),C=0;C<y;C++)(S=w.get(M[C]))&&L.drawCircle(a+s.round((T[C]-this.minx)*(A/e)),r+s.round(E-E*((M[C]-this.miny)/i)),I,void 0,S).append();I&&D.get("spotColor")&&null!==M[n]&&L.drawCircle(a+s.round((T[T.length-1]-this.minx)*(A/e)),r+s.round(E-E*((M[n]-this.miny)/i)),I,void 0,D.get("spotColor")).append(),this.maxy!==this.minyorg&&(I&&D.get("minSpotColor")&&(u=T[t.inArray(this.minyorg,M)],L.drawCircle(a+s.round((u-this.minx)*(A/e)),r+s.round(E-E*((this.minyorg-this.miny)/i)),I,void 0,D.get("minSpotColor")).append()),I&&D.get("maxSpotColor")&&(u=T[t.inArray(this.maxyorg,M)],L.drawCircle(a+s.round((u-this.minx)*(A/e)),r+s.round(E-E*((this.maxyorg-this.miny)/i)),I,void 0,D.get("maxSpotColor")).append())),this.lastShapeId=L.getLastShapeId(),this.canvasTop=r,L.render()}}}),t.fn.sparkline.bar=x=i(t.fn.sparkline._base,_,{type:"bar",init:function(e,i,n,a,o){var d,h,p,f,m,y,v,_,b,w,k,S,T,M,C,D,L,A,E,P,I,O=parseInt(n.get("barWidth"),10),R=parseInt(n.get("barSpacing"),10),z=n.get("chartRangeMin"),Y=n.get("chartRangeMax"),F=n.get("chartRangeClip"),H=1/0,N=-1/0;for(x._super.init.call(this,e,i,n,a,o),y=0,v=i.length;y<v;y++)((d="string"==typeof(P=i[y])&&P.indexOf(":")>-1)||t.isArray(P))&&(C=!0,d&&(P=i[y]=c(P.split(":"))),P=u(P,null),(h=s.min.apply(s,P))<H&&(H=h),(p=s.max.apply(s,P))>N&&(N=p));this.stacked=C,this.regionShapes={},this.barWidth=O,this.barSpacing=R,this.totalBarWidth=O+R,this.width=a=i.length*O+(i.length-1)*R,this.initTarget(),F&&(T=void 0===z?-1/0:z,M=void 0===Y?1/0:Y),m=[],f=C?[]:m;var B=[],j=[];for(y=0,v=i.length;y<v;y++)if(C)for(D=i[y],i[y]=E=[],B[y]=0,f[y]=j[y]=0,L=0,A=D.length;L<A;L++)null!==(P=E[L]=F?r(D[L],T,M):D[L])&&(P>0&&(B[y]+=P),H<0&&N>0?P<0?j[y]+=s.abs(P):f[y]+=P:f[y]+=s.abs(P-(P<0?N:H)),m.push(P));else P=F?r(i[y],T,M):i[y],null!==(P=i[y]=l(P))&&m.push(P);this.max=S=s.max.apply(s,m),this.min=k=s.min.apply(s,m),this.stackMax=N=C?s.max.apply(s,B):S,this.stackMin=H=C?s.min.apply(s,m):k,void 0!==n.get("chartRangeMin")&&(n.get("chartRangeClip")||n.get("chartRangeMin")<k)&&(k=n.get("chartRangeMin")),void 0!==n.get("chartRangeMax")&&(n.get("chartRangeClip")||n.get("chartRangeMax")>S)&&(S=n.get("chartRangeMax")),this.zeroAxis=b=n.get("zeroAxis",!0),w=k<=0&&S>=0&&b?0:0==b||k>0?k:S,this.xaxisOffset=w,_=C?s.max.apply(s,f)+s.max.apply(s,j):S-k,this.canvasHeightEf=b&&k<0?this.canvasHeight-2:this.canvasHeight-1,k<w?(I=((C&&S>=0?N:S)-w)/_*this.canvasHeight)!==s.ceil(I)&&(this.canvasHeightEf-=2,I=s.ceil(I)):I=this.canvasHeight,this.yoffset=I,t.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.range=_},getRegion:function(t,e,i){var n=s.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?void 0:n},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=f(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(e,i,n){var r,a,o=this.colorMapByIndex,s=this.colorMapByValue,l=this.options;return r=this.stacked?l.get("stackedBarColor"):i<0?l.get("negBarColor"):l.get("barColor"),0===i&&void 0!==l.get("zeroColor")&&(r=l.get("zeroColor")),s&&(a=s.get(i))?r=a:o&&o.length>n&&(r=o[n]),t.isArray(r)?r[e%r.length]:r},renderRegion:function(e,i){var n,r,a,o,l,c,u,d,p,f,m=this.values[e],g=this.options,y=this.xaxisOffset,v=[],_=this.range,b=this.stacked,x=this.target,w=e*this.totalBarWidth,k=this.canvasHeightEf,S=this.yoffset;if(u=(m=t.isArray(m)?m:[m]).length,d=m[0],o=h(null,m),f=h(y,m,!0),o)return g.get("nullColor")?(a=i?g.get("nullColor"):this.calcHighlightColor(g.get("nullColor"),g),n=S>0?S-1:S,x.drawRect(w,n,this.barWidth-1,0,a,a)):void 0;for(l=S,c=0;c<u;c++){if(d=m[c],b&&d===y){if(!f||p)continue;p=!0}r=_>0?s.floor(k*(s.abs(d-y)/_))+1:1,d<y||d===y&&0===S?(n=l,l+=r):(n=S-r,S-=r),a=this.calcColor(c,d,e),i&&(a=this.calcHighlightColor(a,g)),v.push(x.drawRect(w,n,this.barWidth-1,r-1,a,a))}return 1===v.length?v[0]:v}}),t.fn.sparkline.tristate=w=i(t.fn.sparkline._base,_,{type:"tristate",init:function(e,i,n,r,a){var o=parseInt(n.get("barWidth"),10),s=parseInt(n.get("barSpacing"),10);w._super.init.call(this,e,i,n,r,a),this.regionShapes={},this.barWidth=o,this.barSpacing=s,this.totalBarWidth=o+s,this.values=t.map(i,Number),this.width=r=i.length*o+(i.length-1)*s,t.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return s.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,r=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(t))?i:a&&a.length>e?a[e]:n[e]<0?r.get("negBarColor"):n[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,e){var i,n,r,a,o,l,c=this.values,u=this.options,d=this.target;if(i=d.pixelHeight,r=s.round(i/2),a=t*this.totalBarWidth,c[t]<0?(o=r,n=r-1):c[t]>0?(o=0,n=r-1):(o=r-1,n=2),null!==(l=this.calcColor(c[t],t)))return e&&(l=this.calcHighlightColor(l,u)),d.drawRect(a,o,this.barWidth-1,n-1,l,l)}}),t.fn.sparkline.discrete=k=i(t.fn.sparkline._base,_,{type:"discrete",init:function(e,i,n,r,a){k._super.init.call(this,e,i,n,r,a),this.regionShapes={},this.values=i=t.map(i,Number),this.min=s.min.apply(s,i),this.max=s.max.apply(s,i),this.range=this.max-this.min,this.width=r="auto"===n.get("width")?2*i.length:this.width,this.interval=s.floor(r/i.length),this.itemWidth=r/i.length,void 0!==n.get("chartRangeMin")&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.min)&&(this.min=n.get("chartRangeMin")),void 0!==n.get("chartRangeMax")&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.max)&&(this.max=n.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===n.get("lineHeight")?s.round(.3*this.canvasHeight):n.get("lineHeight"))},getRegion:function(t,e,i){return s.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,e){var i,n,a,o,l=this.values,c=this.options,u=this.min,d=this.max,h=this.range,p=this.interval,f=this.target,m=this.canvasHeight,g=this.lineHeight,y=m-g;return n=r(l[t],u,d),o=t*p,i=s.round(y-y*((n-u)/h)),a=c.get("thresholdColor")&&n<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),e&&(a=this.calcHighlightColor(a,c)),f.drawLine(o,i,o,i+g,a)}}),t.fn.sparkline.bullet=S=i(t.fn.sparkline._base,{type:"bullet",init:function(t,e,i,n,r){var a,o,l;S._super.init.call(this,t,e,i,n,r),this.values=e=c(e),(l=e.slice())[0]=null===l[0]?l[2]:l[0],l[1]=null===e[1]?l[2]:l[1],a=s.min.apply(s,e),o=s.max.apply(s,e),a=void 0===i.get("base")?a<0?a:0:i.get("base"),this.min=a,this.max=o,this.range=o-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n="auto"===i.get("width")?"4.0em":n,this.target=this.$el.simpledraw(n,r,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,e){var i=this.values[t],n=s.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],i=s.round(this.canvasWidth*((e-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,s.round(.3*this.canvasHeight),i-1,s.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(t){var e=this.values[0],i=s.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),n=s.round(.1*this.canvasHeight),r=this.canvasHeight-2*n,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,a,a)},render:function(){var t,e,i=this.values.length,n=this.target;if(S._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),t.fn.sparkline.pie=T=i(t.fn.sparkline._base,{type:"pie",init:function(e,i,n,r,a){var o,l=0;if(T._super.init.call(this,e,i,n,r,a),this.shapes={},this.valueShapes={},this.values=i=t.map(i,Number),"auto"===n.get("width")&&(this.width=this.height),i.length>0)for(o=i.length;o--;)l+=i[o];this.total=l,this.initTarget(),this.radius=s.floor(s.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i,n,r,a,o,l=this.target,c=this.options,u=this.radius,d=c.get("borderWidth"),h=c.get("offset"),p=2*s.PI,f=this.values,m=this.total,g=h?2*s.PI*(h/360):0;for(a=f.length,r=0;r<a;r++){if(i=g,n=g,m>0&&(n=g+p*(f[r]/m)),t===r)return o=c.get("sliceColors")[r%c.get("sliceColors").length],e&&(o=this.calcHighlightColor(o,c)),l.drawPieSlice(u,u,u-d,i,n,void 0,o);g=n}},render:function(){var t,e,i=this.target,n=this.values,r=this.options,a=this.radius,o=r.get("borderWidth"),l=r.get("donutWidth");if(T._super.render.call(this)){for(o&&i.drawCircle(a,a,s.floor(a-o/2),r.get("borderColor"),void 0,o).append(),e=n.length;e--;)n[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);l&&i.drawCircle(a,a,a-l,r.get("donutColor"),r.get("donutColor"),0).append(),i.render()}}}),t.fn.sparkline.box=M=i(t.fn.sparkline._base,{type:"box",init:function(e,i,n,r,a){M._super.init.call(this,e,i,n,r,a),this.values=t.map(i,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&t.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&t.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,i,n,r,o,l,c,u,d,h,p=this.target,f=this.values,m=f.length,g=this.options,y=this.canvasWidth,v=this.canvasHeight,_=void 0===g.get("chartRangeMin")?s.min.apply(s,f):g.get("chartRangeMin"),b=void 0===g.get("chartRangeMax")?s.max.apply(s,f):g.get("chartRangeMax"),x=0;if(M._super.render.call(this)){if(g.get("raw"))g.get("showOutliers")&&f.length>5?(e=f[0],t=f[1],n=f[2],r=f[3],o=f[4],l=f[5],c=f[6]):(t=f[0],n=f[1],r=f[2],o=f[3],l=f[4]);else if(f.sort((function(t,e){return t-e})),n=a(f,1),r=a(f,2),i=(o=a(f,3))-n,g.get("showOutliers")){for(t=l=void 0,u=0;u<m;u++)void 0===t&&f[u]>n-i*g.get("outlierIQR")&&(t=f[u]),f[u]<o+i*g.get("outlierIQR")&&(l=f[u]);e=f[0],c=f[m-1]}else t=f[0],l=f[m-1];this.quartiles=[n,r,o],this.lwhisker=t,this.rwhisker=l,this.loutlier=e,this.routlier=c,h=y/(b-_+1),g.get("showOutliers")&&(x=s.ceil(g.get("spotRadius")),h=(y-=2*s.ceil(g.get("spotRadius")))/(b-_+1),e<t&&p.drawCircle((e-_)*h+x,v/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append(),c>l&&p.drawCircle((c-_)*h+x,v/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append()),p.drawRect(s.round((n-_)*h+x),s.round(.1*v),s.round((o-n)*h),s.round(.8*v),g.get("boxLineColor"),g.get("boxFillColor")).append(),p.drawLine(s.round((t-_)*h+x),s.round(v/2),s.round((n-_)*h+x),s.round(v/2),g.get("lineColor")).append(),p.drawLine(s.round((t-_)*h+x),s.round(v/4),s.round((t-_)*h+x),s.round(v-v/4),g.get("whiskerColor")).append(),p.drawLine(s.round((l-_)*h+x),s.round(v/2),s.round((o-_)*h+x),s.round(v/2),g.get("lineColor")).append(),p.drawLine(s.round((l-_)*h+x),s.round(v/4),s.round((l-_)*h+x),s.round(v-v/4),g.get("whiskerColor")).append(),p.drawLine(s.round((r-_)*h+x),s.round(.1*v),s.round((r-_)*h+x),s.round(.9*v),g.get("medianColor")).append(),g.get("target")&&(d=s.ceil(g.get("spotRadius")),p.drawLine(s.round((g.get("target")-_)*h+x),s.round(v/2-d),s.round((g.get("target")-_)*h+x),s.round(v/2+d),g.get("targetColor")).append(),p.drawLine(s.round((g.get("target")-_)*h+x-d),s.round(v/2),s.round((g.get("target")-_)*h+x+d),s.round(v/2),g.get("targetColor")).append()),p.render()}}}),C=i({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),D=i({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,i,n){e&&(this.width=e,this.height=i,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,a){return this.drawShape([[t,e],[i,n]],r,a)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,a){return this._genShape("Circle",[t,e,i,n,r,a])},drawPieSlice:function(t,e,i,n,r,a,o){return this._genShape("PieSlice",[t,e,i,n,r,a,o])},drawRect:function(t,e,i,n,r,a){return this._genShape("Rect",[t,e,i,n,r,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,i){t(i).html(e)},_calculatePixelDims:function(e,i,n){var r;r=this._pxregex.exec(i),this.pixelHeight=r?r[1]:t(n).height(),r=this._pxregex.exec(e),this.pixelWidth=r?r[1]:t(n).width()},_genShape:function(t,e){var i=I++;return e.unshift(i),new C(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),L=i(D,{init:function(e,i,n,r){L._super.init.call(this,e,i,n),this.canvas=o.createElement("canvas"),n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this),t(this.canvas).css({display:"inline-block",width:e,height:i,verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,t(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return void 0!==t&&(n.strokeStyle=t),n.lineWidth=void 0===i?1:i,void 0!==e&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,i,n,r){var a,o,s=this._getContext(i,n,r);for(s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5),a=1,o=e.length;a<o;a++)s.lineTo(e[a][0]+.5,e[a][1]+.5);void 0!==i&&s.stroke(),void 0!==n&&s.fill(),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,n,r,a,o){var l=this._getContext(r,a,o);l.beginPath(),l.arc(e,i,n,0,2*s.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==r&&l.stroke(),void 0!==a&&l.fill()},_drawPieSlice:function(t,e,i,n,r,a,o,s){var l=this._getContext(o,s);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,a,!1),l.lineTo(e,i),l.closePath(),void 0!==o&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,a=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=a.length;n--;)o[i=a[n]]&&(a.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)a.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i=this.shapeseq,n=this.shapes,r=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<r;e++)this["_draw"+(t=n[i[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),A=i(D,{init:function(e,i,n){var r;A._super.init.call(this,e,i,n),n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this),this.canvas=o.createElement("span"),t(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,r='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",r),this.group=t(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var a,o,s,l,c,u,d=[];for(u=0,c=e.length;u<c;u++)d[u]=e[u][0]+","+e[u][1];return a=d.splice(0,1),r=void 0===r?1:r,o=void 0===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',s=void 0===n?' filled="false"':' fillColor="'+n+'" filled="true" ',l=d[0]===d[d.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+d.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,n,r,a,o){return'<v:oval  id="jqsshape'+t+'" '+(void 0===r?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ')+(void 0===a?' filled="false"':' fillColor="'+a+'" filled="true" ')+' style="position:absolute;top:'+(i-=n)+"px; left:"+(e-=n)+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,e,i,n,r,a,o,l){var c,u,d,h,p,f,m;if(r===a)return"";if(a-r==2*s.PI&&(r=0,a=2*s.PI),u=e+s.round(s.cos(r)*n),d=i+s.round(s.sin(r)*n),h=e+s.round(s.cos(a)*n),p=i+s.round(s.sin(a)*n),u===h&&d===p){if(a-r<s.PI)return"";u=h=e+n,d=p=i}return u===h&&d===p&&a-r<s.PI?"":(c=[e-n,i-n,e+n,i+n,u,d,h,p],f=void 0===o?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',m=void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+f+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+i+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(e,i){var n=t("#jqsshape"+e),r=this["_draw"+i.type].apply(this,i.args);n[0].outerHTML=r},replaceWithShapes:function(e,i){var n,r=t("#jqsshape"+e[0]),a="",o=i.length;for(n=0;n<o;n++)a+=this["_draw"+i[n].type].apply(this,i[n].args);for(r[0].outerHTML=a,n=1;n<e.length;n++)t("#jqsshape"+e[n]).remove()},insertAfterShape:function(e,i){var n=t("#jqsshape"+e),r=this["_draw"+i.type].apply(this,i.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(e){var i=t("#jqsshape"+e);this.group.removeChild(i[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})?n.apply(e,r):n)||(t.exports=a)}(document,Math)},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){}]);